(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=s(c);fetch(c.href,u)}})();function uo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nc={exports:{}},Ye={};var qm;function ph(){if(qm)return Ye;qm=1;var t=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function k(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,P={};function S(O,B,C){this.props=O,this.context=B,this.refs=P,this.updater=C||v}S.prototype.isReactComponent={},S.prototype.setState=function(O,B){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,B,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _(){}_.prototype=S.prototype;function N(O,B,C){this.props=O,this.context=B,this.refs=P,this.updater=C||v}var R=N.prototype=new _;R.constructor=N,D(R,S.prototype),R.isPureReactComponent=!0;var Z=Array.isArray,X=Object.prototype.hasOwnProperty,M={current:null},ee={key:!0,ref:!0,__self:!0,__source:!0};function se(O,B,C){var Ee,Ae={},_e=null,Ue=null;if(B!=null)for(Ee in B.ref!==void 0&&(Ue=B.ref),B.key!==void 0&&(_e=""+B.key),B)X.call(B,Ee)&&!ee.hasOwnProperty(Ee)&&(Ae[Ee]=B[Ee]);var De=arguments.length-2;if(De===1)Ae.children=C;else if(1<De){for(var Oe=Array(De),tt=0;tt<De;tt++)Oe[tt]=arguments[tt+2];Ae.children=Oe}if(O&&O.defaultProps)for(Ee in De=O.defaultProps,De)Ae[Ee]===void 0&&(Ae[Ee]=De[Ee]);return{$$typeof:t,type:O,key:_e,ref:Ue,props:Ae,_owner:M.current}}function $(O,B){return{$$typeof:t,type:O.type,key:B,ref:O.ref,props:O.props,_owner:O._owner}}function L(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function I(O){var B={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(C){return B[C]})}var K=/\/+/g;function ve(O,B){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):B.toString(36)}function re(O,B,C,Ee,Ae){var _e=typeof O;(_e==="undefined"||_e==="boolean")&&(O=null);var Ue=!1;if(O===null)Ue=!0;else switch(_e){case"string":case"number":Ue=!0;break;case"object":switch(O.$$typeof){case t:case a:Ue=!0}}if(Ue)return Ue=O,Ae=Ae(Ue),O=Ee===""?"."+ve(Ue,0):Ee,Z(Ae)?(C="",O!=null&&(C=O.replace(K,"$&/")+"/"),re(Ae,B,C,"",function(tt){return tt})):Ae!=null&&(L(Ae)&&(Ae=$(Ae,C+(!Ae.key||Ue&&Ue.key===Ae.key?"":(""+Ae.key).replace(K,"$&/")+"/")+O)),B.push(Ae)),1;if(Ue=0,Ee=Ee===""?".":Ee+":",Z(O))for(var De=0;De<O.length;De++){_e=O[De];var Oe=Ee+ve(_e,De);Ue+=re(_e,B,C,Oe,Ae)}else if(Oe=k(O),typeof Oe=="function")for(O=Oe.call(O),De=0;!(_e=O.next()).done;)_e=_e.value,Oe=Ee+ve(_e,De++),Ue+=re(_e,B,C,Oe,Ae);else if(_e==="object")throw B=String(O),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Ue}function te(O,B,C){if(O==null)return O;var Ee=[],Ae=0;return re(O,Ee,"","",function(_e){return B.call(C,_e,Ae++)}),Ee}function Q(O){if(O._status===-1){var B=O._result;B=B(),B.then(function(C){(O._status===0||O._status===-1)&&(O._status=1,O._result=C)},function(C){(O._status===0||O._status===-1)&&(O._status=2,O._result=C)}),O._status===-1&&(O._status=0,O._result=B)}if(O._status===1)return O._result.default;throw O._result}var ie={current:null},q={transition:null},ge={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:q,ReactCurrentOwner:M};function w(){throw Error("act(...) is not supported in production builds of React.")}return Ye.Children={map:te,forEach:function(O,B,C){te(O,function(){B.apply(this,arguments)},C)},count:function(O){var B=0;return te(O,function(){B++}),B},toArray:function(O){return te(O,function(B){return B})||[]},only:function(O){if(!L(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ye.Component=S,Ye.Fragment=s,Ye.Profiler=c,Ye.PureComponent=N,Ye.StrictMode=o,Ye.Suspense=f,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ye.act=w,Ye.cloneElement=function(O,B,C){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ee=D({},O.props),Ae=O.key,_e=O.ref,Ue=O._owner;if(B!=null){if(B.ref!==void 0&&(_e=B.ref,Ue=M.current),B.key!==void 0&&(Ae=""+B.key),O.type&&O.type.defaultProps)var De=O.type.defaultProps;for(Oe in B)X.call(B,Oe)&&!ee.hasOwnProperty(Oe)&&(Ee[Oe]=B[Oe]===void 0&&De!==void 0?De[Oe]:B[Oe])}var Oe=arguments.length-2;if(Oe===1)Ee.children=C;else if(1<Oe){De=Array(Oe);for(var tt=0;tt<Oe;tt++)De[tt]=arguments[tt+2];Ee.children=De}return{$$typeof:t,type:O.type,key:Ae,ref:_e,props:Ee,_owner:Ue}},Ye.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:u,_context:O},O.Consumer=O},Ye.createElement=se,Ye.createFactory=function(O){var B=se.bind(null,O);return B.type=O,B},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(O){return{$$typeof:g,render:O}},Ye.isValidElement=L,Ye.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:Q}},Ye.memo=function(O,B){return{$$typeof:h,type:O,compare:B===void 0?null:B}},Ye.startTransition=function(O){var B=q.transition;q.transition={};try{O()}finally{q.transition=B}},Ye.unstable_act=w,Ye.useCallback=function(O,B){return ie.current.useCallback(O,B)},Ye.useContext=function(O){return ie.current.useContext(O)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(O){return ie.current.useDeferredValue(O)},Ye.useEffect=function(O,B){return ie.current.useEffect(O,B)},Ye.useId=function(){return ie.current.useId()},Ye.useImperativeHandle=function(O,B,C){return ie.current.useImperativeHandle(O,B,C)},Ye.useInsertionEffect=function(O,B){return ie.current.useInsertionEffect(O,B)},Ye.useLayoutEffect=function(O,B){return ie.current.useLayoutEffect(O,B)},Ye.useMemo=function(O,B){return ie.current.useMemo(O,B)},Ye.useReducer=function(O,B,C){return ie.current.useReducer(O,B,C)},Ye.useRef=function(O){return ie.current.useRef(O)},Ye.useState=function(O){return ie.current.useState(O)},Ye.useSyncExternalStore=function(O,B,C){return ie.current.useSyncExternalStore(O,B,C)},Ye.useTransition=function(){return ie.current.useTransition()},Ye.version="18.3.1",Ye}var Wm;function Vc(){return Wm||(Wm=1,nc.exports=ph()),nc.exports}var E=Vc();const r=uo(E);var Qs={},rc={exports:{}},an={},ac={exports:{}},lc={};var Km;function fh(){return Km||(Km=1,(function(t){function a(q,ge){var w=q.length;q.push(ge);e:for(;0<w;){var O=w-1>>>1,B=q[O];if(0<c(B,ge))q[O]=ge,q[w]=B,w=O;else break e}}function s(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var ge=q[0],w=q.pop();if(w!==ge){q[0]=w;e:for(var O=0,B=q.length,C=B>>>1;O<C;){var Ee=2*(O+1)-1,Ae=q[Ee],_e=Ee+1,Ue=q[_e];if(0>c(Ae,w))_e<B&&0>c(Ue,Ae)?(q[O]=Ue,q[_e]=w,O=_e):(q[O]=Ae,q[Ee]=w,O=Ee);else if(_e<B&&0>c(Ue,w))q[O]=Ue,q[_e]=w,O=_e;else break e}}return ge}function c(q,ge){var w=q.sortIndex-ge.sortIndex;return w!==0?w:q.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();t.unstable_now=function(){return d.now()-g}}var f=[],h=[],y=1,x=null,k=3,v=!1,D=!1,P=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(q){for(var ge=s(h);ge!==null;){if(ge.callback===null)o(h);else if(ge.startTime<=q)o(h),ge.sortIndex=ge.expirationTime,a(f,ge);else break;ge=s(h)}}function Z(q){if(P=!1,R(q),!D)if(s(f)!==null)D=!0,Q(X);else{var ge=s(h);ge!==null&&ie(Z,ge.startTime-q)}}function X(q,ge){D=!1,P&&(P=!1,_(se),se=-1),v=!0;var w=k;try{for(R(ge),x=s(f);x!==null&&(!(x.expirationTime>ge)||q&&!I());){var O=x.callback;if(typeof O=="function"){x.callback=null,k=x.priorityLevel;var B=O(x.expirationTime<=ge);ge=t.unstable_now(),typeof B=="function"?x.callback=B:x===s(f)&&o(f),R(ge)}else o(f);x=s(f)}if(x!==null)var C=!0;else{var Ee=s(h);Ee!==null&&ie(Z,Ee.startTime-ge),C=!1}return C}finally{x=null,k=w,v=!1}}var M=!1,ee=null,se=-1,$=5,L=-1;function I(){return!(t.unstable_now()-L<$)}function K(){if(ee!==null){var q=t.unstable_now();L=q;var ge=!0;try{ge=ee(!0,q)}finally{ge?ve():(M=!1,ee=null)}}else M=!1}var ve;if(typeof N=="function")ve=function(){N(K)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,te=re.port2;re.port1.onmessage=K,ve=function(){te.postMessage(null)}}else ve=function(){S(K,0)};function Q(q){ee=q,M||(M=!0,ve())}function ie(q,ge){se=S(function(){q(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){D||v||(D=!0,Q(X))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return s(f)},t.unstable_next=function(q){switch(k){case 1:case 2:case 3:var ge=3;break;default:ge=k}var w=k;k=ge;try{return q()}finally{k=w}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ge){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var w=k;k=q;try{return ge()}finally{k=w}},t.unstable_scheduleCallback=function(q,ge,w){var O=t.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?O+w:O):w=O,q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=w+B,q={id:y++,callback:ge,priorityLevel:q,startTime:w,expirationTime:B,sortIndex:-1},w>O?(q.sortIndex=w,a(h,q),s(f)===null&&q===s(h)&&(P?(_(se),se=-1):P=!0,ie(Z,w-O))):(q.sortIndex=B,a(f,q),D||v||(D=!0,Q(X))),q},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(q){var ge=k;return function(){var w=k;k=ge;try{return q.apply(this,arguments)}finally{k=w}}}})(lc)),lc}var Gm;function hh(){return Gm||(Gm=1,ac.exports=fh()),ac.exports}var Qm;function yh(){if(Qm)return an;Qm=1;var t=Vc(),a=hh();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,l=1;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function u(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(c[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function k(e){return f.call(x,e)?!0:f.call(y,e)?!1:h.test(e)?x[e]=!0:(y[e]=!0,!1)}function v(e,n,l,i){if(l!==null&&l.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return i?!1:l!==null?!l.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D(e,n,l,i){if(n===null||typeof n>"u"||v(e,n,l,i))return!0;if(i)return!1;if(l!==null)switch(l.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function P(e,n,l,i,m,p,b){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=i,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=e,this.type=n,this.sanitizeURL=p,this.removeEmptyString=b}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];S[n]=new P(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function N(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(_,N);S[n]=new P(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(_,N);S[n]=new P(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(_,N);S[n]=new P(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function R(e,n,l,i){var m=S.hasOwnProperty(n)?S[n]:null;(m!==null?m.type!==0:i||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(D(n,l,m,i)&&(l=null),i||m===null?k(n)&&(l===null?e.removeAttribute(n):e.setAttribute(n,""+l)):m.mustUseProperty?e[m.propertyName]=l===null?m.type===3?!1:"":l:(n=m.attributeName,i=m.attributeNamespace,l===null?e.removeAttribute(n):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,i?e.setAttributeNS(i,n,l):e.setAttribute(n,l))))}var Z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),M=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),I=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),q=Symbol.iterator;function ge(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var w=Object.assign,O;function B(e){if(O===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||""}return`
`+O+e}var C=!1;function Ee(e,n){if(!e||C)return"";C=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(W){var i=W}Reflect.construct(e,[],n)}else{try{n.call()}catch(W){i=W}e.call(n.prototype)}else{try{throw Error()}catch(W){i=W}e()}}catch(W){if(W&&i&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),p=i.stack.split(`
`),b=m.length-1,T=p.length-1;1<=b&&0<=T&&m[b]!==p[T];)T--;for(;1<=b&&0<=T;b--,T--)if(m[b]!==p[T]){if(b!==1||T!==1)do if(b--,T--,0>T||m[b]!==p[T]){var A=`
`+m[b].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=b&&0<=T);break}}}finally{C=!1,Error.prepareStackTrace=l}return(e=e?e.displayName||e.name:"")?B(e):""}function Ae(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=Ee(e.type,!1),e;case 11:return e=Ee(e.type.render,!1),e;case 1:return e=Ee(e.type,!0),e;default:return""}}function _e(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ee:return"Fragment";case M:return"Portal";case $:return"Profiler";case se:return"StrictMode";case ve:return"Suspense";case re:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case L:return(e._context.displayName||"Context")+".Provider";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return n=e.displayName||null,n!==null?n:_e(e.type)||"Memo";case Q:n=e._payload,e=e._init;try{return _e(e(n))}catch{}}return null}function Ue(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(n);case 8:return n===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function De(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oe(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function tt(e){var n=Oe(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),i=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(b){i=""+b,p.call(this,b)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(b){i=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ot(e){e._valueTracker||(e._valueTracker=tt(e))}function ct(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),i="";return e&&(i=Oe(e)?e.checked?"true":"false":e.value),e=i,e!==l?(n.setValue(e),!0):!1}function yt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ue(e,n){var l=n.checked;return w({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??e._wrapperState.initialChecked})}function rt(e,n){var l=n.defaultValue==null?"":n.defaultValue,i=n.checked!=null?n.checked:n.defaultChecked;l=De(n.value!=null?n.value:l),e._wrapperState={initialChecked:i,initialValue:l,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Qe(e,n){n=n.checked,n!=null&&R(e,"checked",n,!1)}function G(e,n){Qe(e,n);var l=De(n.value),i=n.type;if(l!=null)i==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+l):e.value!==""+l&&(e.value=""+l);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Pe(e,n.type,l):n.hasOwnProperty("defaultValue")&&Pe(e,n.type,De(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function ne(e,n,l){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var i=n.type;if(!(i!=="submit"&&i!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,l||n===e.value||(e.value=n),e.defaultValue=n}l=e.name,l!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,l!==""&&(e.name=l)}function Pe(e,n,l){(n!=="number"||yt(e.ownerDocument)!==e)&&(l==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+l&&(e.defaultValue=""+l))}var ye=Array.isArray;function We(e,n,l,i){if(e=e.options,n){n={};for(var m=0;m<l.length;m++)n["$"+l[m]]=!0;for(l=0;l<e.length;l++)m=n.hasOwnProperty("$"+e[l].value),e[l].selected!==m&&(e[l].selected=m),m&&i&&(e[l].defaultSelected=!0)}else{for(l=""+De(l),n=null,m=0;m<e.length;m++){if(e[m].value===l){e[m].selected=!0,i&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function J(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return w({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function he(e,n){var l=n.value;if(l==null){if(l=n.children,n=n.defaultValue,l!=null){if(n!=null)throw Error(s(92));if(ye(l)){if(1<l.length)throw Error(s(93));l=l[0]}n=l}n==null&&(n=""),l=n}e._wrapperState={initialValue:De(l)}}function ke(e,n){var l=De(n.value),i=De(n.defaultValue);l!=null&&(l=""+l,l!==e.value&&(e.value=l),n.defaultValue==null&&e.defaultValue!==l&&(e.defaultValue=l)),i!=null&&(e.defaultValue=""+i)}function U(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function F(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?F(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ae,be=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,l,i,m){MSApp.execUnsafeLocalFunction(function(){return e(n,l,i,m)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ae=ae||document.createElement("div"),ae.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ae.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Fe(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Ke={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ze=["Webkit","ms","Moz","O"];Object.keys(Ke).forEach(function(e){Ze.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ke[n]=Ke[e]})});function Xe(e,n,l){return n==null||typeof n=="boolean"||n===""?"":l||typeof n!="number"||n===0||Ke.hasOwnProperty(e)&&Ke[e]?(""+n).trim():n+"px"}function Vt(e,n){e=e.style;for(var l in n)if(n.hasOwnProperty(l)){var i=l.indexOf("--")===0,m=Xe(l,n[l],i);l==="float"&&(l="cssFloat"),i?e.setProperty(l,m):e[l]=m}}var $t=w({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function He(e,n){if(n){if($t[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function Je(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function et(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Me=null,z=null,pe=null;function fe(e){if(e=rl(e)){if(typeof Me!="function")throw Error(s(280));var n=e.stateNode;n&&(n=us(n),Me(e.stateNode,e.type,n))}}function dt(e){z?pe?pe.push(e):pe=[e]:z=e}function Bt(){if(z){var e=z,n=pe;if(pe=z=null,fe(e),n)for(e=0;e<n.length;e++)fe(n[e])}}function nt(e,n){return e(n)}function Et(){}var mn=!1;function zt(e,n,l){if(mn)return e(n,l);mn=!0;try{return nt(e,n,l)}finally{mn=!1,(z!==null||pe!==null)&&(Et(),Bt())}}function Ln(e,n){var l=e.stateNode;if(l===null)return null;var i=us(l);if(i===null)return null;l=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,n,typeof l));return l}var Da=!1;if(g)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){Da=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{Da=!1}function b0(e,n,l,i,m,p,b,T,A){var W=Array.prototype.slice.call(arguments,3);try{n.apply(l,W)}catch(oe){this.onError(oe)}}var ja=!1,Ul=null,Hl=!1,Eo=null,v0={onError:function(e){ja=!0,Ul=e}};function E0(e,n,l,i,m,p,b,T,A){ja=!1,Ul=null,b0.apply(v0,arguments)}function k0(e,n,l,i,m,p,b,T,A){if(E0.apply(this,arguments),ja){if(ja){var W=Ul;ja=!1,Ul=null}else throw Error(s(198));Hl||(Hl=!0,Eo=W)}}function Or(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function pu(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function fu(e){if(Or(e)!==e)throw Error(s(188))}function w0(e){var n=e.alternate;if(!n){if(n=Or(e),n===null)throw Error(s(188));return n!==e?null:e}for(var l=e,i=n;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(i=m.return,i!==null){l=i;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return fu(m),e;if(p===i)return fu(m),n;p=p.sibling}throw Error(s(188))}if(l.return!==i.return)l=m,i=p;else{for(var b=!1,T=m.child;T;){if(T===l){b=!0,l=m,i=p;break}if(T===i){b=!0,i=m,l=p;break}T=T.sibling}if(!b){for(T=p.child;T;){if(T===l){b=!0,l=p,i=m;break}if(T===i){b=!0,i=p,l=m;break}T=T.sibling}if(!b)throw Error(s(189))}}if(l.alternate!==i)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:n}function hu(e){return e=w0(e),e!==null?yu(e):null}function yu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=yu(e);if(n!==null)return n;e=e.sibling}return null}var xu=a.unstable_scheduleCallback,bu=a.unstable_cancelCallback,N0=a.unstable_shouldYield,S0=a.unstable_requestPaint,Ct=a.unstable_now,C0=a.unstable_getCurrentPriorityLevel,ko=a.unstable_ImmediatePriority,vu=a.unstable_UserBlockingPriority,Vl=a.unstable_NormalPriority,_0=a.unstable_LowPriority,Eu=a.unstable_IdlePriority,ql=null,Vn=null;function T0(e){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(ql,e,void 0,(e.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:L0,z0=Math.log,P0=Math.LN2;function L0(e){return e>>>=0,e===0?32:31-(z0(e)/P0|0)|0}var Wl=64,Kl=4194304;function Fa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gl(e,n){var l=e.pendingLanes;if(l===0)return 0;var i=0,m=e.suspendedLanes,p=e.pingedLanes,b=l&268435455;if(b!==0){var T=b&~m;T!==0?i=Fa(T):(p&=b,p!==0&&(i=Fa(p)))}else b=l&~m,b!==0?i=Fa(b):p!==0&&(i=Fa(p));if(i===0)return 0;if(n!==0&&n!==i&&(n&m)===0&&(m=i&-i,p=n&-n,m>=p||m===16&&(p&4194240)!==0))return n;if((i&4)!==0&&(i|=l&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=i;0<n;)l=31-In(n),m=1<<l,i|=e[l],n&=~m;return i}function I0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M0(e,n){for(var l=e.suspendedLanes,i=e.pingedLanes,m=e.expirationTimes,p=e.pendingLanes;0<p;){var b=31-In(p),T=1<<b,A=m[b];A===-1?((T&l)===0||(T&i)!==0)&&(m[b]=I0(T,n)):A<=n&&(e.expiredLanes|=T),p&=~T}}function wo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ku(){var e=Wl;return Wl<<=1,(Wl&4194240)===0&&(Wl=64),e}function No(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function $a(e,n,l){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-In(n),e[n]=l}function R0(e,n){var l=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<l;){var m=31-In(l),p=1<<m;n[m]=0,i[m]=-1,e[m]=-1,l&=~p}}function So(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var i=31-In(l),m=1<<i;m&n|e[i]&n&&(e[i]|=n),l&=~m}}var ut=0;function wu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Nu,Co,Su,Cu,_u,_o=!1,Ql=[],fr=null,hr=null,yr=null,Ba=new Map,Ua=new Map,xr=[],A0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tu(e,n){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Ba.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ua.delete(n.pointerId)}}function Ha(e,n,l,i,m,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:l,eventSystemFlags:i,nativeEvent:p,targetContainers:[m]},n!==null&&(n=rl(n),n!==null&&Co(n)),e):(e.eventSystemFlags|=i,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function D0(e,n,l,i,m){switch(n){case"focusin":return fr=Ha(fr,e,n,l,i,m),!0;case"dragenter":return hr=Ha(hr,e,n,l,i,m),!0;case"mouseover":return yr=Ha(yr,e,n,l,i,m),!0;case"pointerover":var p=m.pointerId;return Ba.set(p,Ha(Ba.get(p)||null,e,n,l,i,m)),!0;case"gotpointercapture":return p=m.pointerId,Ua.set(p,Ha(Ua.get(p)||null,e,n,l,i,m)),!0}return!1}function zu(e){var n=jr(e.target);if(n!==null){var l=Or(n);if(l!==null){if(n=l.tag,n===13){if(n=pu(l),n!==null){e.blockedOn=n,_u(e.priority,function(){Su(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=zo(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(l===null){l=e.nativeEvent;var i=new l.constructor(l.type,l);we=i,l.target.dispatchEvent(i),we=null}else return n=rl(l),n!==null&&Co(n),e.blockedOn=l,!1;n.shift()}return!0}function Pu(e,n,l){Jl(e)&&l.delete(n)}function O0(){_o=!1,fr!==null&&Jl(fr)&&(fr=null),hr!==null&&Jl(hr)&&(hr=null),yr!==null&&Jl(yr)&&(yr=null),Ba.forEach(Pu),Ua.forEach(Pu)}function Va(e,n){e.blockedOn===n&&(e.blockedOn=null,_o||(_o=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,O0)))}function qa(e){function n(m){return Va(m,e)}if(0<Ql.length){Va(Ql[0],e);for(var l=1;l<Ql.length;l++){var i=Ql[l];i.blockedOn===e&&(i.blockedOn=null)}}for(fr!==null&&Va(fr,e),hr!==null&&Va(hr,e),yr!==null&&Va(yr,e),Ba.forEach(n),Ua.forEach(n),l=0;l<xr.length;l++)i=xr[l],i.blockedOn===e&&(i.blockedOn=null);for(;0<xr.length&&(l=xr[0],l.blockedOn===null);)zu(l),l.blockedOn===null&&xr.shift()}var ta=Z.ReactCurrentBatchConfig,Yl=!0;function j0(e,n,l,i){var m=ut,p=ta.transition;ta.transition=null;try{ut=1,To(e,n,l,i)}finally{ut=m,ta.transition=p}}function F0(e,n,l,i){var m=ut,p=ta.transition;ta.transition=null;try{ut=4,To(e,n,l,i)}finally{ut=m,ta.transition=p}}function To(e,n,l,i){if(Yl){var m=zo(e,n,l,i);if(m===null)Wo(e,n,i,Xl,l),Tu(e,i);else if(D0(m,e,n,l,i))i.stopPropagation();else if(Tu(e,i),n&4&&-1<A0.indexOf(e)){for(;m!==null;){var p=rl(m);if(p!==null&&Nu(p),p=zo(e,n,l,i),p===null&&Wo(e,n,i,Xl,l),p===m)break;m=p}m!==null&&i.stopPropagation()}else Wo(e,n,i,null,l)}}var Xl=null;function zo(e,n,l,i){if(Xl=null,e=et(i),e=jr(e),e!==null)if(n=Or(e),n===null)e=null;else if(l=n.tag,l===13){if(e=pu(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Xl=e,null}function Lu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C0()){case ko:return 1;case vu:return 4;case Vl:case _0:return 16;case Eu:return 536870912;default:return 16}default:return 16}}var br=null,Po=null,Zl=null;function Iu(){if(Zl)return Zl;var e,n=Po,l=n.length,i,m="value"in br?br.value:br.textContent,p=m.length;for(e=0;e<l&&n[e]===m[e];e++);var b=l-e;for(i=1;i<=b&&n[l-i]===m[p-i];i++);return Zl=m.slice(e,1<i?1-i:void 0)}function es(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ts(){return!0}function Mu(){return!1}function gn(e){function n(l,i,m,p,b){this._reactName=l,this._targetInst=m,this.type=i,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(l=e[T],this[T]=l?l(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ts:Mu,this.isPropagationStopped=Mu,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),n}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=gn(na),Wa=w({},na,{view:0,detail:0}),$0=gn(Wa),Io,Mo,Ka,ns=w({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ka&&(Ka&&e.type==="mousemove"?(Io=e.screenX-Ka.screenX,Mo=e.screenY-Ka.screenY):Mo=Io=0,Ka=e),Io)},movementY:function(e){return"movementY"in e?e.movementY:Mo}}),Ru=gn(ns),B0=w({},ns,{dataTransfer:0}),U0=gn(B0),H0=w({},Wa,{relatedTarget:0}),Ro=gn(H0),V0=w({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),q0=gn(V0),W0=w({},na,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),K0=gn(W0),G0=w({},na,{data:0}),Au=gn(G0),Q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Y0[e])?!!n[e]:!1}function Ao(){return X0}var Z0=w({},Wa,{key:function(e){if(e.key){var n=Q0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?J0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ao,charCode:function(e){return e.type==="keypress"?es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ef=gn(Z0),tf=w({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=gn(tf),nf=w({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ao}),rf=gn(nf),af=w({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),lf=gn(af),sf=w({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),of=gn(sf),cf=[9,13,27,32],Do=g&&"CompositionEvent"in window,Ga=null;g&&"documentMode"in document&&(Ga=document.documentMode);var uf=g&&"TextEvent"in window&&!Ga,Ou=g&&(!Do||Ga&&8<Ga&&11>=Ga),ju=" ",Fu=!1;function $u(e,n){switch(e){case"keyup":return cf.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function df(e,n){switch(e){case"compositionend":return Bu(n);case"keypress":return n.which!==32?null:(Fu=!0,ju);case"textInput":return e=n.data,e===ju&&Fu?null:e;default:return null}}function mf(e,n){if(ra)return e==="compositionend"||!Do&&$u(e,n)?(e=Iu(),Zl=Po=br=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ou&&n.locale!=="ko"?null:n.data;default:return null}}var gf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!gf[e.type]:n==="textarea"}function Hu(e,n,l,i){dt(i),n=os(n,"onChange"),0<n.length&&(l=new Lo("onChange","change",null,l,i),e.push({event:l,listeners:n}))}var Qa=null,Ja=null;function pf(e){od(e,0)}function rs(e){var n=ia(e);if(ct(n))return e}function ff(e,n){if(e==="change")return n}var Vu=!1;if(g){var Oo;if(g){var jo="oninput"in document;if(!jo){var qu=document.createElement("div");qu.setAttribute("oninput","return;"),jo=typeof qu.oninput=="function"}Oo=jo}else Oo=!1;Vu=Oo&&(!document.documentMode||9<document.documentMode)}function Wu(){Qa&&(Qa.detachEvent("onpropertychange",Ku),Ja=Qa=null)}function Ku(e){if(e.propertyName==="value"&&rs(Ja)){var n=[];Hu(n,Ja,e,et(e)),zt(pf,n)}}function hf(e,n,l){e==="focusin"?(Wu(),Qa=n,Ja=l,Qa.attachEvent("onpropertychange",Ku)):e==="focusout"&&Wu()}function yf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rs(Ja)}function xf(e,n){if(e==="click")return rs(n)}function bf(e,n){if(e==="input"||e==="change")return rs(n)}function vf(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Mn=typeof Object.is=="function"?Object.is:vf;function Ya(e,n){if(Mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),i=Object.keys(n);if(l.length!==i.length)return!1;for(i=0;i<l.length;i++){var m=l[i];if(!f.call(n,m)||!Mn(e[m],n[m]))return!1}return!0}function Gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qu(e,n){var l=Gu(e);e=0;for(var i;l;){if(l.nodeType===3){if(i=e+l.textContent.length,e<=n&&i>=n)return{node:l,offset:n-e};e=i}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Gu(l)}}function Ju(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ju(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Yu(){for(var e=window,n=yt();n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=yt(e.document)}return n}function Fo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Ef(e){var n=Yu(),l=e.focusedElem,i=e.selectionRange;if(n!==l&&l&&l.ownerDocument&&Ju(l.ownerDocument.documentElement,l)){if(i!==null&&Fo(l)){if(n=i.start,e=i.end,e===void 0&&(e=n),"selectionStart"in l)l.selectionStart=n,l.selectionEnd=Math.min(e,l.value.length);else if(e=(n=l.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var m=l.textContent.length,p=Math.min(i.start,m);i=i.end===void 0?p:Math.min(i.end,m),!e.extend&&p>i&&(m=i,i=p,p=m),m=Qu(l,p);var b=Qu(l,i);m&&b&&(e.rangeCount!==1||e.anchorNode!==m.node||e.anchorOffset!==m.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(n=n.createRange(),n.setStart(m.node,m.offset),e.removeAllRanges(),p>i?(e.addRange(n),e.extend(b.node,b.offset)):(n.setEnd(b.node,b.offset),e.addRange(n)))}}for(n=[],e=l;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<n.length;l++)e=n[l],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kf=g&&"documentMode"in document&&11>=document.documentMode,aa=null,$o=null,Xa=null,Bo=!1;function Xu(e,n,l){var i=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bo||aa==null||aa!==yt(i)||(i=aa,"selectionStart"in i&&Fo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Xa&&Ya(Xa,i)||(Xa=i,i=os($o,"onSelect"),0<i.length&&(n=new Lo("onSelect","select",null,n,l),e.push({event:n,listeners:i}),n.target=aa)))}function as(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var la={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},Uo={},Zu={};g&&(Zu=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function ls(e){if(Uo[e])return Uo[e];if(!la[e])return e;var n=la[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Zu)return Uo[e]=n[l];return e}var ed=ls("animationend"),td=ls("animationiteration"),nd=ls("animationstart"),rd=ls("transitionend"),ad=new Map,ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(e,n){ad.set(e,n),u(n,[e])}for(var Ho=0;Ho<ld.length;Ho++){var Vo=ld[Ho],wf=Vo.toLowerCase(),Nf=Vo[0].toUpperCase()+Vo.slice(1);vr(wf,"on"+Nf)}vr(ed,"onAnimationEnd"),vr(td,"onAnimationIteration"),vr(nd,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(rd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function sd(e,n,l){var i=e.type||"unknown-event";e.currentTarget=l,k0(i,n,void 0,e),e.currentTarget=null}function od(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var i=e[l],m=i.event;i=i.listeners;e:{var p=void 0;if(n)for(var b=i.length-1;0<=b;b--){var T=i[b],A=T.instance,W=T.currentTarget;if(T=T.listener,A!==p&&m.isPropagationStopped())break e;sd(m,T,W),p=A}else for(b=0;b<i.length;b++){if(T=i[b],A=T.instance,W=T.currentTarget,T=T.listener,A!==p&&m.isPropagationStopped())break e;sd(m,T,W),p=A}}}if(Hl)throw e=Eo,Hl=!1,Eo=null,e}function ft(e,n){var l=n[Xo];l===void 0&&(l=n[Xo]=new Set);var i=e+"__bubble";l.has(i)||(id(n,e,2,!1),l.add(i))}function qo(e,n,l){var i=0;n&&(i|=4),id(l,e,i,n)}var ss="_reactListening"+Math.random().toString(36).slice(2);function el(e){if(!e[ss]){e[ss]=!0,o.forEach(function(l){l!=="selectionchange"&&(Sf.has(l)||qo(l,!1,e),qo(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ss]||(n[ss]=!0,qo("selectionchange",!1,n))}}function id(e,n,l,i){switch(Lu(n)){case 1:var m=j0;break;case 4:m=F0;break;default:m=To}l=m.bind(null,n,l,e),m=void 0,!Da||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),i?m!==void 0?e.addEventListener(n,l,{capture:!0,passive:m}):e.addEventListener(n,l,!0):m!==void 0?e.addEventListener(n,l,{passive:m}):e.addEventListener(n,l,!1)}function Wo(e,n,l,i,m){var p=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var b=i.tag;if(b===3||b===4){var T=i.stateNode.containerInfo;if(T===m||T.nodeType===8&&T.parentNode===m)break;if(b===4)for(b=i.return;b!==null;){var A=b.tag;if((A===3||A===4)&&(A=b.stateNode.containerInfo,A===m||A.nodeType===8&&A.parentNode===m))return;b=b.return}for(;T!==null;){if(b=jr(T),b===null)return;if(A=b.tag,A===5||A===6){i=p=b;continue e}T=T.parentNode}}i=i.return}zt(function(){var W=p,oe=et(l),ce=[];e:{var le=ad.get(e);if(le!==void 0){var Ce=Lo,Le=e;switch(e){case"keypress":if(es(l)===0)break e;case"keydown":case"keyup":Ce=ef;break;case"focusin":Le="focus",Ce=Ro;break;case"focusout":Le="blur",Ce=Ro;break;case"beforeblur":case"afterblur":Ce=Ro;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=U0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=rf;break;case ed:case td:case nd:Ce=q0;break;case rd:Ce=lf;break;case"scroll":Ce=$0;break;case"wheel":Ce=of;break;case"copy":case"cut":case"paste":Ce=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Du}var Ie=(n&4)!==0,_t=!Ie&&e==="scroll",H=Ie?le!==null?le+"Capture":null:le;Ie=[];for(var j=W,V;j!==null;){V=j;var me=V.stateNode;if(V.tag===5&&me!==null&&(V=me,H!==null&&(me=Ln(j,H),me!=null&&Ie.push(tl(j,me,V)))),_t)break;j=j.return}0<Ie.length&&(le=new Ce(le,Le,null,l,oe),ce.push({event:le,listeners:Ie}))}}if((n&7)===0){e:{if(le=e==="mouseover"||e==="pointerover",Ce=e==="mouseout"||e==="pointerout",le&&l!==we&&(Le=l.relatedTarget||l.fromElement)&&(jr(Le)||Le[er]))break e;if((Ce||le)&&(le=oe.window===oe?oe:(le=oe.ownerDocument)?le.defaultView||le.parentWindow:window,Ce?(Le=l.relatedTarget||l.toElement,Ce=W,Le=Le?jr(Le):null,Le!==null&&(_t=Or(Le),Le!==_t||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Ce=null,Le=W),Ce!==Le)){if(Ie=Ru,me="onMouseLeave",H="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(Ie=Du,me="onPointerLeave",H="onPointerEnter",j="pointer"),_t=Ce==null?le:ia(Ce),V=Le==null?le:ia(Le),le=new Ie(me,j+"leave",Ce,l,oe),le.target=_t,le.relatedTarget=V,me=null,jr(oe)===W&&(Ie=new Ie(H,j+"enter",Le,l,oe),Ie.target=V,Ie.relatedTarget=_t,me=Ie),_t=me,Ce&&Le)t:{for(Ie=Ce,H=Le,j=0,V=Ie;V;V=sa(V))j++;for(V=0,me=H;me;me=sa(me))V++;for(;0<j-V;)Ie=sa(Ie),j--;for(;0<V-j;)H=sa(H),V--;for(;j--;){if(Ie===H||H!==null&&Ie===H.alternate)break t;Ie=sa(Ie),H=sa(H)}Ie=null}else Ie=null;Ce!==null&&cd(ce,le,Ce,Ie,!1),Le!==null&&_t!==null&&cd(ce,_t,Le,Ie,!0)}}e:{if(le=W?ia(W):window,Ce=le.nodeName&&le.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&le.type==="file")var Re=ff;else if(Uu(le))if(Vu)Re=bf;else{Re=yf;var $e=hf}else(Ce=le.nodeName)&&Ce.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Re=xf);if(Re&&(Re=Re(e,W))){Hu(ce,Re,l,oe);break e}$e&&$e(e,le,W),e==="focusout"&&($e=le._wrapperState)&&$e.controlled&&le.type==="number"&&Pe(le,"number",le.value)}switch($e=W?ia(W):window,e){case"focusin":(Uu($e)||$e.contentEditable==="true")&&(aa=$e,$o=W,Xa=null);break;case"focusout":Xa=$o=aa=null;break;case"mousedown":Bo=!0;break;case"contextmenu":case"mouseup":case"dragend":Bo=!1,Xu(ce,l,oe);break;case"selectionchange":if(kf)break;case"keydown":case"keyup":Xu(ce,l,oe)}var Be;if(Do)e:{switch(e){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ra?$u(e,l)&&(Ve="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ou&&l.locale!=="ko"&&(ra||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ra&&(Be=Iu()):(br=oe,Po="value"in br?br.value:br.textContent,ra=!0)),$e=os(W,Ve),0<$e.length&&(Ve=new Au(Ve,e,null,l,oe),ce.push({event:Ve,listeners:$e}),Be?Ve.data=Be:(Be=Bu(l),Be!==null&&(Ve.data=Be)))),(Be=uf?df(e,l):mf(e,l))&&(W=os(W,"onBeforeInput"),0<W.length&&(oe=new Au("onBeforeInput","beforeinput",null,l,oe),ce.push({event:oe,listeners:W}),oe.data=Be))}od(ce,n)})}function tl(e,n,l){return{instance:e,listener:n,currentTarget:l}}function os(e,n){for(var l=n+"Capture",i=[];e!==null;){var m=e,p=m.stateNode;m.tag===5&&p!==null&&(m=p,p=Ln(e,l),p!=null&&i.unshift(tl(e,p,m)),p=Ln(e,n),p!=null&&i.push(tl(e,p,m))),e=e.return}return i}function sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cd(e,n,l,i,m){for(var p=n._reactName,b=[];l!==null&&l!==i;){var T=l,A=T.alternate,W=T.stateNode;if(A!==null&&A===i)break;T.tag===5&&W!==null&&(T=W,m?(A=Ln(l,p),A!=null&&b.unshift(tl(l,A,T))):m||(A=Ln(l,p),A!=null&&b.push(tl(l,A,T)))),l=l.return}b.length!==0&&e.push({event:n,listeners:b})}var Cf=/\r\n?/g,_f=/\u0000|\uFFFD/g;function ud(e){return(typeof e=="string"?e:""+e).replace(Cf,`
`).replace(_f,"")}function is(e,n,l){if(n=ud(n),ud(e)!==n&&l)throw Error(s(425))}function cs(){}var Ko=null,Go=null;function Qo(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jo=typeof setTimeout=="function"?setTimeout:void 0,Tf=typeof clearTimeout=="function"?clearTimeout:void 0,dd=typeof Promise=="function"?Promise:void 0,zf=typeof queueMicrotask=="function"?queueMicrotask:typeof dd<"u"?function(e){return dd.resolve(null).then(e).catch(Pf)}:Jo;function Pf(e){setTimeout(function(){throw e})}function Yo(e,n){var l=n,i=0;do{var m=l.nextSibling;if(e.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(i===0){e.removeChild(m),qa(n);return}i--}else l!=="$"&&l!=="$?"&&l!=="$!"||i++;l=m}while(l);qa(n)}function Er(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function md(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}var oa=Math.random().toString(36).slice(2),qn="__reactFiber$"+oa,nl="__reactProps$"+oa,er="__reactContainer$"+oa,Xo="__reactEvents$"+oa,Lf="__reactListeners$"+oa,If="__reactHandles$"+oa;function jr(e){var n=e[qn];if(n)return n;for(var l=e.parentNode;l;){if(n=l[er]||l[qn]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=md(e);e!==null;){if(l=e[qn])return l;e=md(e)}return n}e=l,l=e.parentNode}return null}function rl(e){return e=e[qn]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ia(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function us(e){return e[nl]||null}var Zo=[],ca=-1;function kr(e){return{current:e}}function ht(e){0>ca||(e.current=Zo[ca],Zo[ca]=null,ca--)}function mt(e,n){ca++,Zo[ca]=e.current,e.current=n}var wr={},qt=kr(wr),Zt=kr(!1),Fr=wr;function ua(e,n){var l=e.type.contextTypes;if(!l)return wr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var m={},p;for(p in l)m[p]=n[p];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=m),m}function en(e){return e=e.childContextTypes,e!=null}function ds(){ht(Zt),ht(qt)}function gd(e,n,l){if(qt.current!==wr)throw Error(s(168));mt(qt,n),mt(Zt,l)}function pd(e,n,l){var i=e.stateNode;if(n=n.childContextTypes,typeof i.getChildContext!="function")return l;i=i.getChildContext();for(var m in i)if(!(m in n))throw Error(s(108,Ue(e)||"Unknown",m));return w({},l,i)}function ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wr,Fr=qt.current,mt(qt,e),mt(Zt,Zt.current),!0}function fd(e,n,l){var i=e.stateNode;if(!i)throw Error(s(169));l?(e=pd(e,n,Fr),i.__reactInternalMemoizedMergedChildContext=e,ht(Zt),ht(qt),mt(qt,e)):ht(Zt),mt(Zt,l)}var tr=null,gs=!1,ei=!1;function hd(e){tr===null?tr=[e]:tr.push(e)}function Mf(e){gs=!0,hd(e)}function Nr(){if(!ei&&tr!==null){ei=!0;var e=0,n=ut;try{var l=tr;for(ut=1;e<l.length;e++){var i=l[e];do i=i(!0);while(i!==null)}tr=null,gs=!1}catch(m){throw tr!==null&&(tr=tr.slice(e+1)),xu(ko,Nr),m}finally{ut=n,ei=!1}}return null}var da=[],ma=0,ps=null,fs=0,kn=[],wn=0,$r=null,nr=1,rr="";function Br(e,n){da[ma++]=fs,da[ma++]=ps,ps=e,fs=n}function yd(e,n,l){kn[wn++]=nr,kn[wn++]=rr,kn[wn++]=$r,$r=e;var i=nr;e=rr;var m=32-In(i)-1;i&=~(1<<m),l+=1;var p=32-In(n)+m;if(30<p){var b=m-m%5;p=(i&(1<<b)-1).toString(32),i>>=b,m-=b,nr=1<<32-In(n)+m|l<<m|i,rr=p+e}else nr=1<<p|l<<m|i,rr=e}function ti(e){e.return!==null&&(Br(e,1),yd(e,1,0))}function ni(e){for(;e===ps;)ps=da[--ma],da[ma]=null,fs=da[--ma],da[ma]=null;for(;e===$r;)$r=kn[--wn],kn[wn]=null,rr=kn[--wn],kn[wn]=null,nr=kn[--wn],kn[wn]=null}var pn=null,fn=null,xt=!1,Rn=null;function xd(e,n){var l=_n(5,null,null,0);l.elementType="DELETED",l.stateNode=n,l.return=e,n=e.deletions,n===null?(e.deletions=[l],e.flags|=16):n.push(l)}function bd(e,n){switch(e.tag){case 5:var l=e.type;return n=n.nodeType!==1||l.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,pn=e,fn=Er(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,pn=e,fn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(l=$r!==null?{id:nr,overflow:rr}:null,e.memoizedState={dehydrated:n,treeContext:l,retryLane:1073741824},l=_n(18,null,null,0),l.stateNode=n,l.return=e,e.child=l,pn=e,fn=null,!0):!1;default:return!1}}function ri(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ai(e){if(xt){var n=fn;if(n){var l=n;if(!bd(e,n)){if(ri(e))throw Error(s(418));n=Er(l.nextSibling);var i=pn;n&&bd(e,n)?xd(i,l):(e.flags=e.flags&-4097|2,xt=!1,pn=e)}}else{if(ri(e))throw Error(s(418));e.flags=e.flags&-4097|2,xt=!1,pn=e}}}function vd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pn=e}function hs(e){if(e!==pn)return!1;if(!xt)return vd(e),xt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Qo(e.type,e.memoizedProps)),n&&(n=fn)){if(ri(e))throw Ed(),Error(s(418));for(;n;)xd(e,n),n=Er(n.nextSibling)}if(vd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"){if(n===0){fn=Er(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++}e=e.nextSibling}fn=null}}else fn=pn?Er(e.stateNode.nextSibling):null;return!0}function Ed(){for(var e=fn;e;)e=Er(e.nextSibling)}function ga(){fn=pn=null,xt=!1}function li(e){Rn===null?Rn=[e]:Rn.push(e)}var Rf=Z.ReactCurrentBatchConfig;function al(e,n,l){if(e=l.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(s(309));var i=l.stateNode}if(!i)throw Error(s(147,e));var m=i,p=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(b){var T=m.refs;b===null?delete T[p]:T[p]=b},n._stringRef=p,n)}if(typeof e!="string")throw Error(s(284));if(!l._owner)throw Error(s(290,e))}return e}function ys(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function kd(e){var n=e._init;return n(e._payload)}function wd(e){function n(H,j){if(e){var V=H.deletions;V===null?(H.deletions=[j],H.flags|=16):V.push(j)}}function l(H,j){if(!e)return null;for(;j!==null;)n(H,j),j=j.sibling;return null}function i(H,j){for(H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function m(H,j){return H=Ir(H,j),H.index=0,H.sibling=null,H}function p(H,j,V){return H.index=V,e?(V=H.alternate,V!==null?(V=V.index,V<j?(H.flags|=2,j):V):(H.flags|=2,j)):(H.flags|=1048576,j)}function b(H){return e&&H.alternate===null&&(H.flags|=2),H}function T(H,j,V,me){return j===null||j.tag!==6?(j=Ji(V,H.mode,me),j.return=H,j):(j=m(j,V),j.return=H,j)}function A(H,j,V,me){var Re=V.type;return Re===ee?oe(H,j,V.props.children,me,V.key):j!==null&&(j.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Q&&kd(Re)===j.type)?(me=m(j,V.props),me.ref=al(H,j,V),me.return=H,me):(me=Bs(V.type,V.key,V.props,null,H.mode,me),me.ref=al(H,j,V),me.return=H,me)}function W(H,j,V,me){return j===null||j.tag!==4||j.stateNode.containerInfo!==V.containerInfo||j.stateNode.implementation!==V.implementation?(j=Yi(V,H.mode,me),j.return=H,j):(j=m(j,V.children||[]),j.return=H,j)}function oe(H,j,V,me,Re){return j===null||j.tag!==7?(j=Qr(V,H.mode,me,Re),j.return=H,j):(j=m(j,V),j.return=H,j)}function ce(H,j,V){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Ji(""+j,H.mode,V),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case X:return V=Bs(j.type,j.key,j.props,null,H.mode,V),V.ref=al(H,null,j),V.return=H,V;case M:return j=Yi(j,H.mode,V),j.return=H,j;case Q:var me=j._init;return ce(H,me(j._payload),V)}if(ye(j)||ge(j))return j=Qr(j,H.mode,V,null),j.return=H,j;ys(H,j)}return null}function le(H,j,V,me){var Re=j!==null?j.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return Re!==null?null:T(H,j,""+V,me);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case X:return V.key===Re?A(H,j,V,me):null;case M:return V.key===Re?W(H,j,V,me):null;case Q:return Re=V._init,le(H,j,Re(V._payload),me)}if(ye(V)||ge(V))return Re!==null?null:oe(H,j,V,me,null);ys(H,V)}return null}function Ce(H,j,V,me,Re){if(typeof me=="string"&&me!==""||typeof me=="number")return H=H.get(V)||null,T(j,H,""+me,Re);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case X:return H=H.get(me.key===null?V:me.key)||null,A(j,H,me,Re);case M:return H=H.get(me.key===null?V:me.key)||null,W(j,H,me,Re);case Q:var $e=me._init;return Ce(H,j,V,$e(me._payload),Re)}if(ye(me)||ge(me))return H=H.get(V)||null,oe(j,H,me,Re,null);ys(j,me)}return null}function Le(H,j,V,me){for(var Re=null,$e=null,Be=j,Ve=j=0,Ft=null;Be!==null&&Ve<V.length;Ve++){Be.index>Ve?(Ft=Be,Be=null):Ft=Be.sibling;var lt=le(H,Be,V[Ve],me);if(lt===null){Be===null&&(Be=Ft);break}e&&Be&&lt.alternate===null&&n(H,Be),j=p(lt,j,Ve),$e===null?Re=lt:$e.sibling=lt,$e=lt,Be=Ft}if(Ve===V.length)return l(H,Be),xt&&Br(H,Ve),Re;if(Be===null){for(;Ve<V.length;Ve++)Be=ce(H,V[Ve],me),Be!==null&&(j=p(Be,j,Ve),$e===null?Re=Be:$e.sibling=Be,$e=Be);return xt&&Br(H,Ve),Re}for(Be=i(H,Be);Ve<V.length;Ve++)Ft=Ce(Be,H,Ve,V[Ve],me),Ft!==null&&(e&&Ft.alternate!==null&&Be.delete(Ft.key===null?Ve:Ft.key),j=p(Ft,j,Ve),$e===null?Re=Ft:$e.sibling=Ft,$e=Ft);return e&&Be.forEach(function(Mr){return n(H,Mr)}),xt&&Br(H,Ve),Re}function Ie(H,j,V,me){var Re=ge(V);if(typeof Re!="function")throw Error(s(150));if(V=Re.call(V),V==null)throw Error(s(151));for(var $e=Re=null,Be=j,Ve=j=0,Ft=null,lt=V.next();Be!==null&&!lt.done;Ve++,lt=V.next()){Be.index>Ve?(Ft=Be,Be=null):Ft=Be.sibling;var Mr=le(H,Be,lt.value,me);if(Mr===null){Be===null&&(Be=Ft);break}e&&Be&&Mr.alternate===null&&n(H,Be),j=p(Mr,j,Ve),$e===null?Re=Mr:$e.sibling=Mr,$e=Mr,Be=Ft}if(lt.done)return l(H,Be),xt&&Br(H,Ve),Re;if(Be===null){for(;!lt.done;Ve++,lt=V.next())lt=ce(H,lt.value,me),lt!==null&&(j=p(lt,j,Ve),$e===null?Re=lt:$e.sibling=lt,$e=lt);return xt&&Br(H,Ve),Re}for(Be=i(H,Be);!lt.done;Ve++,lt=V.next())lt=Ce(Be,H,Ve,lt.value,me),lt!==null&&(e&&lt.alternate!==null&&Be.delete(lt.key===null?Ve:lt.key),j=p(lt,j,Ve),$e===null?Re=lt:$e.sibling=lt,$e=lt);return e&&Be.forEach(function(gh){return n(H,gh)}),xt&&Br(H,Ve),Re}function _t(H,j,V,me){if(typeof V=="object"&&V!==null&&V.type===ee&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case X:e:{for(var Re=V.key,$e=j;$e!==null;){if($e.key===Re){if(Re=V.type,Re===ee){if($e.tag===7){l(H,$e.sibling),j=m($e,V.props.children),j.return=H,H=j;break e}}else if($e.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Q&&kd(Re)===$e.type){l(H,$e.sibling),j=m($e,V.props),j.ref=al(H,$e,V),j.return=H,H=j;break e}l(H,$e);break}else n(H,$e);$e=$e.sibling}V.type===ee?(j=Qr(V.props.children,H.mode,me,V.key),j.return=H,H=j):(me=Bs(V.type,V.key,V.props,null,H.mode,me),me.ref=al(H,j,V),me.return=H,H=me)}return b(H);case M:e:{for($e=V.key;j!==null;){if(j.key===$e)if(j.tag===4&&j.stateNode.containerInfo===V.containerInfo&&j.stateNode.implementation===V.implementation){l(H,j.sibling),j=m(j,V.children||[]),j.return=H,H=j;break e}else{l(H,j);break}else n(H,j);j=j.sibling}j=Yi(V,H.mode,me),j.return=H,H=j}return b(H);case Q:return $e=V._init,_t(H,j,$e(V._payload),me)}if(ye(V))return Le(H,j,V,me);if(ge(V))return Ie(H,j,V,me);ys(H,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,j!==null&&j.tag===6?(l(H,j.sibling),j=m(j,V),j.return=H,H=j):(l(H,j),j=Ji(V,H.mode,me),j.return=H,H=j),b(H)):l(H,j)}return _t}var pa=wd(!0),Nd=wd(!1),xs=kr(null),bs=null,fa=null,si=null;function oi(){si=fa=bs=null}function ii(e){var n=xs.current;ht(xs),e._currentValue=n}function ci(e,n,l){for(;e!==null;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===l)break;e=e.return}}function ha(e,n){bs=e,si=fa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(tn=!0),e.firstContext=null)}function Nn(e){var n=e._currentValue;if(si!==e)if(e={context:e,memoizedValue:n,next:null},fa===null){if(bs===null)throw Error(s(308));fa=e,bs.dependencies={lanes:0,firstContext:e}}else fa=fa.next=e;return n}var Ur=null;function ui(e){Ur===null?Ur=[e]:Ur.push(e)}function Sd(e,n,l,i){var m=n.interleaved;return m===null?(l.next=l,ui(n)):(l.next=m.next,m.next=l),n.interleaved=l,ar(e,i)}function ar(e,n){e.lanes|=n;var l=e.alternate;for(l!==null&&(l.lanes|=n),l=e,e=e.return;e!==null;)e.childLanes|=n,l=e.alternate,l!==null&&(l.childLanes|=n),l=e,e=e.return;return l.tag===3?l.stateNode:null}var Sr=!1;function di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Cr(e,n,l){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(at&2)!==0){var m=i.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),i.pending=n,ar(e,l)}return m=i.interleaved,m===null?(n.next=n,ui(i)):(n.next=m.next,m.next=n),i.interleaved=n,ar(e,l)}function vs(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194240)!==0)){var i=n.lanes;i&=e.pendingLanes,l|=i,n.lanes=l,So(e,l)}}function _d(e,n){var l=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,l===i)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};p===null?m=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?m=p=n:p=p.next=n}else m=p=n;l={baseState:i.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:i.shared,effects:i.effects},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}function Es(e,n,l,i){var m=e.updateQueue;Sr=!1;var p=m.firstBaseUpdate,b=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var A=T,W=A.next;A.next=null,b===null?p=W:b.next=W,b=A;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,T=oe.lastBaseUpdate,T!==b&&(T===null?oe.firstBaseUpdate=W:T.next=W,oe.lastBaseUpdate=A))}if(p!==null){var ce=m.baseState;b=0,oe=W=A=null,T=p;do{var le=T.lane,Ce=T.eventTime;if((i&le)===le){oe!==null&&(oe=oe.next={eventTime:Ce,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var Le=e,Ie=T;switch(le=n,Ce=l,Ie.tag){case 1:if(Le=Ie.payload,typeof Le=="function"){ce=Le.call(Ce,ce,le);break e}ce=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ie.payload,le=typeof Le=="function"?Le.call(Ce,ce,le):Le,le==null)break e;ce=w({},ce,le);break e;case 2:Sr=!0}}T.callback!==null&&T.lane!==0&&(e.flags|=64,le=m.effects,le===null?m.effects=[T]:le.push(T))}else Ce={eventTime:Ce,lane:le,tag:T.tag,payload:T.payload,callback:T.callback,next:null},oe===null?(W=oe=Ce,A=ce):oe=oe.next=Ce,b|=le;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;le=T,T=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);if(oe===null&&(A=ce),m.baseState=A,m.firstBaseUpdate=W,m.lastBaseUpdate=oe,n=m.shared.interleaved,n!==null){m=n;do b|=m.lane,m=m.next;while(m!==n)}else p===null&&(m.shared.lanes=0);qr|=b,e.lanes=b,e.memoizedState=ce}}function Td(e,n,l){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var i=e[n],m=i.callback;if(m!==null){if(i.callback=null,i=l,typeof m!="function")throw Error(s(191,m));m.call(i)}}}var ll={},Wn=kr(ll),sl=kr(ll),ol=kr(ll);function Hr(e){if(e===ll)throw Error(s(174));return e}function mi(e,n){switch(mt(ol,n),mt(sl,e),mt(Wn,ll),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Y(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Y(n,e)}ht(Wn),mt(Wn,n)}function ya(){ht(Wn),ht(sl),ht(ol)}function zd(e){Hr(ol.current);var n=Hr(Wn.current),l=Y(n,e.type);n!==l&&(mt(sl,e),mt(Wn,l))}function gi(e){sl.current===e&&(ht(Wn),ht(sl))}var kt=kr(0);function ks(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var pi=[];function fi(){for(var e=0;e<pi.length;e++)pi[e]._workInProgressVersionPrimary=null;pi.length=0}var ws=Z.ReactCurrentDispatcher,hi=Z.ReactCurrentBatchConfig,Vr=0,wt=null,It=null,Ot=null,Ns=!1,il=!1,cl=0,Af=0;function Wt(){throw Error(s(321))}function yi(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Mn(e[l],n[l]))return!1;return!0}function xi(e,n,l,i,m,p){if(Vr=p,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ws.current=e===null||e.memoizedState===null?Ff:$f,e=l(i,m),il){p=0;do{if(il=!1,cl=0,25<=p)throw Error(s(301));p+=1,Ot=It=null,n.updateQueue=null,ws.current=Bf,e=l(i,m)}while(il)}if(ws.current=_s,n=It!==null&&It.next!==null,Vr=0,Ot=It=wt=null,Ns=!1,n)throw Error(s(300));return e}function bi(){var e=cl!==0;return cl=0,e}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?wt.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Sn(){if(It===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var n=Ot===null?wt.memoizedState:Ot.next;if(n!==null)Ot=n,It=e;else{if(e===null)throw Error(s(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Ot===null?wt.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function ul(e,n){return typeof n=="function"?n(e):n}function vi(e){var n=Sn(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var i=It,m=i.baseQueue,p=l.pending;if(p!==null){if(m!==null){var b=m.next;m.next=p.next,p.next=b}i.baseQueue=m=p,l.pending=null}if(m!==null){p=m.next,i=i.baseState;var T=b=null,A=null,W=p;do{var oe=W.lane;if((Vr&oe)===oe)A!==null&&(A=A.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),i=W.hasEagerState?W.eagerState:e(i,W.action);else{var ce={lane:oe,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};A===null?(T=A=ce,b=i):A=A.next=ce,wt.lanes|=oe,qr|=oe}W=W.next}while(W!==null&&W!==p);A===null?b=i:A.next=T,Mn(i,n.memoizedState)||(tn=!0),n.memoizedState=i,n.baseState=b,n.baseQueue=A,l.lastRenderedState=i}if(e=l.interleaved,e!==null){m=e;do p=m.lane,wt.lanes|=p,qr|=p,m=m.next;while(m!==e)}else m===null&&(l.lanes=0);return[n.memoizedState,l.dispatch]}function Ei(e){var n=Sn(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var i=l.dispatch,m=l.pending,p=n.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do p=e(p,b.action),b=b.next;while(b!==m);Mn(p,n.memoizedState)||(tn=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),l.lastRenderedState=p}return[p,i]}function Pd(){}function Ld(e,n){var l=wt,i=Sn(),m=n(),p=!Mn(i.memoizedState,m);if(p&&(i.memoizedState=m,tn=!0),i=i.queue,ki(Rd.bind(null,l,i,e),[e]),i.getSnapshot!==n||p||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,dl(9,Md.bind(null,l,i,m,n),void 0,null),jt===null)throw Error(s(349));(Vr&30)!==0||Id(l,n,m)}return m}function Id(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=wt.updateQueue,n===null?(n={lastEffect:null,stores:null},wt.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Md(e,n,l,i){n.value=l,n.getSnapshot=i,Ad(n)&&Dd(e)}function Rd(e,n,l){return l(function(){Ad(n)&&Dd(e)})}function Ad(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Mn(e,l)}catch{return!0}}function Dd(e){var n=ar(e,1);n!==null&&jn(n,e,1,-1)}function Od(e){var n=Kn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:e},n.queue=e,e=e.dispatch=jf.bind(null,wt,e),[n.memoizedState,e]}function dl(e,n,l,i){return e={tag:e,create:n,destroy:l,deps:i,next:null},n=wt.updateQueue,n===null?(n={lastEffect:null,stores:null},wt.updateQueue=n,n.lastEffect=e.next=e):(l=n.lastEffect,l===null?n.lastEffect=e.next=e:(i=l.next,l.next=e,e.next=i,n.lastEffect=e)),e}function jd(){return Sn().memoizedState}function Ss(e,n,l,i){var m=Kn();wt.flags|=e,m.memoizedState=dl(1|n,l,void 0,i===void 0?null:i)}function Cs(e,n,l,i){var m=Sn();i=i===void 0?null:i;var p=void 0;if(It!==null){var b=It.memoizedState;if(p=b.destroy,i!==null&&yi(i,b.deps)){m.memoizedState=dl(n,l,p,i);return}}wt.flags|=e,m.memoizedState=dl(1|n,l,p,i)}function Fd(e,n){return Ss(8390656,8,e,n)}function ki(e,n){return Cs(2048,8,e,n)}function $d(e,n){return Cs(4,2,e,n)}function Bd(e,n){return Cs(4,4,e,n)}function Ud(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hd(e,n,l){return l=l!=null?l.concat([e]):null,Cs(4,4,Ud.bind(null,n,e),l)}function wi(){}function Vd(e,n){var l=Sn();n=n===void 0?null:n;var i=l.memoizedState;return i!==null&&n!==null&&yi(n,i[1])?i[0]:(l.memoizedState=[e,n],e)}function qd(e,n){var l=Sn();n=n===void 0?null:n;var i=l.memoizedState;return i!==null&&n!==null&&yi(n,i[1])?i[0]:(e=e(),l.memoizedState=[e,n],e)}function Wd(e,n,l){return(Vr&21)===0?(e.baseState&&(e.baseState=!1,tn=!0),e.memoizedState=l):(Mn(l,n)||(l=ku(),wt.lanes|=l,qr|=l,e.baseState=!0),n)}function Df(e,n){var l=ut;ut=l!==0&&4>l?l:4,e(!0);var i=hi.transition;hi.transition={};try{e(!1),n()}finally{ut=l,hi.transition=i}}function Kd(){return Sn().memoizedState}function Of(e,n,l){var i=Pr(e);if(l={lane:i,action:l,hasEagerState:!1,eagerState:null,next:null},Gd(e))Qd(n,l);else if(l=Sd(e,n,l,i),l!==null){var m=Xt();jn(l,e,i,m),Jd(l,n,i)}}function jf(e,n,l){var i=Pr(e),m={lane:i,action:l,hasEagerState:!1,eagerState:null,next:null};if(Gd(e))Qd(n,m);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var b=n.lastRenderedState,T=p(b,l);if(m.hasEagerState=!0,m.eagerState=T,Mn(T,b)){var A=n.interleaved;A===null?(m.next=m,ui(n)):(m.next=A.next,A.next=m),n.interleaved=m;return}}catch{}l=Sd(e,n,m,i),l!==null&&(m=Xt(),jn(l,e,i,m),Jd(l,n,i))}}function Gd(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Qd(e,n){il=Ns=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Jd(e,n,l){if((l&4194240)!==0){var i=n.lanes;i&=e.pendingLanes,l|=i,n.lanes=l,So(e,l)}}var _s={readContext:Nn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},Ff={readContext:Nn,useCallback:function(e,n){return Kn().memoizedState=[e,n===void 0?null:n],e},useContext:Nn,useEffect:Fd,useImperativeHandle:function(e,n,l){return l=l!=null?l.concat([e]):null,Ss(4194308,4,Ud.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Ss(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ss(4,2,e,n)},useMemo:function(e,n){var l=Kn();return n=n===void 0?null:n,e=e(),l.memoizedState=[e,n],e},useReducer:function(e,n,l){var i=Kn();return n=l!==void 0?l(n):n,i.memoizedState=i.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=Of.bind(null,wt,e),[i.memoizedState,e]},useRef:function(e){var n=Kn();return e={current:e},n.memoizedState=e},useState:Od,useDebugValue:wi,useDeferredValue:function(e){return Kn().memoizedState=e},useTransition:function(){var e=Od(!1),n=e[0];return e=Df.bind(null,e[1]),Kn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,l){var i=wt,m=Kn();if(xt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=n(),jt===null)throw Error(s(349));(Vr&30)!==0||Id(i,n,l)}m.memoizedState=l;var p={value:l,getSnapshot:n};return m.queue=p,Fd(Rd.bind(null,i,p,e),[e]),i.flags|=2048,dl(9,Md.bind(null,i,p,l,n),void 0,null),l},useId:function(){var e=Kn(),n=jt.identifierPrefix;if(xt){var l=rr,i=nr;l=(i&~(1<<32-In(i)-1)).toString(32)+l,n=":"+n+"R"+l,l=cl++,0<l&&(n+="H"+l.toString(32)),n+=":"}else l=Af++,n=":"+n+"r"+l.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},$f={readContext:Nn,useCallback:Vd,useContext:Nn,useEffect:ki,useImperativeHandle:Hd,useInsertionEffect:$d,useLayoutEffect:Bd,useMemo:qd,useReducer:vi,useRef:jd,useState:function(){return vi(ul)},useDebugValue:wi,useDeferredValue:function(e){var n=Sn();return Wd(n,It.memoizedState,e)},useTransition:function(){var e=vi(ul)[0],n=Sn().memoizedState;return[e,n]},useMutableSource:Pd,useSyncExternalStore:Ld,useId:Kd,unstable_isNewReconciler:!1},Bf={readContext:Nn,useCallback:Vd,useContext:Nn,useEffect:ki,useImperativeHandle:Hd,useInsertionEffect:$d,useLayoutEffect:Bd,useMemo:qd,useReducer:Ei,useRef:jd,useState:function(){return Ei(ul)},useDebugValue:wi,useDeferredValue:function(e){var n=Sn();return It===null?n.memoizedState=e:Wd(n,It.memoizedState,e)},useTransition:function(){var e=Ei(ul)[0],n=Sn().memoizedState;return[e,n]},useMutableSource:Pd,useSyncExternalStore:Ld,useId:Kd,unstable_isNewReconciler:!1};function An(e,n){if(e&&e.defaultProps){n=w({},n),e=e.defaultProps;for(var l in e)n[l]===void 0&&(n[l]=e[l]);return n}return n}function Ni(e,n,l,i){n=e.memoizedState,l=l(i,n),l=l==null?n:w({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Ts={isMounted:function(e){return(e=e._reactInternals)?Or(e)===e:!1},enqueueSetState:function(e,n,l){e=e._reactInternals;var i=Xt(),m=Pr(e),p=lr(i,m);p.payload=n,l!=null&&(p.callback=l),n=Cr(e,p,m),n!==null&&(jn(n,e,m,i),vs(n,e,m))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var i=Xt(),m=Pr(e),p=lr(i,m);p.tag=1,p.payload=n,l!=null&&(p.callback=l),n=Cr(e,p,m),n!==null&&(jn(n,e,m,i),vs(n,e,m))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Xt(),i=Pr(e),m=lr(l,i);m.tag=2,n!=null&&(m.callback=n),n=Cr(e,m,i),n!==null&&(jn(n,e,i,l),vs(n,e,i))}};function Yd(e,n,l,i,m,p,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,p,b):n.prototype&&n.prototype.isPureReactComponent?!Ya(l,i)||!Ya(m,p):!0}function Xd(e,n,l){var i=!1,m=wr,p=n.contextType;return typeof p=="object"&&p!==null?p=Nn(p):(m=en(n)?Fr:qt.current,i=n.contextTypes,p=(i=i!=null)?ua(e,m):wr),n=new n(l,p),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ts,e.stateNode=n,n._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=m,e.__reactInternalMemoizedMaskedChildContext=p),n}function Zd(e,n,l,i){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,i),n.state!==e&&Ts.enqueueReplaceState(n,n.state,null)}function Si(e,n,l,i){var m=e.stateNode;m.props=l,m.state=e.memoizedState,m.refs={},di(e);var p=n.contextType;typeof p=="object"&&p!==null?m.context=Nn(p):(p=en(n)?Fr:qt.current,m.context=ua(e,p)),m.state=e.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Ni(e,n,p,l),m.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(n=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),n!==m.state&&Ts.enqueueReplaceState(m,m.state,null),Es(e,l,m,i),m.state=e.memoizedState),typeof m.componentDidMount=="function"&&(e.flags|=4194308)}function xa(e,n){try{var l="",i=n;do l+=Ae(i),i=i.return;while(i);var m=l}catch(p){m=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:n,stack:m,digest:null}}function Ci(e,n,l){return{value:e,source:null,stack:l??null,digest:n??null}}function _i(e,n){try{console.error(n.value)}catch(l){setTimeout(function(){throw l})}}var Uf=typeof WeakMap=="function"?WeakMap:Map;function em(e,n,l){l=lr(-1,l),l.tag=3,l.payload={element:null};var i=n.value;return l.callback=function(){As||(As=!0,Ui=i),_i(e,n)},l}function tm(e,n,l){l=lr(-1,l),l.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var m=n.value;l.payload=function(){return i(m)},l.callback=function(){_i(e,n)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(l.callback=function(){_i(e,n),typeof i!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var b=n.stack;this.componentDidCatch(n.value,{componentStack:b!==null?b:""})}),l}function nm(e,n,l){var i=e.pingCache;if(i===null){i=e.pingCache=new Uf;var m=new Set;i.set(n,m)}else m=i.get(n),m===void 0&&(m=new Set,i.set(n,m));m.has(l)||(m.add(l),e=nh.bind(null,e,n,l),n.then(e,e))}function rm(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function am(e,n,l,i,m){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(n=lr(-1,1),n.tag=2,Cr(l,n,1))),l.lanes|=1),e):(e.flags|=65536,e.lanes=m,e)}var Hf=Z.ReactCurrentOwner,tn=!1;function Yt(e,n,l,i){n.child=e===null?Nd(n,null,l,i):pa(n,e.child,l,i)}function lm(e,n,l,i,m){l=l.render;var p=n.ref;return ha(n,m),i=xi(e,n,l,i,p,m),l=bi(),e!==null&&!tn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,sr(e,n,m)):(xt&&l&&ti(n),n.flags|=1,Yt(e,n,i,m),n.child)}function sm(e,n,l,i,m){if(e===null){var p=l.type;return typeof p=="function"&&!Qi(p)&&p.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(n.tag=15,n.type=p,om(e,n,p,i,m)):(e=Bs(l.type,null,i,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,(e.lanes&m)===0){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:Ya,l(b,i)&&e.ref===n.ref)return sr(e,n,m)}return n.flags|=1,e=Ir(p,i),e.ref=n.ref,e.return=n,n.child=e}function om(e,n,l,i,m){if(e!==null){var p=e.memoizedProps;if(Ya(p,i)&&e.ref===n.ref)if(tn=!1,n.pendingProps=i=p,(e.lanes&m)!==0)(e.flags&131072)!==0&&(tn=!0);else return n.lanes=e.lanes,sr(e,n,m)}return Ti(e,n,l,i,m)}function im(e,n,l){var i=n.pendingProps,m=i.children,p=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(va,hn),hn|=l;else{if((l&1073741824)===0)return e=p!==null?p.baseLanes|l:l,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,mt(va,hn),hn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=p!==null?p.baseLanes:l,mt(va,hn),hn|=i}else p!==null?(i=p.baseLanes|l,n.memoizedState=null):i=l,mt(va,hn),hn|=i;return Yt(e,n,m,l),n.child}function cm(e,n){var l=n.ref;(e===null&&l!==null||e!==null&&e.ref!==l)&&(n.flags|=512,n.flags|=2097152)}function Ti(e,n,l,i,m){var p=en(l)?Fr:qt.current;return p=ua(n,p),ha(n,m),l=xi(e,n,l,i,p,m),i=bi(),e!==null&&!tn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,sr(e,n,m)):(xt&&i&&ti(n),n.flags|=1,Yt(e,n,l,m),n.child)}function um(e,n,l,i,m){if(en(l)){var p=!0;ms(n)}else p=!1;if(ha(n,m),n.stateNode===null)Ps(e,n),Xd(n,l,i),Si(n,l,i,m),i=!0;else if(e===null){var b=n.stateNode,T=n.memoizedProps;b.props=T;var A=b.context,W=l.contextType;typeof W=="object"&&W!==null?W=Nn(W):(W=en(l)?Fr:qt.current,W=ua(n,W));var oe=l.getDerivedStateFromProps,ce=typeof oe=="function"||typeof b.getSnapshotBeforeUpdate=="function";ce||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==i||A!==W)&&Zd(n,b,i,W),Sr=!1;var le=n.memoizedState;b.state=le,Es(n,i,b,m),A=n.memoizedState,T!==i||le!==A||Zt.current||Sr?(typeof oe=="function"&&(Ni(n,l,oe,i),A=n.memoizedState),(T=Sr||Yd(n,l,T,i,le,A,W))?(ce||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=A),b.props=i,b.state=A,b.context=W,i=T):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{b=n.stateNode,Cd(e,n),T=n.memoizedProps,W=n.type===n.elementType?T:An(n.type,T),b.props=W,ce=n.pendingProps,le=b.context,A=l.contextType,typeof A=="object"&&A!==null?A=Nn(A):(A=en(l)?Fr:qt.current,A=ua(n,A));var Ce=l.getDerivedStateFromProps;(oe=typeof Ce=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==ce||le!==A)&&Zd(n,b,i,A),Sr=!1,le=n.memoizedState,b.state=le,Es(n,i,b,m);var Le=n.memoizedState;T!==ce||le!==Le||Zt.current||Sr?(typeof Ce=="function"&&(Ni(n,l,Ce,i),Le=n.memoizedState),(W=Sr||Yd(n,l,W,i,le,Le,A)||!1)?(oe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(i,Le,A),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(i,Le,A)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===e.memoizedProps&&le===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&le===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=Le),b.props=i,b.state=Le,b.context=A,i=W):(typeof b.componentDidUpdate!="function"||T===e.memoizedProps&&le===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&le===e.memoizedState||(n.flags|=1024),i=!1)}return zi(e,n,l,i,p,m)}function zi(e,n,l,i,m,p){cm(e,n);var b=(n.flags&128)!==0;if(!i&&!b)return m&&fd(n,l,!1),sr(e,n,p);i=n.stateNode,Hf.current=n;var T=b&&typeof l.getDerivedStateFromError!="function"?null:i.render();return n.flags|=1,e!==null&&b?(n.child=pa(n,e.child,null,p),n.child=pa(n,null,T,p)):Yt(e,n,T,p),n.memoizedState=i.state,m&&fd(n,l,!0),n.child}function dm(e){var n=e.stateNode;n.pendingContext?gd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&gd(e,n.context,!1),mi(e,n.containerInfo)}function mm(e,n,l,i,m){return ga(),li(m),n.flags|=256,Yt(e,n,l,i),n.child}var Pi={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function gm(e,n,l){var i=n.pendingProps,m=kt.current,p=!1,b=(n.flags&128)!==0,T;if((T=b)||(T=e!==null&&e.memoizedState===null?!1:(m&2)!==0),T?(p=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(m|=1),mt(kt,m&1),e===null)return ai(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(b=i.children,e=i.fallback,p?(i=n.mode,p=n.child,b={mode:"hidden",children:b},(i&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=b):p=Us(b,i,0,null),e=Qr(e,i,l,null),p.return=n,e.return=n,p.sibling=e,n.child=p,n.child.memoizedState=Li(l),n.memoizedState=Pi,e):Ii(n,b));if(m=e.memoizedState,m!==null&&(T=m.dehydrated,T!==null))return Vf(e,n,b,i,T,m,l);if(p){p=i.fallback,b=n.mode,m=e.child,T=m.sibling;var A={mode:"hidden",children:i.children};return(b&1)===0&&n.child!==m?(i=n.child,i.childLanes=0,i.pendingProps=A,n.deletions=null):(i=Ir(m,A),i.subtreeFlags=m.subtreeFlags&14680064),T!==null?p=Ir(T,p):(p=Qr(p,b,l,null),p.flags|=2),p.return=n,i.return=n,i.sibling=p,n.child=i,i=p,p=n.child,b=e.child.memoizedState,b=b===null?Li(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},p.memoizedState=b,p.childLanes=e.childLanes&~l,n.memoizedState=Pi,i}return p=e.child,e=p.sibling,i=Ir(p,{mode:"visible",children:i.children}),(n.mode&1)===0&&(i.lanes=l),i.return=n,i.sibling=null,e!==null&&(l=n.deletions,l===null?(n.deletions=[e],n.flags|=16):l.push(e)),n.child=i,n.memoizedState=null,i}function Ii(e,n){return n=Us({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function zs(e,n,l,i){return i!==null&&li(i),pa(n,e.child,null,l),e=Ii(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Vf(e,n,l,i,m,p,b){if(l)return n.flags&256?(n.flags&=-257,i=Ci(Error(s(422))),zs(e,n,b,i)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(p=i.fallback,m=n.mode,i=Us({mode:"visible",children:i.children},m,0,null),p=Qr(p,m,b,null),p.flags|=2,i.return=n,p.return=n,i.sibling=p,n.child=i,(n.mode&1)!==0&&pa(n,e.child,null,b),n.child.memoizedState=Li(b),n.memoizedState=Pi,p);if((n.mode&1)===0)return zs(e,n,b,null);if(m.data==="$!"){if(i=m.nextSibling&&m.nextSibling.dataset,i)var T=i.dgst;return i=T,p=Error(s(419)),i=Ci(p,i,void 0),zs(e,n,b,i)}if(T=(b&e.childLanes)!==0,tn||T){if(i=jt,i!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(i.suspendedLanes|b))!==0?0:m,m!==0&&m!==p.retryLane&&(p.retryLane=m,ar(e,m),jn(i,e,m,-1))}return Gi(),i=Ci(Error(s(421))),zs(e,n,b,i)}return m.data==="$?"?(n.flags|=128,n.child=e.child,n=rh.bind(null,e),m._reactRetry=n,null):(e=p.treeContext,fn=Er(m.nextSibling),pn=n,xt=!0,Rn=null,e!==null&&(kn[wn++]=nr,kn[wn++]=rr,kn[wn++]=$r,nr=e.id,rr=e.overflow,$r=n),n=Ii(n,i.children),n.flags|=4096,n)}function pm(e,n,l){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n),ci(e.return,n,l)}function Mi(e,n,l,i,m){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:l,tailMode:m}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=i,p.tail=l,p.tailMode=m)}function fm(e,n,l){var i=n.pendingProps,m=i.revealOrder,p=i.tail;if(Yt(e,n,i.children,l),i=kt.current,(i&2)!==0)i=i&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pm(e,l,n);else if(e.tag===19)pm(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(mt(kt,i),(n.mode&1)===0)n.memoizedState=null;else switch(m){case"forwards":for(l=n.child,m=null;l!==null;)e=l.alternate,e!==null&&ks(e)===null&&(m=l),l=l.sibling;l=m,l===null?(m=n.child,n.child=null):(m=l.sibling,l.sibling=null),Mi(n,!1,m,l,p);break;case"backwards":for(l=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&ks(e)===null){n.child=m;break}e=m.sibling,m.sibling=l,l=m,m=e}Mi(n,!0,l,null,p);break;case"together":Mi(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ps(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function sr(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),qr|=n.lanes,(l&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,l=Ir(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Ir(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function qf(e,n,l){switch(n.tag){case 3:dm(n),ga();break;case 5:zd(n);break;case 1:en(n.type)&&ms(n);break;case 4:mi(n,n.stateNode.containerInfo);break;case 10:var i=n.type._context,m=n.memoizedProps.value;mt(xs,i._currentValue),i._currentValue=m;break;case 13:if(i=n.memoizedState,i!==null)return i.dehydrated!==null?(mt(kt,kt.current&1),n.flags|=128,null):(l&n.child.childLanes)!==0?gm(e,n,l):(mt(kt,kt.current&1),e=sr(e,n,l),e!==null?e.sibling:null);mt(kt,kt.current&1);break;case 19:if(i=(l&n.childLanes)!==0,(e.flags&128)!==0){if(i)return fm(e,n,l);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),mt(kt,kt.current),i)break;return null;case 22:case 23:return n.lanes=0,im(e,n,l)}return sr(e,n,l)}var hm,Ri,ym,xm;hm=function(e,n){for(var l=n.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Ri=function(){},ym=function(e,n,l,i){var m=e.memoizedProps;if(m!==i){e=n.stateNode,Hr(Wn.current);var p=null;switch(l){case"input":m=ue(e,m),i=ue(e,i),p=[];break;case"select":m=w({},m,{value:void 0}),i=w({},i,{value:void 0}),p=[];break;case"textarea":m=J(e,m),i=J(e,i),p=[];break;default:typeof m.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=cs)}He(l,i);var b;l=null;for(W in m)if(!i.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var T=m[W];for(b in T)T.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(c.hasOwnProperty(W)?p||(p=[]):(p=p||[]).push(W,null));for(W in i){var A=i[W];if(T=m?.[W],i.hasOwnProperty(W)&&A!==T&&(A!=null||T!=null))if(W==="style")if(T){for(b in T)!T.hasOwnProperty(b)||A&&A.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in A)A.hasOwnProperty(b)&&T[b]!==A[b]&&(l||(l={}),l[b]=A[b])}else l||(p||(p=[]),p.push(W,l)),l=A;else W==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,T=T?T.__html:void 0,A!=null&&T!==A&&(p=p||[]).push(W,A)):W==="children"?typeof A!="string"&&typeof A!="number"||(p=p||[]).push(W,""+A):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(c.hasOwnProperty(W)?(A!=null&&W==="onScroll"&&ft("scroll",e),p||T===A||(p=[])):(p=p||[]).push(W,A))}l&&(p=p||[]).push("style",l);var W=p;(n.updateQueue=W)&&(n.flags|=4)}},xm=function(e,n,l,i){l!==i&&(n.flags|=4)};function ml(e,n){if(!xt)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var i=null;l!==null;)l.alternate!==null&&(i=l),l=l.sibling;i===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Kt(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,i=0;if(n)for(var m=e.child;m!==null;)l|=m.lanes|m.childLanes,i|=m.subtreeFlags&14680064,i|=m.flags&14680064,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)l|=m.lanes|m.childLanes,i|=m.subtreeFlags,i|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=i,e.childLanes=l,n}function Wf(e,n,l){var i=n.pendingProps;switch(ni(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(n),null;case 1:return en(n.type)&&ds(),Kt(n),null;case 3:return i=n.stateNode,ya(),ht(Zt),ht(qt),fi(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(hs(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rn!==null&&(qi(Rn),Rn=null))),Ri(e,n),Kt(n),null;case 5:gi(n);var m=Hr(ol.current);if(l=n.type,e!==null&&n.stateNode!=null)ym(e,n,l,i,m),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!i){if(n.stateNode===null)throw Error(s(166));return Kt(n),null}if(e=Hr(Wn.current),hs(n)){i=n.stateNode,l=n.type;var p=n.memoizedProps;switch(i[qn]=n,i[nl]=p,e=(n.mode&1)!==0,l){case"dialog":ft("cancel",i),ft("close",i);break;case"iframe":case"object":case"embed":ft("load",i);break;case"video":case"audio":for(m=0;m<Za.length;m++)ft(Za[m],i);break;case"source":ft("error",i);break;case"img":case"image":case"link":ft("error",i),ft("load",i);break;case"details":ft("toggle",i);break;case"input":rt(i,p),ft("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!p.multiple},ft("invalid",i);break;case"textarea":he(i,p),ft("invalid",i)}He(l,p),m=null;for(var b in p)if(p.hasOwnProperty(b)){var T=p[b];b==="children"?typeof T=="string"?i.textContent!==T&&(p.suppressHydrationWarning!==!0&&is(i.textContent,T,e),m=["children",T]):typeof T=="number"&&i.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&is(i.textContent,T,e),m=["children",""+T]):c.hasOwnProperty(b)&&T!=null&&b==="onScroll"&&ft("scroll",i)}switch(l){case"input":ot(i),ne(i,p,!0);break;case"textarea":ot(i),U(i);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(i.onclick=cs)}i=m,n.updateQueue=i,i!==null&&(n.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=F(l)),e==="http://www.w3.org/1999/xhtml"?l==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=b.createElement(l,{is:i.is}):(e=b.createElement(l),l==="select"&&(b=e,i.multiple?b.multiple=!0:i.size&&(b.size=i.size))):e=b.createElementNS(e,l),e[qn]=n,e[nl]=i,hm(e,n,!1,!1),n.stateNode=e;e:{switch(b=Je(l,i),l){case"dialog":ft("cancel",e),ft("close",e),m=i;break;case"iframe":case"object":case"embed":ft("load",e),m=i;break;case"video":case"audio":for(m=0;m<Za.length;m++)ft(Za[m],e);m=i;break;case"source":ft("error",e),m=i;break;case"img":case"image":case"link":ft("error",e),ft("load",e),m=i;break;case"details":ft("toggle",e),m=i;break;case"input":rt(e,i),m=ue(e,i),ft("invalid",e);break;case"option":m=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},m=w({},i,{value:void 0}),ft("invalid",e);break;case"textarea":he(e,i),m=J(e,i),ft("invalid",e);break;default:m=i}He(l,m),T=m;for(p in T)if(T.hasOwnProperty(p)){var A=T[p];p==="style"?Vt(e,A):p==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&be(e,A)):p==="children"?typeof A=="string"?(l!=="textarea"||A!=="")&&Fe(e,A):typeof A=="number"&&Fe(e,""+A):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(c.hasOwnProperty(p)?A!=null&&p==="onScroll"&&ft("scroll",e):A!=null&&R(e,p,A,b))}switch(l){case"input":ot(e),ne(e,i,!1);break;case"textarea":ot(e),U(e);break;case"option":i.value!=null&&e.setAttribute("value",""+De(i.value));break;case"select":e.multiple=!!i.multiple,p=i.value,p!=null?We(e,!!i.multiple,p,!1):i.defaultValue!=null&&We(e,!!i.multiple,i.defaultValue,!0);break;default:typeof m.onClick=="function"&&(e.onclick=cs)}switch(l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Kt(n),null;case 6:if(e&&n.stateNode!=null)xm(e,n,e.memoizedProps,i);else{if(typeof i!="string"&&n.stateNode===null)throw Error(s(166));if(l=Hr(ol.current),Hr(Wn.current),hs(n)){if(i=n.stateNode,l=n.memoizedProps,i[qn]=n,(p=i.nodeValue!==l)&&(e=pn,e!==null))switch(e.tag){case 3:is(i.nodeValue,l,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&is(i.nodeValue,l,(e.mode&1)!==0)}p&&(n.flags|=4)}else i=(l.nodeType===9?l:l.ownerDocument).createTextNode(i),i[qn]=n,n.stateNode=i}return Kt(n),null;case 13:if(ht(kt),i=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xt&&fn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Ed(),ga(),n.flags|=98560,p=!1;else if(p=hs(n),i!==null&&i.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[qn]=n}else ga(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Kt(n),p=!1}else Rn!==null&&(qi(Rn),Rn=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=l,n):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(kt.current&1)!==0?Mt===0&&(Mt=3):Gi())),n.updateQueue!==null&&(n.flags|=4),Kt(n),null);case 4:return ya(),Ri(e,n),e===null&&el(n.stateNode.containerInfo),Kt(n),null;case 10:return ii(n.type._context),Kt(n),null;case 17:return en(n.type)&&ds(),Kt(n),null;case 19:if(ht(kt),p=n.memoizedState,p===null)return Kt(n),null;if(i=(n.flags&128)!==0,b=p.rendering,b===null)if(i)ml(p,!1);else{if(Mt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(b=ks(e),b!==null){for(n.flags|=128,ml(p,!1),i=b.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),n.subtreeFlags=0,i=l,l=n.child;l!==null;)p=l,e=i,p.flags&=14680066,b=p.alternate,b===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=b.childLanes,p.lanes=b.lanes,p.child=b.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=b.memoizedProps,p.memoizedState=b.memoizedState,p.updateQueue=b.updateQueue,p.type=b.type,e=b.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return mt(kt,kt.current&1|2),n.child}e=e.sibling}p.tail!==null&&Ct()>Ea&&(n.flags|=128,i=!0,ml(p,!1),n.lanes=4194304)}else{if(!i)if(e=ks(b),e!==null){if(n.flags|=128,i=!0,l=e.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),ml(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!xt)return Kt(n),null}else 2*Ct()-p.renderingStartTime>Ea&&l!==1073741824&&(n.flags|=128,i=!0,ml(p,!1),n.lanes=4194304);p.isBackwards?(b.sibling=n.child,n.child=b):(l=p.last,l!==null?l.sibling=b:n.child=b,p.last=b)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=Ct(),n.sibling=null,l=kt.current,mt(kt,i?l&1|2:l&1),n):(Kt(n),null);case 22:case 23:return Ki(),i=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(n.flags|=8192),i&&(n.mode&1)!==0?(hn&1073741824)!==0&&(Kt(n),n.subtreeFlags&6&&(n.flags|=8192)):Kt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function Kf(e,n){switch(ni(n),n.tag){case 1:return en(n.type)&&ds(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ya(),ht(Zt),ht(qt),fi(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return gi(n),null;case 13:if(ht(kt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ga()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ht(kt),null;case 4:return ya(),null;case 10:return ii(n.type._context),null;case 22:case 23:return Ki(),null;case 24:return null;default:return null}}var Ls=!1,Gt=!1,Gf=typeof WeakSet=="function"?WeakSet:Set,ze=null;function ba(e,n){var l=e.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(i){St(e,n,i)}else l.current=null}function Ai(e,n,l){try{l()}catch(i){St(e,n,i)}}var bm=!1;function Qf(e,n){if(Ko=Yl,e=Yu(),Fo(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var i=l.getSelection&&l.getSelection();if(i&&i.rangeCount!==0){l=i.anchorNode;var m=i.anchorOffset,p=i.focusNode;i=i.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var b=0,T=-1,A=-1,W=0,oe=0,ce=e,le=null;t:for(;;){for(var Ce;ce!==l||m!==0&&ce.nodeType!==3||(T=b+m),ce!==p||i!==0&&ce.nodeType!==3||(A=b+i),ce.nodeType===3&&(b+=ce.nodeValue.length),(Ce=ce.firstChild)!==null;)le=ce,ce=Ce;for(;;){if(ce===e)break t;if(le===l&&++W===m&&(T=b),le===p&&++oe===i&&(A=b),(Ce=ce.nextSibling)!==null)break;ce=le,le=ce.parentNode}ce=Ce}l=T===-1||A===-1?null:{start:T,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Go={focusedElem:e,selectionRange:l},Yl=!1,ze=n;ze!==null;)if(n=ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ze=e;else for(;ze!==null;){n=ze;try{var Le=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Ie=Le.memoizedProps,_t=Le.memoizedState,H=n.stateNode,j=H.getSnapshotBeforeUpdate(n.elementType===n.type?Ie:An(n.type,Ie),_t);H.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var V=n.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(me){St(n,n.return,me)}if(e=n.sibling,e!==null){e.return=n.return,ze=e;break}ze=n.return}return Le=bm,bm=!1,Le}function gl(e,n,l){var i=n.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var m=i=i.next;do{if((m.tag&e)===e){var p=m.destroy;m.destroy=void 0,p!==void 0&&Ai(n,l,p)}m=m.next}while(m!==i)}}function Is(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var i=l.create;l.destroy=i()}l=l.next}while(l!==n)}}function Di(e){var n=e.ref;if(n!==null){var l=e.stateNode;e.tag,e=l,typeof n=="function"?n(e):n.current=e}}function vm(e){var n=e.alternate;n!==null&&(e.alternate=null,vm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[qn],delete n[nl],delete n[Xo],delete n[Lf],delete n[If])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Em(e){return e.tag===5||e.tag===3||e.tag===4}function km(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Em(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oi(e,n,l){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?l.nodeType===8?l.parentNode.insertBefore(e,n):l.insertBefore(e,n):(l.nodeType===8?(n=l.parentNode,n.insertBefore(e,l)):(n=l,n.appendChild(e)),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=cs));else if(i!==4&&(e=e.child,e!==null))for(Oi(e,n,l),e=e.sibling;e!==null;)Oi(e,n,l),e=e.sibling}function ji(e,n,l){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ji(e,n,l),e=e.sibling;e!==null;)ji(e,n,l),e=e.sibling}var Ut=null,Dn=!1;function _r(e,n,l){for(l=l.child;l!==null;)wm(e,n,l),l=l.sibling}function wm(e,n,l){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(ql,l)}catch{}switch(l.tag){case 5:Gt||ba(l,n);case 6:var i=Ut,m=Dn;Ut=null,_r(e,n,l),Ut=i,Dn=m,Ut!==null&&(Dn?(e=Ut,l=l.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)):Ut.removeChild(l.stateNode));break;case 18:Ut!==null&&(Dn?(e=Ut,l=l.stateNode,e.nodeType===8?Yo(e.parentNode,l):e.nodeType===1&&Yo(e,l),qa(e)):Yo(Ut,l.stateNode));break;case 4:i=Ut,m=Dn,Ut=l.stateNode.containerInfo,Dn=!0,_r(e,n,l),Ut=i,Dn=m;break;case 0:case 11:case 14:case 15:if(!Gt&&(i=l.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){m=i=i.next;do{var p=m,b=p.destroy;p=p.tag,b!==void 0&&((p&2)!==0||(p&4)!==0)&&Ai(l,n,b),m=m.next}while(m!==i)}_r(e,n,l);break;case 1:if(!Gt&&(ba(l,n),i=l.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=l.memoizedProps,i.state=l.memoizedState,i.componentWillUnmount()}catch(T){St(l,n,T)}_r(e,n,l);break;case 21:_r(e,n,l);break;case 22:l.mode&1?(Gt=(i=Gt)||l.memoizedState!==null,_r(e,n,l),Gt=i):_r(e,n,l);break;default:_r(e,n,l)}}function Nm(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var l=e.stateNode;l===null&&(l=e.stateNode=new Gf),n.forEach(function(i){var m=ah.bind(null,e,i);l.has(i)||(l.add(i),i.then(m,m))})}}function On(e,n){var l=n.deletions;if(l!==null)for(var i=0;i<l.length;i++){var m=l[i];try{var p=e,b=n,T=b;e:for(;T!==null;){switch(T.tag){case 5:Ut=T.stateNode,Dn=!1;break e;case 3:Ut=T.stateNode.containerInfo,Dn=!0;break e;case 4:Ut=T.stateNode.containerInfo,Dn=!0;break e}T=T.return}if(Ut===null)throw Error(s(160));wm(p,b,m),Ut=null,Dn=!1;var A=m.alternate;A!==null&&(A.return=null),m.return=null}catch(W){St(m,n,W)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Sm(n,e),n=n.sibling}function Sm(e,n){var l=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(n,e),Gn(e),i&4){try{gl(3,e,e.return),Is(3,e)}catch(Ie){St(e,e.return,Ie)}try{gl(5,e,e.return)}catch(Ie){St(e,e.return,Ie)}}break;case 1:On(n,e),Gn(e),i&512&&l!==null&&ba(l,l.return);break;case 5:if(On(n,e),Gn(e),i&512&&l!==null&&ba(l,l.return),e.flags&32){var m=e.stateNode;try{Fe(m,"")}catch(Ie){St(e,e.return,Ie)}}if(i&4&&(m=e.stateNode,m!=null)){var p=e.memoizedProps,b=l!==null?l.memoizedProps:p,T=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&Qe(m,p),Je(T,b);var W=Je(T,p);for(b=0;b<A.length;b+=2){var oe=A[b],ce=A[b+1];oe==="style"?Vt(m,ce):oe==="dangerouslySetInnerHTML"?be(m,ce):oe==="children"?Fe(m,ce):R(m,oe,ce,W)}switch(T){case"input":G(m,p);break;case"textarea":ke(m,p);break;case"select":var le=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!p.multiple;var Ce=p.value;Ce!=null?We(m,!!p.multiple,Ce,!1):le!==!!p.multiple&&(p.defaultValue!=null?We(m,!!p.multiple,p.defaultValue,!0):We(m,!!p.multiple,p.multiple?[]:"",!1))}m[nl]=p}catch(Ie){St(e,e.return,Ie)}}break;case 6:if(On(n,e),Gn(e),i&4){if(e.stateNode===null)throw Error(s(162));m=e.stateNode,p=e.memoizedProps;try{m.nodeValue=p}catch(Ie){St(e,e.return,Ie)}}break;case 3:if(On(n,e),Gn(e),i&4&&l!==null&&l.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(Ie){St(e,e.return,Ie)}break;case 4:On(n,e),Gn(e);break;case 13:On(n,e),Gn(e),m=e.child,m.flags&8192&&(p=m.memoizedState!==null,m.stateNode.isHidden=p,!p||m.alternate!==null&&m.alternate.memoizedState!==null||(Bi=Ct())),i&4&&Nm(e);break;case 22:if(oe=l!==null&&l.memoizedState!==null,e.mode&1?(Gt=(W=Gt)||oe,On(n,e),Gt=W):On(n,e),Gn(e),i&8192){if(W=e.memoizedState!==null,(e.stateNode.isHidden=W)&&!oe&&(e.mode&1)!==0)for(ze=e,oe=e.child;oe!==null;){for(ce=ze=oe;ze!==null;){switch(le=ze,Ce=le.child,le.tag){case 0:case 11:case 14:case 15:gl(4,le,le.return);break;case 1:ba(le,le.return);var Le=le.stateNode;if(typeof Le.componentWillUnmount=="function"){i=le,l=le.return;try{n=i,Le.props=n.memoizedProps,Le.state=n.memoizedState,Le.componentWillUnmount()}catch(Ie){St(i,l,Ie)}}break;case 5:ba(le,le.return);break;case 22:if(le.memoizedState!==null){Tm(ce);continue}}Ce!==null?(Ce.return=le,ze=Ce):Tm(ce)}oe=oe.sibling}e:for(oe=null,ce=e;;){if(ce.tag===5){if(oe===null){oe=ce;try{m=ce.stateNode,W?(p=m.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=ce.stateNode,A=ce.memoizedProps.style,b=A!=null&&A.hasOwnProperty("display")?A.display:null,T.style.display=Xe("display",b))}catch(Ie){St(e,e.return,Ie)}}}else if(ce.tag===6){if(oe===null)try{ce.stateNode.nodeValue=W?"":ce.memoizedProps}catch(Ie){St(e,e.return,Ie)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===e)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===e)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===e)break e;oe===ce&&(oe=null),ce=ce.return}oe===ce&&(oe=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:On(n,e),Gn(e),i&4&&Nm(e);break;case 21:break;default:On(n,e),Gn(e)}}function Gn(e){var n=e.flags;if(n&2){try{e:{for(var l=e.return;l!==null;){if(Em(l)){var i=l;break e}l=l.return}throw Error(s(160))}switch(i.tag){case 5:var m=i.stateNode;i.flags&32&&(Fe(m,""),i.flags&=-33);var p=km(e);ji(e,p,m);break;case 3:case 4:var b=i.stateNode.containerInfo,T=km(e);Oi(e,T,b);break;default:throw Error(s(161))}}catch(A){St(e,e.return,A)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Jf(e,n,l){ze=e,Cm(e)}function Cm(e,n,l){for(var i=(e.mode&1)!==0;ze!==null;){var m=ze,p=m.child;if(m.tag===22&&i){var b=m.memoizedState!==null||Ls;if(!b){var T=m.alternate,A=T!==null&&T.memoizedState!==null||Gt;T=Ls;var W=Gt;if(Ls=b,(Gt=A)&&!W)for(ze=m;ze!==null;)b=ze,A=b.child,b.tag===22&&b.memoizedState!==null?zm(m):A!==null?(A.return=b,ze=A):zm(m);for(;p!==null;)ze=p,Cm(p),p=p.sibling;ze=m,Ls=T,Gt=W}_m(e)}else(m.subtreeFlags&8772)!==0&&p!==null?(p.return=m,ze=p):_m(e)}}function _m(e){for(;ze!==null;){var n=ze;if((n.flags&8772)!==0){var l=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Gt||Is(5,n);break;case 1:var i=n.stateNode;if(n.flags&4&&!Gt)if(l===null)i.componentDidMount();else{var m=n.elementType===n.type?l.memoizedProps:An(n.type,l.memoizedProps);i.componentDidUpdate(m,l.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&Td(n,p,i);break;case 3:var b=n.updateQueue;if(b!==null){if(l=null,n.child!==null)switch(n.child.tag){case 5:l=n.child.stateNode;break;case 1:l=n.child.stateNode}Td(n,b,l)}break;case 5:var T=n.stateNode;if(l===null&&n.flags&4){l=T;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&l.focus();break;case"img":A.src&&(l.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var W=n.alternate;if(W!==null){var oe=W.memoizedState;if(oe!==null){var ce=oe.dehydrated;ce!==null&&qa(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Gt||n.flags&512&&Di(n)}catch(le){St(n,n.return,le)}}if(n===e){ze=null;break}if(l=n.sibling,l!==null){l.return=n.return,ze=l;break}ze=n.return}}function Tm(e){for(;ze!==null;){var n=ze;if(n===e){ze=null;break}var l=n.sibling;if(l!==null){l.return=n.return,ze=l;break}ze=n.return}}function zm(e){for(;ze!==null;){var n=ze;try{switch(n.tag){case 0:case 11:case 15:var l=n.return;try{Is(4,n)}catch(A){St(n,l,A)}break;case 1:var i=n.stateNode;if(typeof i.componentDidMount=="function"){var m=n.return;try{i.componentDidMount()}catch(A){St(n,m,A)}}var p=n.return;try{Di(n)}catch(A){St(n,p,A)}break;case 5:var b=n.return;try{Di(n)}catch(A){St(n,b,A)}}}catch(A){St(n,n.return,A)}if(n===e){ze=null;break}var T=n.sibling;if(T!==null){T.return=n.return,ze=T;break}ze=n.return}}var Yf=Math.ceil,Ms=Z.ReactCurrentDispatcher,Fi=Z.ReactCurrentOwner,Cn=Z.ReactCurrentBatchConfig,at=0,jt=null,Pt=null,Ht=0,hn=0,va=kr(0),Mt=0,pl=null,qr=0,Rs=0,$i=0,fl=null,nn=null,Bi=0,Ea=1/0,or=null,As=!1,Ui=null,Tr=null,Ds=!1,zr=null,Os=0,hl=0,Hi=null,js=-1,Fs=0;function Xt(){return(at&6)!==0?Ct():js!==-1?js:js=Ct()}function Pr(e){return(e.mode&1)===0?1:(at&2)!==0&&Ht!==0?Ht&-Ht:Rf.transition!==null?(Fs===0&&(Fs=ku()),Fs):(e=ut,e!==0||(e=window.event,e=e===void 0?16:Lu(e.type)),e)}function jn(e,n,l,i){if(50<hl)throw hl=0,Hi=null,Error(s(185));$a(e,l,i),((at&2)===0||e!==jt)&&(e===jt&&((at&2)===0&&(Rs|=l),Mt===4&&Lr(e,Ht)),rn(e,i),l===1&&at===0&&(n.mode&1)===0&&(Ea=Ct()+500,gs&&Nr()))}function rn(e,n){var l=e.callbackNode;M0(e,n);var i=Gl(e,e===jt?Ht:0);if(i===0)l!==null&&bu(l),e.callbackNode=null,e.callbackPriority=0;else if(n=i&-i,e.callbackPriority!==n){if(l!=null&&bu(l),n===1)e.tag===0?Mf(Lm.bind(null,e)):hd(Lm.bind(null,e)),zf(function(){(at&6)===0&&Nr()}),l=null;else{switch(wu(i)){case 1:l=ko;break;case 4:l=vu;break;case 16:l=Vl;break;case 536870912:l=Eu;break;default:l=Vl}l=Fm(l,Pm.bind(null,e))}e.callbackPriority=n,e.callbackNode=l}}function Pm(e,n){if(js=-1,Fs=0,(at&6)!==0)throw Error(s(327));var l=e.callbackNode;if(ka()&&e.callbackNode!==l)return null;var i=Gl(e,e===jt?Ht:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||n)n=$s(e,i);else{n=i;var m=at;at|=2;var p=Mm();(jt!==e||Ht!==n)&&(or=null,Ea=Ct()+500,Kr(e,n));do try{eh();break}catch(T){Im(e,T)}while(!0);oi(),Ms.current=p,at=m,Pt!==null?n=0:(jt=null,Ht=0,n=Mt)}if(n!==0){if(n===2&&(m=wo(e),m!==0&&(i=m,n=Vi(e,m))),n===1)throw l=pl,Kr(e,0),Lr(e,i),rn(e,Ct()),l;if(n===6)Lr(e,i);else{if(m=e.current.alternate,(i&30)===0&&!Xf(m)&&(n=$s(e,i),n===2&&(p=wo(e),p!==0&&(i=p,n=Vi(e,p))),n===1))throw l=pl,Kr(e,0),Lr(e,i),rn(e,Ct()),l;switch(e.finishedWork=m,e.finishedLanes=i,n){case 0:case 1:throw Error(s(345));case 2:Gr(e,nn,or);break;case 3:if(Lr(e,i),(i&130023424)===i&&(n=Bi+500-Ct(),10<n)){if(Gl(e,0)!==0)break;if(m=e.suspendedLanes,(m&i)!==i){Xt(),e.pingedLanes|=e.suspendedLanes&m;break}e.timeoutHandle=Jo(Gr.bind(null,e,nn,or),n);break}Gr(e,nn,or);break;case 4:if(Lr(e,i),(i&4194240)===i)break;for(n=e.eventTimes,m=-1;0<i;){var b=31-In(i);p=1<<b,b=n[b],b>m&&(m=b),i&=~p}if(i=m,i=Ct()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Yf(i/1960))-i,10<i){e.timeoutHandle=Jo(Gr.bind(null,e,nn,or),i);break}Gr(e,nn,or);break;case 5:Gr(e,nn,or);break;default:throw Error(s(329))}}}return rn(e,Ct()),e.callbackNode===l?Pm.bind(null,e):null}function Vi(e,n){var l=fl;return e.current.memoizedState.isDehydrated&&(Kr(e,n).flags|=256),e=$s(e,n),e!==2&&(n=nn,nn=l,n!==null&&qi(n)),e}function qi(e){nn===null?nn=e:nn.push.apply(nn,e)}function Xf(e){for(var n=e;;){if(n.flags&16384){var l=n.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var i=0;i<l.length;i++){var m=l[i],p=m.getSnapshot;m=m.value;try{if(!Mn(p(),m))return!1}catch{return!1}}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Lr(e,n){for(n&=~$i,n&=~Rs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var l=31-In(n),i=1<<l;e[l]=-1,n&=~i}}function Lm(e){if((at&6)!==0)throw Error(s(327));ka();var n=Gl(e,0);if((n&1)===0)return rn(e,Ct()),null;var l=$s(e,n);if(e.tag!==0&&l===2){var i=wo(e);i!==0&&(n=i,l=Vi(e,i))}if(l===1)throw l=pl,Kr(e,0),Lr(e,n),rn(e,Ct()),l;if(l===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Gr(e,nn,or),rn(e,Ct()),null}function Wi(e,n){var l=at;at|=1;try{return e(n)}finally{at=l,at===0&&(Ea=Ct()+500,gs&&Nr())}}function Wr(e){zr!==null&&zr.tag===0&&(at&6)===0&&ka();var n=at;at|=1;var l=Cn.transition,i=ut;try{if(Cn.transition=null,ut=1,e)return e()}finally{ut=i,Cn.transition=l,at=n,(at&6)===0&&Nr()}}function Ki(){hn=va.current,ht(va)}function Kr(e,n){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;if(l!==-1&&(e.timeoutHandle=-1,Tf(l)),Pt!==null)for(l=Pt.return;l!==null;){var i=l;switch(ni(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ds();break;case 3:ya(),ht(Zt),ht(qt),fi();break;case 5:gi(i);break;case 4:ya();break;case 13:ht(kt);break;case 19:ht(kt);break;case 10:ii(i.type._context);break;case 22:case 23:Ki()}l=l.return}if(jt=e,Pt=e=Ir(e.current,null),Ht=hn=n,Mt=0,pl=null,$i=Rs=qr=0,nn=fl=null,Ur!==null){for(n=0;n<Ur.length;n++)if(l=Ur[n],i=l.interleaved,i!==null){l.interleaved=null;var m=i.next,p=l.pending;if(p!==null){var b=p.next;p.next=m,i.next=b}l.pending=i}Ur=null}return e}function Im(e,n){do{var l=Pt;try{if(oi(),ws.current=_s,Ns){for(var i=wt.memoizedState;i!==null;){var m=i.queue;m!==null&&(m.pending=null),i=i.next}Ns=!1}if(Vr=0,Ot=It=wt=null,il=!1,cl=0,Fi.current=null,l===null||l.return===null){Mt=1,pl=n,Pt=null;break}e:{var p=e,b=l.return,T=l,A=n;if(n=Ht,T.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var W=A,oe=T,ce=oe.tag;if((oe.mode&1)===0&&(ce===0||ce===11||ce===15)){var le=oe.alternate;le?(oe.updateQueue=le.updateQueue,oe.memoizedState=le.memoizedState,oe.lanes=le.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var Ce=rm(b);if(Ce!==null){Ce.flags&=-257,am(Ce,b,T,p,n),Ce.mode&1&&nm(p,W,n),n=Ce,A=W;var Le=n.updateQueue;if(Le===null){var Ie=new Set;Ie.add(A),n.updateQueue=Ie}else Le.add(A);break e}else{if((n&1)===0){nm(p,W,n),Gi();break e}A=Error(s(426))}}else if(xt&&T.mode&1){var _t=rm(b);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),am(_t,b,T,p,n),li(xa(A,T));break e}}p=A=xa(A,T),Mt!==4&&(Mt=2),fl===null?fl=[p]:fl.push(p),p=b;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var H=em(p,A,n);_d(p,H);break e;case 1:T=A;var j=p.type,V=p.stateNode;if((p.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Tr===null||!Tr.has(V)))){p.flags|=65536,n&=-n,p.lanes|=n;var me=tm(p,T,n);_d(p,me);break e}}p=p.return}while(p!==null)}Am(l)}catch(Re){n=Re,Pt===l&&l!==null&&(Pt=l=l.return);continue}break}while(!0)}function Mm(){var e=Ms.current;return Ms.current=_s,e===null?_s:e}function Gi(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),jt===null||(qr&268435455)===0&&(Rs&268435455)===0||Lr(jt,Ht)}function $s(e,n){var l=at;at|=2;var i=Mm();(jt!==e||Ht!==n)&&(or=null,Kr(e,n));do try{Zf();break}catch(m){Im(e,m)}while(!0);if(oi(),at=l,Ms.current=i,Pt!==null)throw Error(s(261));return jt=null,Ht=0,Mt}function Zf(){for(;Pt!==null;)Rm(Pt)}function eh(){for(;Pt!==null&&!N0();)Rm(Pt)}function Rm(e){var n=jm(e.alternate,e,hn);e.memoizedProps=e.pendingProps,n===null?Am(e):Pt=n,Fi.current=null}function Am(e){var n=e;do{var l=n.alternate;if(e=n.return,(n.flags&32768)===0){if(l=Wf(l,n,hn),l!==null){Pt=l;return}}else{if(l=Kf(l,n),l!==null){l.flags&=32767,Pt=l;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Pt=null;return}}if(n=n.sibling,n!==null){Pt=n;return}Pt=n=e}while(n!==null);Mt===0&&(Mt=5)}function Gr(e,n,l){var i=ut,m=Cn.transition;try{Cn.transition=null,ut=1,th(e,n,l,i)}finally{Cn.transition=m,ut=i}return null}function th(e,n,l,i){do ka();while(zr!==null);if((at&6)!==0)throw Error(s(327));l=e.finishedWork;var m=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var p=l.lanes|l.childLanes;if(R0(e,p),e===jt&&(Pt=jt=null,Ht=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ds||(Ds=!0,Fm(Vl,function(){return ka(),null})),p=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||p){p=Cn.transition,Cn.transition=null;var b=ut;ut=1;var T=at;at|=4,Fi.current=null,Qf(e,l),Sm(l,e),Ef(Go),Yl=!!Ko,Go=Ko=null,e.current=l,Jf(l),S0(),at=T,ut=b,Cn.transition=p}else e.current=l;if(Ds&&(Ds=!1,zr=e,Os=m),p=e.pendingLanes,p===0&&(Tr=null),T0(l.stateNode),rn(e,Ct()),n!==null)for(i=e.onRecoverableError,l=0;l<n.length;l++)m=n[l],i(m.value,{componentStack:m.stack,digest:m.digest});if(As)throw As=!1,e=Ui,Ui=null,e;return(Os&1)!==0&&e.tag!==0&&ka(),p=e.pendingLanes,(p&1)!==0?e===Hi?hl++:(hl=0,Hi=e):hl=0,Nr(),null}function ka(){if(zr!==null){var e=wu(Os),n=Cn.transition,l=ut;try{if(Cn.transition=null,ut=16>e?16:e,zr===null)var i=!1;else{if(e=zr,zr=null,Os=0,(at&6)!==0)throw Error(s(331));var m=at;for(at|=4,ze=e.current;ze!==null;){var p=ze,b=p.child;if((ze.flags&16)!==0){var T=p.deletions;if(T!==null){for(var A=0;A<T.length;A++){var W=T[A];for(ze=W;ze!==null;){var oe=ze;switch(oe.tag){case 0:case 11:case 15:gl(8,oe,p)}var ce=oe.child;if(ce!==null)ce.return=oe,ze=ce;else for(;ze!==null;){oe=ze;var le=oe.sibling,Ce=oe.return;if(vm(oe),oe===W){ze=null;break}if(le!==null){le.return=Ce,ze=le;break}ze=Ce}}}var Le=p.alternate;if(Le!==null){var Ie=Le.child;if(Ie!==null){Le.child=null;do{var _t=Ie.sibling;Ie.sibling=null,Ie=_t}while(Ie!==null)}}ze=p}}if((p.subtreeFlags&2064)!==0&&b!==null)b.return=p,ze=b;else e:for(;ze!==null;){if(p=ze,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:gl(9,p,p.return)}var H=p.sibling;if(H!==null){H.return=p.return,ze=H;break e}ze=p.return}}var j=e.current;for(ze=j;ze!==null;){b=ze;var V=b.child;if((b.subtreeFlags&2064)!==0&&V!==null)V.return=b,ze=V;else e:for(b=j;ze!==null;){if(T=ze,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Is(9,T)}}catch(Re){St(T,T.return,Re)}if(T===b){ze=null;break e}var me=T.sibling;if(me!==null){me.return=T.return,ze=me;break e}ze=T.return}}if(at=m,Nr(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(ql,e)}catch{}i=!0}return i}finally{ut=l,Cn.transition=n}}return!1}function Dm(e,n,l){n=xa(l,n),n=em(e,n,1),e=Cr(e,n,1),n=Xt(),e!==null&&($a(e,1,n),rn(e,n))}function St(e,n,l){if(e.tag===3)Dm(e,e,l);else for(;n!==null;){if(n.tag===3){Dm(n,e,l);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Tr===null||!Tr.has(i))){e=xa(l,e),e=tm(n,e,1),n=Cr(n,e,1),e=Xt(),n!==null&&($a(n,1,e),rn(n,e));break}}n=n.return}}function nh(e,n,l){var i=e.pingCache;i!==null&&i.delete(n),n=Xt(),e.pingedLanes|=e.suspendedLanes&l,jt===e&&(Ht&l)===l&&(Mt===4||Mt===3&&(Ht&130023424)===Ht&&500>Ct()-Bi?Kr(e,0):$i|=l),rn(e,n)}function Om(e,n){n===0&&((e.mode&1)===0?n=1:(n=Kl,Kl<<=1,(Kl&130023424)===0&&(Kl=4194304)));var l=Xt();e=ar(e,n),e!==null&&($a(e,n,l),rn(e,l))}function rh(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Om(e,l)}function ah(e,n){var l=0;switch(e.tag){case 13:var i=e.stateNode,m=e.memoizedState;m!==null&&(l=m.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(n),Om(e,l)}var jm;jm=function(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps||Zt.current)tn=!0;else{if((e.lanes&l)===0&&(n.flags&128)===0)return tn=!1,qf(e,n,l);tn=(e.flags&131072)!==0}else tn=!1,xt&&(n.flags&1048576)!==0&&yd(n,fs,n.index);switch(n.lanes=0,n.tag){case 2:var i=n.type;Ps(e,n),e=n.pendingProps;var m=ua(n,qt.current);ha(n,l),m=xi(null,n,i,e,m,l);var p=bi();return n.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,en(i)?(p=!0,ms(n)):p=!1,n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,di(n),m.updater=Ts,n.stateNode=m,m._reactInternals=n,Si(n,i,e,l),n=zi(null,n,i,!0,p,l)):(n.tag=0,xt&&p&&ti(n),Yt(null,n,m,l),n=n.child),n;case 16:i=n.elementType;e:{switch(Ps(e,n),e=n.pendingProps,m=i._init,i=m(i._payload),n.type=i,m=n.tag=sh(i),e=An(i,e),m){case 0:n=Ti(null,n,i,e,l);break e;case 1:n=um(null,n,i,e,l);break e;case 11:n=lm(null,n,i,e,l);break e;case 14:n=sm(null,n,i,An(i.type,e),l);break e}throw Error(s(306,i,""))}return n;case 0:return i=n.type,m=n.pendingProps,m=n.elementType===i?m:An(i,m),Ti(e,n,i,m,l);case 1:return i=n.type,m=n.pendingProps,m=n.elementType===i?m:An(i,m),um(e,n,i,m,l);case 3:e:{if(dm(n),e===null)throw Error(s(387));i=n.pendingProps,p=n.memoizedState,m=p.element,Cd(e,n),Es(n,i,null,l);var b=n.memoizedState;if(i=b.element,p.isDehydrated)if(p={element:i,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){m=xa(Error(s(423)),n),n=mm(e,n,i,l,m);break e}else if(i!==m){m=xa(Error(s(424)),n),n=mm(e,n,i,l,m);break e}else for(fn=Er(n.stateNode.containerInfo.firstChild),pn=n,xt=!0,Rn=null,l=Nd(n,null,i,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ga(),i===m){n=sr(e,n,l);break e}Yt(e,n,i,l)}n=n.child}return n;case 5:return zd(n),e===null&&ai(n),i=n.type,m=n.pendingProps,p=e!==null?e.memoizedProps:null,b=m.children,Qo(i,m)?b=null:p!==null&&Qo(i,p)&&(n.flags|=32),cm(e,n),Yt(e,n,b,l),n.child;case 6:return e===null&&ai(n),null;case 13:return gm(e,n,l);case 4:return mi(n,n.stateNode.containerInfo),i=n.pendingProps,e===null?n.child=pa(n,null,i,l):Yt(e,n,i,l),n.child;case 11:return i=n.type,m=n.pendingProps,m=n.elementType===i?m:An(i,m),lm(e,n,i,m,l);case 7:return Yt(e,n,n.pendingProps,l),n.child;case 8:return Yt(e,n,n.pendingProps.children,l),n.child;case 12:return Yt(e,n,n.pendingProps.children,l),n.child;case 10:e:{if(i=n.type._context,m=n.pendingProps,p=n.memoizedProps,b=m.value,mt(xs,i._currentValue),i._currentValue=b,p!==null)if(Mn(p.value,b)){if(p.children===m.children&&!Zt.current){n=sr(e,n,l);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var T=p.dependencies;if(T!==null){b=p.child;for(var A=T.firstContext;A!==null;){if(A.context===i){if(p.tag===1){A=lr(-1,l&-l),A.tag=2;var W=p.updateQueue;if(W!==null){W=W.shared;var oe=W.pending;oe===null?A.next=A:(A.next=oe.next,oe.next=A),W.pending=A}}p.lanes|=l,A=p.alternate,A!==null&&(A.lanes|=l),ci(p.return,l,n),T.lanes|=l;break}A=A.next}}else if(p.tag===10)b=p.type===n.type?null:p.child;else if(p.tag===18){if(b=p.return,b===null)throw Error(s(341));b.lanes|=l,T=b.alternate,T!==null&&(T.lanes|=l),ci(b,l,n),b=p.sibling}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===n){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}Yt(e,n,m.children,l),n=n.child}return n;case 9:return m=n.type,i=n.pendingProps.children,ha(n,l),m=Nn(m),i=i(m),n.flags|=1,Yt(e,n,i,l),n.child;case 14:return i=n.type,m=An(i,n.pendingProps),m=An(i.type,m),sm(e,n,i,m,l);case 15:return om(e,n,n.type,n.pendingProps,l);case 17:return i=n.type,m=n.pendingProps,m=n.elementType===i?m:An(i,m),Ps(e,n),n.tag=1,en(i)?(e=!0,ms(n)):e=!1,ha(n,l),Xd(n,i,m),Si(n,i,m,l),zi(null,n,i,!0,e,l);case 19:return fm(e,n,l);case 22:return im(e,n,l)}throw Error(s(156,n.tag))};function Fm(e,n){return xu(e,n)}function lh(e,n,l,i){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,l,i){return new lh(e,n,l,i)}function Qi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sh(e){if(typeof e=="function")return Qi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K)return 11;if(e===te)return 14}return 2}function Ir(e,n){var l=e.alternate;return l===null?(l=_n(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&14680064,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l}function Bs(e,n,l,i,m,p){var b=2;if(i=e,typeof e=="function")Qi(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case ee:return Qr(l.children,m,p,n);case se:b=8,m|=8;break;case $:return e=_n(12,l,n,m|2),e.elementType=$,e.lanes=p,e;case ve:return e=_n(13,l,n,m),e.elementType=ve,e.lanes=p,e;case re:return e=_n(19,l,n,m),e.elementType=re,e.lanes=p,e;case ie:return Us(l,m,p,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:b=10;break e;case I:b=9;break e;case K:b=11;break e;case te:b=14;break e;case Q:b=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=_n(b,l,n,m),n.elementType=e,n.type=i,n.lanes=p,n}function Qr(e,n,l,i){return e=_n(7,e,i,n),e.lanes=l,e}function Us(e,n,l,i){return e=_n(22,e,i,n),e.elementType=ie,e.lanes=l,e.stateNode={isHidden:!1},e}function Ji(e,n,l){return e=_n(6,e,null,n),e.lanes=l,e}function Yi(e,n,l){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function oh(e,n,l,i,m){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=No(0),this.expirationTimes=No(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.identifierPrefix=i,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Xi(e,n,l,i,m,p,b,T,A){return e=new oh(e,n,l,T,A),n===1?(n=1,p===!0&&(n|=8)):n=0,p=_n(3,null,null,n),e.current=p,p.stateNode=e,p.memoizedState={element:i,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},di(p),e}function ih(e,n,l){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:i==null?null:""+i,children:e,containerInfo:n,implementation:l}}function $m(e){if(!e)return wr;e=e._reactInternals;e:{if(Or(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(en(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var l=e.type;if(en(l))return pd(e,l,n)}return n}function Bm(e,n,l,i,m,p,b,T,A){return e=Xi(l,i,!0,e,m,p,b,T,A),e.context=$m(null),l=e.current,i=Xt(),m=Pr(l),p=lr(i,m),p.callback=n??null,Cr(l,p,m),e.current.lanes=m,$a(e,m,i),rn(e,i),e}function Hs(e,n,l,i){var m=n.current,p=Xt(),b=Pr(m);return l=$m(l),n.context===null?n.context=l:n.pendingContext=l,n=lr(p,b),n.payload={element:e},i=i===void 0?null:i,i!==null&&(n.callback=i),e=Cr(m,n,b),e!==null&&(jn(e,m,b,p),vs(e,m,b)),b}function Vs(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function Um(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function Zi(e,n){Um(e,n),(e=e.alternate)&&Um(e,n)}function ch(){return null}var Hm=typeof reportError=="function"?reportError:function(e){console.error(e)};function ec(e){this._internalRoot=e}qs.prototype.render=ec.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));Hs(e,n,null,null)},qs.prototype.unmount=ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Wr(function(){Hs(null,e,null,null)}),n[er]=null}};function qs(e){this._internalRoot=e}qs.prototype.unstable_scheduleHydration=function(e){if(e){var n=Cu();e={blockedOn:null,target:e,priority:n};for(var l=0;l<xr.length&&n!==0&&n<xr[l].priority;l++);xr.splice(l,0,e),l===0&&zu(e)}};function tc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ws(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vm(){}function uh(e,n,l,i,m){if(m){if(typeof i=="function"){var p=i;i=function(){var W=Vs(b);p.call(W)}}var b=Bm(n,i,e,0,null,!1,!1,"",Vm);return e._reactRootContainer=b,e[er]=b.current,el(e.nodeType===8?e.parentNode:e),Wr(),b}for(;m=e.lastChild;)e.removeChild(m);if(typeof i=="function"){var T=i;i=function(){var W=Vs(A);T.call(W)}}var A=Xi(e,0,!1,null,null,!1,!1,"",Vm);return e._reactRootContainer=A,e[er]=A.current,el(e.nodeType===8?e.parentNode:e),Wr(function(){Hs(n,A,l,i)}),A}function Ks(e,n,l,i,m){var p=l._reactRootContainer;if(p){var b=p;if(typeof m=="function"){var T=m;m=function(){var A=Vs(b);T.call(A)}}Hs(n,b,e,m)}else b=uh(l,n,e,m,i);return Vs(b)}Nu=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var l=Fa(n.pendingLanes);l!==0&&(So(n,l|1),rn(n,Ct()),(at&6)===0&&(Ea=Ct()+500,Nr()))}break;case 13:Wr(function(){var i=ar(e,1);if(i!==null){var m=Xt();jn(i,e,1,m)}}),Zi(e,1)}},Co=function(e){if(e.tag===13){var n=ar(e,134217728);if(n!==null){var l=Xt();jn(n,e,134217728,l)}Zi(e,134217728)}},Su=function(e){if(e.tag===13){var n=Pr(e),l=ar(e,n);if(l!==null){var i=Xt();jn(l,e,n,i)}Zi(e,n)}},Cu=function(){return ut},_u=function(e,n){var l=ut;try{return ut=e,n()}finally{ut=l}},Me=function(e,n,l){switch(n){case"input":if(G(e,l),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<l.length;n++){var i=l[n];if(i!==e&&i.form===e.form){var m=us(i);if(!m)throw Error(s(90));ct(i),G(i,m)}}}break;case"textarea":ke(e,l);break;case"select":n=l.value,n!=null&&We(e,!!l.multiple,n,!1)}},nt=Wi,Et=Wr;var dh={usingClientEntryPoint:!1,Events:[rl,ia,us,dt,Bt,Wi]},yl={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mh={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hu(e),e===null?null:e.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||ch,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{ql=Gs.inject(mh),Vn=Gs}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dh,an.createPortal=function(e,n){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tc(n))throw Error(s(200));return ih(e,n,null,l)},an.createRoot=function(e,n){if(!tc(e))throw Error(s(299));var l=!1,i="",m=Hm;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),n=Xi(e,1,!1,null,null,l,!1,i,m),e[er]=n.current,el(e.nodeType===8?e.parentNode:e),new ec(n)},an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=hu(n),e=e===null?null:e.stateNode,e},an.flushSync=function(e){return Wr(e)},an.hydrate=function(e,n,l){if(!Ws(n))throw Error(s(200));return Ks(null,e,n,!0,l)},an.hydrateRoot=function(e,n,l){if(!tc(e))throw Error(s(405));var i=l!=null&&l.hydratedSources||null,m=!1,p="",b=Hm;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),n=Bm(n,null,e,1,l??null,m,!1,p,b),e[er]=n.current,el(e),i)for(e=0;e<i.length;e++)l=i[e],m=l._getVersion,m=m(l._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[l,m]:n.mutableSourceEagerHydrationData.push(l,m);return new qs(n)},an.render=function(e,n,l){if(!Ws(n))throw Error(s(200));return Ks(null,e,n,!1,l)},an.unmountComponentAtNode=function(e){if(!Ws(e))throw Error(s(40));return e._reactRootContainer?(Wr(function(){Ks(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1},an.unstable_batchedUpdates=Wi,an.unstable_renderSubtreeIntoContainer=function(e,n,l,i){if(!Ws(l))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ks(e,n,l,!1,i)},an.version="18.3.1-next-f1338f8080-20240426",an}var Jm;function ap(){if(Jm)return rc.exports;Jm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),rc.exports=yh(),rc.exports}var Ym;function xh(){if(Ym)return Qs;Ym=1;var t=ap();return Qs.createRoot=t.createRoot,Qs.hydrateRoot=t.hydrateRoot,Qs}var bh=xh();const vh=uo(bh);var Xm="popstate";function Eh(t={}){function a(o,c){let{pathname:u,search:d,hash:g}=o.location;return _c("",{pathname:u,search:d,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(o,c){return typeof c=="string"?c:Il(c)}return wh(a,s,null,t)}function vt(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Un(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function kh(){return Math.random().toString(36).substring(2,10)}function Zm(t,a){return{usr:t.state,key:t.key,idx:a}}function _c(t,a,s=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?Pa(a):a,state:s,key:a&&a.key||o||kh()}}function Il({pathname:t="/",search:a="",hash:s=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Pa(t){let a={};if(t){let s=t.indexOf("#");s>=0&&(a.hash=t.substring(s),t=t.substring(0,s));let o=t.indexOf("?");o>=0&&(a.search=t.substring(o),t=t.substring(0,o)),t&&(a.pathname=t)}return a}function wh(t,a,s,o={}){let{window:c=document.defaultView,v5Compat:u=!1}=o,d=c.history,g="POP",f=null,h=y();h==null&&(h=0,d.replaceState({...d.state,idx:h},""));function y(){return(d.state||{idx:null}).idx}function x(){g="POP";let S=y(),_=S==null?null:S-h;h=S,f&&f({action:g,location:P.location,delta:_})}function k(S,_){g="PUSH";let N=_c(P.location,S,_);h=y()+1;let R=Zm(N,h),Z=P.createHref(N);try{d.pushState(R,"",Z)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;c.location.assign(Z)}u&&f&&f({action:g,location:P.location,delta:1})}function v(S,_){g="REPLACE";let N=_c(P.location,S,_);h=y();let R=Zm(N,h),Z=P.createHref(N);d.replaceState(R,"",Z),u&&f&&f({action:g,location:P.location,delta:0})}function D(S){return Nh(S)}let P={get action(){return g},get location(){return t(c,d)},listen(S){if(f)throw new Error("A history only accepts one active listener");return c.addEventListener(Xm,x),f=S,()=>{c.removeEventListener(Xm,x),f=null}},createHref(S){return a(c,S)},createURL:D,encodeLocation(S){let _=D(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:k,replace:v,go(S){return d.go(S)}};return P}function Nh(t,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),vt(s,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:Il(t);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=s+o),new URL(o,s)}function lp(t,a,s="/"){return Sh(t,a,s,!1)}function Sh(t,a,s,o){let c=typeof a=="string"?Pa(a):a,u=dr(c.pathname||"/",s);if(u==null)return null;let d=sp(t);Ch(d);let g=null;for(let f=0;g==null&&f<d.length;++f){let h=Oh(u);g=Ah(d[f],h,o)}return g}function sp(t,a=[],s=[],o="",c=!1){let u=(d,g,f=c,h)=>{let y={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(o)&&f)return;vt(y.relativePath.startsWith(o),`Absolute route path "${y.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(o.length)}let x=cr([o,y.relativePath]),k=s.concat(y);d.children&&d.children.length>0&&(vt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),sp(d.children,a,k,x,f)),!(d.path==null&&!d.index)&&a.push({path:x,score:Mh(x,d.index),routesMeta:k})};return t.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))u(d,g);else for(let f of op(d.path))u(d,g,!0,f)}),a}function op(t){let a=t.split("/");if(a.length===0)return[];let[s,...o]=a,c=s.endsWith("?"),u=s.replace(/\?$/,"");if(o.length===0)return c?[u,""]:[u];let d=op(o.join("/")),g=[];return g.push(...d.map(f=>f===""?u:[u,f].join("/"))),c&&g.push(...d),g.map(f=>t.startsWith("/")&&f===""?"/":f)}function Ch(t){t.sort((a,s)=>a.score!==s.score?s.score-a.score:Rh(a.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}var _h=/^:[\w-]+$/,Th=3,zh=2,Ph=1,Lh=10,Ih=-2,eg=t=>t==="*";function Mh(t,a){let s=t.split("/"),o=s.length;return s.some(eg)&&(o+=Ih),a&&(o+=zh),s.filter(c=>!eg(c)).reduce((c,u)=>c+(_h.test(u)?Th:u===""?Ph:Lh),o)}function Rh(t,a){return t.length===a.length&&t.slice(0,-1).every((o,c)=>o===a[c])?t[t.length-1]-a[a.length-1]:0}function Ah(t,a,s=!1){let{routesMeta:o}=t,c={},u="/",d=[];for(let g=0;g<o.length;++g){let f=o[g],h=g===o.length-1,y=u==="/"?a:a.slice(u.length)||"/",x=oo({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},y),k=f.route;if(!x&&h&&s&&!o[o.length-1].route.index&&(x=oo({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!x)return null;Object.assign(c,x.params),d.push({params:c,pathname:cr([u,x.pathname]),pathnameBase:Bh(cr([u,x.pathnameBase])),route:k}),x.pathnameBase!=="/"&&(u=cr([u,x.pathnameBase]))}return d}function oo(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,o]=Dh(t.path,t.caseSensitive,t.end),c=a.match(s);if(!c)return null;let u=c[0],d=u.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:o.reduce((h,{paramName:y,isOptional:x},k)=>{if(y==="*"){let D=g[k]||"";d=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const v=g[k];return x&&!v?h[y]=void 0:h[y]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:d,pattern:t}}function Dh(t,a=!1,s=!0){Un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],c="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,f)=>(o.push({paramName:g,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),c+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":t!==""&&t!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),o]}function Oh(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function dr(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,o=t.charAt(s);return o&&o!=="/"?null:t.slice(s)||"/"}var jh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Fh(t,a="/"){let{pathname:s,search:o="",hash:c=""}=typeof t=="string"?Pa(t):t,u;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?u=tg(s.substring(1),"/"):u=tg(s,a)):u=a,{pathname:u,search:Uh(o),hash:Hh(c)}}function tg(t,a){let s=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function sc(t,a,s,o){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $h(t){return t.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function qc(t){let a=$h(t);return a.map((s,o)=>o===a.length-1?s.pathname:s.pathnameBase)}function Wc(t,a,s,o=!1){let c;typeof t=="string"?c=Pa(t):(c={...t},vt(!c.pathname||!c.pathname.includes("?"),sc("?","pathname","search",c)),vt(!c.pathname||!c.pathname.includes("#"),sc("#","pathname","hash",c)),vt(!c.search||!c.search.includes("#"),sc("#","search","hash",c)));let u=t===""||c.pathname==="",d=u?"/":c.pathname,g;if(d==null)g=s;else{let x=a.length-1;if(!o&&d.startsWith("..")){let k=d.split("/");for(;k[0]==="..";)k.shift(),x-=1;c.pathname=k.join("/")}g=x>=0?a[x]:"/"}let f=Fh(c,g),h=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&s.endsWith("/");return!f.pathname.endsWith("/")&&(h||y)&&(f.pathname+="/"),f}var cr=t=>t.join("/").replace(/\/\/+/g,"/"),Bh=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Uh=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Hh=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Vh=class{constructor(t,a,s,o=!1){this.status=t,this.statusText=a||"",this.internal=o,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function qh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Wh(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ip=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cp(t,a){let s=t;if(typeof s!="string"||!jh.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let o=s,c=!1;if(ip)try{let u=new URL(window.location.href),d=s.startsWith("//")?new URL(u.protocol+s):new URL(s),g=dr(d.pathname,a);d.origin===u.origin&&g!=null?s=g+d.search+d.hash:c=!0}catch{Un(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:c,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var up=["POST","PUT","PATCH","DELETE"];new Set(up);var Kh=["GET",...up];new Set(Kh);var La=E.createContext(null);La.displayName="DataRouter";var mo=E.createContext(null);mo.displayName="DataRouterState";var Gh=E.createContext(!1),dp=E.createContext({isTransitioning:!1});dp.displayName="ViewTransition";var Qh=E.createContext(new Map);Qh.displayName="Fetchers";var Jh=E.createContext(null);Jh.displayName="Await";var En=E.createContext(null);En.displayName="Navigation";var Dl=E.createContext(null);Dl.displayName="Location";var Hn=E.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var Kc=E.createContext(null);Kc.displayName="RouteError";var mp="REACT_ROUTER_ERROR",Yh="REDIRECT",Xh="ROUTE_ERROR_RESPONSE";function Zh(t){if(t.startsWith(`${mp}:${Yh}:{`))try{let a=JSON.parse(t.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function ey(t){if(t.startsWith(`${mp}:${Xh}:{`))try{let a=JSON.parse(t.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Vh(a.status,a.statusText,a.data)}catch{}}function ty(t,{relative:a}={}){vt(Ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=E.useContext(En),{hash:c,pathname:u,search:d}=Ol(t,{relative:a}),g=u;return s!=="/"&&(g=u==="/"?s:cr([s,u])),o.createHref({pathname:g,search:d,hash:c})}function Ia(){return E.useContext(Dl)!=null}function gr(){return vt(Ia(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Dl).location}var gp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pp(t){E.useContext(En).static||E.useLayoutEffect(t)}function Ar(){let{isDataRoute:t}=E.useContext(Hn);return t?hy():ny()}function ny(){vt(Ia(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(La),{basename:a,navigator:s}=E.useContext(En),{matches:o}=E.useContext(Hn),{pathname:c}=gr(),u=JSON.stringify(qc(o)),d=E.useRef(!1);return pp(()=>{d.current=!0}),E.useCallback((f,h={})=>{if(Un(d.current,gp),!d.current)return;if(typeof f=="number"){s.go(f);return}let y=Wc(f,JSON.parse(u),c,h.relative==="path");t==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:cr([a,y.pathname])),(h.replace?s.replace:s.push)(y,h.state,h)},[a,s,u,c,t])}var ry=E.createContext(null);function ay(t){let a=E.useContext(Hn).outlet;return E.useMemo(()=>a&&E.createElement(ry.Provider,{value:t},a),[a,t])}function Ol(t,{relative:a}={}){let{matches:s}=E.useContext(Hn),{pathname:o}=gr(),c=JSON.stringify(qc(s));return E.useMemo(()=>Wc(t,JSON.parse(c),o,a==="path"),[t,c,o,a])}function ly(t,a){return fp(t,a)}function fp(t,a,s,o,c){vt(Ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=E.useContext(En),{matches:d}=E.useContext(Hn),g=d[d.length-1],f=g?g.params:{},h=g?g.pathname:"/",y=g?g.pathnameBase:"/",x=g&&g.route;{let N=x&&x.path||"";yp(h,!x||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let k=gr(),v;if(a){let N=typeof a=="string"?Pa(a):a;vt(y==="/"||N.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${N.pathname}" was given in the \`location\` prop.`),v=N}else v=k;let D=v.pathname||"/",P=D;if(y!=="/"){let N=y.replace(/^\//,"").split("/");P="/"+D.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=lp(t,{pathname:P});Un(x||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Un(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=uy(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:cr([y,u.encodeLocation?u.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?y:cr([y,u.encodeLocation?u.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),d,s,o,c);return a&&_?E.createElement(Dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function sy(){let t=fy(),a=qh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:u},"ErrorBoundary")," or"," ",E.createElement("code",{style:u},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},a),s?E.createElement("pre",{style:c},s):null,d)}var oy=E.createElement(sy,null),hp=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const s=ey(t.digest);s&&(t=s)}let a=t!==void 0?E.createElement(Hn.Provider,{value:this.props.routeContext},E.createElement(Kc.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?E.createElement(iy,{error:t},a):a}};hp.contextType=Gh;var oc=new WeakMap;function iy({children:t,error:a}){let{basename:s}=E.useContext(En);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let o=Zh(a.digest);if(o){let c=oc.get(a);if(c)throw c;let u=cp(o.location,s);if(ip&&!oc.get(a))if(u.isExternal||o.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:o.replace}));throw oc.set(a,d),d}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return t}function cy({routeContext:t,match:a,children:s}){let o=E.useContext(La);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),E.createElement(Hn.Provider,{value:t},s)}function uy(t,a=[],s=null,o=null,c=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let u=t,d=s?.errors;if(d!=null){let y=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);vt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let g=!1,f=-1;if(s)for(let y=0;y<u.length;y++){let x=u[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=y),x.route.id){let{loaderData:k,errors:v}=s,D=x.route.loader&&!k.hasOwnProperty(x.route.id)&&(!v||v[x.route.id]===void 0);if(x.route.lazy||D){g=!0,f>=0?u=u.slice(0,f+1):u=[u[0]];break}}}let h=s&&o?(y,x)=>{o(y,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:Wh(s.matches),errorInfo:x})}:void 0;return u.reduceRight((y,x,k)=>{let v,D=!1,P=null,S=null;s&&(v=d&&x.route.id?d[x.route.id]:void 0,P=x.route.errorElement||oy,g&&(f<0&&k===0?(yp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,S=null):f===k&&(D=!0,S=x.route.hydrateFallbackElement||null)));let _=a.concat(u.slice(0,k+1)),N=()=>{let R;return v?R=P:D?R=S:x.route.Component?R=E.createElement(x.route.Component,null):x.route.element?R=x.route.element:R=y,E.createElement(cy,{match:x,routeContext:{outlet:y,matches:_,isDataRoute:s!=null},children:R})};return s&&(x.route.ErrorBoundary||x.route.errorElement||k===0)?E.createElement(hp,{location:s.location,revalidation:s.revalidation,component:P,error:v,children:N(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:h}):N()},null)}function Gc(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dy(t){let a=E.useContext(La);return vt(a,Gc(t)),a}function my(t){let a=E.useContext(mo);return vt(a,Gc(t)),a}function gy(t){let a=E.useContext(Hn);return vt(a,Gc(t)),a}function Qc(t){let a=gy(t),s=a.matches[a.matches.length-1];return vt(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function py(){return Qc("useRouteId")}function fy(){let t=E.useContext(Kc),a=my("useRouteError"),s=Qc("useRouteError");return t!==void 0?t:a.errors?.[s]}function hy(){let{router:t}=dy("useNavigate"),a=Qc("useNavigate"),s=E.useRef(!1);return pp(()=>{s.current=!0}),E.useCallback(async(c,u={})=>{Un(s.current,gp),s.current&&(typeof c=="number"?await t.navigate(c):await t.navigate(c,{fromRouteId:a,...u}))},[t,a])}var ng={};function yp(t,a,s){!a&&!ng[t]&&(ng[t]=!0,Un(!1,s))}E.memo(yy);function yy({routes:t,future:a,state:s,onError:o}){return fp(t,void 0,s,o,a)}function Tc({to:t,replace:a,state:s,relative:o}){vt(Ia(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=E.useContext(En);Un(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=E.useContext(Hn),{pathname:d}=gr(),g=Ar(),f=Wc(t,qc(u),d,o==="path"),h=JSON.stringify(f);return E.useEffect(()=>{g(JSON.parse(h),{replace:a,state:s,relative:o})},[g,h,o,a,s]),null}function xy(t){return ay(t.context)}function yn(t){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function by({basename:t="/",children:a=null,location:s,navigationType:o="POP",navigator:c,static:u=!1,unstable_useTransitions:d}){vt(!Ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=t.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:g,navigator:c,static:u,unstable_useTransitions:d,future:{}}),[g,c,u,d]);typeof s=="string"&&(s=Pa(s));let{pathname:h="/",search:y="",hash:x="",state:k=null,key:v="default"}=s,D=E.useMemo(()=>{let P=dr(h,g);return P==null?null:{location:{pathname:P,search:y,hash:x,state:k,key:v},navigationType:o}},[g,h,y,x,k,v,o]);return Un(D!=null,`<Router basename="${g}"> is not able to match the URL "${h}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:E.createElement(En.Provider,{value:f},E.createElement(Dl.Provider,{children:a,value:D}))}function vy({children:t,location:a}){return ly(zc(t),a)}function zc(t,a=[]){let s=[];return E.Children.forEach(t,(o,c)=>{if(!E.isValidElement(o))return;let u=[...a,c];if(o.type===E.Fragment){s.push.apply(s,zc(o.props.children,u));return}vt(o.type===yn,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=zc(o.props.children,u)),s.push(d)}),s}var ro="get",ao="application/x-www-form-urlencoded";function go(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Ey(t){return go(t)&&t.tagName.toLowerCase()==="button"}function ky(t){return go(t)&&t.tagName.toLowerCase()==="form"}function wy(t){return go(t)&&t.tagName.toLowerCase()==="input"}function Ny(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Sy(t,a){return t.button===0&&(!a||a==="_self")&&!Ny(t)}var Js=null;function Cy(){if(Js===null)try{new FormData(document.createElement("form"),0),Js=!1}catch{Js=!0}return Js}var _y=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ic(t){return t!=null&&!_y.has(t)?(Un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ao}"`),null):t}function Ty(t,a){let s,o,c,u,d;if(ky(t)){let g=t.getAttribute("action");o=g?dr(g,a):null,s=t.getAttribute("method")||ro,c=ic(t.getAttribute("enctype"))||ao,u=new FormData(t)}else if(Ey(t)||wy(t)&&(t.type==="submit"||t.type==="image")){let g=t.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||g.getAttribute("action");if(o=f?dr(f,a):null,s=t.getAttribute("formmethod")||g.getAttribute("method")||ro,c=ic(t.getAttribute("formenctype"))||ic(g.getAttribute("enctype"))||ao,u=new FormData(g,t),!Cy()){let{name:h,type:y,value:x}=t;if(y==="image"){let k=h?`${h}.`:"";u.append(`${k}x`,"0"),u.append(`${k}y`,"0")}else h&&u.append(h,x)}}else{if(go(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=ro,o=null,c=ao,d=t}return u&&c==="text/plain"&&(d=u,u=void 0),{action:o,method:s.toLowerCase(),encType:c,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jc(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function zy(t,a,s,o){let c=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${o}`:c.pathname=`${c.pathname}.${o}`:c.pathname==="/"?c.pathname=`_root.${o}`:a&&dr(c.pathname,a)==="/"?c.pathname=`${a.replace(/\/$/,"")}/_root.${o}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${o}`,c}async function Py(t,a){if(t.id in a)return a[t.id];try{let s=await import(t.module);return a[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ly(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Iy(t,a,s){let o=await Promise.all(t.map(async c=>{let u=a.routes[c.route.id];if(u){let d=await Py(u,s);return d.links?d.links():[]}return[]}));return Dy(o.flat(1).filter(Ly).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function rg(t,a,s,o,c,u){let d=(f,h)=>s[h]?f.route.id!==s[h].route.id:!0,g=(f,h)=>s[h].pathname!==f.pathname||s[h].route.path?.endsWith("*")&&s[h].params["*"]!==f.params["*"];return u==="assets"?a.filter((f,h)=>d(f,h)||g(f,h)):u==="data"?a.filter((f,h)=>{let y=o.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(d(f,h)||g(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function My(t,a,{includeHydrateFallback:s}={}){return Ry(t.map(o=>{let c=a.routes[o.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function Ry(t){return[...new Set(t)]}function Ay(t){let a={},s=Object.keys(t).sort();for(let o of s)a[o]=t[o];return a}function Dy(t,a){let s=new Set;return new Set(a),t.reduce((o,c)=>{let u=JSON.stringify(Ay(c));return s.has(u)||(s.add(u),o.push({key:u,link:c})),o},[])}function xp(){let t=E.useContext(La);return Jc(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Oy(){let t=E.useContext(mo);return Jc(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Yc=E.createContext(void 0);Yc.displayName="FrameworkContext";function bp(){let t=E.useContext(Yc);return Jc(t,"You must render this element inside a <HydratedRouter> element"),t}function jy(t,a){let s=E.useContext(Yc),[o,c]=E.useState(!1),[u,d]=E.useState(!1),{onFocus:g,onBlur:f,onMouseEnter:h,onMouseLeave:y,onTouchStart:x}=a,k=E.useRef(null);E.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let P=_=>{_.forEach(N=>{d(N.isIntersecting)})},S=new IntersectionObserver(P,{threshold:.5});return k.current&&S.observe(k.current),()=>{S.disconnect()}}},[t]),E.useEffect(()=>{if(o){let P=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(P)}}},[o]);let v=()=>{c(!0)},D=()=>{c(!1),d(!1)};return s?t!=="intent"?[u,k,{}]:[u,k,{onFocus:xl(g,v),onBlur:xl(f,D),onMouseEnter:xl(h,v),onMouseLeave:xl(y,D),onTouchStart:xl(x,v)}]:[!1,k,{}]}function xl(t,a){return s=>{t&&t(s),s.defaultPrevented||a(s)}}function Fy({page:t,...a}){let{router:s}=xp(),o=E.useMemo(()=>lp(s.routes,t,s.basename),[s.routes,t,s.basename]);return o?E.createElement(By,{page:t,matches:o,...a}):null}function $y(t){let{manifest:a,routeModules:s}=bp(),[o,c]=E.useState([]);return E.useEffect(()=>{let u=!1;return Iy(t,a,s).then(d=>{u||c(d)}),()=>{u=!0}},[t,a,s]),o}function By({page:t,matches:a,...s}){let o=gr(),{future:c,manifest:u,routeModules:d}=bp(),{basename:g}=xp(),{loaderData:f,matches:h}=Oy(),y=E.useMemo(()=>rg(t,a,h,u,o,"data"),[t,a,h,u,o]),x=E.useMemo(()=>rg(t,a,h,u,o,"assets"),[t,a,h,u,o]),k=E.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let P=new Set,S=!1;if(a.forEach(N=>{let R=u.routes[N.route.id];!R||!R.hasLoader||(!y.some(Z=>Z.route.id===N.route.id)&&N.route.id in f&&d[N.route.id]?.shouldRevalidate||R.hasClientLoader?S=!0:P.add(N.route.id))}),P.size===0)return[];let _=zy(t,g,c.unstable_trailingSlashAwareDataRequests,"data");return S&&P.size>0&&_.searchParams.set("_routes",a.filter(N=>P.has(N.route.id)).map(N=>N.route.id).join(",")),[_.pathname+_.search]},[g,c.unstable_trailingSlashAwareDataRequests,f,o,u,y,a,t,d]),v=E.useMemo(()=>My(x,u),[x,u]),D=$y(x);return E.createElement(E.Fragment,null,k.map(P=>E.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...s})),v.map(P=>E.createElement("link",{key:P,rel:"modulepreload",href:P,...s})),D.map(({key:P,link:S})=>E.createElement("link",{key:P,nonce:s.nonce,...S,crossOrigin:S.crossOrigin??s.crossOrigin})))}function Uy(...t){return a=>{t.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var Hy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hy&&(window.__reactRouterVersion="7.13.0")}catch{}function Vy({basename:t,children:a,unstable_useTransitions:s,window:o}){let c=E.useRef();c.current==null&&(c.current=Eh({window:o,v5Compat:!0}));let u=c.current,[d,g]=E.useState({action:u.action,location:u.location}),f=E.useCallback(h=>{s===!1?g(h):E.startTransition(()=>g(h))},[s]);return E.useLayoutEffect(()=>u.listen(f),[u,f]),E.createElement(by,{basename:t,children:a,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:s})}var vp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,po=E.forwardRef(function({onClick:a,discover:s="render",prefetch:o="none",relative:c,reloadDocument:u,replace:d,state:g,target:f,to:h,preventScrollReset:y,viewTransition:x,unstable_defaultShouldRevalidate:k,...v},D){let{basename:P,unstable_useTransitions:S}=E.useContext(En),_=typeof h=="string"&&vp.test(h),N=cp(h,P);h=N.to;let R=ty(h,{relative:c}),[Z,X,M]=jy(o,v),ee=Gy(h,{replace:d,state:g,target:f,preventScrollReset:y,relative:c,viewTransition:x,unstable_defaultShouldRevalidate:k,unstable_useTransitions:S});function se(L){a&&a(L),L.defaultPrevented||ee(L)}let $=E.createElement("a",{...v,...M,href:N.absoluteURL||R,onClick:N.isExternal||u?a:se,ref:Uy(D,X),target:f,"data-discover":!_&&s==="render"?"true":void 0});return Z&&!_?E.createElement(E.Fragment,null,$,E.createElement(Fy,{page:R})):$});po.displayName="Link";var qy=E.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:o="",end:c=!1,style:u,to:d,viewTransition:g,children:f,...h},y){let x=Ol(d,{relative:h.relative}),k=gr(),v=E.useContext(mo),{navigator:D,basename:P}=E.useContext(En),S=v!=null&&Zy(x)&&g===!0,_=D.encodeLocation?D.encodeLocation(x).pathname:x.pathname,N=k.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(N=N.toLowerCase(),R=R?R.toLowerCase():null,_=_.toLowerCase()),R&&P&&(R=dr(R,P)||R);const Z=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let X=N===_||!c&&N.startsWith(_)&&N.charAt(Z)==="/",M=R!=null&&(R===_||!c&&R.startsWith(_)&&R.charAt(_.length)==="/"),ee={isActive:X,isPending:M,isTransitioning:S},se=X?a:void 0,$;typeof o=="function"?$=o(ee):$=[o,X?"active":null,M?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(ee):u;return E.createElement(po,{...h,"aria-current":se,className:$,ref:y,style:L,to:d,viewTransition:g},typeof f=="function"?f(ee):f)});qy.displayName="NavLink";var Wy=E.forwardRef(({discover:t="render",fetcherKey:a,navigate:s,reloadDocument:o,replace:c,state:u,method:d=ro,action:g,onSubmit:f,relative:h,preventScrollReset:y,viewTransition:x,unstable_defaultShouldRevalidate:k,...v},D)=>{let{unstable_useTransitions:P}=E.useContext(En),S=Yy(),_=Xy(g,{relative:h}),N=d.toLowerCase()==="get"?"get":"post",R=typeof g=="string"&&vp.test(g),Z=X=>{if(f&&f(X),X.defaultPrevented)return;X.preventDefault();let M=X.nativeEvent.submitter,ee=M?.getAttribute("formmethod")||d,se=()=>S(M||X.currentTarget,{fetcherKey:a,method:ee,navigate:s,replace:c,state:u,relative:h,preventScrollReset:y,viewTransition:x,unstable_defaultShouldRevalidate:k});P&&s!==!1?E.startTransition(()=>se()):se()};return E.createElement("form",{ref:D,method:N,action:_,onSubmit:o?f:Z,...v,"data-discover":!R&&t==="render"?"true":void 0})});Wy.displayName="Form";function Ky(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ep(t){let a=E.useContext(La);return vt(a,Ky(t)),a}function Gy(t,{target:a,replace:s,state:o,preventScrollReset:c,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:f}={}){let h=Ar(),y=gr(),x=Ol(t,{relative:u});return E.useCallback(k=>{if(Sy(k,a)){k.preventDefault();let v=s!==void 0?s:Il(y)===Il(x),D=()=>h(t,{replace:v,state:o,preventScrollReset:c,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:g});f?E.startTransition(()=>D()):D()}},[y,h,x,s,o,a,t,c,u,d,g,f])}var Qy=0,Jy=()=>`__${String(++Qy)}__`;function Yy(){let{router:t}=Ep("useSubmit"),{basename:a}=E.useContext(En),s=py(),o=t.fetch,c=t.navigate;return E.useCallback(async(u,d={})=>{let{action:g,method:f,encType:h,formData:y,body:x}=Ty(u,a);if(d.navigate===!1){let k=d.fetcherKey||Jy();await o(k,s,d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:x,formMethod:d.method||f,formEncType:d.encType||h,flushSync:d.flushSync})}else await c(d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:x,formMethod:d.method||f,formEncType:d.encType||h,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[o,c,a,s])}function Xy(t,{relative:a}={}){let{basename:s}=E.useContext(En),o=E.useContext(Hn);vt(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),u={...Ol(t||".",{relative:a})},d=gr();if(t==null){u.search=d.search;let g=new URLSearchParams(u.search),f=g.getAll("index");if(f.some(y=>y==="")){g.delete("index"),f.filter(x=>x).forEach(x=>g.append("index",x));let y=g.toString();u.search=y?`?${y}`:""}}return(!t||t===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:cr([s,u.pathname])),Il(u)}function Zy(t,{relative:a}={}){let s=E.useContext(dp);vt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Ep("useViewTransitionState"),c=Ol(t,{relative:a});if(!s.isTransitioning)return!1;let u=dr(s.currentLocation.pathname,o)||s.currentLocation.pathname,d=dr(s.nextLocation.pathname,o)||s.nextLocation.pathname;return oo(c.pathname,d)!=null||oo(c.pathname,u)!=null}var jl=ap();const xe="http://localhost:8000/api/v1",ex=3e4,ag=3e5,Se=()=>{const t=localStorage.getItem("rag_token");return t?{Authorization:`Bearer ${t}`}:{}};class $n extends Error{constructor(a,s,o=null){super(a),this.name="ApiError",this.status=s,this.detail=o}}const je=async t=>{if(t.status===401)throw localStorage.removeItem("rag_token"),window.location.href="/login",new $n(" .  .",401);if(t.status===429){const o=t.headers.get("Retry-After")||"60";throw new $n(`  . ${o}   .`,429,{retryAfter:parseInt(o)})}if(t.status===413)throw new $n("   .",413);let a=`  (${t.status})`,s=null;try{const o=await t.json();a=o.detail||a,s=o}catch{}throw new $n(a,t.status,s)},Ne=async(t,a,s=ex)=>{const o=new AbortController,c=setTimeout(()=>o.abort(),s);try{const u=await fetch(t,{...a,signal:o.signal});return clearTimeout(c),u}catch(u){throw clearTimeout(c),u.name==="AbortError"?new $n("  .",408):new $n(navigator.onLine?"   .":"  .",0)}},tx=async({query:t,model:a,kb_ids:s,use_rag:o,web_search:c,use_deep_think:u,active_mcp_ids:d,system_prompt:g,history:f,top_k:h,use_rerank:y,search_provider:x,search_mode:k,images:v,use_sql:D,db_connection_id:P,use_multimodal_search:S},_,N,R)=>{try{const Z=await fetch(`${xe}/chat/stream`,{method:"POST",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify({message:t,kb_ids:s&&s.length>0?s:["default_kb"],model:a,system_prompt:g||null,history:f||[],use_rag:o!==!1,use_web_search:c||!1,use_deep_think:u||!1,active_mcp_ids:d||[],top_k:h||null,use_rerank:y||!1,search_provider:x||null,search_mode:k||"hybrid",images:v||[],use_sql:D||!1,db_connection_id:P||null,use_multimodal_search:S||!1}),signal:R?.signal});Z.ok||await je(Z);const X=Z.body.getReader(),M=new TextDecoder;let ee="";for(;;){const{done:se,value:$}=await X.read();if(se)break;ee+=M.decode($,{stream:!0});const L=ee.split(`
`);ee=L.pop();for(const I of L)if(I.trim())try{const K=I.startsWith('"')&&I.endsWith('"')?JSON.parse(I):I,ve=typeof K=="object"?K:JSON.parse(K);_(ve)}catch{}}N&&N()}catch(Z){if(Z.name==="AbortError"){N&&N();return}const X=Z instanceof $n?Z.message:"  .";_({type:"content",content:`
[] ${X}`}),N&&N()}},nx=async t=>{const a=new FormData;a.append("file",t);const s=await Ne(`${xe}/chat/extract-text`,{method:"POST",headers:{...Se()},body:a},6e4);return s.ok||await je(s),await s.json()},kp=async(t,a,s=null)=>{const o=new FormData;if(o.append("file",t),o.append("kb_id",a||"default_kb"),s)return new Promise((u,d)=>{const g=new XMLHttpRequest;g.upload.addEventListener("progress",h=>{if(h.lengthComputable){const y=Math.round(h.loaded/h.total*100);s(y)}}),g.addEventListener("load",async()=>{if(g.status>=200&&g.status<300)try{const h=JSON.parse(g.responseText);u(h)}catch{u({success:!0})}else{let h=`  (${g.status})`;try{h=JSON.parse(g.responseText).detail||h}catch{}d(new $n(h,g.status))}}),g.addEventListener("error",()=>{d(new $n("  .",0))}),g.addEventListener("timeout",()=>{d(new $n("  .",408))}),g.addEventListener("abort",()=>{d(new $n(" .",0))}),g.open("POST",`${xe}/knowledge/upload`),g.timeout=ag;const f=localStorage.getItem("rag_token");f&&g.setRequestHeader("Authorization",`Bearer ${f}`),g.send(o)});const c=await Ne(`${xe}/knowledge/upload`,{method:"POST",headers:{...Se()},body:o},ag);return c.ok||await je(c),await c.json()},sn={upload:kp,listBases:async()=>{try{const t=await Ne(`${xe}/knowledge/bases`,{method:"GET",headers:{...Se()}});return t.ok?await t.json():{bases:[]}}catch{return{bases:[]}}},createBase:async t=>{const a=await Ne(`${xe}/knowledge/bases`,{method:"POST",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},updateBase:async(t,a)=>{const s=await Ne(`${xe}/knowledge/bases/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},deleteBase:async t=>{const a=await Ne(`${xe}/knowledge/bases/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Se()}});return a.ok||await je(a),await a.json()},getFiles:async t=>{const a=await Ne(`${xe}/knowledge/${t}/files`,{method:"GET",headers:{...Se()}});return a.ok||await je(a),await a.json()},getGraph:async t=>{try{const a=await Ne(`${xe}/knowledge/graph?kb_id=${encodeURIComponent(t||"default_kb")}`,{method:"GET",headers:{...Se()}});return a.ok||await je(a),await a.json()}catch(a){return{nodes:[],edges:[],error:a.message}}},deleteFile:async(t,a)=>{const s=await Ne(`${xe}/knowledge/${t}/files/${a}`,{method:"DELETE",headers:{...Se()}});return s.ok||await je(s),await s.json()},deleteFileChunks:async(t,a)=>{const s=new URLSearchParams({source:a}),o=await Ne(`${xe}/knowledge/${encodeURIComponent(t)}/files?${s}`,{method:"DELETE",headers:{...Se()}});return o.ok||await je(o),await o.json()},getFilesList:async t=>{try{const a=await Ne(`${xe}/knowledge/${encodeURIComponent(t)}/files`,{method:"GET",headers:{...Se()}});return a.ok?await a.json():{files:[]}}catch{return{files:[]}}},getChunks:async(t,a=null,s=20,o=null,c=null)=>{const u=new URLSearchParams;a!==null&&u.append("offset",a),u.append("limit",s),o&&u.append("search",o),c&&u.append("source",c);try{const d=await Ne(`${xe}/knowledge/${encodeURIComponent(t)}/chunks?${u}`,{method:"GET",headers:{...Se()}});return d.ok||await je(d),await d.json()}catch{return{chunks:[],total:0,next_offset:null,kb_id:t}}},getStats:async t=>{try{const a=await Ne(`${xe}/knowledge/${encodeURIComponent(t)}/stats`,{method:"GET",headers:{...Se()}});return a.ok?await a.json():null}catch{return null}},createNode:async(t,a)=>{const s=await Ne(`${xe}/knowledge/graph/nodes?kb_id=${encodeURIComponent(t||"default_kb")}`,{method:"POST",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},updateNode:async(t,a)=>{const s=await Ne(`${xe}/knowledge/graph/nodes/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},deleteNode:async t=>{const a=await Ne(`${xe}/knowledge/graph/nodes/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Se()}});return a.ok||await je(a),await a.json()},createEdge:async(t,a)=>{const s=await Ne(`${xe}/knowledge/graph/edges?kb_id=${encodeURIComponent(t||"default_kb")}`,{method:"POST",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},deleteEdge:async t=>{const a=await Ne(`${xe}/knowledge/graph/edges/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Se()}});return a.ok||await je(a),await a.json()}},wp={check:async()=>{try{const t=await Ne(`${xe.replace("/api/v1","")}/health`,{method:"GET"},5e3);return t.ok?await t.json():{status:"unhealthy",error:`HTTP ${t.status}`}}catch(t){return{status:"unreachable",error:t.message}}},testService:async t=>{try{const a=await Ne(`${xe.replace("/api/v1","")}/health/${t}`,{method:"GET"},1e4);return a.ok?await a.json():{status:"disconnected",service:t,detail:`HTTP ${a.status}`}}catch(a){return{status:"disconnected",service:t,detail:a.message}}}},Rt={getConfig:async()=>{try{const t=await Ne(`${xe}/settings/config`,{method:"GET",headers:{...Se()}});return t.ok?await t.json():null}catch(t){return console.error("Failed to load backend config:",t),null}},getUserSettings:async()=>{try{const t=await Ne(`${xe}/settings/user`,{method:"GET",headers:{...Se()}});return t.ok?await t.json():null}catch{return null}},updateUserSettings:async t=>{try{const a=await Ne(`${xe}/settings/user`,{method:"PUT",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify(t)});return a.ok?await a.json():null}catch{return null}},saveApiKey:async(t,a)=>{const s=await Ne(`${xe}/settings/api-keys`,{method:"POST",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify({provider:t,key:a})});return s.ok||await je(s),await s.json()},getApiKeys:async()=>{try{const t=await Ne(`${xe}/settings/api-keys`,{method:"GET",headers:{...Se()}});return t.ok?await t.json():{keys:[]}}catch{return{keys:[]}}},deleteApiKey:async t=>{const a=await Ne(`${xe}/settings/api-keys/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Se()}});return a.ok||await je(a),await a.json()},getOllamaModels:async()=>{try{const t=await Ne(`${xe}/settings/ollama-models`,{method:"GET",headers:{...Se()}});return t.ok?await t.json():{models:[],error:"Failed to fetch models"}}catch(t){return console.error("Failed to fetch Ollama models:",t),{models:[],error:t.message}}},getAvailableModels:async()=>{try{const t=await Ne(`${xe}/settings/available-models`,{method:"GET",headers:{...Se()}});return t.ok?await t.json():{models:[],error:"Failed to fetch models"}}catch(t){return console.error("Failed to fetch available models:",t),{models:[],error:t.message}}},getDbConnections:async()=>{try{const t=await Ne(`${xe}/settings/db-connections`,{method:"GET",headers:{...Se()}});return t.ok?await t.json():{connections:[]}}catch{return{connections:[]}}},addDbConnection:async t=>{const a=await Ne(`${xe}/settings/db-connections`,{method:"POST",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},deleteDbConnection:async t=>{const a=await Ne(`${xe}/settings/db-connections/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Se()}});return a.ok||await je(a),await a.json()},testDbConnection:async t=>{try{const a=await Ne(`${xe}/settings/db-connections/${encodeURIComponent(t)}/test`,{method:"POST",headers:{...Se()}},1e4);return a.ok?await a.json():{status:"disconnected",detail:`HTTP ${a.status}`}}catch(a){return{status:"disconnected",detail:a.message}}},getDbSchema:async t=>{try{const a=await Ne(`${xe}/settings/db-connections/${encodeURIComponent(t)}/schema`,{method:"GET",headers:{...Se()}});return a.ok?await a.json():{tables:[]}}catch(a){return{tables:[],error:a.message}}},updateDbMetadata:async(t,a)=>{try{const s=await Ne(`${xe}/settings/db-connections/${encodeURIComponent(t)}/metadata`,{method:"PUT",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify({schema_metadata:a})});if(!s.ok)throw new Error("  ");return await s.json()}catch(s){return{error:s.message}}}},rx={list:async()=>{try{const t=await Ne(`${xe}/agents`,{method:"GET",headers:{...Se()}});return t.ok?await t.json():{agents:[]}}catch{return{agents:[]}}},create:async t=>{const a=await Ne(`${xe}/agents`,{method:"POST",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},update:async(t,a)=>{const s=await Ne(`${xe}/agents/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},delete:async t=>{const a=await Ne(`${xe}/agents/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Se()}});return a.ok||await je(a),await a.json()}},bl={list:async(t=50,a=0)=>{try{const s=await Ne(`${xe}/sessions?limit=${t}&offset=${a}`,{method:"GET",headers:{...Se()}});return s.ok?await s.json():{sessions:[]}}catch{return{sessions:[]}}},create:async t=>{const a=await Ne(`${xe}/sessions`,{method:"POST",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},get:async t=>{const a=await Ne(`${xe}/sessions/${encodeURIComponent(t)}`,{method:"GET",headers:{...Se()}});return a.ok||await je(a),await a.json()},update:async(t,a)=>{const s=await Ne(`${xe}/sessions/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},delete:async t=>{const a=await Ne(`${xe}/sessions/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Se()}});return a.ok||await je(a),await a.json()},addMessage:async(t,a)=>{const s=await Ne(`${xe}/sessions/${encodeURIComponent(t)}/messages`,{method:"POST",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},getMessages:async(t,a=100,s=0)=>{try{const o=await Ne(`${xe}/sessions/${encodeURIComponent(t)}/messages?limit=${a}&offset=${s}`,{method:"GET",headers:{...Se()}});return o.ok?await o.json():{messages:[]}}catch{return{messages:[]}}}},ax={list:async()=>{try{const t=await Ne(`${xe}/services`,{method:"GET",headers:{...Se()}});return t.ok?await t.json():{services:[]}}catch{return{services:[]}}},create:async t=>{const a=await Ne(`${xe}/services`,{method:"POST",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},update:async(t,a)=>{const s=await Ne(`${xe}/services/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},delete:async t=>{const a=await Ne(`${xe}/services/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Se()}});return a.ok||await je(a),await a.json()},test:async t=>{try{const a=await Ne(`${xe}/services/${encodeURIComponent(t)}/test`,{method:"POST",headers:{...Se()}},1e4);return a.ok?await a.json():{status:"disconnected",detail:`HTTP ${a.status}`}}catch(a){return{status:"disconnected",detail:a.message}}}},cc={list:async()=>{const t=await Ne(`${xe}/settings/mcp-servers`,{headers:{...Se(),"Content-Type":"application/json"}});return t.ok||await je(t),await t.json()},create:async t=>{const a=await Ne(`${xe}/settings/mcp-servers`,{method:"POST",headers:{...Se(),"Content-Type":"application/json"},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},delete:async t=>{const a=await Ne(`${xe}/settings/mcp-servers/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Se()}});return a.ok||await je(a),await a.json()},reorder:async t=>{const a=await Ne(`${xe}/settings/mcp-servers/reorder`,{method:"PUT",headers:{...Se(),"Content-Type":"application/json"},body:JSON.stringify({server_ids:t})});return a.ok||await je(a),await a.json()}},Pc={create:async t=>{const a=await Ne(`${xe}/training/feedback`,{method:"POST",headers:{...Se(),"Content-Type":"application/json"},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},list:async(t={})=>{const a=new URLSearchParams;t.session_id&&a.append("session_id",t.session_id),t.min_rating&&a.append("min_rating",t.min_rating),t.only_positive!==void 0&&a.append("only_positive",t.only_positive),t.skip&&a.append("skip",t.skip),t.limit&&a.append("limit",t.limit);const s=await Ne(`${xe}/training/feedback?${a}`,{headers:{...Se()}});return s.ok||await je(s),await s.json()},update:async(t,a)=>{const s=await Ne(`${xe}/training/feedback/${t}`,{method:"PUT",headers:{...Se(),"Content-Type":"application/json"},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},delete:async t=>{const a=await Ne(`${xe}/training/feedback/${t}`,{method:"DELETE",headers:{...Se()}});return a.ok||await je(a),await a.json()}},Ys={create:async t=>{const a=await Ne(`${xe}/training/datasets`,{method:"POST",headers:{...Se(),"Content-Type":"application/json"},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},list:async()=>{const t=await Ne(`${xe}/training/datasets`,{headers:{...Se()}});return t.ok||await je(t),await t.json()},get:async t=>{const a=await Ne(`${xe}/training/datasets/${t}`,{headers:{...Se()}});return a.ok||await je(a),await a.json()},delete:async t=>{const a=await Ne(`${xe}/training/datasets/${t}`,{method:"DELETE",headers:{...Se()}});return a.ok||await je(a),await a.json()},build:async t=>{const a=await Ne(`${xe}/training/datasets/${t}/build`,{method:"POST",headers:{...Se()}});return a.ok||await je(a),await a.json()},export:async(t,a="chat")=>{const s=await Ne(`${xe}/training/datasets/${t}/export?format=${a}`,{headers:{...Se()}});s.ok||await je(s);const o=await s.blob(),c=window.URL.createObjectURL(o),u=document.createElement("a");return u.href=c,u.download=`dataset_${t}_${a}.jsonl`,document.body.appendChild(u),u.click(),window.URL.revokeObjectURL(c),document.body.removeChild(u),{success:!0}}},ir={createJob:async t=>{const a=await Ne(`${xe}/finetuning/jobs`,{method:"POST",headers:{...Se(),"Content-Type":"application/json"},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},listJobs:async()=>{const t=await Ne(`${xe}/finetuning/jobs`,{headers:{...Se()}});return t.ok||await je(t),await t.json()},getJob:async t=>{const a=await Ne(`${xe}/finetuning/jobs/${encodeURIComponent(t)}`,{headers:{...Se()}});return a.ok||await je(a),await a.json()},cancelJob:async t=>{const a=await Ne(`${xe}/finetuning/jobs/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Se()}});return a.ok||await je(a),await a.json()},listModels:async()=>{const t=await Ne(`${xe}/finetuning/models`,{headers:{...Se()}});return t.ok||await je(t),await t.json()},downloadModel:async t=>{const a=await Ne(`${xe}/finetuning/models/download`,{method:"POST",headers:{...Se(),"Content-Type":"application/json"},body:JSON.stringify({model_name:t})},12e4);return a.ok||await je(a),await a.json()},getDownloadStatus:async t=>{try{const a=await Ne(`${xe}/finetuning/models/download-status?model_name=${encodeURIComponent(t)}`,{headers:{...Se()}});return a.ok?await a.json():{status:"unknown"}}catch{return{status:"unknown"}}},listBaseModels:async()=>{try{const t=await Ne(`${xe}/finetuning/models/base`,{headers:{...Se()}});return t.ok?await t.json():{models:[]}}catch{return{models:[]}}},setDefaultModel:async t=>{const a=await Ne(`${xe}/finetuning/models/set-default`,{method:"POST",headers:{...Se(),"Content-Type":"application/json"},body:JSON.stringify({model_name:t})});return a.ok||await je(a),await a.json()},clearDefaultModel:async()=>{const t=await Ne(`${xe}/finetuning/models/clear-default`,{method:"POST",headers:{...Se()}});return t.ok||await je(t),await t.json()}},Np=E.createContext();function lx({children:t}){const[a,s]=E.useState(null),[o,c]=E.useState(!0);E.useEffect(()=>{const f=localStorage.getItem("rag_token"),h=localStorage.getItem("rag_user");f&&h&&s(JSON.parse(h)),c(!1)},[]);const u=async(f,h)=>{const y=new FormData;y.append("username",f),y.append("password",h);const x=await fetch(`${xe}/auth/login`,{method:"POST",body:y});if(!x.ok){const P=await x.json();throw new Error(P.detail||" ")}const v=(await x.json()).access_token,D={name:f.split("@")[0],email:f};return localStorage.setItem("rag_token",v),localStorage.setItem("rag_user",JSON.stringify(D)),s(D),D},d=async(f,h,y)=>{const x=await fetch(`${xe}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h,name:f,password:y})});if(!x.ok){const k=await x.json();throw new Error(k.detail||" ")}return await x.json()},g=()=>{localStorage.removeItem("rag_token"),localStorage.removeItem("rag_user"),s(null)};return r.createElement(Np.Provider,{value:{user:a,login:u,register:d,logout:g,isAuthenticated:!!a,isLoading:o}},!o&&t)}const Fl=()=>E.useContext(Np);function Jn(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const a=Math.random()*16|0;return(t==="x"?a:a&3|8).toString(16)})}const Sp=E.createContext(),lg=(t,a)=>{let s;return(...o)=>{clearTimeout(s),s=setTimeout(()=>t(...o),a)}},sx=t=>({llm:t.llm_model,embeddingModel:t.embedding_model,vlm:t.vlm_model,enableMultimodal:t.enable_multimodal,retrieval:t.retrieval_mode,searchTopK:t.search_top_k,useRerank:t.use_rerank,searchMode:t.search_mode||"hybrid",denseWeight:t.dense_weight??.5,useMultimodalSearch:t.use_multimodal_search||!1,systemPrompt:t.system_prompt||"",theme:t.theme,activeSearchProviderId:t.active_search_provider_id,storageType:t.storage_type,bucketName:t.bucket_name}),sg=t=>({llm_model:t.llm,embedding_model:t.embeddingModel,vlm_model:t.vlm,enable_multimodal:t.enableMultimodal,retrieval_mode:t.retrieval,search_top_k:t.searchTopK,use_rerank:t.useRerank,search_mode:t.searchMode||"hybrid",dense_weight:t.denseWeight??.5,use_multimodal_search:t.useMultimodalSearch||!1,system_prompt:t.systemPrompt,theme:t.theme,active_search_provider_id:t.activeSearchProviderId,storage_type:t.storageType,bucket_name:t.bucketName}),wa={llm:"gemma3:12b",embeddingModel:"bge-m3",enableMultimodal:!0,vlm:"llava:7b",storageType:"minio",bucketName:"rag-ai-bucket",retrieval:"hybrid",useRerank:!0,searchMode:"hybrid",denseWeight:.5,useMultimodalSearch:!1,systemPrompt:"     AI .",theme:"Light",searchTopK:5,activeSearchProviderId:"ddg"};function ox({children:t}){const{isAuthenticated:a}=Fl(),[s,o]=E.useState(()=>{const G=localStorage.getItem("rag_ai_config");if(G)try{const ne=JSON.parse(G);return delete ne.neo4jPassword,delete ne.redisPassword,{...wa,...ne}}catch(ne){console.error("Config parse error:",ne)}return wa}),c=E.useRef(!1),u=E.useRef(!1),[d,g]=E.useState(()=>JSON.parse(localStorage.getItem("rag_ai_api_keys"))||[]),[f,h]=E.useState(()=>JSON.parse(localStorage.getItem("rag_ai_mcp"))||[{id:"mcp-1",name:"Filesystem",type:"stdio",status:"connected",enabled:!0},{id:"mcp-2",name:"Google Drive",type:"sse",status:"disconnected",enabled:!1}]),[y]=E.useState([{id:"ddg",name:"DuckDuckGo",type:"free",description:", API  ",needsKey:!1},{id:"brave",name:"Brave Search",type:"api",description:" 2,000/",needsKey:!0},{id:"tavily",name:"Tavily AI",type:"api",description:"AI  ,  1,000/",needsKey:!0},{id:"serper",name:"Google Serper",type:"api",description:"Google , 2,500 ",needsKey:!0}]),[x,k]=E.useState(()=>{const G=localStorage.getItem("rag_ai_kbs");if(G)try{return JSON.parse(G).map(ne=>({...ne,config:ne.config||{chunkSize:512,chunkOverlap:50}}))}catch(ne){console.error(ne)}return[{id:"default",name:"  ",description:"  ",files:[],config:{chunkSize:512,chunkOverlap:50},created_at:new Date().toLocaleDateString()}]}),[v,D]=E.useState("default"),P={sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},S=G=>{if(!G)return P;const ne=typeof G=="string"?JSON.parse(G):G;if("sources"in ne&&!("smartMode"in ne))return ne;if("sources"in ne)return{sources:ne.sources};const{deep_think:Pe,smartMode:ye,...We}=ne;return{sources:We}},_=[{id:"agent-general",name:"  ",agentType:"custom",description:"       AI .",model:"gemma3:12b",systemPrompt:` "RAG AI ".         AI .

##  
-     .
-     .
- , , , ,     .

##  
1. ** **:     .
2. ** **: , ,  ,   .
3. ** **:     .
4. ** **:    .
5. ** **:     .`,icon:"sparkles",published:!0,defaultTools:{sources:{rag:!1,web_search:!1,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"agent-rag",name:"  ",agentType:"custom",description:"      RAG .",model:"gemma3:12b",systemPrompt:` "RAG AI   ".        RAG  .

##  
-      .
-   , , .
-     .

##  
1. **  **:     .
2. ** **:    .
3. ** **:    .
4. **  **:     .`,icon:"file-text",published:!0,defaultTools:{sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-supervisor",name:" ",agentType:"supervisor",description:"       .",model:"gemma3:12b",systemPrompt:"      (RAG, , SQL, MCP, )    .",icon:"brain",published:!0,defaultTools:{sources:{rag:!0,web_search:!0,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-rag",name:"RAG  ",agentType:"rag",description:"     .",model:"gemma3:12b",icon:"file-text",published:!0,defaultTools:{sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-web",name:"  ",agentType:"web_search",description:"   .",model:"gemma3:12b",icon:"globe",published:!0,defaultTools:{sources:{rag:!1,web_search:!0,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-sql",name:"T2SQL ",agentType:"t2sql",description:" SQL   .",model:"gemma3:12b",icon:"database",published:!0,defaultTools:{sources:{rag:!1,web_search:!1,mcp:!1,sql:!0}},updated_at:new Date().toLocaleDateString()},{id:"system-mcp",name:"MCP  ",agentType:"mcp",description:" MCP    .",model:"gemma3:12b",icon:"plug",published:!0,defaultTools:{sources:{rag:!1,web_search:!1,mcp:!0,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-process",name:" ",agentType:"process",description:",      .",model:"gemma3:12b",icon:"truck",published:!0,defaultTools:{sources:{rag:!1,web_search:!1,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()}],N=_.map(G=>G.id),[R,Z]=E.useState(()=>{const G=localStorage.getItem("rag_ai_agents");let ne=G?JSON.parse(G):[];if(!_.every(ye=>ne.some(We=>We.id===ye.id))){const ye=new Set(ne.map(J=>J.id));return[..._.filter(J=>!ye.has(J.id)),...ne.filter(J=>!N.includes(J.id))]}return ne}),[X,M]=E.useState(null),[ee,se]=E.useState(()=>JSON.parse(localStorage.getItem("rag_ai_sessions"))||[{id:"new",title:" ",messages:[]}]),[$,L]=E.useState("new"),[I,K]=E.useState("home");E.useEffect(()=>{if(!$||$==="new"||!a)return;const G=ee.find(ne=>ne.id===$);G&&G.messages&&G.messages.length>0||bl.getMessages($).then(ne=>{if(ne.messages&&ne.messages.length>0){const Pe=ne.messages.map(ye=>({id:ye.id||Jn(),role:ye.role,content:ye.content,text:ye.content,thinking:ye.thinking,time:ye.created_at?new Date(ye.created_at).toLocaleTimeString():""}));se(ye=>ye.map(We=>We.id===$?{...We,messages:Pe}:We))}}).catch(()=>{})},[$,a]),E.useEffect(()=>{if(!a){c.current=!1;return}if(c.current)return;let G=!0;return(async()=>{const ne=await Rt.getUserSettings();if(!G)return;if(ne){const J=sx(ne),he=J.llm===wa.llm&&J.embeddingModel===wa.embeddingModel&&J.systemPrompt===wa.systemPrompt,ke=localStorage.getItem("rag_ai_config");if(he&&ke)try{const U=JSON.parse(ke),F={...wa,...U};if(await Rt.updateUserSettings(sg(F)),!G)return;u.current=!0,o(F)}catch{}else u.current=!0,o(U=>({...U,...J}))}const Pe=await sn.listBases();if(!G)return;if(Pe.bases&&Pe.bases.length>0){const J=await Promise.allSettled(Pe.bases.map(U=>sn.getFilesList(U.kb_id))),he=Pe.bases.map((U,F)=>{const ae=((J[F]?.status==="fulfilled"?J[F].value:{files:[]}).files||[]).map((be,Fe)=>({id:be.source||`file-${Fe}`,name:be.filename||be.source,source:be.source,size:be.image_size?`${(be.image_size/1024).toFixed(1)} KB`:"",type:be.type||"text",status:be.status||"ready",chunk_count:be.chunk_count||0,thumbnail_path:be.thumbnail_path,image_path:be.image_path,image_dimensions:be.image_dimensions,error_message:be.error_message}));return{id:U.kb_id,name:U.name,description:U.description||"",files:ae,config:{chunkSize:U.chunk_size,chunkOverlap:U.chunk_overlap,chunkingMethod:U.chunking_method||"fixed",semanticThreshold:U.semantic_threshold||.75},chunkSize:U.chunk_size,chunkOverlap:U.chunk_overlap,chunkingMethod:U.chunking_method||"fixed",semanticThreshold:U.semantic_threshold||.75,file_count:ae.length||U.file_count||0,externalServiceId:U.external_service_id||"",created_at:U.created_at}});k(he);const ke=he.map(U=>U.id);ke.includes(v)||D(ke[0])}const ye=await rx.list();if(!G)return;if(ye.agents&&ye.agents.length>0){const J=ye.agents.map(U=>({id:U.agent_id,name:U.name,description:U.description||"",model:U.model,systemPrompt:U.system_prompt||"",icon:U.icon||"",color:U.color||"",agentType:U.agent_type||"custom",published:U.published,defaultTools:S(U.default_tools),updated_at:U.updated_at})),he=new Set(J.map(U=>U.id)),ke=_.filter(U=>!he.has(U.id));Z([...ke,...J])}const We=await bl.list();if(G){if(We.sessions&&We.sessions.length>0){const J=We.sessions.map(he=>({id:he.session_id,title:he.title,messages:[],agent_id:he.agent_id,created_at:he.created_at}));se(J),L(J[0].id)}try{const J=await cc.list();if(!G)return;if(J.servers&&J.servers.length>0){const he=J.servers.map(ke=>({id:ke.server_id,name:ke.name,type:ke.server_type,url:ke.url||"",command:ke.command||"",headers_json:ke.headers_json||"",enabled:ke.enabled,status:"connected"}));h(he)}}catch{}G&&(c.current=!0)}})(),()=>{G=!1}},[a]);const ve=E.useMemo(()=>lg(G=>{if(localStorage.setItem("rag_ai_config",JSON.stringify(G)),u.current){u.current=!1;return}localStorage.getItem("rag_token")&&Rt.updateUserSettings(sg(G)).catch(()=>{})},500),[]),re=E.useMemo(()=>lg(G=>{localStorage.setItem("rag_ai_sessions",JSON.stringify(G))},500),[]);E.useEffect(()=>{ve(s)},[s,ve]),E.useEffect(()=>{re(ee)},[ee,re]),E.useEffect(()=>{localStorage.setItem("rag_ai_kbs",JSON.stringify(x))},[x]),E.useEffect(()=>{localStorage.setItem("rag_ai_agents",JSON.stringify(R))},[R]),E.useEffect(()=>{localStorage.setItem("rag_ai_api_keys",JSON.stringify(d))},[d]),E.useEffect(()=>{localStorage.setItem("rag_ai_mcp",JSON.stringify(f))},[f]),E.useEffect(()=>{s.theme==="Dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s.theme]);const te=E.useMemo(()=>ee.find(G=>G.id===$)?.messages||[],[ee,$]),Q=E.useMemo(()=>x.find(G=>G.id===v),[x,v]),ie=Q?.files||[],q=E.useMemo(()=>X&&R.find(G=>G.id===X)||null,[R,X]),ge=E.useCallback((G,ne)=>{k(Pe=>Pe.map(ye=>ye.id===G?{...ye,config:{...ye.config,...ne}}:ye))},[]),w=E.useCallback(G=>{k(ne=>ne.map(Pe=>Pe.id===v?{...Pe,files:[...Pe.files,...G]}:Pe))},[v]),O=E.useCallback(G=>{k(ne=>ne.map(Pe=>Pe.id===v?{...Pe,files:Pe.files.filter(ye=>ye.id!==G)}:Pe))},[v]),B=E.useCallback((G,ne,Pe=null)=>{k(ye=>ye.map(We=>We.id===v?{...We,files:We.files.map(J=>J.id===G?{...J,status:ne,...Pe?{errorMessage:Pe}:{}}:J)}:We))},[v]),C=E.useCallback(G=>{Z(ne=>[G,...ne])},[]),Ee=E.useCallback((G,ne)=>{Z(Pe=>Pe.map(ye=>ye.id===G?{...ye,...ne,updated_at:new Date().toLocaleDateString()}:ye))},[]),Ae=E.useCallback(G=>{Z(ne=>ne.filter(Pe=>Pe.id!==G))},[]),_e=E.useCallback((G,ne)=>{g(Pe=>[...Pe,{id:Jn(),provider:G,key:ne,date:new Date().toLocaleDateString()}])},[]),Ue=E.useCallback(G=>{g(ne=>ne.filter(Pe=>Pe.id!==G))},[]),De=E.useCallback(async G=>{const ne=Jn(),Pe={id:ne,status:"connected",enabled:!0,...G};h(ye=>[...ye,Pe]);try{await cc.create({server_id:ne,name:G.name,server_type:G.type||"sse",url:G.url||"",command:G.command||"",headers_json:G.headers_json||"",enabled:!0})}catch(ye){console.error("MCP    :",ye)}},[]),Oe=E.useCallback(async G=>{h(ne=>ne.filter(Pe=>Pe.id!==G));try{await cc.delete(G)}catch(ne){console.error("MCP    :",ne)}},[]),tt=E.useCallback((G,ne)=>{h(Pe=>{const ye=[...Pe];return ne==="up"&&G>0?[ye[G],ye[G-1]]=[ye[G-1],ye[G]]:ne==="down"&&G<ye.length-1&&([ye[G],ye[G+1]]=[ye[G+1],ye[G]]),ye})},[]),ot=E.useCallback((G,ne)=>{h(Pe=>{const ye=[...Pe],[We]=ye.splice(G,1);return ye.splice(ne,0,We),ye})},[]),ct=E.useCallback(G=>{const ne=G.id||Jn(),Pe=!G.id;se(ye=>ye.map(We=>We.id===$?We.messages.find(he=>he.id===ne)?{...We,messages:We.messages.map(he=>he.id===ne?{...he,...G}:he)}:{...We,messages:[...We.messages,{...G,id:ne,time:new Date().toLocaleTimeString()}]}:We)),Pe&&G.role&&$&&bl.addMessage($,{role:G.role,content:G.content||G.text||"",thinking:G.thinking||null,metadata_json:G.toolCallsMeta?JSON.stringify(G.toolCallsMeta):null}).catch(ye=>console.warn("   :",ye))},[$]),yt=E.useCallback(()=>{const G=Jn();se(ne=>[{id:G,title:" ",messages:[]},...ne]),L(G),K("chat"),bl.create({session_id:G,title:" "}).catch(ne=>console.warn("   :",ne))},[]),ue=E.useCallback((G,ne)=>{se(Pe=>Pe.map(ye=>ye.id===G?{...ye,title:ne}:ye))},[]),rt=E.useCallback(async G=>{try{await bl.delete(G)}catch(ne){console.error("  :",ne)}se(ne=>ne.filter(ye=>ye.id!==G)),G===$&&se(ne=>(ne.length>0?L(ne[0].id):setTimeout(()=>yt(),0),ne))},[$,yt]),Qe=E.useMemo(()=>({config:s,setConfig:o,knowledgeBases:x,setKnowledgeBases:k,currentKbId:v,setCurrentKbId:D,currentKb:Q,currentFiles:ie,addFilesToKb:w,updateFileStatusInKb:B,updateKbConfig:ge,removeFileFromKb:O,agents:R,setAgents:Z,addAgent:C,updateAgent:Ee,deleteAgent:Ae,currentAgent:q,currentAgentId:X,setCurrentAgentId:M,sessions:ee,setSessions:se,currentSessionId:$,setCurrentSessionId:L,currentMessages:te,addMessage:ct,createNewSession:yt,renameSession:ue,deleteSession:rt,currentView:I,setCurrentView:K,apiKeys:d,addApiKey:_e,deleteApiKey:Ue,mcpServers:f,addMcpServer:De,deleteMcpServer:Oe,reorderMcpServer:tt,moveMcpServer:ot,searchProviders:y,DEFAULT_TOOL_PRESET:P}),[s,x,v,Q,ie,R,q,X,ee,$,te,I,d,f,y,w,B,ge,O,C,Ee,Ae,ct,yt,ue,rt,_e,Ue,De,Oe,tt,ot]);return r.createElement(Sp.Provider,{value:Qe},t)}const Ma=()=>E.useContext(Sp);var ix={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Te=(t,a)=>{const s=E.forwardRef(({color:o="currentColor",size:c=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:g="",children:f,...h},y)=>E.createElement("svg",{ref:y,...ix,width:c,height:c,stroke:o,strokeWidth:d?Number(u)*24/Number(c):u,className:["lucide",`lucide-${cx(t)}`,g].join(" "),...h},[...a.map(([x,k])=>E.createElement(x,k)),...Array.isArray(f)?f:[f]]));return s.displayName=`${t}`,s};const Ml=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const ux=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const dx=Te("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);const Xc=Te("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const mx=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Sl=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Cp=Te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const Zr=Te("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Tt=Te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const Xn=Te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const it=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Yr=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const gx=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const _l=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const _p=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Tp=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Lc=Te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const on=Te("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const bt=Te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const px=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Nt=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const fx=Te("FolderUp",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m9 13 3-3 3 3",key:"1pxg3c"}]]);const hx=Te("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const Ic=Te("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const Qt=Te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Zc=Te("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const og=Te("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const Xr=Te("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const yx=Te("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);const zp=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const Tl=Te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const At=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const ig=Te("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);const Ca=Te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const cg=Te("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const Dt=Te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Pp=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const xx=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const bx=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const bn=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const vx=Te("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const _a=Te("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const Ex=Te("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const Mc=Te("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);const zn=Te("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);const cn=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Fn=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const kx=Te("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);const Lp=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const fo=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const wx=Te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const Cl=Te("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const ho=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Nx=Te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const Ip=Te("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);const ur=Te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const Sx=Te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const Cx=Te("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);const Mp=Te("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);const Rp=Te("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);const Bn=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const yo=Te("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const Rl=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Ap=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Dp=Te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const mr=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Pn=Te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Op=E.createContext(),_x={success:it,error:Ml,warning:ux,info:At},ug={success:"border-l-green-500 bg-green-50 dark:bg-green-900/20",error:"border-l-red-500 bg-red-50 dark:bg-red-900/20",warning:"border-l-amber-500 bg-amber-50 dark:bg-amber-900/20",info:"border-l-blue-500 bg-blue-50 dark:bg-blue-900/20",confirm:"border-l-gray-400 bg-white dark:bg-gray-800"},dg={success:"text-green-500",error:"text-red-500",warning:"text-amber-500",info:"text-blue-500",confirm:"text-gray-500"};let Tx=0;function zx({toast:t,onRemove:a}){const s=_x[t.type]||At,o=E.useRef(null);return r.createElement("div",{className:`relative flex items-start gap-3 px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 border-l-4 shadow-lg backdrop-blur-sm min-w-[320px] max-w-[420px] animate-toastIn ${ug[t.type]||ug.info}`},r.createElement(s,{size:18,className:`shrink-0 mt-0.5 ${dg[t.type]||dg.info}`}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("p",{className:"text-sm text-gray-900 dark:text-gray-100 font-medium"},t.message),t.type==="confirm"&&r.createElement("div",{className:"flex items-center gap-2 mt-2.5"},r.createElement("button",{onClick:()=>{t.onCancel?.(),a(t.id)},className:"px-3 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},""),r.createElement("button",{onClick:()=>{t.onConfirm?.(),a(t.id)},className:"px-3 py-1 text-xs font-medium text-white bg-red-500 rounded-lg hover:bg-red-600 transition-colors"},t.confirmLabel||""))),r.createElement("button",{onClick:()=>a(t.id),className:"shrink-0 p-0.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},r.createElement(mr,{size:14})),t.type!=="confirm"&&t.duration>0&&r.createElement("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 rounded-b-xl overflow-hidden"},r.createElement("div",{ref:o,className:"h-full bg-current opacity-20 animate-shrinkWidth",style:{animationDuration:`${t.duration}ms`}})))}function Px({toasts:t,onRemove:a}){return jl.createPortal(r.createElement("div",{className:"fixed bottom-6 right-6 z-[200] flex flex-col-reverse gap-2 pointer-events-none"},t.slice(0,5).map(s=>r.createElement("div",{key:s.id,className:"pointer-events-auto"},r.createElement(zx,{toast:s,onRemove:a})))),document.body)}function Lx({children:t}){const[a,s]=E.useState([]),o=E.useCallback(g=>{s(f=>f.filter(h=>h.id!==g))},[]),c=E.useCallback((g,f,h={})=>{const y=++Tx,x=h.duration??(g==="confirm"?0:3e3),k={id:y,type:g,message:f,duration:x,...h};return s(v=>[k,...v]),x>0&&setTimeout(()=>o(y),x),y},[o]),u=E.useCallback((g,f="success")=>c(f,g),[c]);u.success=(g,f)=>c("success",g,f),u.error=(g,f)=>c("error",g,f),u.warning=(g,f)=>c("warning",g,f),u.info=(g,f)=>c("info",g,f);const d=E.useCallback((g,f,h={})=>c("confirm",g,{onConfirm:f,onCancel:h.onCancel,confirmLabel:h.confirmLabel||"",duration:0}),[c]);return r.createElement(Op.Provider,{value:{toast:u,confirm:d}},t,r.createElement(Px,{toasts:a,onRemove:o}))}const pr=()=>E.useContext(Op);function Ix(){const{toast:t}=pr(),{config:a,setConfig:s,apiKeys:o,addApiKey:c,deleteApiKey:u,mcpServers:d,addMcpServer:g,deleteMcpServer:f,reorderMcpServer:h,moveMcpServer:y,searchProviders:x,agents:k,updateAgent:v}=Ma(),[D,P]=E.useState("general"),[S,_]=E.useState("llm"),[N,R]=E.useState({...a});E.useEffect(()=>{R(z=>({...z,...a}))},[a]);const[Z,X]=E.useState("OpenAI"),[M,ee]=E.useState(""),[se,$]=E.useState(""),[L,I]=E.useState(""),[K,ve]=E.useState("sse"),[re,te]=E.useState(""),[Q,ie]=E.useState(null),[q,ge]=E.useState(null),[w,O]=E.useState(null),[B,C]=E.useState([]),[Ee,Ae]=E.useState(!1),[_e,Ue]=E.useState([]),[De,Oe]=E.useState(!1),[tt,ot]=E.useState(""),[ct,yt]=E.useState({}),[ue,rt]=E.useState({}),[Qe,G]=E.useState([]),[ne,Pe]=E.useState({name:"",db_type:"postgresql",host:"localhost",port:5432,database:"",username:"",password:""}),[ye,We]=E.useState({}),[J,he]=E.useState({}),[ke,U]=E.useState(null),[F,Y]=E.useState(""),ae=async()=>{Oe(!0),ot("");try{const z=await Rt.getOllamaModels();z?.models&&Ue(z.models),z?.error&&ot(z.error)}catch{ot("    .")}finally{Oe(!1)}};E.useEffect(()=>{(async()=>{Ae(!0);try{const[pe,fe]=await Promise.all([Rt.getConfig(),Rt.getApiKeys()]);pe&&O(pe),fe?.keys&&C(fe.keys);const dt=await Rt.getDbConnections();dt?.connections&&G(dt.connections)}catch(pe){console.error("Failed to load backend config:",pe)}finally{Ae(!1)}})(),ae()},[]);const be=async z=>{yt(fe=>({...fe,[z]:"testing"})),rt(fe=>({...fe,[z]:""}));const pe=await wp.testService(z);pe.status==="connected"?(yt(fe=>({...fe,[z]:"success"})),rt(fe=>({...fe,[z]:pe.detail}))):(yt(fe=>({...fe,[z]:"error"})),rt(fe=>({...fe,[z]:pe.detail}))),setTimeout(()=>{yt(fe=>({...fe,[z]:"idle"}))},5e3)},Fe=()=>{s(N),t.success(" .")},Ke=async()=>{if(M.trim()){c(Z,M);try{await Rt.saveApiKey(Z,M);const z=await Rt.getApiKeys();z?.keys&&C(z.keys)}catch(z){console.error("Failed to save API key to backend:",z)}ee("")}},Ze=async(z,pe)=>{u(z);try{await Rt.deleteApiKey(pe);const zt=await Rt.getApiKeys();zt?.keys&&C(zt.keys)}catch(zt){console.error("Failed to delete API key from backend:",zt)}const fe=pe.toLowerCase(),Bt={openai:["gpt-","o1-","text-davinci"],anthropic:["claude"],"google gemini":["gemini","palm"],google:["gemini","palm"],groq:[]}[fe]||[],nt=zt=>{if(!zt||!Bt.length)return!1;const Ln=zt.toLowerCase();return Bt.some(Da=>Ln.startsWith(Da))},Et=zt=>{if(fe!=="groq")return!1;const Ln=(zt||"").toLowerCase();return Ln.includes("versatile")||Ln.includes("instant")||Ln.endsWith("32768")},mn=zt=>nt(zt)||Et(zt);k.forEach(zt=>{mn(zt.model)&&v(zt.id,{model:""})}),mn(a.llm)&&s({...a,llm:"llama3.1"})},Xe=()=>{se.trim()&&(K==="stdio"&&!re.trim()||K!=="stdio"&&!L.trim()||(g({name:se,url:K==="stdio"?"":L,type:K,command:K==="stdio"?re:""}),$(""),I(""),te("")))},Vt=async()=>{if(!(!ne.name.trim()||!ne.database.trim()))try{await Rt.addDbConnection(ne);const z=await Rt.getDbConnections();z?.connections&&G(z.connections),Pe({name:"",db_type:"postgresql",host:"localhost",port:5432,database:"",username:"",password:""})}catch(z){console.error("Failed to add DB connection:",z)}},$t=async z=>{try{await Rt.deleteDbConnection(z),G(pe=>pe.filter(fe=>fe.id!==z))}catch(pe){console.error("Failed to delete DB connection:",pe)}},He=async z=>{We(fe=>({...fe,[z]:"testing"}));const pe=await Rt.testDbConnection(z);We(fe=>({...fe,[z]:pe.status==="connected"?"success":"error"})),he(fe=>({...fe,[z]:pe.detail})),setTimeout(()=>We(fe=>({...fe,[z]:"idle"})),5e3)},Je=(z,pe)=>{ie(pe),z.dataTransfer.effectAllowed="move"},we=(z,pe)=>{z.preventDefault(),z.dataTransfer.dropEffect="move"},et=(z,pe)=>{z.preventDefault(),!(Q===null||Q===pe)&&(y(Q,pe),ie(null))},Me=[{id:"general",label:" ",icon:Ex},{id:"model",label:" ",icon:on},{id:"graph",label:"Graph DB",icon:Nx},{id:"cache",label:" / ",icon:Pn},{id:"search",label:" ",icon:Qt},{id:"api",label:"API  ",icon:ig},{id:"database",label:"",icon:bt},{id:"mcp",label:"MCP ",icon:zn},{id:"system",label:" ",icon:At}];return r.createElement("div",{className:"flex h-[700px] w-full bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200"},r.createElement("aside",{className:"w-64 bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col p-4 shrink-0"},r.createElement("h3",{className:"text-xs font-bold text-gray-400 uppercase mb-4 px-2 tracking-wider"},"Settings"),r.createElement("nav",{className:"space-y-1"},Me.map(z=>r.createElement("div",{key:z.id},r.createElement("button",{onClick:()=>P(z.id),className:`w-full flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg transition-colors ${D===z.id?"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-400 shadow-sm border border-gray-100 dark:border-gray-600":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-200"}`},r.createElement(z.icon,{size:18,className:D===z.id?"text-gray-600":"text-gray-400"})," ",z.label),z.id==="model"&&D==="model"&&r.createElement("div",{className:"ml-9 mt-1 space-y-1 border-l-2 border-gray-200 pl-2"},[{id:"llm",label:"LLM "},{id:"embedding",label:" "},{id:"multimodal",label:" "}].map(pe=>r.createElement("button",{key:pe.id,onClick:()=>_(pe.id),className:`block w-full text-left px-3 py-1.5 text-xs rounded transition-colors ${S===pe.id?"text-gray-600 font-bold bg-gray-50":"text-gray-500 hover:text-gray-800"}`},pe.label))))))),r.createElement("main",{className:"flex-1 flex flex-col min-w-0"},r.createElement("header",{className:"px-8 py-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-white dark:bg-gray-900 shrink-0"},r.createElement("div",null,r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white"},Me.find(z=>z.id===D)?.label),r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"   .")),r.createElement("button",{onClick:Fe,className:"flex items-center gap-2 px-5 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-sm font-bold transition shadow-sm"},r.createElement(Lp,{size:16})," ")),r.createElement("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar"},D==="general"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 mb-2"}," "),r.createElement("div",{className:"w-full p-2.5 border rounded-lg text-sm bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 font-medium cursor-not-allowed flex items-center justify-between border-gray-200 dark:border-gray-700"},r.createElement("span",null," (Korean)"),r.createElement("span",{className:"text-xs px-2 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-gray-600 dark:text-gray-400"},"")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1.5"},"     ."))),D==="model"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},S==="llm"&&(()=>{const pe=[{id:"openai",name:"OpenAI",color:"green",models:[{name:"gpt-4o",desc:" ,  "},{name:"gpt-4o-mini",desc:"   "},{name:"gpt-4-turbo",desc:"128K "},{name:"gpt-3.5-turbo",desc:" ,  "}]},{id:"anthropic",name:"Anthropic",color:"orange",models:[{name:"claude-sonnet-4-5-20250929",desc:"Claude 4.5 Sonnet"},{name:"claude-opus-4-6",desc:"Claude Opus 4.6,  "},{name:"claude-haiku-4-5-20251001",desc:"Claude 4.5 Haiku,  "}]},{id:"google gemini",name:"Google Gemini",color:"gray",models:[{name:"gemini-2.0-flash",desc:" Gemini,  "},{name:"gemini-2.0-pro",desc:"  Gemini"},{name:"gemini-1.5-flash",desc:"100  "}]},{id:"groq",name:"Groq",color:"red",models:[{name:"llama-3.3-70b-versatile",desc:"Llama 3.3 70B, "},{name:"llama-3.1-8b-instant",desc:"Llama 3.1 8B,  "},{name:"mixtral-8x7b-32768",desc:"Mixtral MoE, 32K "}]}].filter(nt=>o.some(Et=>Et.provider.toLowerCase()===nt.id)||B.some(Et=>Et.provider===nt.id)),fe={gemma3:{desc:"Google  ,  ",caps:["tools","vlm"]},gemma2:{desc:"Google ,   ",caps:[]},"llama3.3":{desc:"Meta 70B,  ",caps:["tools"]},"llama3.2-vision":{desc:"Meta  ",caps:["vlm"]},"llama3.2":{desc:"Meta  ",caps:[]},"llama3.1":{desc:"Meta 128K , ",caps:["tools","long"]},llama3:{desc:"Meta   ",caps:[]},"mistral-small":{desc:"Mistral , Tool Calling",caps:["tools"]},"mistral-large":{desc:"Mistral  ",caps:["tools","long"]},mistral:{desc:"Mistral 7B,  ",caps:[]},mixtral:{desc:"Mistral MoE,  ",caps:[]},"qwen2.5-coder":{desc:"Alibaba  ",caps:["tools","code"]},"qwen2.5":{desc:"Alibaba ,  ",caps:["tools","long"]},qwen2:{desc:"Alibaba ,  ",caps:["tools"]},phi4:{desc:"MS  ,  ",caps:["tools"]},phi3:{desc:"MS  ,  ",caps:[]},"deepseek-r1":{desc:"DeepSeek   ",caps:["code","math"]},"deepseek-coder":{desc:"DeepSeek  ",caps:["code"]},deepseek:{desc:"/  ",caps:["code","math"]},codellama:{desc:"Meta   ",caps:["code"]},"command-r":{desc:"Cohere RAG  ",caps:["tools","long"]},solar:{desc:",  ",caps:[]},exaone:{desc:"LG AI   ",caps:[]},llava:{desc:"  ",caps:["vlm"]},bakllava:{desc:"BakLLaVA  ",caps:["vlm"]},moondream:{desc:"  ",caps:["vlm"]},aya:{desc:"Cohere  ",caps:[]},granite:{desc:"IBM  ",caps:["tools"]},vicuna:{desc:"LMSys  ",caps:[]}},dt={tools:{label:"Tool Calling",color:"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-300"},vlm:{label:"Vision",color:"bg-purple-50 text-purple-600 dark:bg-purple-900/30 dark:text-purple-300"},code:{label:"Code",color:"bg-amber-50 text-amber-600 dark:bg-amber-900/30 dark:text-amber-300"},math:{label:"Math",color:"bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-300"},long:{label:"128K+",color:"bg-teal-50 text-teal-600 dark:bg-teal-900/30 dark:text-teal-300"}},Bt=nt=>{const Et=nt.toLowerCase();for(const[mn,zt]of Object.entries(fe))if(Et.includes(mn))return zt;return null};return r.createElement(r.Fragment,null,r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 flex gap-3 text-sm text-gray-800 dark:text-gray-300 mb-6"},r.createElement(At,{size:20,className:"shrink-0"}),r.createElement("div",null," ( )    LLM .",r.createElement("br",null),r.createElement("span",{className:"text-xs text-gray-500"},"        ."))),r.createElement("section",null,r.createElement("div",{className:"flex justify-between items-center mb-2"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(Cl,{size:14})," Ollama  "),r.createElement("button",{onClick:ae,disabled:De,className:"text-xs text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300 font-bold flex items-center gap-1"},r.createElement(Fn,{size:12,className:De?"animate-spin":""})," ",De?" ...":"")),tt&&r.createElement("div",{className:"text-xs text-red-500 mb-2 flex items-center gap-1"},r.createElement(At,{size:12})," ",tt),_e.length>0?r.createElement("div",{className:"space-y-2"},_e.map(nt=>{const Et=Bt(nt.name);return r.createElement("div",{key:nt.name,onClick:()=>R({...N,llm:nt.name}),className:`flex items-center justify-between p-3 rounded-xl border-2 cursor-pointer transition-all ${N.llm===nt.name?"border-green-400 bg-green-50/50 dark:bg-green-900/20 shadow-sm":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold ${N.llm===nt.name?"bg-green-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`},r.createElement(on,{size:16})),r.createElement("div",null,r.createElement("div",{className:"flex items-center gap-2 flex-wrap"},r.createElement("span",{className:`font-bold text-sm ${N.llm===nt.name?"text-gray-900 dark:text-gray-300":"text-gray-800 dark:text-gray-200"}`},nt.name),Et?.desc&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500"},Et.desc)),r.createElement("div",{className:"flex items-center gap-1.5 mt-0.5 flex-wrap"},r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-900/30 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-400 font-medium"},""),nt.is_korean&&r.createElement("span",{className:"text-[10px] bg-green-50 dark:bg-green-800/30 px-1.5 py-0.5 rounded text-green-500 dark:text-green-300 font-bold"},""),Et?.caps?.map(mn=>dt[mn]&&r.createElement("span",{key:mn,className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${dt[mn].color}`},dt[mn].label)),nt.parameter_size&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},nt.parameter_size),nt.family&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},nt.family),nt.quantization&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},nt.quantization)))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},nt.size_gb," GB"),N.llm===nt.name&&r.createElement(it,{size:18,className:"text-green-500"})))})):r.createElement("div",{className:"p-6 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-center"},De?r.createElement("div",{className:"flex flex-col items-center gap-2"},r.createElement(Fn,{size:20,className:"animate-spin text-green-300"}),r.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-400"},"Ollama   ...")):r.createElement("div",{className:"flex flex-col items-center gap-2"},r.createElement(on,{size:20,className:"text-gray-400"}),r.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-400"},"Ollama  "),r.createElement("span",{className:"text-xs text-gray-400 dark:text-gray-500"},"Ollama    ")))),r.createElement("section",{className:"mt-6"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2 flex items-center gap-2"},r.createElement(Qt,{size:14}),"   (API)"),pe.length>0?r.createElement("div",{className:"space-y-4"},pe.map(nt=>r.createElement("div",{key:nt.id},r.createElement("div",{className:"flex items-center gap-2 mb-2"},r.createElement("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-400 uppercase"},nt.name),r.createElement("span",{className:"text-[10px] bg-green-50 dark:bg-green-800/30 text-green-600 dark:text-green-300 px-1.5 py-0.5 rounded flex items-center gap-1"},r.createElement(it,{size:8}),"  ")),r.createElement("div",{className:"space-y-1.5"},nt.models.map(Et=>r.createElement("div",{key:Et.name,onClick:()=>R({...N,llm:Et.name}),className:`flex items-center justify-between p-3 rounded-xl border-2 cursor-pointer transition-all ${N.llm===Et.name?"border-purple-500 bg-purple-50/50 dark:bg-purple-900/30 shadow-sm":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold ${N.llm===Et.name?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`},r.createElement(Qt,{size:14})),r.createElement("div",null,r.createElement("div",{className:`font-bold text-sm ${N.llm===Et.name?"text-purple-900 dark:text-purple-300":"text-gray-800 dark:text-gray-200"}`},Et.name),r.createElement("div",{className:"flex items-center gap-2 mt-0.5"},r.createElement("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-medium ${nt.color==="green"?"bg-green-50 dark:bg-green-800/30 text-green-500 dark:text-green-300":nt.color==="orange"?"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400":nt.color==="red"?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-gray-100 dark:bg-gray-900/30 text-gray-600 dark:text-gray-400"}`},nt.name),r.createElement("span",{className:"text-[10px] text-gray-500 dark:text-gray-400"},Et.desc)))),N.llm===Et.name&&r.createElement(it,{size:18,className:"text-purple-600"}))))))):r.createElement("div",{className:"p-4 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-center"},r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"  API  "),r.createElement("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1"},"API    OpenAI, Anthropic        ."))),r.createElement("section",{className:"mt-4"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Ollama  URL"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.ollama_base_url||(Ee?" ...":"http://localhost:11434")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1.5 flex items-center gap-1"},r.createElement(At,{size:12}),"   .env OLLAMA_BASE_URL .")))})(),S==="embedding"&&r.createElement(r.Fragment,null,r.createElement("div",{className:"bg-green-50 dark:bg-green-800/20 border border-green-50 dark:border-green-700 rounded-xl p-4 flex gap-3 text-sm text-green-700 dark:text-green-200 mb-6"},r.createElement(At,{size:20,className:"shrink-0"}),r.createElement("div",null,"   .   .env EMBEDDING_MODEL  .")),r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"  "),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.embedding_model||(Ee?" ...":"BAAI/bge-m3"))),r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Rerank  "),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("button",{onClick:()=>R({...N,useRerank:!N.useRerank}),className:`w-12 h-6 rounded-full transition-colors relative ${N.useRerank?"bg-gray-600":"bg-gray-300"}`},r.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform ${N.useRerank?"left-7":"left-1"}`})),r.createElement("span",{className:"text-sm text-gray-600 dark:text-gray-400"},N.useRerank?" (  )":"   ( )")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"Rerank          ."))),S==="multimodal"&&(()=>{const z=["llava","bakllava","minicpm-v","moondream","llama3.2-vision","granite3.2-vision"],pe=_e.filter(fe=>z.some(dt=>fe.name.toLowerCase().includes(dt)));return r.createElement(r.Fragment,null,r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("div",null,r.createElement("h3",{className:"font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(Tl,{size:18}),"  "),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"   Vision  .")),r.createElement("button",{onClick:()=>R({...N,enableMultimodal:!N.enableMultimodal}),className:`w-12 h-6 rounded-full transition-colors relative ${N.enableMultimodal?"bg-gray-600":"bg-gray-300"}`},r.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform shadow-sm ${N.enableMultimodal?"left-7":"left-1"}`}))),r.createElement("section",{className:`space-y-6 transition-all ${N.enableMultimodal?"opacity-100":"opacity-50 pointer-events-none"}`},r.createElement("div",null,r.createElement("div",{className:"flex justify-between items-center mb-2"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200"},"Vision  "),r.createElement("button",{onClick:ae,disabled:De,className:"text-xs text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300 font-bold flex items-center gap-1"},r.createElement(Fn,{size:12,className:De?"animate-spin":""})," ")),pe.length>0?r.createElement("div",{className:"space-y-2"},pe.map(fe=>r.createElement("div",{key:fe.name,onClick:()=>R({...N,vlm:fe.name}),className:`flex items-center justify-between p-3 rounded-xl border-2 cursor-pointer transition-all ${N.vlm===fe.name?"border-purple-500 bg-purple-50/50 dark:bg-purple-900/30 shadow-sm":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${N.vlm===fe.name?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`},r.createElement(Tl,{size:16})),r.createElement("div",null,r.createElement("div",{className:`font-bold text-sm ${N.vlm===fe.name?"text-purple-900 dark:text-purple-300":"text-gray-800 dark:text-gray-200"}`},fe.name),r.createElement("div",{className:"flex items-center gap-2 mt-0.5"},fe.parameter_size&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},fe.parameter_size),fe.family&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},fe.family)))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},fe.size_gb," GB"),N.vlm===fe.name&&r.createElement(it,{size:18,className:"text-purple-600"}))))):r.createElement("div",{className:"p-6 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-center"},r.createElement("div",{className:"flex flex-col items-center gap-2"},r.createElement(Tl,{size:20,className:"text-gray-400"}),r.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-400"},"Vision  "),r.createElement("span",{className:"text-xs text-gray-400 dark:text-gray-500"},"Ollama vision  "),r.createElement("code",{className:"text-xs bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded font-mono text-gray-600 dark:text-gray-400 mt-1"},"ollama pull llava"))),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 flex items-center gap-1"},r.createElement(At,{size:12})," llava, bakllava, minicpm-v, moondream  vision   .")),r.createElement("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-1"},r.createElement(Xr,{size:14}),"  "),r.createElement("div",{className:"grid grid-cols-3 gap-3 mb-4"},[{id:"local",label:" ",desc:"   "},{id:"minio",label:"MinIO",desc:"S3   "},{id:"s3",label:"AWS S3",desc:"Amazon  "}].map(fe=>r.createElement("div",{key:fe.id,onClick:()=>R({...N,storageType:fe.id}),className:`p-3 rounded-xl border-2 cursor-pointer transition-all text-center ${N.storageType===fe.id?"border-green-400 bg-green-50/50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`},r.createElement("div",{className:`text-sm font-bold ${N.storageType===fe.id?"text-gray-900 dark:text-gray-300":"text-gray-700 dark:text-gray-300"}`},fe.label),r.createElement("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-0.5"},fe.desc)))),N.storageType==="local"&&r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"}," "),r.createElement("input",{type:"text",value:N.storagePath||"./uploads",onChange:fe=>R({...N,storagePath:fe.target.value}),className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 bg-white dark:bg-gray-700 dark:text-gray-200 font-mono"}),r.createElement("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-1"},"    ")),(N.storageType==="minio"||N.storageType==="s3")&&r.createElement("div",{className:"space-y-3"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"},N.storageType==="minio"?"MinIO Endpoint":"S3 Region"),r.createElement("input",{type:"text",value:N.storageType==="minio"?N.minioEndpoint||"":N.s3Region||"ap-northeast-2",onChange:fe=>R({...N,...N.storageType==="minio"?{minioEndpoint:fe.target.value}:{s3Region:fe.target.value}}),placeholder:N.storageType==="minio"?"http://localhost:9000":"ap-northeast-2",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 bg-white dark:bg-gray-700 dark:text-gray-200 font-mono"})),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"},"Bucket "),r.createElement("input",{type:"text",value:N.bucketName||"",onChange:fe=>R({...N,bucketName:fe.target.value}),placeholder:"my-rag-bucket",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 bg-white dark:bg-gray-700 dark:text-gray-200 font-mono"})),r.createElement("p",{className:"text-[10px] text-gray-400 dark:text-gray-500"},N.storageType==="minio"?"MinIO Access/Secret Key API    .":"AWS   API    .")))))})()),D==="graph"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-purple-50 border border-purple-100 rounded-xl p-4 text-sm text-purple-900 flex gap-3"},r.createElement(_a,{size:24,className:"shrink-0 text-purple-600 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"Graph RAG (Neo4j)"),r.createElement("p",{className:"text-xs text-purple-800/80 mt-1 leading-relaxed"},"          .",r.createElement("br",null),"   (.env) ."))),r.createElement("section",{className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Connection URI"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.neo4j_url||(Ee?" ...":"  "))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Username"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.neo4j_username||"-")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1"},r.createElement(At,{size:12}),"     .env  NEO4J_URL, NEO4J_USERNAME, NEO4J_PASSWORD .")),r.createElement("div",{className:"flex items-center justify-end gap-3"},ct.neo4j==="success"&&r.createElement("span",{className:"text-sm text-green-500 flex items-center gap-1"},r.createElement(it,{size:14})," ",ue.neo4j),ct.neo4j==="error"&&r.createElement("span",{className:"text-sm text-red-600 flex items-center gap-1 max-w-xs truncate"},ue.neo4j),r.createElement("button",{onClick:()=>be("neo4j"),disabled:ct.neo4j==="testing",className:`px-4 py-2 rounded-lg text-sm font-bold transition flex items-center gap-2 ${ct.neo4j==="success"?"bg-green-50 text-green-600":ct.neo4j==="error"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`},r.createElement(Fn,{size:14,className:ct.neo4j==="testing"?"animate-spin":""})," ",ct.neo4j==="testing"?" ...":" "))),D==="cache"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-yellow-50 border border-yellow-100 rounded-xl p-4 text-sm text-yellow-900 flex gap-3"},r.createElement(Pn,{size:24,className:"shrink-0 text-yellow-600 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"Redis (Memory & Cache)"),r.createElement("p",{className:"text-xs text-yellow-800/80 mt-1 leading-relaxed"},"  (Memory),    (Cache)  Redis ."))),r.createElement("section",{className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Connection URL"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.redis_url||(Ee?" ...":"  "))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"}," "),r.createElement("div",{className:"grid grid-cols-2 gap-4"},r.createElement("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"},r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1"}," "),r.createElement("div",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},w?.cache_enabled?"":"")),r.createElement("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"},r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1"}," TTL"),r.createElement("div",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},w?.cache_ttl_seconds||"-","")))),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1"},r.createElement(At,{size:12}),"     .env  REDIS_URL .")),r.createElement("div",{className:"flex items-center justify-end gap-3"},ct.redis==="success"&&r.createElement("span",{className:"text-sm text-green-500 flex items-center gap-1"},r.createElement(it,{size:14})," ",ue.redis),ct.redis==="error"&&r.createElement("span",{className:"text-sm text-red-600 flex items-center gap-1 max-w-xs truncate"},ue.redis),r.createElement("button",{onClick:()=>be("redis"),disabled:ct.redis==="testing",className:`px-4 py-2 rounded-lg text-sm font-bold transition flex items-center gap-2 ${ct.redis==="success"?"bg-green-50 text-green-600":ct.redis==="error"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`},r.createElement(Fn,{size:14,className:ct.redis==="testing"?"animate-spin":""})," ",ct.redis==="testing"?" ...":" "))),D==="search"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 text-sm text-gray-900 dark:text-gray-300 flex gap-3"},r.createElement(Zr,{size:24,className:"shrink-0 text-gray-600 dark:text-gray-400 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"RAG  "),r.createElement("p",{className:"text-xs text-gray-800/80 dark:text-gray-400/80 mt-1 leading-relaxed"},"    .",r.createElement("br",null)," ,  ,     ."))),r.createElement("section",null,r.createElement("div",{className:"flex justify-between items-center mb-2"},r.createElement("label",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},"   (Top K)"),r.createElement("span",{className:"text-sm font-bold text-gray-600 bg-gray-50 dark:bg-gray-900/30 px-2 py-0.5 rounded"},N.searchTopK||5,"")),r.createElement("input",{type:"range",min:"3",max:"10",value:N.searchTopK||5,onChange:z=>R({...N,searchTopK:Number(z.target.value)}),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg accent-green-500 cursor-pointer"}),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"        .")),r.createElement("section",{className:"space-y-3"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200"}," "),r.createElement("div",{className:"space-y-2"},r.createElement("div",{onClick:()=>R({...N,searchMode:"hybrid"}),className:`p-4 rounded-lg border-2 cursor-pointer transition ${N.searchMode==="hybrid"?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("span",{className:"text-2xl"},""),r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},"  ()"),N.searchMode==="hybrid"&&r.createElement("span",{className:"ml-auto text-xs px-2 py-0.5 bg-green-500 text-white rounded-full"},"")),r.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 ml-10"},"  +    (RRF)    "),N.searchMode==="hybrid"&&r.createElement("div",{className:"mt-4 ml-10 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 space-y-3"},r.createElement("div",{className:"flex justify-between items-center"},r.createElement("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300"},"Dense : Sparse "),r.createElement("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-300 px-2 py-1 rounded"},Math.round((N.denseWeight||.5)*100),"% : ",Math.round((1-(N.denseWeight||.5))*100),"%")),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap"},""),r.createElement("input",{type:"range",min:"0",max:"1",step:"0.05",value:N.denseWeight||.5,onChange:z=>R({...N,denseWeight:parseFloat(z.target.value)}),className:"w-full h-2 bg-gradient-to-r from-green-300 via-gray-400 to-purple-400 rounded-lg appearance-none cursor-pointer",onClick:z=>z.stopPropagation()}),r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap"},"")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},(N.denseWeight||.5)>=.7?"  :     ":(N.denseWeight||.5)<=.3?"  :      ":"  :    "))),r.createElement("div",{onClick:()=>R({...N,searchMode:"dense"}),className:`p-4 rounded-lg border-2 cursor-pointer transition ${N.searchMode==="dense"?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("span",{className:"text-2xl"},""),r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},"  (Dense Vector)"),N.searchMode==="dense"&&r.createElement("span",{className:"ml-auto text-xs px-2 py-0.5 bg-green-500 text-white rounded-full"},"")),r.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 ml-10"},"  ,    (  )")),r.createElement("div",{onClick:()=>R({...N,searchMode:"sparse"}),className:`p-4 rounded-lg border-2 cursor-pointer transition ${N.searchMode==="sparse"?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("span",{className:"text-2xl"},""),r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},"  (BM25)"),N.searchMode==="sparse"&&r.createElement("span",{className:"ml-auto text-xs px-2 py-0.5 bg-green-500 text-white rounded-full"},"")),r.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 ml-10"},"  ,  /API   ")))),r.createElement("section",{className:"space-y-3"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200"},"  (CLIP)"),r.createElement("div",{onClick:()=>R({...N,useMultimodalSearch:!N.useMultimodalSearch}),className:`p-4 rounded-lg border-2 cursor-pointer transition ${N.useMultimodalSearch?"border-purple-500 bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-700 hover:border-purple-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("span",{className:"text-2xl"},""),r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},"  "),N.useMultimodalSearch&&r.createElement("span",{className:"ml-auto text-xs px-2 py-0.5 bg-purple-600 text-white rounded-full"},"")),r.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 ml-10"},"CLIP    . PDF ,      ."))),r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Vector DB (Qdrant)"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.qdrant_url||(Ee?" ...":"http://localhost:6333")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1.5 flex items-center gap-1"},r.createElement(At,{size:12}),"   .env QDRANT_URL .")),r.createElement("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6"},r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 text-sm text-gray-900 dark:text-gray-300 flex gap-3 mb-6"},r.createElement(Zr,{size:24,className:"shrink-0 text-gray-600 dark:text-gray-400 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"  "),r.createElement("p",{className:"text-xs text-gray-800/80 dark:text-gray-400/80 mt-1 leading-relaxed"},"     . DuckDuckGo   ,",r.createElement("br",null)," API       (   )."))),r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-3"},"  "),r.createElement("div",{className:"grid grid-cols-2 gap-3"},x.map(z=>{const pe=!z.needsKey||B.some(dt=>dt.provider===z.id),fe=N.activeSearchProviderId===z.id;return r.createElement("div",{key:z.id,onClick:()=>R({...N,activeSearchProviderId:z.id}),className:`relative p-4 rounded-xl cursor-pointer border-2 transition-all ${fe?"border-green-400 bg-green-50/50 dark:bg-green-900/20 shadow-sm":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement(Qt,{className:fe?"text-green-500 shrink-0":"text-gray-400 shrink-0",size:20}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:`font-bold text-sm ${fe?"text-gray-900 dark:text-gray-300":"text-gray-700 dark:text-gray-300"}`},z.name),!z.needsKey&&r.createElement("span",{className:"text-[10px] bg-green-50 dark:bg-green-800/30 text-green-600 dark:text-green-300 px-1.5 py-0.5 rounded font-bold"},"FREE")),r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},z.description),z.needsKey&&r.createElement("div",{className:"mt-1.5"},pe?r.createElement("span",{className:"text-[10px] text-green-500 dark:text-green-300 flex items-center gap-1"},r.createElement(it,{size:10})," API  "):r.createElement("span",{className:"text-[10px] text-orange-500 dark:text-orange-400 flex items-center gap-1"},r.createElement(ig,{size:10})," API   (API   )"))),fe&&r.createElement(it,{size:18,className:"text-green-500 shrink-0"})))}))))),D==="api"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-100 dark:border-orange-800 rounded-xl p-4 text-sm text-orange-800 dark:text-orange-300 flex gap-2"},r.createElement(At,{size:18,className:"shrink-0 mt-0.5"}),r.createElement("span",null,"   API  .   +  .")),r.createElement("section",null,r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2 mb-3"},r.createElement(Qt,{size:16,className:"text-gray-500"}),"   "),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3"},"    . DuckDuckGo     ."),r.createElement("div",{className:"space-y-2"},[{id:"brave",name:"Brave Search",free:" 2,000/",url:"https://brave.com/search/api/",desc:"Brave   API"},{id:"tavily",name:"Tavily AI",free:" 1,000/",url:"https://tavily.com/",desc:"AI   "},{id:"serper",name:"Google Serper",free:" 2,500",url:"https://serper.dev/",desc:"Google   API"}].map(z=>{const pe=o.find(Bt=>Bt.provider.toLowerCase()===z.id),fe=B.some(Bt=>Bt.provider===z.id),dt=N.activeSearchProviderId===z.id;return r.createElement("div",{key:z.id,className:`p-4 border-2 rounded-xl transition-all ${dt?"border-gray-300 dark:border-gray-700 bg-gray-50/30 dark:bg-gray-900/10":"border-gray-200 dark:border-gray-700"}`},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200"},z.name),r.createElement("span",{className:"text-[10px] bg-green-50 dark:bg-green-800/30 text-green-600 dark:text-green-300 px-1.5 py-0.5 rounded font-medium"},z.free),dt&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-400 px-1.5 py-0.5 rounded font-bold"},"  ")),r.createElement("div",{className:"flex items-center gap-2"},pe&&fe&&r.createElement("span",{className:"text-[10px] text-green-500 dark:text-green-300 flex items-center gap-1"},r.createElement(it,{size:10})," "),r.createElement("a",{href:z.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-600 dark:text-gray-400 hover:underline flex items-center gap-1"},r.createElement(cg,{size:10}),"  "))),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2"},z.desc),r.createElement("div",{className:"flex gap-2"},r.createElement("input",{type:"password",placeholder:pe?"":`${z.name} API  `,value:Z===z.name?M:"",onFocus:()=>X(z.name),onChange:Bt=>{X(z.name),ee(Bt.target.value)},className:"flex-1 p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 font-mono"}),pe?r.createElement("div",{className:"flex gap-1"},r.createElement("button",{onClick:()=>{X(z.name),Z===z.name&&M.trim()&&Ke()},className:"px-3 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs font-bold transition",title:" "},""),r.createElement("button",{onClick:()=>Ze(pe.id,pe.provider),className:"px-3 py-2 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-lg text-xs font-bold transition"},"")):r.createElement("button",{onClick:()=>{X(z.name),Z===z.name&&M.trim()&&Ke()},className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs font-bold transition"},"")))}),r.createElement("div",{className:"p-3 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex items-center gap-3"},r.createElement("div",{className:"w-8 h-8 rounded-lg bg-green-50 dark:bg-green-800/30 flex items-center justify-center"},r.createElement(Qt,{size:16,className:"text-green-500 dark:text-green-300"})),r.createElement("div",null,r.createElement("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300"},"DuckDuckGo"),r.createElement("span",{className:"ml-2 text-[10px] bg-green-50 dark:bg-green-800/30 text-green-600 dark:text-green-300 px-1.5 py-0.5 rounded font-bold"},"FREE"),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},"API     ."))))),r.createElement("section",null,r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2 mb-3"},r.createElement(on,{size:16,className:"text-purple-500"})," LLM  ( )"),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3"},"Ollama     LLM    API  ."),r.createElement("div",{className:"space-y-2"},[{id:"openai",name:"OpenAI",desc:"GPT-4o, GPT-4, GPT-3.5 ",url:"https://platform.openai.com/api-keys"},{id:"anthropic",name:"Anthropic",desc:"Claude 4.5, Claude 4 ",url:"https://console.anthropic.com/settings/keys"},{id:"google gemini",name:"Google Gemini",desc:"Gemini Pro, Gemini Ultra ",url:"https://aistudio.google.com/app/apikey"},{id:"groq",name:"Groq",desc:"  (Llama, Mixtral )",url:"https://console.groq.com/keys"}].map(z=>{const pe=o.find(dt=>dt.provider.toLowerCase()===z.id),fe=B.some(dt=>dt.provider===z.id);return r.createElement("div",{key:z.id,className:"flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-xl bg-white dark:bg-gray-800"},r.createElement("div",{className:"w-8 h-8 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center shrink-0"},r.createElement(on,{size:14,className:"text-purple-600 dark:text-purple-400"})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200"},z.name),pe&&fe&&r.createElement("span",{className:"text-[10px] text-green-500 dark:text-green-300 flex items-center gap-1"},r.createElement(it,{size:10})," "),pe&&!fe&&r.createElement("span",{className:"text-[10px] text-orange-500 flex items-center gap-1"},r.createElement(At,{size:10})," ")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},z.desc)),r.createElement("div",{className:"flex items-center gap-2 shrink-0"},r.createElement("a",{href:z.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-600 dark:text-gray-400 hover:underline"},r.createElement(cg,{size:12})),pe?r.createElement("button",{onClick:()=>Ze(pe.id,pe.provider),className:"text-gray-400 hover:text-red-500 transition"},r.createElement(Bn,{size:14})):r.createElement("button",{onClick:()=>{X(z.name),ge(z.id)},className:"text-xs px-2.5 py-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-bold transition"},"+ ")))})),q&&["openai","anthropic","google gemini","groq"].includes(q)&&r.createElement("div",{className:"mt-3 p-4 border border-gray-200 dark:border-gray-800 rounded-xl bg-gray-50/50 dark:bg-gray-900/10"},r.createElement("div",{className:"flex gap-2 items-center mb-2"},r.createElement("span",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},q==="openai"?"OpenAI":q==="anthropic"?"Anthropic":q==="google gemini"?"Google Gemini":"Groq"," API  "),r.createElement("button",{onClick:()=>ge(null),className:"text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},"")),r.createElement("div",{className:"flex gap-2"},r.createElement("input",{type:"password",placeholder:"API  ",value:M,onChange:z=>{X(q==="openai"?"OpenAI":q==="anthropic"?"Anthropic":q==="google gemini"?"Google Gemini":"Groq"),ee(z.target.value)},className:"flex-1 p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 font-mono"}),r.createElement("button",{onClick:()=>{Ke(),ge(null)},className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs font-bold transition"},"")))),r.createElement("section",null,r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2 mb-3"},r.createElement(Xr,{size:16,className:"text-teal-500"}),"  "),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3"},"MinIO  AWS S3      ."),r.createElement("div",{className:"space-y-2"},[{id:"minio",name:"MinIO",desc:"Access Key / Secret Key",fields:["Access Key","Secret Key"]},{id:"aws",name:"AWS S3",desc:"Access Key ID / Secret Access Key",fields:["Access Key ID","Secret Access Key"]}].map(z=>{const pe=o.find(Bt=>Bt.provider.toLowerCase()===z.id),fe=B.some(Bt=>Bt.provider===z.id),dt=N.storageType===(z.id==="aws"?"s3":z.id);return r.createElement("div",{key:z.id,className:`p-3 border-2 rounded-xl transition-all ${dt?"border-teal-300 dark:border-teal-700 bg-teal-50/30 dark:bg-teal-900/10":"border-gray-200 dark:border-gray-700"}`},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement(Xr,{size:14,className:"text-teal-600 dark:text-teal-400"}),r.createElement("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200"},z.name),dt&&r.createElement("span",{className:"text-[10px] bg-teal-100 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 px-1.5 py-0.5 rounded font-bold"},"  "),pe&&fe&&r.createElement("span",{className:"text-[10px] text-green-500 dark:text-green-300 flex items-center gap-1"},r.createElement(it,{size:10})," ")),r.createElement("div",{className:"flex items-center gap-2"},pe?r.createElement("button",{onClick:()=>Ze(pe.id,pe.provider),className:"text-gray-400 hover:text-red-500 transition"},r.createElement(Bn,{size:14})):r.createElement("button",{onClick:()=>{X(z.name),ge(z.id)},className:"text-xs px-2.5 py-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-bold transition"},"+ "))),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},z.desc))})),q&&["minio","aws"].includes(q)&&r.createElement("div",{className:"mt-3 p-4 border border-teal-200 dark:border-teal-800 rounded-xl bg-teal-50/50 dark:bg-teal-900/10"},r.createElement("div",{className:"flex gap-2 items-center mb-2"},r.createElement("span",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},q==="minio"?"MinIO":"AWS S3","  "),r.createElement("button",{onClick:()=>ge(null),className:"text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},"")),r.createElement("div",{className:"flex gap-2"},r.createElement("input",{type:"password",placeholder:q==="minio"?"Access Key:Secret Key ":"Access Key ID:Secret Access Key ",value:M,onChange:z=>{X(q==="minio"?"MinIO":"AWS"),ee(z.target.value)},className:"flex-1 p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-teal-500 font-mono"}),r.createElement("button",{onClick:()=>{Ke(),ge(null)},className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-lg text-xs font-bold transition"},"")),r.createElement("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2"},"Access Key Secret Key (:)  .")))),D==="database"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 text-sm text-gray-900 dark:text-gray-200 flex gap-3"},r.createElement(bt,{size:24,className:"shrink-0 text-gray-600 dark:text-gray-400 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"   (Text-to-SQL)"),r.createElement("p",{className:"text-xs text-gray-800/80 dark:text-gray-300/80 mt-1 leading-relaxed"},"     SQL    .   ",r.createElement("span",{className:"font-bold"},"SELECT  "),",  (INSERT/UPDATE/DELETE) ."))),r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(cn,{size:14}),"   "),r.createElement("div",{className:"grid grid-cols-2 gap-3"},r.createElement("input",{placeholder:"  (:  DB)",value:ne.name,onChange:z=>Pe({...ne,name:z.target.value}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"}),r.createElement("select",{value:ne.db_type,onChange:z=>Pe({...ne,db_type:z.target.value,port:z.target.value==="mysql"?3306:5432}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"},r.createElement("option",{value:"postgresql"},"PostgreSQL"),r.createElement("option",{value:"mysql"},"MySQL"),r.createElement("option",{value:"sqlite"},"SQLite")),ne.db_type!=="sqlite"&&r.createElement(r.Fragment,null,r.createElement("input",{placeholder:" (: localhost)",value:ne.host,onChange:z=>Pe({...ne,host:z.target.value}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"}),r.createElement("input",{placeholder:"",type:"number",value:ne.port,onChange:z=>Pe({...ne,port:parseInt(z.target.value)||0}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"}),r.createElement("input",{placeholder:"",value:ne.username,onChange:z=>Pe({...ne,username:z.target.value}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"}),r.createElement("input",{placeholder:"",type:"password",value:ne.password,onChange:z=>Pe({...ne,password:z.target.value}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"})),r.createElement("input",{placeholder:ne.db_type==="sqlite"?"  (: /data/mydb.sqlite)":"",value:ne.database,onChange:z=>Pe({...ne,database:z.target.value}),className:"col-span-2 p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"})),r.createElement("button",{onClick:Vt,disabled:!ne.name.trim()||!ne.database.trim(),className:"px-4 py-2 bg-green-500 text-white rounded-lg text-sm font-bold hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition"},r.createElement(cn,{size:14}),"  ")),r.createElement("section",{className:"space-y-3"},r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(Cl,{size:14}),"  "),Qe.length===0?r.createElement("div",{className:"text-center py-8 text-gray-400"},r.createElement(bt,{size:32,className:"mx-auto mb-2 opacity-30"}),r.createElement("p",{className:"text-sm"},"   ."),r.createElement("p",{className:"text-xs mt-1"},"   DB .")):Qe.map(z=>r.createElement("div",{key:z.id,className:"border border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-800 hover:border-gray-300 transition overflow-hidden"},r.createElement("div",{className:"flex items-center justify-between p-4"},r.createElement("div",{className:"min-w-0 flex-1"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:`inline-block w-2 h-2 rounded-full ${ye[z.id]==="success"?"bg-green-400":ye[z.id]==="error"?"bg-red-500":"bg-gray-300"}`}),r.createElement("span",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},z.name),r.createElement("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold uppercase ${z.db_type==="postgresql"?"bg-gray-100 text-gray-700 dark:bg-gray-900 dark:text-gray-300":z.db_type==="mysql"?"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`},z.db_type),z.schema_metadata&&r.createElement("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-green-50 text-green-600 dark:bg-green-900/30 dark:text-green-400"},"")),r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono mt-1 truncate"},z.db_type==="sqlite"?z.database:`${z.host}:${z.port}/${z.database}`),ye[z.id]==="success"&&r.createElement("div",{className:"text-xs text-green-500 mt-1 flex items-center gap-1"},r.createElement(it,{size:10}),"  "),ye[z.id]==="error"&&r.createElement("div",{className:"text-xs text-red-600 mt-1 truncate max-w-[300px]"},J[z.id])),r.createElement("div",{className:"flex items-center gap-2 shrink-0 ml-3"},r.createElement("button",{onClick:()=>{ke===z.id?U(null):(U(z.id),Y(z.schema_metadata||""))},className:`px-3 py-1.5 border rounded-lg text-xs font-bold flex items-center gap-1.5 transition ${ke===z.id?"bg-green-50 dark:bg-green-900/20 text-green-600 border-green-200 dark:border-green-800":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"}`},r.createElement(Nt,{size:12})," "),r.createElement("button",{onClick:()=>He(z.id),className:"px-3 py-1.5 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-xs font-bold hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center gap-1.5 transition"},r.createElement(Fn,{size:12,className:ye[z.id]==="testing"?"animate-spin":""})," "),r.createElement("button",{onClick:()=>$t(z.id),className:"px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 border border-red-100 dark:border-red-800 rounded-lg text-xs font-bold hover:bg-red-100 dark:hover:bg-red-900/40 flex items-center gap-1.5 transition"},r.createElement(Bn,{size:12})," "))),ke===z.id&&r.createElement("div",{className:"border-t border-gray-200 dark:border-gray-600 p-4 bg-white dark:bg-gray-700/50"},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement("label",{className:"text-xs font-bold text-gray-600 dark:text-gray-300"}," "),r.createElement("span",{className:"text-[10px] text-gray-400"},"/   T2SQL  ")),r.createElement("textarea",{value:F,onChange:pe=>Y(pe.target.value),placeholder:`:
- orders :   (order_id: , customer_name: , total_amount: )
- products :   (product_id: , price: , stock: )`,className:"w-full p-3 border border-gray-200 dark:border-gray-600 rounded-lg text-xs font-mono bg-gray-50 dark:bg-gray-800 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 resize-none",rows:5}),r.createElement("div",{className:"flex justify-end gap-2 mt-2"},r.createElement("button",{onClick:()=>U(null),className:"px-3 py-1.5 text-xs text-gray-500 hover:text-gray-700 transition"},""),r.createElement("button",{onClick:async()=>{(await Rt.updateDbMetadata(z.id,F)).error||(G(fe=>fe.map(dt=>dt.id===z.id?{...dt,schema_metadata:F}:dt)),U(null))},className:"px-4 py-1.5 bg-green-500 text-white rounded-lg text-xs font-bold hover:bg-green-600 transition"},"")))))),r.createElement("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4"},r.createElement("h5",{className:"text-xs font-bold text-gray-600 dark:text-gray-400 mb-2"}," "),r.createElement("ol",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1 list-decimal list-inside"},r.createElement("li",null,"    ."),r.createElement("li",null,r.createElement("span",{className:"font-bold"},""),"   ."),r.createElement("li",null,"  ",r.createElement("span",{className:"inline-flex items-center gap-1 font-bold"},r.createElement(bt,{size:10}),"SQL"),"   DB ."),r.createElement("li",null,"  AI SQL  .")))),D==="mcp"&&r.createElement("div",{className:"space-y-6 max-w-2xl"},r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 text-sm text-gray-800 dark:text-gray-300 flex gap-3"},r.createElement(zn,{size:20,className:"shrink-0 text-gray-600 dark:text-gray-400 mt-0.5"}),r.createElement("div",null,r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("h4",{className:"font-bold"},"MCP (Model Context Protocol)"),r.createElement("span",{className:"px-2 py-0.5 bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-[10px] font-bold rounded-full"},"Beta")),r.createElement("p",{className:"text-xs text-gray-700/80 dark:text-gray-400/80 leading-relaxed"},"MCP   AI  ( , , API )   .",r.createElement("br",null),"SSE/Streamable HTTP  , stdio    ."))),r.createElement("section",null,r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2"},r.createElement(cn,{size:14}),"  MCP  "),r.createElement("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-xl bg-gray-50/50 dark:bg-gray-800/50 space-y-3"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-2"}," "),r.createElement("div",{className:"grid grid-cols-3 gap-2"},[{id:"sse",label:"SSE",desc:"Server-Sent Events"},{id:"streamable-http",label:"Streamable HTTP",desc:"HTTP "},{id:"stdio",label:"stdio",desc:" "}].map(z=>r.createElement("div",{key:z.id,onClick:()=>ve(z.id),className:`p-2.5 rounded-lg border-2 cursor-pointer transition-all text-center ${K===z.id?"border-green-400 bg-green-50/50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`},r.createElement("div",{className:`text-xs font-bold ${K===z.id,"text-gray-700 dark:text-gray-300"}`},z.label),r.createElement("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-0.5"},z.desc))))),r.createElement("div",{className:"grid grid-cols-2 gap-3"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"}," "),r.createElement("input",{type:"text",value:se,onChange:z=>$(z.target.value),placeholder:": Filesystem",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400"})),r.createElement("div",null,K==="stdio"?r.createElement(r.Fragment,null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"}," "),r.createElement("input",{type:"text",value:re,onChange:z=>te(z.target.value),placeholder:": npx -y @modelcontextprotocol/server-filesystem",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 font-mono text-xs"})):r.createElement(r.Fragment,null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"},"Endpoint URL"),r.createElement("input",{type:"text",value:L,onChange:z=>I(z.target.value),placeholder:"http://localhost:3001/mcp",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 font-mono text-xs"})))),r.createElement("button",{onClick:Xe,disabled:!se.trim()||(K==="stdio"?!re.trim():!L.trim()),className:"w-full py-2.5 bg-green-500 hover:bg-green-600 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg text-sm font-bold transition flex items-center justify-center gap-2"},r.createElement(zn,{size:14}),"  "))),r.createElement("section",null,r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(Cl,{size:14}),"   (",d.length,")"),d.length>1&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 flex items-center gap-1"},r.createElement(og,{size:10}),"     ")),d.length>0?r.createElement("div",{className:"space-y-2"},d.map((z,pe)=>r.createElement("div",{key:z.id,draggable:!0,onDragStart:fe=>Je(fe,pe),onDragOver:fe=>we(fe),onDrop:fe=>et(fe,pe),className:`p-3 rounded-xl group hover:border-gray-300 dark:hover:border-gray-600 transition-colors ${pe===0?"border-2 border-gray-300 dark:border-gray-700 bg-gray-50/30 dark:bg-gray-900/10":"border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}`},r.createElement("div",{className:"flex justify-between items-start"},r.createElement("div",{className:"flex gap-2 items-start flex-1 min-w-0"},r.createElement("div",{className:`w-6 h-6 rounded-md flex items-center justify-center text-[10px] font-bold shrink-0 mt-0.5 ${pe===0?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`},pe+1),r.createElement("div",{className:"cursor-move text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400 mt-0.5"},r.createElement(og,{size:16})),r.createElement("div",{className:`p-2 rounded-lg shrink-0 ${z.status==="connected"?"bg-green-50 dark:bg-green-800/30 text-green-500 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500"}`},r.createElement(Cl,{size:18})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"font-bold text-sm text-gray-800 dark:text-gray-200 flex items-center gap-2 flex-wrap"},z.name,r.createElement("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-medium ${z.type==="stdio"?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400":"bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-400"}`},z.type),pe===0&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-400 px-1.5 py-0.5 rounded font-bold"},"")),r.createElement("div",{className:"flex items-center gap-2 mt-1"},r.createElement("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${z.status==="connected"?"bg-green-400":"bg-gray-400"}`}),r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},z.status==="connected"?"":"  ")),z.url&&r.createElement("div",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-mono mt-1 truncate"},z.url),z.command&&r.createElement("div",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-mono mt-1 truncate"},"$ ",z.command))),r.createElement("div",{className:"flex items-center gap-1 shrink-0"},r.createElement("div",{className:"flex flex-col gap-0.5 opacity-0 group-hover:opacity-100 transition"},r.createElement("button",{onClick:()=>h(pe,"up"),disabled:pe===0,className:"p-0.5 rounded hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition",title:" "},r.createElement(Cp,{size:12})),r.createElement("button",{onClick:()=>h(pe,"down"),disabled:pe===d.length-1,className:"p-0.5 rounded hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition",title:" "},r.createElement(Xc,{size:12}))),r.createElement("button",{onClick:()=>f(z.id),className:"text-gray-300 dark:text-gray-600 hover:text-red-500 dark:hover:text-red-400 transition p-1 opacity-0 group-hover:opacity-100"},r.createElement(Bn,{size:15}))))))):r.createElement("div",{className:"p-8 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-center"},r.createElement(zn,{size:24,className:"text-gray-300 dark:text-gray-600 mx-auto mb-2"}),r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"}," MCP  "),r.createElement("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1"},"  MCP  .")),d.length>0&&r.createElement("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-2 flex items-center gap-1"},r.createElement(At,{size:10})," 1   .    .")),r.createElement("section",{className:"border-t border-gray-200 dark:border-gray-700 pt-4"},r.createElement("details",{className:"group"},r.createElement("summary",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 cursor-pointer flex items-center gap-1 hover:text-gray-700 dark:hover:text-gray-300"},r.createElement(At,{size:12})," MCP  "),r.createElement("div",{className:"mt-3 space-y-2 text-xs text-gray-500 dark:text-gray-400"},r.createElement("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},r.createElement("div",{className:"font-bold text-gray-700 dark:text-gray-300 mb-1"},"Filesystem (stdio)"),r.createElement("code",{className:"text-[10px] font-mono bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded block"},"npx -y @modelcontextprotocol/server-filesystem /path/to/dir")),r.createElement("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},r.createElement("div",{className:"font-bold text-gray-700 dark:text-gray-300 mb-1"},"GitHub (stdio)"),r.createElement("code",{className:"text-[10px] font-mono bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded block"},"npx -y @modelcontextprotocol/server-github")),r.createElement("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},r.createElement("div",{className:"font-bold text-gray-700 dark:text-gray-300 mb-1"},"Custom API (SSE)"),r.createElement("code",{className:"text-[10px] font-mono bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded block"},"http://localhost:3001/mcp/sse")))))),D==="system"&&r.createElement(Rx,{testStatus:ct,handleTestConnection:be,testDetail:ue}))))}function Mx({icon:t,label:a,serviceName:s,testStatus:o,testDetail:c,onTest:u}){const d=o[s]||"idle",g=c[s]||"",f=()=>d==="testing"?r.createElement("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded flex items-center gap-1"},r.createElement(Fn,{size:12,className:"animate-spin"}),"  ..."):d==="success"?r.createElement("span",{className:"text-xs bg-green-50 text-green-600 px-2 py-1 rounded"},"Connected"):d==="error"?r.createElement("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded",title:g},"Disconnected"):r.createElement("span",{className:"text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded cursor-pointer hover:bg-gray-200",onClick:()=>u(s)},"");return r.createElement("div",{className:"flex justify-between items-center p-3 border rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},r.createElement("span",{className:"text-sm font-medium flex items-center gap-2"},r.createElement(t,{size:14})," ",a),f())}function Rx({testStatus:t,handleTestConnection:a,testDetail:s}){const o=[{icon:bt,label:"Qdrant Vector DB",serviceName:"qdrant"},{icon:on,label:"Ollama Inference",serviceName:"ollama"},{icon:_a,label:"Neo4j Graph DB",serviceName:"neo4j"},{icon:Pn,label:"Redis Cache",serviceName:"redis"}],c=()=>{o.forEach(u=>a(u.serviceName))};return r.createElement("div",{className:"space-y-6 max-w-2xl"},r.createElement("div",{className:"bg-gray-900 text-white rounded-xl p-6 shadow-lg"},r.createElement("div",{className:"flex items-center gap-3 mb-4"},r.createElement("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center font-bold text-xl"},"R"),r.createElement("div",null,r.createElement("h3",{className:"font-bold text-lg"},"RAG AI"),r.createElement("p",{className:"text-xs text-gray-400"},"Enterprise RAG Solution"))),r.createElement("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-700 pt-4"},r.createElement("div",null,r.createElement("span",{className:"text-gray-500 block text-xs mb-1"},"Version"),r.createElement("span",{className:"font-mono"},"v1.0.0 (Beta)")),r.createElement("div",null,r.createElement("span",{className:"text-gray-500 block text-xs mb-1"},"Status"),r.createElement("span",{className:"text-green-300 flex items-center gap-1"},r.createElement("div",{className:"w-2 h-2 bg-green-300 rounded-full"})," Online")))),r.createElement("section",null,r.createElement("div",{className:"flex justify-between items-center mb-3"},r.createElement("h4",{className:"font-bold text-gray-800 text-sm"}," "),r.createElement("button",{onClick:c,className:"text-xs text-gray-600 hover:text-gray-800 font-bold flex items-center gap-1"},r.createElement(Fn,{size:12}),"  ")),r.createElement("div",{className:"space-y-2"},o.map(u=>r.createElement(Mx,{key:u.serviceName,icon:u.icon,label:u.label,serviceName:u.serviceName,testStatus:t,testDetail:s,onTest:a})))))}function lo({isOpen:t,onClose:a,title:s,children:o,size:c="md"}){const u=E.useRef(null),d={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-5xl","3xl":"max-w-7xl",full:"max-w-[95vw] h-[95vh]"};return E.useEffect(()=>{const g=f=>f.key==="Escape"&&a();return t&&(document.body.style.overflow="hidden",window.addEventListener("keydown",g)),()=>{document.body.style.overflow="unset",window.removeEventListener("keydown",g)}},[t,a]),t?jl.createPortal(r.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6"},r.createElement("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity animate-in fade-in duration-200",onClick:a}),r.createElement("div",{ref:u,className:`relative w-full ${d[c]||d.md} bg-white dark:bg-gray-900 rounded-2xl shadow-2xl flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-200 border border-gray-200 dark:border-gray-700 overflow-hidden`},r.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-b dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50"},r.createElement("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100"},s),r.createElement("button",{onClick:a,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition"},r.createElement(mr,{size:20}))),r.createElement("div",{className:"flex-1 overflow-auto relative bg-white dark:bg-gray-900"},o))),document.body):null}function Ax(t){if(!t)return"";const a=Date.now()-new Date(t).getTime(),s=Math.floor(a/6e4);if(s<1)return" ";if(s<60)return`${s} `;const o=Math.floor(s/60);return o<24?`${o} `:`${Math.floor(o/24)} `}function Dx({isOpen:t,onClose:a,sessions:s,knowledgeBases:o,agents:c,onAction:u}){const[d,g]=E.useState(""),[f,h]=E.useState(0),y=E.useRef(null),x=E.useRef(null);E.useEffect(()=>{t&&(g(""),h(0),setTimeout(()=>y.current?.focus(),50))},[t]);const k=E.useMemo(()=>{const S=[];return S.push({category:" ",icon:cn,label:"  ",action:"new-chat"}),S.push({category:" ",icon:Rl,label:"  ",action:"navigate:/knowledge"}),S.push({category:" ",icon:Qt,label:"  ",action:"toggle-web"}),S.push({category:" ",icon:Xn,label:"Deep Think ",action:"toggle-deep-think"}),S.push({category:" ",icon:bt,label:"SQL  ",action:"toggle-sql"}),(s||[]).forEach(_=>{S.push({category:" ",icon:bn,label:_.title||" ",sublabel:Ax(_.updatedAt||_.createdAt),action:`session:${_.id}`})}),(o||[]).forEach(_=>{S.push({category:" ",icon:bt,label:_.name,sublabel:`${_.files?.length||0} `,action:"navigate:/knowledge"})}),(c||[]).filter(_=>!_.agentType||_.agentType==="custom").forEach(_=>{S.push({category:"",icon:Tt,label:_.name,sublabel:_.model,action:`agent:${_.id}`})}),S.push({category:" ",icon:zp,label:" ",action:"navigate:/home"}),S.push({category:" ",icon:bn,label:"",action:"navigate:/chat"}),S.push({category:" ",icon:bt,label:" ",action:"navigate:/knowledge"}),S.push({category:" ",icon:Tt,label:" ",action:"navigate:/agent"}),S.push({category:" ",icon:Zc,label:"",action:"navigate:/training"}),S.push({category:" ",icon:Zr,label:"",action:"navigate:/guide"}),S.push({category:" ",icon:ho,label:" ",action:"open-settings"}),S},[s,o,c]),v=E.useMemo(()=>{if(!d.trim())return k;const S=d.toLowerCase();return k.filter(_=>_.label.toLowerCase().includes(S)||_.category.toLowerCase().includes(S)||_.sublabel&&_.sublabel.toLowerCase().includes(S))},[d,k]);if(E.useEffect(()=>{h(0)},[d]),E.useEffect(()=>{if(!t)return;const S=_=>{_.key==="ArrowDown"?(_.preventDefault(),h(N=>Math.min(N+1,v.length-1))):_.key==="ArrowUp"?(_.preventDefault(),h(N=>Math.max(N-1,0))):_.key==="Enter"&&v[f]?(_.preventDefault(),u(v[f].action),a()):_.key==="Escape"&&(_.preventDefault(),a())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,v,f,u,a]),E.useEffect(()=>{x.current&&x.current.querySelector(`[data-idx="${f}"]`)?.scrollIntoView({block:"nearest"})},[f]),!t)return null;const D=[];let P=null;return v.forEach((S,_)=>{S.category!==P&&(D.push({type:"header",label:S.category}),P=S.category),D.push({type:"item",...S,flatIdx:_})}),jl.createPortal(r.createElement("div",{className:"fixed inset-0 z-[150] flex items-start justify-center pt-[18vh] animate-fadeIn",onClick:a},r.createElement("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"}),r.createElement("div",{className:"relative w-full max-w-xl bg-white dark:bg-gray-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden animate-scaleIn",onClick:S=>S.stopPropagation()},r.createElement("div",{className:"flex items-center gap-3 px-5 py-4 border-b border-gray-200 dark:border-gray-700"},r.createElement(fo,{size:18,className:"text-gray-400 shrink-0"}),r.createElement("input",{ref:y,type:"text",value:d,onChange:S=>g(S.target.value),placeholder:" ...",className:"flex-1 bg-transparent text-base text-gray-900 dark:text-gray-100 outline-none placeholder:text-gray-400"}),r.createElement("kbd",{className:"hidden sm:inline text-[10px] text-gray-400 bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded border border-gray-200 dark:border-gray-700 font-mono"},"ESC")),r.createElement("div",{ref:x,className:"max-h-[50vh] overflow-y-auto custom-scrollbar py-2"},v.length===0?r.createElement("div",{className:"px-5 py-8 text-center text-sm text-gray-400"},"  "):D.map((S,_)=>{if(S.type==="header")return r.createElement("div",{key:`h-${S.label}`,className:"px-4 pt-3 pb-1 text-[10px] text-gray-400 dark:text-gray-500 font-bold uppercase tracking-wider"},S.label);const N=S.icon,R=S.flatIdx===f;return r.createElement("button",{key:`${S.action}-${S.flatIdx}`,"data-idx":S.flatIdx,onClick:()=>{u(S.action),a()},onMouseEnter:()=>h(S.flatIdx),className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${R?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement(N,{size:16,className:R?"text-green-500":"text-gray-400"}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("span",{className:"text-sm font-medium truncate block"},S.label),S.sublabel&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500"},S.sublabel)))})),r.createElement("div",{className:"flex items-center gap-4 px-4 py-2.5 border-t border-gray-200 dark:border-gray-700 text-[10px] text-gray-400"},r.createElement("span",{className:"flex items-center gap-1"},r.createElement(Cp,{size:10}),r.createElement(Xc,{size:10})," "),r.createElement("span",null," "),r.createElement("span",null,"esc ")))),document.body)}const Ox=[{category:"",shortcuts:[{keys:["Ctrl","K"],desc:" "},{keys:["Ctrl","N"],desc:" "},{keys:["?"],desc:" "}]},{category:"",shortcuts:[{keys:["Enter"],desc:" "},{keys:["Shift","Enter"],desc:""},{keys:["Esc"],desc:"  /  "}]},{category:" ",shortcuts:[{keys:["Ctrl","Shift","W"],desc:"  ON/OFF"},{keys:["Ctrl","Shift","D"],desc:"Deep Think ON/OFF"},{keys:["Ctrl","Shift","S"],desc:"SQL  ON/OFF"}]},{category:"",shortcuts:[{keys:["Alt","1"],desc:""},{keys:["Alt","2"],desc:""},{keys:["Alt","3"],desc:" "},{keys:["Alt","4"],desc:""},{keys:["Alt","5"],desc:""},{keys:["Alt","6"],desc:""}]}];function jx({children:t}){return r.createElement("kbd",{className:"inline-flex items-center justify-center min-w-[24px] h-6 px-1.5 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded text-[11px] font-mono font-medium text-gray-600 dark:text-gray-300 shadow-sm"},t)}function Fx({isOpen:t,onClose:a}){return t?jl.createPortal(r.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center animate-fadeIn",onClick:a},r.createElement("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"}),r.createElement("div",{className:"relative w-full max-w-lg bg-white dark:bg-gray-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden animate-scaleIn",onClick:s=>s.stopPropagation()},r.createElement("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-sm font-bold text-gray-900 dark:text-gray-100"}," "),r.createElement("button",{onClick:a,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},r.createElement(mr,{size:16}))),r.createElement("div",{className:"p-5 grid grid-cols-2 gap-6 max-h-[60vh] overflow-y-auto custom-scrollbar"},Ox.map(s=>r.createElement("div",{key:s.category},r.createElement("h3",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-bold uppercase tracking-wider mb-3"},s.category),r.createElement("div",{className:"space-y-2.5"},s.shortcuts.map((o,c)=>r.createElement("div",{key:c,className:"flex items-center justify-between gap-3"},r.createElement("span",{className:"text-xs text-gray-600 dark:text-gray-400"},o.desc),r.createElement("div",{className:"flex items-center gap-1 shrink-0"},o.keys.map((u,d)=>r.createElement(r.Fragment,{key:d},d>0&&r.createElement("span",{className:"text-[9px] text-gray-300 dark:text-gray-600"},"+"),r.createElement(jx,null,u)))))))))),r.createElement("div",{className:"px-5 py-3 border-t border-gray-200 dark:border-gray-700 text-[10px] text-gray-400 text-center"},"    "))),document.body):null}function $x(){const{user:t,logout:a,isAuthenticated:s}=Fl(),{sessions:o,currentSessionId:c,setCurrentSessionId:u,createNewSession:d,renameSession:g,deleteSession:f,knowledgeBases:h,agents:y,config:x,setConfig:k}=Ma(),{confirm:v}=pr(),[D,P]=E.useState(null),[S,_]=E.useState(!1),[N,R]=E.useState(!1),[Z,X]=E.useState(null),[M,ee]=E.useState(""),[se,$]=E.useState(!1),[L,I]=E.useState(!1),K=Ar(),ve=gr();E.useEffect(()=>{const w=["/home","/chat","/knowledge","/agent","/training","/guide"],O=B=>{const C=B.target.tagName,Ee=C==="INPUT"||C==="TEXTAREA"||B.target.isContentEditable;if((B.metaKey||B.ctrlKey)&&B.key==="k"){B.preventDefault(),_(Ae=>!Ae);return}if((B.metaKey||B.ctrlKey)&&B.key==="n"&&!B.shiftKey){B.preventDefault(),d(),K("/chat");return}if((B.metaKey||B.ctrlKey)&&B.shiftKey){if(B.key==="W"||B.key==="w"){B.preventDefault(),k({...x,useWebSearch:!x.useWebSearch});return}if(B.key==="D"||B.key==="d"){B.preventDefault(),k({...x,useDeepThink:!x.useDeepThink});return}if(B.key==="S"||B.key==="s"){B.preventDefault(),k({...x,useSql:!x.useSql});return}}if(B.altKey&&B.key>="1"&&B.key<="6"){B.preventDefault(),K(w[parseInt(B.key)-1]);return}!Ee&&B.key==="?"&&!B.ctrlKey&&!B.metaKey&&(B.preventDefault(),R(Ae=>!Ae))};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[x,K,d,k]);const re=w=>{w==="new-chat"?(d(),K("/chat")):w.startsWith("navigate:")?K(w.split(":")[1]):w.startsWith("session:")?(u(w.split(":")[1]),K("/chat")):w.startsWith("agent:")?K("/chat"):w==="open-settings"?P("settings"):w==="toggle-web"?k({...x,useWebSearch:!x.useWebSearch}):w==="toggle-deep-think"?k({...x,useDeepThink:!x.useDeepThink}):w==="toggle-sql"&&k({...x,useSql:!x.useSql})};if(!s)return r.createElement(Tc,{to:"/login",replace:!0});const te=w=>{X(w.id),ee(w.title)},Q=()=>{Z&&M.trim()&&g(Z,M),X(null)},ie=()=>{X(null)},q=w=>ve.pathname.includes(w),ge=q("/chat");return r.createElement("div",{className:"flex flex-col h-screen bg-gray-50 overflow-hidden font-sans"},L&&r.createElement("div",{className:"fixed inset-0 z-[100] bg-gray-50/95 flex flex-col items-center justify-center border-4 border-green-400 border-dashed m-6 rounded-2xl animate-in fade-in duration-300 pointer-events-none"},r.createElement("div",{className:"w-24 h-24 bg-green-400 rounded-2xl flex items-center justify-center shadow-lg animate-bounce"},r.createElement(Rl,{size:40,className:"text-white"})),r.createElement("h2",{className:"text-2xl font-bold text-gray-900 mt-6 mb-2"},"  "),r.createElement("p",{className:"text-gray-600"},"  ...")),r.createElement("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6 shrink-0 z-20 animate-slideDown"},r.createElement("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-all hover:scale-[1.02]",onClick:()=>K("/home")},r.createElement("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center shadow-sm hover:scale-110 transition-transform"},r.createElement(ur,{size:22,className:"text-white"})),r.createElement("div",null,r.createElement("h1",{className:"text-xl font-bold text-gray-900"},"RAG AI"),r.createElement("p",{className:"text-[10px] text-gray-500 -mt-0.5"},"Powered by Claude"))),r.createElement("nav",{className:"flex items-center gap-2"},r.createElement(Jr,{icon:zp,label:"",active:q("/home"),onClick:()=>K("/home")}),r.createElement(Jr,{icon:bn,label:"",active:q("/chat"),onClick:()=>{!ge&&o.length>0&&u(o[0].id),K("/chat")},badge:o.length>0?o.length:null}),r.createElement(Jr,{icon:bt,label:" ",active:q("/knowledge"),onClick:()=>K("/knowledge")}),r.createElement(Jr,{icon:Tt,label:"",active:q("/agent"),onClick:()=>K("/agent")}),r.createElement(Jr,{icon:Zc,label:"",active:q("/training")||q("/finetuning"),onClick:()=>K("/training")}),r.createElement(Jr,{icon:Zr,label:"",active:q("/guide"),onClick:()=>K("/guide")}),r.createElement(Jr,{icon:ho,label:"",active:!1,onClick:()=>P("settings")})),r.createElement("div",{className:"flex items-center gap-3"},!ge&&r.createElement("button",{onClick:()=>{d(),K("/chat")},className:"flex items-center gap-2 px-4 py-2 bg-green-400 hover:bg-green-500 text-white rounded-lg font-medium text-sm transition-all hover:scale-105 active:scale-95 shadow-sm"},r.createElement(cn,{size:16}),r.createElement("span",null," ")),r.createElement("div",{className:"flex items-center gap-2.5 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors cursor-pointer group"},r.createElement("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white font-bold text-sm shadow-sm group-hover:scale-110 transition-transform"},t?.name?.[0].toUpperCase()||"U"),r.createElement("div",{className:"hidden md:block"},r.createElement("div",{className:"text-sm font-semibold text-gray-900"},t?.name||"User"),r.createElement("div",{className:"text-xs text-gray-500"},t?.email?.split("@")[0]||"user")),r.createElement("button",{onClick:w=>{w.stopPropagation(),a()},className:"ml-2 p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg hover:scale-110 active:scale-95 transition-all",title:""},r.createElement(xx,{size:16}))))),r.createElement("div",{className:"flex flex-1 overflow-hidden"},ge&&r.createElement("aside",{className:`bg-white border-r border-gray-200 flex flex-col shrink-0 transition-all duration-300 ${se?"w-0":"w-[280px]"} overflow-hidden`},r.createElement("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement(bn,{size:18,className:"text-gray-500"}),r.createElement("h2",{className:"font-semibold text-gray-900"}," "),r.createElement("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full font-medium"},o.length)),r.createElement("button",{onClick:()=>$(!se),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all hover:scale-110"},r.createElement(gx,{size:16}))),r.createElement("div",{className:"p-3 border-b border-gray-200"},r.createElement("button",{onClick:()=>{d()},className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-green-400 hover:bg-green-500 text-white rounded-lg font-medium text-sm transition-all hover:scale-[1.02] active:scale-95 shadow-sm"},r.createElement(cn,{size:18}),r.createElement("span",null," "))),r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-3 py-2 space-y-1"},o.length===0?r.createElement("div",{className:"text-center py-12 text-gray-500"},r.createElement(bn,{size:32,className:"mx-auto mb-2 opacity-50"}),r.createElement("p",{className:"text-sm"}," ")):o.map((w,O)=>r.createElement("div",{key:w.id,className:`relative group animate-slideUp animate-stagger-${Math.min(O%4+1,4)}`},Z===w.id?r.createElement("div",{className:"flex items-center gap-1.5 px-3 py-2.5 bg-gray-50 rounded-lg border border-gray-300"},r.createElement("input",{type:"text",value:M,onChange:B=>ee(B.target.value),className:"flex-1 bg-white border border-gray-300 text-gray-900 text-sm outline-none min-w-0 px-2 py-1 rounded focus:ring-2 focus:ring-green-400 transition-all",autoFocus:!0,onKeyDown:B=>B.key==="Enter"&&Q()}),r.createElement("button",{onClick:Q,className:"p-1 text-green-500 hover:text-green-600 hover:scale-110 transition-all"},r.createElement(it,{size:16})),r.createElement("button",{onClick:ie,className:"p-1 text-gray-400 hover:text-gray-600 hover:scale-110 transition-all"},r.createElement(mr,{size:16}))):r.createElement("button",{onClick:()=>u(w.id),className:`relative w-full flex items-center gap-2.5 px-3 py-2.5 rounded-lg text-sm transition-all group/btn ${c===w.id?"bg-gray-50 text-gray-700 font-medium border border-gray-200":"text-gray-700 hover:bg-gray-100 hover:scale-[1.02]"}`},r.createElement(bn,{size:16,className:`${c===w.id?"text-gray-600":"text-gray-400"} transition-all`}),r.createElement("span",{className:"truncate flex-1 text-left"},w.title),r.createElement("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 hidden group-hover:flex items-center gap-0.5 bg-white border border-gray-200 rounded-md p-0.5 shadow-sm"},r.createElement("div",{onClick:B=>{B.stopPropagation(),te(w)},className:"p-1.5 hover:text-gray-600 hover:bg-gray-50 rounded transition-all hover:scale-110 cursor-pointer"},r.createElement(Nt,{size:13})),r.createElement("div",{onClick:B=>{B.stopPropagation(),v("  ?",()=>f(w.id),{confirmLabel:""})},className:"p-1.5 hover:text-red-600 hover:bg-red-50 rounded transition-all hover:scale-110 cursor-pointer"},r.createElement(Bn,{size:13})))))))),ge&&se&&r.createElement("button",{onClick:()=>$(!1),className:"absolute left-0 top-20 bg-white border border-gray-200 rounded-r-lg p-2 hover:bg-gray-50 transition-all hover:scale-110 z-10 shadow-sm"},r.createElement(_l,{size:16,className:"text-gray-600"})),r.createElement("main",{className:"flex-1 flex flex-col bg-white relative min-w-0 overflow-hidden"},r.createElement(xy,null))),r.createElement(lo,{isOpen:D==="settings",onClose:()=>P(null),title:"System Settings",size:"3xl"},r.createElement(Ix,null)),r.createElement(Fx,{isOpen:N,onClose:()=>R(!1)}),r.createElement(Dx,{isOpen:S,onClose:()=>_(!1),sessions:o,knowledgeBases:h,agents:y,onAction:re}))}function Jr({icon:t,label:a,active:s,onClick:o,badge:c}){return r.createElement("button",{onClick:o,className:`relative flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all hover:scale-105 active:scale-95 ${s?"bg-green-50 text-green-600 shadow-sm":"text-gray-600 hover:bg-gray-100"}`},r.createElement(t,{size:18,className:`${s?"text-green-500":"text-gray-400"} transition-transform`}),r.createElement("span",{className:"hidden md:inline"},a),c!=null&&r.createElement("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold rounded-full w-5 h-5 flex items-center justify-center shadow-sm animate-pulse"},c))}function Bx(){const t=Ar(),{user:a}=Fl(),{agents:s,knowledgeBases:o,sessions:c,createNewSession:u,setCurrentSessionId:d,config:g}=Ma(),[f,h]=E.useState({}),[y,x]=E.useState(!0);E.useEffect(()=>{(async()=>{x(!0);const R=["neo4j","redis","qdrant","ollama"],Z={};await Promise.all(R.map(async X=>{try{const M=await wp.testService(X);Z[X]=M.status==="connected"}catch{Z[X]=!1}})),h(Z),x(!1)})()},[]);const k=o.reduce((N,R)=>N+(R.files?.length||0),0),v=Object.values(f).filter(Boolean).length,D=()=>{u(),t("/chat")},P=new Date().getHours(),S=P<12?" ":P<18?" ":" ",_=a?.name||"User";return r.createElement("div",{className:"h-full overflow-y-auto bg-gray-50 custom-scrollbar"},r.createElement("div",{className:"max-w-7xl mx-auto px-8 py-10 space-y-10"},r.createElement("section",{className:"animate-slideDown"},r.createElement("div",{className:"flex items-end justify-between mb-8"},r.createElement("div",null,r.createElement("h1",{className:"text-3xl font-bold text-gray-900"},S,", ",r.createElement("span",{className:"text-gray-600"},_)),r.createElement("p",{className:"text-base text-gray-600 mt-2"},"RAG AI     .")),r.createElement("button",{onClick:D,className:"ripple-container flex items-center gap-2.5 px-6 py-3 bg-green-500 hover:bg-green-600 active:scale-95 text-white text-sm font-semibold rounded-lg shadow-sm hover:shadow-md transition-all"},r.createElement(cn,{size:18,className:"group-hover:rotate-90 transition-transform duration-300"}),"  ")),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5"},r.createElement("button",{onClick:D,className:"group relative p-7 bg-white rounded-lg text-left border border-gray-200 hover:border-gray-400 hover-lift animate-slideUp animate-stagger-1"},r.createElement("div",{className:"w-12 h-12 bg-gray-50 text-gray-600 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"},r.createElement(bn,{size:24,className:"group-hover:rotate-6 transition-transform"})),r.createElement("div",{className:"font-bold text-lg text-gray-900"},"RAG  "),r.createElement("div",{className:"text-sm text-gray-600 mt-1.5 leading-relaxed"},"   AI "),r.createElement(Sl,{size:16,className:"absolute bottom-6 right-6 text-gray-300 group-hover:text-gray-500 group-hover:translate-x-1 transition-all"})),r.createElement("button",{onClick:()=>t("/knowledge"),className:"group relative p-7 bg-white rounded-lg text-left border border-gray-200 hover:border-purple-400 hover-lift animate-slideUp animate-stagger-2"},r.createElement("div",{className:"w-12 h-12 bg-purple-50 text-purple-600 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"},r.createElement(bt,{size:24,className:"group-hover:rotate-6 transition-transform"})),r.createElement("div",{className:"font-bold text-lg text-gray-900"}," "),r.createElement("div",{className:"text-sm text-gray-600 mt-1.5 leading-relaxed"},"     "),r.createElement(Sl,{size:16,className:"absolute bottom-6 right-6 text-gray-300 group-hover:text-purple-500 group-hover:translate-x-1 transition-all"})),r.createElement("button",{onClick:()=>t("/agent"),className:"group relative p-7 bg-white rounded-lg text-left border border-gray-200 hover:border-gray-400 hover-lift animate-slideUp animate-stagger-3"},r.createElement("div",{className:"w-12 h-12 bg-gray-50 text-gray-600 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"},r.createElement(Tt,{size:24,className:"group-hover:rotate-6 transition-transform"})),r.createElement("div",{className:"font-bold text-lg text-gray-900"}," "),r.createElement("div",{className:"text-sm text-gray-600 mt-1.5 leading-relaxed"},"AI    "),r.createElement(Sl,{size:16,className:"absolute bottom-6 right-6 text-gray-300 group-hover:text-gray-500 group-hover:translate-x-1 transition-all"})))),r.createElement("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-fadeIn"},r.createElement("div",{className:"lg:col-span-2 grid grid-cols-2 sm:grid-cols-4 gap-4"},[{label:"",value:s.length,icon:Tt,color:"text-gray-600",bg:"bg-gray-50"},{label:" ",value:o.length,icon:bt,color:"text-purple-600",bg:"bg-purple-50"},{label:"",value:k,icon:Zr,color:"text-green-500",bg:"bg-green-50"},{label:"",value:c.length,icon:bn,color:"text-orange-600",bg:"bg-orange-50"}].map((N,R)=>r.createElement("div",{key:R,className:`bg-white p-5 rounded-lg border border-gray-200 hover:border-gray-300 hover-lift cursor-pointer animate-scaleIn animate-stagger-${R+1}`},r.createElement("div",{className:`w-10 h-10 ${N.bg} ${N.color} rounded-lg flex items-center justify-center mb-3 hover:scale-110 transition-transform`},r.createElement(N.icon,{size:20})),r.createElement("div",{className:"text-3xl font-bold text-gray-900 tracking-tight"},N.value),r.createElement("div",{className:"text-xs font-semibold text-gray-500 mt-1"},N.label)))),r.createElement("div",{className:"bg-white rounded-lg border border-gray-200 p-5 animate-scaleIn"},r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-600 uppercase tracking-wider"}," "),!y&&r.createElement("span",{className:`text-xs font-semibold px-2.5 py-1 rounded-full animate-scaleIn ${v===4?"bg-green-50 text-green-600":v>=2?"bg-yellow-50 text-yellow-700":"bg-red-50 text-red-700"}`},v,"/4 ")),r.createElement("div",{className:"space-y-2.5"},[{key:"ollama",label:"Ollama",desc:"LLM ",icon:on},{key:"qdrant",label:"Qdrant",desc:" ",icon:bt},{key:"neo4j",label:"Neo4j",desc:" ",icon:Qt},{key:"redis",label:"Redis",desc:"",icon:Pn}].map((N,R)=>r.createElement("div",{key:N.key,className:`flex items-center gap-3.5 px-3 py-2.5 rounded-lg hover:bg-gray-50 transition-all cursor-pointer animate-slideUp animate-stagger-${R+1}`},r.createElement("div",{className:`relative w-2.5 h-2.5 rounded-full shrink-0 ${y?"bg-gray-300 animate-pulse":f[N.key]?"bg-green-400":"bg-red-400"}`},!y&&f[N.key]&&r.createElement("span",{className:"absolute inset-0 rounded-full bg-green-400 animate-ping opacity-30"})),r.createElement(N.icon,{size:16,className:"text-gray-500 shrink-0 hover:scale-110 transition-transform"}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("span",{className:"text-sm font-semibold text-gray-800"},N.label),r.createElement("span",{className:"text-xs text-gray-500 ml-2"},N.desc)),!y&&r.createElement("span",{className:`text-xs font-semibold transition-colors ${f[N.key]?"text-green-500":"text-red-500"}`},f[N.key]?"ON":"OFF")))))),(k===0||c.length<=1)&&r.createElement("section",{className:"bg-green-500 rounded-lg p-8 text-white animate-slideUp"},r.createElement("div",{className:"flex items-center gap-2.5 mb-2"},r.createElement(Zr,{size:18,className:"animate-float"}),r.createElement("span",{className:"text-sm font-semibold text-gray-100 uppercase tracking-wider"}," ")),r.createElement("h3",{className:"text-xl font-bold mb-5"},"3 RAG AI "),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},[{step:1,title:" ",desc:"  PDF, DOCX  ",done:k>0,path:"/knowledge"},{step:2,title:" ",desc:"AI    ",done:s.length>1,path:"/agent"},{step:3,title:" ",desc:"     ",done:c.length>1,action:D}].map((N,R)=>r.createElement("button",{key:N.step,onClick:()=>N.action?N.action():t(N.path),className:`bg-white/20 hover:bg-white/30 active:scale-95 rounded-lg p-5 text-left transition-all group hover-lift animate-scaleIn animate-stagger-${R+1}`},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("span",{className:`w-7 h-7 rounded-full text-sm font-bold flex items-center justify-center transition-all group-hover:scale-110 ${N.done?"bg-white text-green-600":"bg-white/40 text-white"}`},N.done?r.createElement(it,{size:16}):N.step),r.createElement(Sl,{size:16,className:"text-gray-200 group-hover:translate-x-2 transition-transform"})),r.createElement("div",{className:"font-bold text-base"},N.title),r.createElement("div",{className:"text-sm text-gray-100 mt-1.5"},N.desc))))),r.createElement("section",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 animate-fadeIn"},r.createElement("div",{className:"lg:col-span-3"},r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("h3",{className:"text-base font-bold text-gray-800 flex items-center gap-2.5"},r.createElement(bn,{size:18,className:"text-gray-500"}),"  "),c.length>5&&r.createElement("button",{onClick:()=>t("/chat"),className:"text-sm text-gray-600 hover:text-gray-700 font-semibold flex items-center gap-1 transition-all hover:gap-2"},"  ",r.createElement(_l,{size:14}))),r.createElement("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden animate-scaleIn"},c.length===0?r.createElement("div",{className:"py-16 text-center"},r.createElement(bn,{size:36,className:"mx-auto mb-3 text-gray-300 animate-float"}),r.createElement("p",{className:"text-base text-gray-500"},"  "),r.createElement("button",{onClick:D,className:"mt-4 text-sm text-gray-600 hover:text-gray-700 font-semibold transition-all hover:scale-105"},"   ")):r.createElement("div",{className:"divide-y divide-gray-100"},c.slice(0,5).map((N,R)=>r.createElement("button",{key:N.id,onClick:()=>{d(N.id),t("/chat")},className:`w-full px-5 py-4 hover:bg-gray-50 flex items-center gap-4 transition-all text-left group animate-slideUp animate-stagger-${Math.min(R+1,4)}`},r.createElement("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500 group-hover:bg-gray-50 group-hover:text-gray-600 group-hover:scale-110 transition-all shrink-0"},r.createElement(bn,{size:18})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-[15px] font-semibold text-gray-900 truncate group-hover:text-gray-600 transition-colors"},N.title),r.createElement("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1.5"},r.createElement("span",null,N.messages.length," "))),r.createElement(_l,{size:16,className:"text-gray-300 group-hover:text-gray-500 group-hover:translate-x-1 transition-all shrink-0"})))))),r.createElement("div",{className:"lg:col-span-2"},r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("h3",{className:"text-base font-bold text-gray-800 flex items-center gap-2.5"},r.createElement(Tt,{size:18,className:"text-gray-500"})," "),r.createElement("button",{onClick:()=>t("/agent"),className:"text-sm text-gray-600 hover:text-gray-700 font-semibold flex items-center gap-1 transition-all hover:gap-2"}," ",r.createElement(_l,{size:14}))),r.createElement("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden animate-scaleIn"},s.length===0?r.createElement("div",{className:"py-16 text-center"},r.createElement(Tt,{size:36,className:"mx-auto mb-3 text-gray-300 animate-float"}),r.createElement("p",{className:"text-base text-gray-500"}," ")):r.createElement("div",{className:"divide-y divide-gray-100"},s.slice(0,4).map((N,R)=>{const Z=["bg-gray-600","bg-purple-600","bg-green-500","bg-orange-600"],X=N.id.charCodeAt(N.id.length-1)%Z.length;return r.createElement("div",{key:N.id,className:`px-5 py-4 flex items-center gap-3.5 hover:bg-gray-50 transition-all cursor-pointer animate-slideUp animate-stagger-${Math.min(R+1,4)}`},r.createElement("div",{className:`w-10 h-10 rounded-lg ${Z[X]} flex items-center justify-center text-white text-sm font-bold shrink-0 hover:scale-110 transition-transform`},N.name[0]),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-[15px] font-semibold text-gray-900 truncate"},N.name),r.createElement("div",{className:"text-xs text-gray-500 truncate mt-1"},N.model||g.llm||"default")))}))))),r.createElement("section",{className:"pb-6 animate-fadeIn"},r.createElement("h3",{className:"text-base font-bold text-gray-800 mb-4 flex items-center gap-2.5"},r.createElement(Pn,{size:18,className:"text-yellow-600 animate-pulse"}),"  "),r.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},[{icon:bt,label:"RAG ",desc:" +  ",color:"text-purple-600",bg:"bg-purple-50"},{icon:Qt,label:" ",desc:"DuckDuckGo / Brave / Tavily",color:"text-gray-600",bg:"bg-gray-50"},{icon:Xr,label:"Text-to-SQL",desc:" DB ",color:"text-orange-600",bg:"bg-orange-50"},{icon:Xn,label:"Deep Think",desc:"   ",color:"text-gray-600",bg:"bg-gray-50"}].map((N,R)=>r.createElement("div",{key:R,className:`bg-white border border-gray-200 rounded-lg p-5 hover:border-gray-300 hover-lift cursor-pointer animate-scaleIn animate-stagger-${R+1}`},r.createElement("div",{className:`w-10 h-10 ${N.bg} ${N.color} rounded-lg flex items-center justify-center mb-3 hover:scale-110 hover:rotate-6 transition-all`},r.createElement(N.icon,{size:20})),r.createElement("div",{className:"text-sm font-bold text-gray-900"},N.label),r.createElement("div",{className:"text-xs text-gray-600 mt-1"},N.desc)))))))}function Ux(t,a){const s={};return(t[t.length-1]===""?[...t,""]:t).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}const Hx=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Vx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qx={};function mg(t,a){return(qx.jsx?Vx:Hx).test(t)}const Wx=/[ \t\n\f\r]/g;function Kx(t){return typeof t=="object"?t.type==="text"?gg(t.value):!1:gg(t)}function gg(t){return t.replace(Wx,"")===""}class $l{constructor(a,s,o){this.normal=s,this.property=a,o&&(this.space=o)}}$l.prototype.normal={};$l.prototype.property={};$l.prototype.space=void 0;function jp(t,a){const s={},o={};for(const c of t)Object.assign(s,c.property),Object.assign(o,c.normal);return new $l(s,o,a)}function Rc(t){return t.toLowerCase()}class dn{constructor(a,s){this.attribute=s,this.property=a}}dn.prototype.attribute="";dn.prototype.booleanish=!1;dn.prototype.boolean=!1;dn.prototype.commaOrSpaceSeparated=!1;dn.prototype.commaSeparated=!1;dn.prototype.defined=!1;dn.prototype.mustUseProperty=!1;dn.prototype.number=!1;dn.prototype.overloadedBoolean=!1;dn.prototype.property="";dn.prototype.spaceSeparated=!1;dn.prototype.space=void 0;let Gx=0;const Ge=ea(),Lt=ea(),Ac=ea(),de=ea(),gt=ea(),Ta=ea(),xn=ea();function ea(){return 2**++Gx}const Dc=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:Lt,commaOrSpaceSeparated:xn,commaSeparated:Ta,number:de,overloadedBoolean:Ac,spaceSeparated:gt},Symbol.toStringTag,{value:"Module"})),uc=Object.keys(Dc);class eu extends dn{constructor(a,s,o,c){let u=-1;if(super(a,s),pg(this,"space",c),typeof o=="number")for(;++u<uc.length;){const d=uc[u];pg(this,uc[u],(o&Dc[d])===Dc[d])}}}eu.prototype.defined=!0;function pg(t,a,s){s&&(t[a]=s)}function Ra(t){const a={},s={};for(const[o,c]of Object.entries(t.properties)){const u=new eu(o,t.transform(t.attributes||{},o),c,t.space);t.mustUseProperty&&t.mustUseProperty.includes(o)&&(u.mustUseProperty=!0),a[o]=u,s[Rc(o)]=o,s[Rc(u.attribute)]=o}return new $l(a,s,t.space)}const Fp=Ra({properties:{ariaActiveDescendant:null,ariaAtomic:Lt,ariaAutoComplete:null,ariaBusy:Lt,ariaChecked:Lt,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:gt,ariaCurrent:null,ariaDescribedBy:gt,ariaDetails:null,ariaDisabled:Lt,ariaDropEffect:gt,ariaErrorMessage:null,ariaExpanded:Lt,ariaFlowTo:gt,ariaGrabbed:Lt,ariaHasPopup:null,ariaHidden:Lt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:gt,ariaLevel:de,ariaLive:null,ariaModal:Lt,ariaMultiLine:Lt,ariaMultiSelectable:Lt,ariaOrientation:null,ariaOwns:gt,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:Lt,ariaReadOnly:Lt,ariaRelevant:null,ariaRequired:Lt,ariaRoleDescription:gt,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:Lt,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null},transform(t,a){return a==="role"?a:"aria-"+a.slice(4).toLowerCase()}});function $p(t,a){return a in t?t[a]:a}function Bp(t,a){return $p(t,a.toLowerCase())}const Qx=Ra({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ta,acceptCharset:gt,accessKey:gt,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:gt,autoFocus:Ge,autoPlay:Ge,blocking:gt,capture:null,charSet:null,checked:Ge,cite:null,className:gt,cols:de,colSpan:null,content:null,contentEditable:Lt,controls:Ge,controlsList:gt,coords:de|Ta,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:Ac,draggable:Lt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:gt,height:de,hidden:Ac,high:de,href:null,hrefLang:null,htmlFor:gt,httpEquiv:gt,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:gt,itemRef:gt,itemScope:Ge,itemType:gt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:de,pattern:null,ping:gt,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:gt,required:Ge,reversed:Ge,rows:de,rowSpan:de,sandbox:gt,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:Lt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:Lt,width:de,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:gt,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:Lt,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:de,security:null,unselectable:null},space:"html",transform:Bp}),Jx=Ra({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:xn,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:gt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ta,g2:Ta,glyphName:Ta,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:xn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:gt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xn,rev:xn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xn,requiredFeatures:xn,requiredFonts:xn,requiredFormats:xn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:xn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xn,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:$p}),Up=Ra({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,a){return"xlink:"+a.slice(5).toLowerCase()}}),Hp=Ra({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Bp}),Vp=Ra({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,a){return"xml:"+a.slice(3).toLowerCase()}}),Yx={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Xx=/[A-Z]/g,fg=/-[a-z]/g,Zx=/^data[-\w.:]+$/i;function eb(t,a){const s=Rc(a);let o=a,c=dn;if(s in t.normal)return t.property[t.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&Zx.test(a)){if(a.charAt(4)==="-"){const u=a.slice(5).replace(fg,nb);o="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=a.slice(4);if(!fg.test(u)){let d=u.replace(Xx,tb);d.charAt(0)!=="-"&&(d="-"+d),a="data"+d}}c=eu}return new c(o,a)}function tb(t){return"-"+t.toLowerCase()}function nb(t){return t.charAt(1).toUpperCase()}const rb=jp([Fp,Qx,Up,Hp,Vp],"html"),tu=jp([Fp,Jx,Up,Hp,Vp],"svg");function ab(t){return t.join(" ").trim()}var Na={},dc,hg;function lb(){if(hg)return dc;hg=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,a=/\n/g,s=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,c=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,g=/^\s+|\s+$/g,f=`
`,h="/",y="*",x="",k="comment",v="declaration";function D(S,_){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];_=_||{};var N=1,R=1;function Z(re){var te=re.match(a);te&&(N+=te.length);var Q=re.lastIndexOf(f);R=~Q?re.length-Q:R+re.length}function X(){var re={line:N,column:R};return function(te){return te.position=new M(re),$(),te}}function M(re){this.start=re,this.end={line:N,column:R},this.source=_.source}M.prototype.content=S;function ee(re){var te=new Error(_.source+":"+N+":"+R+": "+re);if(te.reason=re,te.filename=_.source,te.line=N,te.column=R,te.source=S,!_.silent)throw te}function se(re){var te=re.exec(S);if(te){var Q=te[0];return Z(Q),S=S.slice(Q.length),te}}function $(){se(s)}function L(re){var te;for(re=re||[];te=I();)te!==!1&&re.push(te);return re}function I(){var re=X();if(!(h!=S.charAt(0)||y!=S.charAt(1))){for(var te=2;x!=S.charAt(te)&&(y!=S.charAt(te)||h!=S.charAt(te+1));)++te;if(te+=2,x===S.charAt(te-1))return ee("End of comment missing");var Q=S.slice(2,te-2);return R+=2,Z(Q),S=S.slice(te),R+=2,re({type:k,comment:Q})}}function K(){var re=X(),te=se(o);if(te){if(I(),!se(c))return ee("property missing ':'");var Q=se(u),ie=re({type:v,property:P(te[0].replace(t,x)),value:Q?P(Q[0].replace(t,x)):x});return se(d),ie}}function ve(){var re=[];L(re);for(var te;te=K();)te!==!1&&(re.push(te),L(re));return re}return $(),ve()}function P(S){return S?S.replace(g,x):x}return dc=D,dc}var yg;function sb(){if(yg)return Na;yg=1;var t=Na&&Na.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Na,"__esModule",{value:!0}),Na.default=s;const a=t(lb());function s(o,c){let u=null;if(!o||typeof o!="string")return u;const d=(0,a.default)(o),g=typeof c=="function";return d.forEach(f=>{if(f.type!=="declaration")return;const{property:h,value:y}=f;g?c(h,y,f):y&&(u=u||{},u[h]=y)}),u}return Na}var vl={},xg;function ob(){if(xg)return vl;xg=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,a=/-([a-z])/g,s=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,c=/^-(ms)-/,u=function(h){return!h||s.test(h)||t.test(h)},d=function(h,y){return y.toUpperCase()},g=function(h,y){return"".concat(y,"-")},f=function(h,y){return y===void 0&&(y={}),u(h)?h:(h=h.toLowerCase(),y.reactCompat?h=h.replace(c,g):h=h.replace(o,g),h.replace(a,d))};return vl.camelCase=f,vl}var El,bg;function ib(){if(bg)return El;bg=1;var t=El&&El.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},a=t(sb()),s=ob();function o(c,u){var d={};return!c||typeof c!="string"||(0,a.default)(c,function(g,f){g&&f&&(d[(0,s.camelCase)(g,u)]=f)}),d}return o.default=o,El=o,El}var cb=ib();const ub=uo(cb),qp=Wp("end"),nu=Wp("start");function Wp(t){return a;function a(s){const o=s&&s.position&&s.position[t]||{};if(typeof o.line=="number"&&o.line>0&&typeof o.column=="number"&&o.column>0)return{line:o.line,column:o.column,offset:typeof o.offset=="number"&&o.offset>-1?o.offset:void 0}}}function db(t){const a=nu(t),s=qp(t);if(a&&s)return{start:a,end:s}}function zl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?vg(t.position):"start"in t||"end"in t?vg(t):"line"in t||"column"in t?Oc(t):""}function Oc(t){return Eg(t&&t.line)+":"+Eg(t&&t.column)}function vg(t){return Oc(t&&t.start)+"-"+Oc(t&&t.end)}function Eg(t){return t&&typeof t=="number"?t:1}class Jt extends Error{constructor(a,s,o){super(),typeof s=="string"&&(o=s,s=void 0);let c="",u={},d=!1;if(s&&("line"in s&&"column"in s?u={place:s}:"start"in s&&"end"in s?u={place:s}:"type"in s?u={ancestors:[s],place:s.position}:u={...s}),typeof a=="string"?c=a:!u.cause&&a&&(d=!0,c=a.message,u.cause=a),!u.ruleId&&!u.source&&typeof o=="string"){const f=o.indexOf(":");f===-1?u.ruleId=o:(u.source=o.slice(0,f),u.ruleId=o.slice(f+1))}if(!u.place&&u.ancestors&&u.ancestors){const f=u.ancestors[u.ancestors.length-1];f&&(u.place=f.position)}const g=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=g?g.column:void 0,this.fatal=void 0,this.file="",this.message=c,this.line=g?g.line:void 0,this.name=zl(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=d&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Jt.prototype.file="";Jt.prototype.name="";Jt.prototype.reason="";Jt.prototype.message="";Jt.prototype.stack="";Jt.prototype.column=void 0;Jt.prototype.line=void 0;Jt.prototype.ancestors=void 0;Jt.prototype.cause=void 0;Jt.prototype.fatal=void 0;Jt.prototype.place=void 0;Jt.prototype.ruleId=void 0;Jt.prototype.source=void 0;const ru={}.hasOwnProperty,mb=new Map,gb=/[A-Z]/g,pb=new Set(["table","tbody","thead","tfoot","tr"]),fb=new Set(["td","th"]),Kp="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function hb(t,a){if(!a||a.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const s=a.filePath||void 0;let o;if(a.development){if(typeof a.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");o=Nb(s,a.jsxDEV)}else{if(typeof a.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof a.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");o=wb(s,a.jsx,a.jsxs)}const c={Fragment:a.Fragment,ancestors:[],components:a.components||{},create:o,elementAttributeNameCase:a.elementAttributeNameCase||"react",evaluater:a.createEvaluater?a.createEvaluater():void 0,filePath:s,ignoreInvalidStyle:a.ignoreInvalidStyle||!1,passKeys:a.passKeys!==!1,passNode:a.passNode||!1,schema:a.space==="svg"?tu:rb,stylePropertyNameCase:a.stylePropertyNameCase||"dom",tableCellAlignToStyle:a.tableCellAlignToStyle!==!1},u=Gp(c,t,void 0);return u&&typeof u!="string"?u:c.create(t,c.Fragment,{children:u||void 0},void 0)}function Gp(t,a,s){if(a.type==="element")return yb(t,a,s);if(a.type==="mdxFlowExpression"||a.type==="mdxTextExpression")return xb(t,a);if(a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement")return vb(t,a,s);if(a.type==="mdxjsEsm")return bb(t,a);if(a.type==="root")return Eb(t,a,s);if(a.type==="text")return kb(t,a)}function yb(t,a,s){const o=t.schema;let c=o;a.tagName.toLowerCase()==="svg"&&o.space==="html"&&(c=tu,t.schema=c),t.ancestors.push(a);const u=Jp(t,a.tagName,!1),d=Sb(t,a);let g=lu(t,a);return pb.has(a.tagName)&&(g=g.filter(function(f){return typeof f=="string"?!Kx(f):!0})),Qp(t,d,u,a),au(d,g),t.ancestors.pop(),t.schema=o,t.create(a,u,d,s)}function xb(t,a){if(a.data&&a.data.estree&&t.evaluater){const o=a.data.estree.body[0];return o.type,t.evaluater.evaluateExpression(o.expression)}Al(t,a.position)}function bb(t,a){if(a.data&&a.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(a.data.estree);Al(t,a.position)}function vb(t,a,s){const o=t.schema;let c=o;a.name==="svg"&&o.space==="html"&&(c=tu,t.schema=c),t.ancestors.push(a);const u=a.name===null?t.Fragment:Jp(t,a.name,!0),d=Cb(t,a),g=lu(t,a);return Qp(t,d,u,a),au(d,g),t.ancestors.pop(),t.schema=o,t.create(a,u,d,s)}function Eb(t,a,s){const o={};return au(o,lu(t,a)),t.create(a,t.Fragment,o,s)}function kb(t,a){return a.value}function Qp(t,a,s,o){typeof s!="string"&&s!==t.Fragment&&t.passNode&&(a.node=o)}function au(t,a){if(a.length>0){const s=a.length>1?a:a[0];s&&(t.children=s)}}function wb(t,a,s){return o;function o(c,u,d,g){const h=Array.isArray(d.children)?s:a;return g?h(u,d,g):h(u,d)}}function Nb(t,a){return s;function s(o,c,u,d){const g=Array.isArray(u.children),f=nu(o);return a(c,u,d,g,{columnNumber:f?f.column-1:void 0,fileName:t,lineNumber:f?f.line:void 0},void 0)}}function Sb(t,a){const s={};let o,c;for(c in a.properties)if(c!=="children"&&ru.call(a.properties,c)){const u=_b(t,c,a.properties[c]);if(u){const[d,g]=u;t.tableCellAlignToStyle&&d==="align"&&typeof g=="string"&&fb.has(a.tagName)?o=g:s[d]=g}}if(o){const u=s.style||(s.style={});u[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=o}return s}function Cb(t,a){const s={};for(const o of a.attributes)if(o.type==="mdxJsxExpressionAttribute")if(o.data&&o.data.estree&&t.evaluater){const u=o.data.estree.body[0];u.type;const d=u.expression;d.type;const g=d.properties[0];g.type,Object.assign(s,t.evaluater.evaluateExpression(g.argument))}else Al(t,a.position);else{const c=o.name;let u;if(o.value&&typeof o.value=="object")if(o.value.data&&o.value.data.estree&&t.evaluater){const g=o.value.data.estree.body[0];g.type,u=t.evaluater.evaluateExpression(g.expression)}else Al(t,a.position);else u=o.value===null?!0:o.value;s[c]=u}return s}function lu(t,a){const s=[];let o=-1;const c=t.passKeys?new Map:mb;for(;++o<a.children.length;){const u=a.children[o];let d;if(t.passKeys){const f=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(f){const h=c.get(f)||0;d=f+"-"+h,c.set(f,h+1)}}const g=Gp(t,u,d);g!==void 0&&s.push(g)}return s}function _b(t,a,s){const o=eb(t.schema,a);if(!(s==null||typeof s=="number"&&Number.isNaN(s))){if(Array.isArray(s)&&(s=o.commaSeparated?Ux(s):ab(s)),o.property==="style"){let c=typeof s=="object"?s:Tb(t,String(s));return t.stylePropertyNameCase==="css"&&(c=zb(c)),["style",c]}return[t.elementAttributeNameCase==="react"&&o.space?Yx[o.property]||o.property:o.attribute,s]}}function Tb(t,a){try{return ub(a,{reactCompat:!0})}catch(s){if(t.ignoreInvalidStyle)return{};const o=s,c=new Jt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw c.file=t.filePath||void 0,c.url=Kp+"#cannot-parse-style-attribute",c}}function Jp(t,a,s){let o;if(!s)o={type:"Literal",value:a};else if(a.includes(".")){const c=a.split(".");let u=-1,d;for(;++u<c.length;){const g=mg(c[u])?{type:"Identifier",name:c[u]}:{type:"Literal",value:c[u]};d=d?{type:"MemberExpression",object:d,property:g,computed:!!(u&&g.type==="Literal"),optional:!1}:g}o=d}else o=mg(a)&&!/^[a-z]/.test(a)?{type:"Identifier",name:a}:{type:"Literal",value:a};if(o.type==="Literal"){const c=o.value;return ru.call(t.components,c)?t.components[c]:c}if(t.evaluater)return t.evaluater.evaluateExpression(o);Al(t)}function Al(t,a){const s=new Jt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:a,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=Kp+"#cannot-handle-mdx-estrees-without-createevaluater",s}function zb(t){const a={};let s;for(s in t)ru.call(t,s)&&(a[Pb(s)]=t[s]);return a}function Pb(t){let a=t.replace(gb,Lb);return a.slice(0,3)==="ms-"&&(a="-"+a),a}function Lb(t){return"-"+t.toLowerCase()}const mc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]};var gc={exports:{}},kl={};var kg;function Ib(){if(kg)return kl;kg=1;var t=Vc(),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(g,f,h){var y,x={},k=null,v=null;h!==void 0&&(k=""+h),f.key!==void 0&&(k=""+f.key),f.ref!==void 0&&(v=f.ref);for(y in f)o.call(f,y)&&!u.hasOwnProperty(y)&&(x[y]=f[y]);if(g&&g.defaultProps)for(y in f=g.defaultProps,f)x[y]===void 0&&(x[y]=f[y]);return{$$typeof:a,type:g,key:k,ref:v,props:x,_owner:c.current}}return kl.Fragment=s,kl.jsx=d,kl.jsxs=d,kl}var wg;function Mb(){return wg||(wg=1,gc.exports=Ib()),gc.exports}var pc=Mb();const Rb={};function Ab(t,a){const s=Rb,o=typeof s.includeImageAlt=="boolean"?s.includeImageAlt:!0,c=typeof s.includeHtml=="boolean"?s.includeHtml:!0;return Yp(t,o,c)}function Yp(t,a,s){if(Db(t)){if("value"in t)return t.type==="html"&&!s?"":t.value;if(a&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Ng(t.children,a,s)}return Array.isArray(t)?Ng(t,a,s):""}function Ng(t,a,s){const o=[];let c=-1;for(;++c<t.length;)o[c]=Yp(t[c],a,s);return o.join("")}function Db(t){return!!(t&&typeof t=="object")}const Sg=document.createElement("i");function su(t){const a="&"+t+";";Sg.innerHTML=a;const s=Sg.textContent;return s.charCodeAt(s.length-1)===59&&t!=="semi"||s===a?!1:s}function Zn(t,a,s,o){const c=t.length;let u=0,d;if(a<0?a=-a>c?0:c+a:a=a>c?c:a,s=s>0?s:0,o.length<1e4)d=Array.from(o),d.unshift(a,s),t.splice(...d);else for(s&&t.splice(a,s);u<o.length;)d=o.slice(u,u+1e4),d.unshift(a,0),t.splice(...d),u+=1e4,a+=1e4}function Tn(t,a){return t.length>0?(Zn(t,t.length,0,a),t):a}const Cg={}.hasOwnProperty;function Ob(t){const a={};let s=-1;for(;++s<t.length;)jb(a,t[s]);return a}function jb(t,a){let s;for(s in a){const c=(Cg.call(t,s)?t[s]:void 0)||(t[s]={}),u=a[s];let d;if(u)for(d in u){Cg.call(c,d)||(c[d]=[]);const g=u[d];Fb(c[d],Array.isArray(g)?g:g?[g]:[])}}}function Fb(t,a){let s=-1;const o=[];for(;++s<a.length;)(a[s].add==="after"?t:o).push(a[s]);Zn(t,0,0,o)}function Xp(t,a){const s=Number.parseInt(t,a);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(s&65535)===65535||(s&65535)===65534||s>1114111?"":String.fromCodePoint(s)}function za(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Yn=Dr(/[A-Za-z]/),vn=Dr(/[\dA-Za-z]/),$b=Dr(/[#-'*+\--9=?A-Z^-~]/);function jc(t){return t!==null&&(t<32||t===127)}const Fc=Dr(/\d/),Bb=Dr(/[\dA-Fa-f]/),Ub=Dr(/[!-/:-@[-`{-~]/);function qe(t){return t!==null&&t<-2}function un(t){return t!==null&&(t<0||t===32)}function st(t){return t===-2||t===-1||t===32}const Hb=Dr(new RegExp("\\p{P}|\\p{S}","u")),Vb=Dr(/\s/);function Dr(t){return a;function a(s){return s!==null&&s>-1&&t.test(String.fromCharCode(s))}}function Aa(t){const a=[];let s=-1,o=0,c=0;for(;++s<t.length;){const u=t.charCodeAt(s);let d="";if(u===37&&vn(t.charCodeAt(s+1))&&vn(t.charCodeAt(s+2)))c=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(d=String.fromCharCode(u));else if(u>55295&&u<57344){const g=t.charCodeAt(s+1);u<56320&&g>56319&&g<57344?(d=String.fromCharCode(u,g),c=1):d=""}else d=String.fromCharCode(u);d&&(a.push(t.slice(o,s),encodeURIComponent(d)),o=s+c+1,d=""),c&&(s+=c,c=0)}return a.join("")+t.slice(o)}function pt(t,a,s,o){const c=o?o-1:Number.POSITIVE_INFINITY;let u=0;return d;function d(f){return st(f)?(t.enter(s),g(f)):a(f)}function g(f){return st(f)&&u++<c?(t.consume(f),g):(t.exit(s),a(f))}}const qb={tokenize:Wb};function Wb(t){const a=t.attempt(this.parser.constructs.contentInitial,o,c);let s;return a;function o(g){if(g===null){t.consume(g);return}return t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),pt(t,a,"linePrefix")}function c(g){return t.enter("paragraph"),u(g)}function u(g){const f=t.enter("chunkText",{contentType:"text",previous:s});return s&&(s.next=f),s=f,d(g)}function d(g){if(g===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(g);return}return qe(g)?(t.consume(g),t.exit("chunkText"),u):(t.consume(g),d)}}const Kb={tokenize:Gb},_g={tokenize:Qb};function Gb(t){const a=this,s=[];let o=0,c,u,d;return g;function g(R){if(o<s.length){const Z=s[o];return a.containerState=Z[1],t.attempt(Z[0].continuation,f,h)(R)}return h(R)}function f(R){if(o++,a.containerState._closeFlow){a.containerState._closeFlow=void 0,c&&N();const Z=a.events.length;let X=Z,M;for(;X--;)if(a.events[X][0]==="exit"&&a.events[X][1].type==="chunkFlow"){M=a.events[X][1].end;break}_(o);let ee=Z;for(;ee<a.events.length;)a.events[ee][1].end={...M},ee++;return Zn(a.events,X+1,0,a.events.slice(Z)),a.events.length=ee,h(R)}return g(R)}function h(R){if(o===s.length){if(!c)return k(R);if(c.currentConstruct&&c.currentConstruct.concrete)return D(R);a.interrupt=!!(c.currentConstruct&&!c._gfmTableDynamicInterruptHack)}return a.containerState={},t.check(_g,y,x)(R)}function y(R){return c&&N(),_(o),k(R)}function x(R){return a.parser.lazy[a.now().line]=o!==s.length,d=a.now().offset,D(R)}function k(R){return a.containerState={},t.attempt(_g,v,D)(R)}function v(R){return o++,s.push([a.currentConstruct,a.containerState]),k(R)}function D(R){if(R===null){c&&N(),_(0),t.consume(R);return}return c=c||a.parser.flow(a.now()),t.enter("chunkFlow",{_tokenizer:c,contentType:"flow",previous:u}),P(R)}function P(R){if(R===null){S(t.exit("chunkFlow"),!0),_(0),t.consume(R);return}return qe(R)?(t.consume(R),S(t.exit("chunkFlow")),o=0,a.interrupt=void 0,g):(t.consume(R),P)}function S(R,Z){const X=a.sliceStream(R);if(Z&&X.push(null),R.previous=u,u&&(u.next=R),u=R,c.defineSkip(R.start),c.write(X),a.parser.lazy[R.start.line]){let M=c.events.length;for(;M--;)if(c.events[M][1].start.offset<d&&(!c.events[M][1].end||c.events[M][1].end.offset>d))return;const ee=a.events.length;let se=ee,$,L;for(;se--;)if(a.events[se][0]==="exit"&&a.events[se][1].type==="chunkFlow"){if($){L=a.events[se][1].end;break}$=!0}for(_(o),M=ee;M<a.events.length;)a.events[M][1].end={...L},M++;Zn(a.events,se+1,0,a.events.slice(ee)),a.events.length=M}}function _(R){let Z=s.length;for(;Z-- >R;){const X=s[Z];a.containerState=X[1],X[0].exit.call(a,t)}s.length=R}function N(){c.write([null]),u=void 0,c=void 0,a.containerState._closeFlow=void 0}}function Qb(t,a,s){return pt(t,t.attempt(this.parser.constructs.document,a,s),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Tg(t){if(t===null||un(t)||Vb(t))return 1;if(Hb(t))return 2}function ou(t,a,s){const o=[];let c=-1;for(;++c<t.length;){const u=t[c].resolveAll;u&&!o.includes(u)&&(a=u(a,s),o.push(u))}return a}const $c={name:"attention",resolveAll:Jb,tokenize:Yb};function Jb(t,a){let s=-1,o,c,u,d,g,f,h,y;for(;++s<t.length;)if(t[s][0]==="enter"&&t[s][1].type==="attentionSequence"&&t[s][1]._close){for(o=s;o--;)if(t[o][0]==="exit"&&t[o][1].type==="attentionSequence"&&t[o][1]._open&&a.sliceSerialize(t[o][1]).charCodeAt(0)===a.sliceSerialize(t[s][1]).charCodeAt(0)){if((t[o][1]._close||t[s][1]._open)&&(t[s][1].end.offset-t[s][1].start.offset)%3&&!((t[o][1].end.offset-t[o][1].start.offset+t[s][1].end.offset-t[s][1].start.offset)%3))continue;f=t[o][1].end.offset-t[o][1].start.offset>1&&t[s][1].end.offset-t[s][1].start.offset>1?2:1;const x={...t[o][1].end},k={...t[s][1].start};zg(x,-f),zg(k,f),d={type:f>1?"strongSequence":"emphasisSequence",start:x,end:{...t[o][1].end}},g={type:f>1?"strongSequence":"emphasisSequence",start:{...t[s][1].start},end:k},u={type:f>1?"strongText":"emphasisText",start:{...t[o][1].end},end:{...t[s][1].start}},c={type:f>1?"strong":"emphasis",start:{...d.start},end:{...g.end}},t[o][1].end={...d.start},t[s][1].start={...g.end},h=[],t[o][1].end.offset-t[o][1].start.offset&&(h=Tn(h,[["enter",t[o][1],a],["exit",t[o][1],a]])),h=Tn(h,[["enter",c,a],["enter",d,a],["exit",d,a],["enter",u,a]]),h=Tn(h,ou(a.parser.constructs.insideSpan.null,t.slice(o+1,s),a)),h=Tn(h,[["exit",u,a],["enter",g,a],["exit",g,a],["exit",c,a]]),t[s][1].end.offset-t[s][1].start.offset?(y=2,h=Tn(h,[["enter",t[s][1],a],["exit",t[s][1],a]])):y=0,Zn(t,o-1,s-o+3,h),s=o+h.length-y-2;break}}for(s=-1;++s<t.length;)t[s][1].type==="attentionSequence"&&(t[s][1].type="data");return t}function Yb(t,a){const s=this.parser.constructs.attentionMarkers.null,o=this.previous,c=Tg(o);let u;return d;function d(f){return u=f,t.enter("attentionSequence"),g(f)}function g(f){if(f===u)return t.consume(f),g;const h=t.exit("attentionSequence"),y=Tg(f),x=!y||y===2&&c||s.includes(f),k=!c||c===2&&y||s.includes(o);return h._open=!!(u===42?x:x&&(c||!k)),h._close=!!(u===42?k:k&&(y||!x)),a(f)}}function zg(t,a){t.column+=a,t.offset+=a,t._bufferIndex+=a}const Xb={name:"autolink",tokenize:Zb};function Zb(t,a,s){let o=0;return c;function c(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),u}function u(v){return Yn(v)?(t.consume(v),d):v===64?s(v):h(v)}function d(v){return v===43||v===45||v===46||vn(v)?(o=1,g(v)):h(v)}function g(v){return v===58?(t.consume(v),o=0,f):(v===43||v===45||v===46||vn(v))&&o++<32?(t.consume(v),g):(o=0,h(v))}function f(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),a):v===null||v===32||v===60||jc(v)?s(v):(t.consume(v),f)}function h(v){return v===64?(t.consume(v),y):$b(v)?(t.consume(v),h):s(v)}function y(v){return vn(v)?x(v):s(v)}function x(v){return v===46?(t.consume(v),o=0,y):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),a):k(v)}function k(v){if((v===45||vn(v))&&o++<63){const D=v===45?k:x;return t.consume(v),D}return s(v)}}const xo={partial:!0,tokenize:e1};function e1(t,a,s){return o;function o(u){return st(u)?pt(t,c,"linePrefix")(u):c(u)}function c(u){return u===null||qe(u)?a(u):s(u)}}const Zp={continuation:{tokenize:n1},exit:r1,name:"blockQuote",tokenize:t1};function t1(t,a,s){const o=this;return c;function c(d){if(d===62){const g=o.containerState;return g.open||(t.enter("blockQuote",{_container:!0}),g.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(d),t.exit("blockQuoteMarker"),u}return s(d)}function u(d){return st(d)?(t.enter("blockQuotePrefixWhitespace"),t.consume(d),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),a):(t.exit("blockQuotePrefix"),a(d))}}function n1(t,a,s){const o=this;return c;function c(d){return st(d)?pt(t,u,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):u(d)}function u(d){return t.attempt(Zp,a,s)(d)}}function r1(t){t.exit("blockQuote")}const e0={name:"characterEscape",tokenize:a1};function a1(t,a,s){return o;function o(u){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(u),t.exit("escapeMarker"),c}function c(u){return Ub(u)?(t.enter("characterEscapeValue"),t.consume(u),t.exit("characterEscapeValue"),t.exit("characterEscape"),a):s(u)}}const t0={name:"characterReference",tokenize:l1};function l1(t,a,s){const o=this;let c=0,u,d;return g;function g(x){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(x),t.exit("characterReferenceMarker"),f}function f(x){return x===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(x),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),u=31,d=vn,y(x))}function h(x){return x===88||x===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(x),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),u=6,d=Bb,y):(t.enter("characterReferenceValue"),u=7,d=Fc,y(x))}function y(x){if(x===59&&c){const k=t.exit("characterReferenceValue");return d===vn&&!su(o.sliceSerialize(k))?s(x):(t.enter("characterReferenceMarker"),t.consume(x),t.exit("characterReferenceMarker"),t.exit("characterReference"),a)}return d(x)&&c++<u?(t.consume(x),y):s(x)}}const Pg={partial:!0,tokenize:o1},Lg={concrete:!0,name:"codeFenced",tokenize:s1};function s1(t,a,s){const o=this,c={partial:!0,tokenize:X};let u=0,d=0,g;return f;function f(M){return h(M)}function h(M){const ee=o.events[o.events.length-1];return u=ee&&ee[1].type==="linePrefix"?ee[2].sliceSerialize(ee[1],!0).length:0,g=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y(M)}function y(M){return M===g?(d++,t.consume(M),y):d<3?s(M):(t.exit("codeFencedFenceSequence"),st(M)?pt(t,x,"whitespace")(M):x(M))}function x(M){return M===null||qe(M)?(t.exit("codeFencedFence"),o.interrupt?a(M):t.check(Pg,P,Z)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),k(M))}function k(M){return M===null||qe(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),x(M)):st(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),pt(t,v,"whitespace")(M)):M===96&&M===g?s(M):(t.consume(M),k)}function v(M){return M===null||qe(M)?x(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),D(M))}function D(M){return M===null||qe(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),x(M)):M===96&&M===g?s(M):(t.consume(M),D)}function P(M){return t.attempt(c,Z,S)(M)}function S(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),_}function _(M){return u>0&&st(M)?pt(t,N,"linePrefix",u+1)(M):N(M)}function N(M){return M===null||qe(M)?t.check(Pg,P,Z)(M):(t.enter("codeFlowValue"),R(M))}function R(M){return M===null||qe(M)?(t.exit("codeFlowValue"),N(M)):(t.consume(M),R)}function Z(M){return t.exit("codeFenced"),a(M)}function X(M,ee,se){let $=0;return L;function L(te){return M.enter("lineEnding"),M.consume(te),M.exit("lineEnding"),I}function I(te){return M.enter("codeFencedFence"),st(te)?pt(M,K,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):K(te)}function K(te){return te===g?(M.enter("codeFencedFenceSequence"),ve(te)):se(te)}function ve(te){return te===g?($++,M.consume(te),ve):$>=d?(M.exit("codeFencedFenceSequence"),st(te)?pt(M,re,"whitespace")(te):re(te)):se(te)}function re(te){return te===null||qe(te)?(M.exit("codeFencedFence"),ee(te)):se(te)}}}function o1(t,a,s){const o=this;return c;function c(d){return d===null?s(d):(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),u)}function u(d){return o.parser.lazy[o.now().line]?s(d):a(d)}}const fc={name:"codeIndented",tokenize:c1},i1={partial:!0,tokenize:u1};function c1(t,a,s){const o=this;return c;function c(h){return t.enter("codeIndented"),pt(t,u,"linePrefix",5)(h)}function u(h){const y=o.events[o.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?d(h):s(h)}function d(h){return h===null?f(h):qe(h)?t.attempt(i1,d,f)(h):(t.enter("codeFlowValue"),g(h))}function g(h){return h===null||qe(h)?(t.exit("codeFlowValue"),d(h)):(t.consume(h),g)}function f(h){return t.exit("codeIndented"),a(h)}}function u1(t,a,s){const o=this;return c;function c(d){return o.parser.lazy[o.now().line]?s(d):qe(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c):pt(t,u,"linePrefix",5)(d)}function u(d){const g=o.events[o.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?a(d):qe(d)?c(d):s(d)}}const d1={name:"codeText",previous:g1,resolve:m1,tokenize:p1};function m1(t){let a=t.length-4,s=3,o,c;if((t[s][1].type==="lineEnding"||t[s][1].type==="space")&&(t[a][1].type==="lineEnding"||t[a][1].type==="space")){for(o=s;++o<a;)if(t[o][1].type==="codeTextData"){t[s][1].type="codeTextPadding",t[a][1].type="codeTextPadding",s+=2,a-=2;break}}for(o=s-1,a++;++o<=a;)c===void 0?o!==a&&t[o][1].type!=="lineEnding"&&(c=o):(o===a||t[o][1].type==="lineEnding")&&(t[c][1].type="codeTextData",o!==c+2&&(t[c][1].end=t[o-1][1].end,t.splice(c+2,o-c-2),a-=o-c-2,o=c+2),c=void 0);return t}function g1(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function p1(t,a,s){let o=0,c,u;return d;function d(x){return t.enter("codeText"),t.enter("codeTextSequence"),g(x)}function g(x){return x===96?(t.consume(x),o++,g):(t.exit("codeTextSequence"),f(x))}function f(x){return x===null?s(x):x===32?(t.enter("space"),t.consume(x),t.exit("space"),f):x===96?(u=t.enter("codeTextSequence"),c=0,y(x)):qe(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),f):(t.enter("codeTextData"),h(x))}function h(x){return x===null||x===32||x===96||qe(x)?(t.exit("codeTextData"),f(x)):(t.consume(x),h)}function y(x){return x===96?(t.consume(x),c++,y):c===o?(t.exit("codeTextSequence"),t.exit("codeText"),a(x)):(u.type="codeTextData",h(x))}}class f1{constructor(a){this.left=a?[...a]:[],this.right=[]}get(a){if(a<0||a>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+a+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return a<this.left.length?this.left[a]:this.right[this.right.length-a+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(a,s){const o=s??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(a,o):a>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-a+this.left.length).reverse():this.left.slice(a).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(a,s,o){const c=s||0;this.setCursor(Math.trunc(a));const u=this.right.splice(this.right.length-c,Number.POSITIVE_INFINITY);return o&&wl(this.left,o),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(a){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(a)}pushMany(a){this.setCursor(Number.POSITIVE_INFINITY),wl(this.left,a)}unshift(a){this.setCursor(0),this.right.push(a)}unshiftMany(a){this.setCursor(0),wl(this.right,a.reverse())}setCursor(a){if(!(a===this.left.length||a>this.left.length&&this.right.length===0||a<0&&this.left.length===0))if(a<this.left.length){const s=this.left.splice(a,Number.POSITIVE_INFINITY);wl(this.right,s.reverse())}else{const s=this.right.splice(this.left.length+this.right.length-a,Number.POSITIVE_INFINITY);wl(this.left,s.reverse())}}}function wl(t,a){let s=0;if(a.length<1e4)t.push(...a);else for(;s<a.length;)t.push(...a.slice(s,s+1e4)),s+=1e4}function n0(t){const a={};let s=-1,o,c,u,d,g,f,h;const y=new f1(t);for(;++s<y.length;){for(;s in a;)s=a[s];if(o=y.get(s),s&&o[1].type==="chunkFlow"&&y.get(s-1)[1].type==="listItemPrefix"&&(f=o[1]._tokenizer.events,u=0,u<f.length&&f[u][1].type==="lineEndingBlank"&&(u+=2),u<f.length&&f[u][1].type==="content"))for(;++u<f.length&&f[u][1].type!=="content";)f[u][1].type==="chunkText"&&(f[u][1]._isInFirstContentOfListItem=!0,u++);if(o[0]==="enter")o[1].contentType&&(Object.assign(a,h1(y,s)),s=a[s],h=!0);else if(o[1]._container){for(u=s,c=void 0;u--;)if(d=y.get(u),d[1].type==="lineEnding"||d[1].type==="lineEndingBlank")d[0]==="enter"&&(c&&(y.get(c)[1].type="lineEndingBlank"),d[1].type="lineEnding",c=u);else if(!(d[1].type==="linePrefix"||d[1].type==="listItemIndent"))break;c&&(o[1].end={...y.get(c)[1].start},g=y.slice(c,s),g.unshift(o),y.splice(c,s-c+1,g))}}return Zn(t,0,Number.POSITIVE_INFINITY,y.slice(0)),!h}function h1(t,a){const s=t.get(a)[1],o=t.get(a)[2];let c=a-1;const u=[];let d=s._tokenizer;d||(d=o.parser[s.contentType](s.start),s._contentTypeTextTrailing&&(d._contentTypeTextTrailing=!0));const g=d.events,f=[],h={};let y,x,k=-1,v=s,D=0,P=0;const S=[P];for(;v;){for(;t.get(++c)[1]!==v;);u.push(c),v._tokenizer||(y=o.sliceStream(v),v.next||y.push(null),x&&d.defineSkip(v.start),v._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(y),v._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),x=v,v=v.next}for(v=s;++k<g.length;)g[k][0]==="exit"&&g[k-1][0]==="enter"&&g[k][1].type===g[k-1][1].type&&g[k][1].start.line!==g[k][1].end.line&&(P=k+1,S.push(P),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(d.events=[],v?(v._tokenizer=void 0,v.previous=void 0):S.pop(),k=S.length;k--;){const _=g.slice(S[k],S[k+1]),N=u.pop();f.push([N,N+_.length-1]),t.splice(N,2,_)}for(f.reverse(),k=-1;++k<f.length;)h[D+f[k][0]]=D+f[k][1],D+=f[k][1]-f[k][0]-1;return h}const y1={resolve:b1,tokenize:v1},x1={partial:!0,tokenize:E1};function b1(t){return n0(t),t}function v1(t,a){let s;return o;function o(g){return t.enter("content"),s=t.enter("chunkContent",{contentType:"content"}),c(g)}function c(g){return g===null?u(g):qe(g)?t.check(x1,d,u)(g):(t.consume(g),c)}function u(g){return t.exit("chunkContent"),t.exit("content"),a(g)}function d(g){return t.consume(g),t.exit("chunkContent"),s.next=t.enter("chunkContent",{contentType:"content",previous:s}),s=s.next,c}}function E1(t,a,s){const o=this;return c;function c(d){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),pt(t,u,"linePrefix")}function u(d){if(d===null||qe(d))return s(d);const g=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?a(d):t.interrupt(o.parser.constructs.flow,s,a)(d)}}function r0(t,a,s,o,c,u,d,g,f){const h=f||Number.POSITIVE_INFINITY;let y=0;return x;function x(_){return _===60?(t.enter(o),t.enter(c),t.enter(u),t.consume(_),t.exit(u),k):_===null||_===32||_===41||jc(_)?s(_):(t.enter(o),t.enter(d),t.enter(g),t.enter("chunkString",{contentType:"string"}),P(_))}function k(_){return _===62?(t.enter(u),t.consume(_),t.exit(u),t.exit(c),t.exit(o),a):(t.enter(g),t.enter("chunkString",{contentType:"string"}),v(_))}function v(_){return _===62?(t.exit("chunkString"),t.exit(g),k(_)):_===null||_===60||qe(_)?s(_):(t.consume(_),_===92?D:v)}function D(_){return _===60||_===62||_===92?(t.consume(_),v):v(_)}function P(_){return!y&&(_===null||_===41||un(_))?(t.exit("chunkString"),t.exit(g),t.exit(d),t.exit(o),a(_)):y<h&&_===40?(t.consume(_),y++,P):_===41?(t.consume(_),y--,P):_===null||_===32||_===40||jc(_)?s(_):(t.consume(_),_===92?S:P)}function S(_){return _===40||_===41||_===92?(t.consume(_),P):P(_)}}function a0(t,a,s,o,c,u){const d=this;let g=0,f;return h;function h(v){return t.enter(o),t.enter(c),t.consume(v),t.exit(c),t.enter(u),y}function y(v){return g>999||v===null||v===91||v===93&&!f||v===94&&!g&&"_hiddenFootnoteSupport"in d.parser.constructs?s(v):v===93?(t.exit(u),t.enter(c),t.consume(v),t.exit(c),t.exit(o),a):qe(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),x(v))}function x(v){return v===null||v===91||v===93||qe(v)||g++>999?(t.exit("chunkString"),y(v)):(t.consume(v),f||(f=!st(v)),v===92?k:x)}function k(v){return v===91||v===92||v===93?(t.consume(v),g++,x):x(v)}}function l0(t,a,s,o,c,u){let d;return g;function g(k){return k===34||k===39||k===40?(t.enter(o),t.enter(c),t.consume(k),t.exit(c),d=k===40?41:k,f):s(k)}function f(k){return k===d?(t.enter(c),t.consume(k),t.exit(c),t.exit(o),a):(t.enter(u),h(k))}function h(k){return k===d?(t.exit(u),f(d)):k===null?s(k):qe(k)?(t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),pt(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===d||k===null||qe(k)?(t.exit("chunkString"),h(k)):(t.consume(k),k===92?x:y)}function x(k){return k===d||k===92?(t.consume(k),y):y(k)}}function Pl(t,a){let s;return o;function o(c){return qe(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),s=!0,o):st(c)?pt(t,o,s?"linePrefix":"lineSuffix")(c):a(c)}}const k1={name:"definition",tokenize:N1},w1={partial:!0,tokenize:S1};function N1(t,a,s){const o=this;let c;return u;function u(v){return t.enter("definition"),d(v)}function d(v){return a0.call(o,t,g,s,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function g(v){return c=za(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),f):s(v)}function f(v){return un(v)?Pl(t,h)(v):h(v)}function h(v){return r0(t,y,s,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function y(v){return t.attempt(w1,x,x)(v)}function x(v){return st(v)?pt(t,k,"whitespace")(v):k(v)}function k(v){return v===null||qe(v)?(t.exit("definition"),o.parser.defined.push(c),a(v)):s(v)}}function S1(t,a,s){return o;function o(g){return un(g)?Pl(t,c)(g):s(g)}function c(g){return l0(t,u,s,"definitionTitle","definitionTitleMarker","definitionTitleString")(g)}function u(g){return st(g)?pt(t,d,"whitespace")(g):d(g)}function d(g){return g===null||qe(g)?a(g):s(g)}}const C1={name:"hardBreakEscape",tokenize:_1};function _1(t,a,s){return o;function o(u){return t.enter("hardBreakEscape"),t.consume(u),c}function c(u){return qe(u)?(t.exit("hardBreakEscape"),a(u)):s(u)}}const T1={name:"headingAtx",resolve:z1,tokenize:P1};function z1(t,a){let s=t.length-2,o=3,c,u;return t[o][1].type==="whitespace"&&(o+=2),s-2>o&&t[s][1].type==="whitespace"&&(s-=2),t[s][1].type==="atxHeadingSequence"&&(o===s-1||s-4>o&&t[s-2][1].type==="whitespace")&&(s-=o+1===s?2:4),s>o&&(c={type:"atxHeadingText",start:t[o][1].start,end:t[s][1].end},u={type:"chunkText",start:t[o][1].start,end:t[s][1].end,contentType:"text"},Zn(t,o,s-o+1,[["enter",c,a],["enter",u,a],["exit",u,a],["exit",c,a]])),t}function P1(t,a,s){let o=0;return c;function c(y){return t.enter("atxHeading"),u(y)}function u(y){return t.enter("atxHeadingSequence"),d(y)}function d(y){return y===35&&o++<6?(t.consume(y),d):y===null||un(y)?(t.exit("atxHeadingSequence"),g(y)):s(y)}function g(y){return y===35?(t.enter("atxHeadingSequence"),f(y)):y===null||qe(y)?(t.exit("atxHeading"),a(y)):st(y)?pt(t,g,"whitespace")(y):(t.enter("atxHeadingText"),h(y))}function f(y){return y===35?(t.consume(y),f):(t.exit("atxHeadingSequence"),g(y))}function h(y){return y===null||y===35||un(y)?(t.exit("atxHeadingText"),g(y)):(t.consume(y),h)}}const L1=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ig=["pre","script","style","textarea"],I1={concrete:!0,name:"htmlFlow",resolveTo:A1,tokenize:D1},M1={partial:!0,tokenize:j1},R1={partial:!0,tokenize:O1};function A1(t){let a=t.length;for(;a--&&!(t[a][0]==="enter"&&t[a][1].type==="htmlFlow"););return a>1&&t[a-2][1].type==="linePrefix"&&(t[a][1].start=t[a-2][1].start,t[a+1][1].start=t[a-2][1].start,t.splice(a-2,2)),t}function D1(t,a,s){const o=this;let c,u,d,g,f;return h;function h(C){return y(C)}function y(C){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(C),x}function x(C){return C===33?(t.consume(C),k):C===47?(t.consume(C),u=!0,P):C===63?(t.consume(C),c=3,o.interrupt?a:w):Yn(C)?(t.consume(C),d=String.fromCharCode(C),S):s(C)}function k(C){return C===45?(t.consume(C),c=2,v):C===91?(t.consume(C),c=5,g=0,D):Yn(C)?(t.consume(C),c=4,o.interrupt?a:w):s(C)}function v(C){return C===45?(t.consume(C),o.interrupt?a:w):s(C)}function D(C){const Ee="CDATA[";return C===Ee.charCodeAt(g++)?(t.consume(C),g===Ee.length?o.interrupt?a:K:D):s(C)}function P(C){return Yn(C)?(t.consume(C),d=String.fromCharCode(C),S):s(C)}function S(C){if(C===null||C===47||C===62||un(C)){const Ee=C===47,Ae=d.toLowerCase();return!Ee&&!u&&Ig.includes(Ae)?(c=1,o.interrupt?a(C):K(C)):L1.includes(d.toLowerCase())?(c=6,Ee?(t.consume(C),_):o.interrupt?a(C):K(C)):(c=7,o.interrupt&&!o.parser.lazy[o.now().line]?s(C):u?N(C):R(C))}return C===45||vn(C)?(t.consume(C),d+=String.fromCharCode(C),S):s(C)}function _(C){return C===62?(t.consume(C),o.interrupt?a:K):s(C)}function N(C){return st(C)?(t.consume(C),N):L(C)}function R(C){return C===47?(t.consume(C),L):C===58||C===95||Yn(C)?(t.consume(C),Z):st(C)?(t.consume(C),R):L(C)}function Z(C){return C===45||C===46||C===58||C===95||vn(C)?(t.consume(C),Z):X(C)}function X(C){return C===61?(t.consume(C),M):st(C)?(t.consume(C),X):R(C)}function M(C){return C===null||C===60||C===61||C===62||C===96?s(C):C===34||C===39?(t.consume(C),f=C,ee):st(C)?(t.consume(C),M):se(C)}function ee(C){return C===f?(t.consume(C),f=null,$):C===null||qe(C)?s(C):(t.consume(C),ee)}function se(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||un(C)?X(C):(t.consume(C),se)}function $(C){return C===47||C===62||st(C)?R(C):s(C)}function L(C){return C===62?(t.consume(C),I):s(C)}function I(C){return C===null||qe(C)?K(C):st(C)?(t.consume(C),I):s(C)}function K(C){return C===45&&c===2?(t.consume(C),Q):C===60&&c===1?(t.consume(C),ie):C===62&&c===4?(t.consume(C),O):C===63&&c===3?(t.consume(C),w):C===93&&c===5?(t.consume(C),ge):qe(C)&&(c===6||c===7)?(t.exit("htmlFlowData"),t.check(M1,B,ve)(C)):C===null||qe(C)?(t.exit("htmlFlowData"),ve(C)):(t.consume(C),K)}function ve(C){return t.check(R1,re,B)(C)}function re(C){return t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),te}function te(C){return C===null||qe(C)?ve(C):(t.enter("htmlFlowData"),K(C))}function Q(C){return C===45?(t.consume(C),w):K(C)}function ie(C){return C===47?(t.consume(C),d="",q):K(C)}function q(C){if(C===62){const Ee=d.toLowerCase();return Ig.includes(Ee)?(t.consume(C),O):K(C)}return Yn(C)&&d.length<8?(t.consume(C),d+=String.fromCharCode(C),q):K(C)}function ge(C){return C===93?(t.consume(C),w):K(C)}function w(C){return C===62?(t.consume(C),O):C===45&&c===2?(t.consume(C),w):K(C)}function O(C){return C===null||qe(C)?(t.exit("htmlFlowData"),B(C)):(t.consume(C),O)}function B(C){return t.exit("htmlFlow"),a(C)}}function O1(t,a,s){const o=this;return c;function c(d){return qe(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),u):s(d)}function u(d){return o.parser.lazy[o.now().line]?s(d):a(d)}}function j1(t,a,s){return o;function o(c){return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),t.attempt(xo,a,s)}}const F1={name:"htmlText",tokenize:$1};function $1(t,a,s){const o=this;let c,u,d;return g;function g(w){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(w),f}function f(w){return w===33?(t.consume(w),h):w===47?(t.consume(w),X):w===63?(t.consume(w),R):Yn(w)?(t.consume(w),se):s(w)}function h(w){return w===45?(t.consume(w),y):w===91?(t.consume(w),u=0,D):Yn(w)?(t.consume(w),N):s(w)}function y(w){return w===45?(t.consume(w),v):s(w)}function x(w){return w===null?s(w):w===45?(t.consume(w),k):qe(w)?(d=x,ie(w)):(t.consume(w),x)}function k(w){return w===45?(t.consume(w),v):x(w)}function v(w){return w===62?Q(w):w===45?k(w):x(w)}function D(w){const O="CDATA[";return w===O.charCodeAt(u++)?(t.consume(w),u===O.length?P:D):s(w)}function P(w){return w===null?s(w):w===93?(t.consume(w),S):qe(w)?(d=P,ie(w)):(t.consume(w),P)}function S(w){return w===93?(t.consume(w),_):P(w)}function _(w){return w===62?Q(w):w===93?(t.consume(w),_):P(w)}function N(w){return w===null||w===62?Q(w):qe(w)?(d=N,ie(w)):(t.consume(w),N)}function R(w){return w===null?s(w):w===63?(t.consume(w),Z):qe(w)?(d=R,ie(w)):(t.consume(w),R)}function Z(w){return w===62?Q(w):R(w)}function X(w){return Yn(w)?(t.consume(w),M):s(w)}function M(w){return w===45||vn(w)?(t.consume(w),M):ee(w)}function ee(w){return qe(w)?(d=ee,ie(w)):st(w)?(t.consume(w),ee):Q(w)}function se(w){return w===45||vn(w)?(t.consume(w),se):w===47||w===62||un(w)?$(w):s(w)}function $(w){return w===47?(t.consume(w),Q):w===58||w===95||Yn(w)?(t.consume(w),L):qe(w)?(d=$,ie(w)):st(w)?(t.consume(w),$):Q(w)}function L(w){return w===45||w===46||w===58||w===95||vn(w)?(t.consume(w),L):I(w)}function I(w){return w===61?(t.consume(w),K):qe(w)?(d=I,ie(w)):st(w)?(t.consume(w),I):$(w)}function K(w){return w===null||w===60||w===61||w===62||w===96?s(w):w===34||w===39?(t.consume(w),c=w,ve):qe(w)?(d=K,ie(w)):st(w)?(t.consume(w),K):(t.consume(w),re)}function ve(w){return w===c?(t.consume(w),c=void 0,te):w===null?s(w):qe(w)?(d=ve,ie(w)):(t.consume(w),ve)}function re(w){return w===null||w===34||w===39||w===60||w===61||w===96?s(w):w===47||w===62||un(w)?$(w):(t.consume(w),re)}function te(w){return w===47||w===62||un(w)?$(w):s(w)}function Q(w){return w===62?(t.consume(w),t.exit("htmlTextData"),t.exit("htmlText"),a):s(w)}function ie(w){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),q}function q(w){return st(w)?pt(t,ge,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):ge(w)}function ge(w){return t.enter("htmlTextData"),d(w)}}const iu={name:"labelEnd",resolveAll:V1,resolveTo:q1,tokenize:W1},B1={tokenize:K1},U1={tokenize:G1},H1={tokenize:Q1};function V1(t){let a=-1;const s=[];for(;++a<t.length;){const o=t[a][1];if(s.push(t[a]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const c=o.type==="labelImage"?4:2;o.type="data",a+=c}}return t.length!==s.length&&Zn(t,0,t.length,s),t}function q1(t,a){let s=t.length,o=0,c,u,d,g;for(;s--;)if(c=t[s][1],u){if(c.type==="link"||c.type==="labelLink"&&c._inactive)break;t[s][0]==="enter"&&c.type==="labelLink"&&(c._inactive=!0)}else if(d){if(t[s][0]==="enter"&&(c.type==="labelImage"||c.type==="labelLink")&&!c._balanced&&(u=s,c.type!=="labelLink")){o=2;break}}else c.type==="labelEnd"&&(d=s);const f={type:t[u][1].type==="labelLink"?"link":"image",start:{...t[u][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[u][1].start},end:{...t[d][1].end}},y={type:"labelText",start:{...t[u+o+2][1].end},end:{...t[d-2][1].start}};return g=[["enter",f,a],["enter",h,a]],g=Tn(g,t.slice(u+1,u+o+3)),g=Tn(g,[["enter",y,a]]),g=Tn(g,ou(a.parser.constructs.insideSpan.null,t.slice(u+o+4,d-3),a)),g=Tn(g,[["exit",y,a],t[d-2],t[d-1],["exit",h,a]]),g=Tn(g,t.slice(d+1)),g=Tn(g,[["exit",f,a]]),Zn(t,u,t.length,g),t}function W1(t,a,s){const o=this;let c=o.events.length,u,d;for(;c--;)if((o.events[c][1].type==="labelImage"||o.events[c][1].type==="labelLink")&&!o.events[c][1]._balanced){u=o.events[c][1];break}return g;function g(k){return u?u._inactive?x(k):(d=o.parser.defined.includes(za(o.sliceSerialize({start:u.end,end:o.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(k),t.exit("labelMarker"),t.exit("labelEnd"),f):s(k)}function f(k){return k===40?t.attempt(B1,y,d?y:x)(k):k===91?t.attempt(U1,y,d?h:x)(k):d?y(k):x(k)}function h(k){return t.attempt(H1,y,x)(k)}function y(k){return a(k)}function x(k){return u._balanced=!0,s(k)}}function K1(t,a,s){return o;function o(x){return t.enter("resource"),t.enter("resourceMarker"),t.consume(x),t.exit("resourceMarker"),c}function c(x){return un(x)?Pl(t,u)(x):u(x)}function u(x){return x===41?y(x):r0(t,d,g,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function d(x){return un(x)?Pl(t,f)(x):y(x)}function g(x){return s(x)}function f(x){return x===34||x===39||x===40?l0(t,h,s,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):y(x)}function h(x){return un(x)?Pl(t,y)(x):y(x)}function y(x){return x===41?(t.enter("resourceMarker"),t.consume(x),t.exit("resourceMarker"),t.exit("resource"),a):s(x)}}function G1(t,a,s){const o=this;return c;function c(g){return a0.call(o,t,u,d,"reference","referenceMarker","referenceString")(g)}function u(g){return o.parser.defined.includes(za(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?a(g):s(g)}function d(g){return s(g)}}function Q1(t,a,s){return o;function o(u){return t.enter("reference"),t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),c}function c(u){return u===93?(t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),t.exit("reference"),a):s(u)}}const J1={name:"labelStartImage",resolveAll:iu.resolveAll,tokenize:Y1};function Y1(t,a,s){const o=this;return c;function c(g){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(g),t.exit("labelImageMarker"),u}function u(g){return g===91?(t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelImage"),d):s(g)}function d(g){return g===94&&"_hiddenFootnoteSupport"in o.parser.constructs?s(g):a(g)}}const X1={name:"labelStartLink",resolveAll:iu.resolveAll,tokenize:Z1};function Z1(t,a,s){const o=this;return c;function c(d){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelLink"),u}function u(d){return d===94&&"_hiddenFootnoteSupport"in o.parser.constructs?s(d):a(d)}}const hc={name:"lineEnding",tokenize:ev};function ev(t,a){return s;function s(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),pt(t,a,"linePrefix")}}const so={name:"thematicBreak",tokenize:tv};function tv(t,a,s){let o=0,c;return u;function u(h){return t.enter("thematicBreak"),d(h)}function d(h){return c=h,g(h)}function g(h){return h===c?(t.enter("thematicBreakSequence"),f(h)):o>=3&&(h===null||qe(h))?(t.exit("thematicBreak"),a(h)):s(h)}function f(h){return h===c?(t.consume(h),o++,f):(t.exit("thematicBreakSequence"),st(h)?pt(t,g,"whitespace")(h):g(h))}}const ln={continuation:{tokenize:lv},exit:ov,name:"list",tokenize:av},nv={partial:!0,tokenize:iv},rv={partial:!0,tokenize:sv};function av(t,a,s){const o=this,c=o.events[o.events.length-1];let u=c&&c[1].type==="linePrefix"?c[2].sliceSerialize(c[1],!0).length:0,d=0;return g;function g(v){const D=o.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(D==="listUnordered"?!o.containerState.marker||v===o.containerState.marker:Fc(v)){if(o.containerState.type||(o.containerState.type=D,t.enter(D,{_container:!0})),D==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(so,s,h)(v):h(v);if(!o.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(v)}return s(v)}function f(v){return Fc(v)&&++d<10?(t.consume(v),f):(!o.interrupt||d<2)&&(o.containerState.marker?v===o.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),h(v)):s(v)}function h(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||v,t.check(xo,o.interrupt?s:y,t.attempt(nv,k,x))}function y(v){return o.containerState.initialBlankLine=!0,u++,k(v)}function x(v){return st(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),k):s(v)}function k(v){return o.containerState.size=u+o.sliceSerialize(t.exit("listItemPrefix"),!0).length,a(v)}}function lv(t,a,s){const o=this;return o.containerState._closeFlow=void 0,t.check(xo,c,u);function c(g){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,pt(t,a,"listItemIndent",o.containerState.size+1)(g)}function u(g){return o.containerState.furtherBlankLines||!st(g)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,d(g)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,t.attempt(rv,a,d)(g))}function d(g){return o.containerState._closeFlow=!0,o.interrupt=void 0,pt(t,t.attempt(ln,a,s),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g)}}function sv(t,a,s){const o=this;return pt(t,c,"listItemIndent",o.containerState.size+1);function c(u){const d=o.events[o.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===o.containerState.size?a(u):s(u)}}function ov(t){t.exit(this.containerState.type)}function iv(t,a,s){const o=this;return pt(t,c,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function c(u){const d=o.events[o.events.length-1];return!st(u)&&d&&d[1].type==="listItemPrefixWhitespace"?a(u):s(u)}}const Mg={name:"setextUnderline",resolveTo:cv,tokenize:uv};function cv(t,a){let s=t.length,o,c,u;for(;s--;)if(t[s][0]==="enter"){if(t[s][1].type==="content"){o=s;break}t[s][1].type==="paragraph"&&(c=s)}else t[s][1].type==="content"&&t.splice(s,1),!u&&t[s][1].type==="definition"&&(u=s);const d={type:"setextHeading",start:{...t[o][1].start},end:{...t[t.length-1][1].end}};return t[c][1].type="setextHeadingText",u?(t.splice(c,0,["enter",d,a]),t.splice(u+1,0,["exit",t[o][1],a]),t[o][1].end={...t[u][1].end}):t[o][1]=d,t.push(["exit",d,a]),t}function uv(t,a,s){const o=this;let c;return u;function u(h){let y=o.events.length,x;for(;y--;)if(o.events[y][1].type!=="lineEnding"&&o.events[y][1].type!=="linePrefix"&&o.events[y][1].type!=="content"){x=o.events[y][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||x)?(t.enter("setextHeadingLine"),c=h,d(h)):s(h)}function d(h){return t.enter("setextHeadingLineSequence"),g(h)}function g(h){return h===c?(t.consume(h),g):(t.exit("setextHeadingLineSequence"),st(h)?pt(t,f,"lineSuffix")(h):f(h))}function f(h){return h===null||qe(h)?(t.exit("setextHeadingLine"),a(h)):s(h)}}const dv={tokenize:mv};function mv(t){const a=this,s=t.attempt(xo,o,t.attempt(this.parser.constructs.flowInitial,c,pt(t,t.attempt(this.parser.constructs.flow,c,t.attempt(y1,c)),"linePrefix")));return s;function o(u){if(u===null){t.consume(u);return}return t.enter("lineEndingBlank"),t.consume(u),t.exit("lineEndingBlank"),a.currentConstruct=void 0,s}function c(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a.currentConstruct=void 0,s}}const gv={resolveAll:o0()},pv=s0("string"),fv=s0("text");function s0(t){return{resolveAll:o0(t==="text"?hv:void 0),tokenize:a};function a(s){const o=this,c=this.parser.constructs[t],u=s.attempt(c,d,g);return d;function d(y){return h(y)?u(y):g(y)}function g(y){if(y===null){s.consume(y);return}return s.enter("data"),s.consume(y),f}function f(y){return h(y)?(s.exit("data"),u(y)):(s.consume(y),f)}function h(y){if(y===null)return!0;const x=c[y];let k=-1;if(x)for(;++k<x.length;){const v=x[k];if(!v.previous||v.previous.call(o,o.previous))return!0}return!1}}}function o0(t){return a;function a(s,o){let c=-1,u;for(;++c<=s.length;)u===void 0?s[c]&&s[c][1].type==="data"&&(u=c,c++):(!s[c]||s[c][1].type!=="data")&&(c!==u+2&&(s[u][1].end=s[c-1][1].end,s.splice(u+2,c-u-2),c=u+2),u=void 0);return t?t(s,o):s}}function hv(t,a){let s=0;for(;++s<=t.length;)if((s===t.length||t[s][1].type==="lineEnding")&&t[s-1][1].type==="data"){const o=t[s-1][1],c=a.sliceStream(o);let u=c.length,d=-1,g=0,f;for(;u--;){const h=c[u];if(typeof h=="string"){for(d=h.length;h.charCodeAt(d-1)===32;)g++,d--;if(d)break;d=-1}else if(h===-2)f=!0,g++;else if(h!==-1){u++;break}}if(a._contentTypeTextTrailing&&s===t.length&&(g=0),g){const h={type:s===t.length||f||g<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?d:o.start._bufferIndex+d,_index:o.start._index+u,line:o.end.line,column:o.end.column-g,offset:o.end.offset-g},end:{...o.end}};o.end={...h.start},o.start.offset===o.end.offset?Object.assign(o,h):(t.splice(s,0,["enter",h,a],["exit",h,a]),s+=2)}s++}return t}const yv={42:ln,43:ln,45:ln,48:ln,49:ln,50:ln,51:ln,52:ln,53:ln,54:ln,55:ln,56:ln,57:ln,62:Zp},xv={91:k1},bv={[-2]:fc,[-1]:fc,32:fc},vv={35:T1,42:so,45:[Mg,so],60:I1,61:Mg,95:so,96:Lg,126:Lg},Ev={38:t0,92:e0},kv={[-5]:hc,[-4]:hc,[-3]:hc,33:J1,38:t0,42:$c,60:[Xb,F1],91:X1,92:[C1,e0],93:iu,95:$c,96:d1},wv={null:[$c,gv]},Nv={null:[42,95]},Sv={null:[]},Cv=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Nv,contentInitial:xv,disable:Sv,document:yv,flow:vv,flowInitial:bv,insideSpan:wv,string:Ev,text:kv},Symbol.toStringTag,{value:"Module"}));function _v(t,a,s){let o={_bufferIndex:-1,_index:0,line:s&&s.line||1,column:s&&s.column||1,offset:s&&s.offset||0};const c={},u=[];let d=[],g=[];const f={attempt:ee(X),check:ee(M),consume:N,enter:R,exit:Z,interrupt:ee(M,{interrupt:!0})},h={code:null,containerState:{},defineSkip:P,events:[],now:D,parser:t,previous:null,sliceSerialize:k,sliceStream:v,write:x};let y=a.tokenize.call(h,f);return a.resolveAll&&u.push(a),h;function x(I){return d=Tn(d,I),S(),d[d.length-1]!==null?[]:(se(a,0),h.events=ou(u,h.events,h),h.events)}function k(I,K){return zv(v(I),K)}function v(I){return Tv(d,I)}function D(){const{_bufferIndex:I,_index:K,line:ve,column:re,offset:te}=o;return{_bufferIndex:I,_index:K,line:ve,column:re,offset:te}}function P(I){c[I.line]=I.column,L()}function S(){let I;for(;o._index<d.length;){const K=d[o._index];if(typeof K=="string")for(I=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===I&&o._bufferIndex<K.length;)_(K.charCodeAt(o._bufferIndex));else _(K)}}function _(I){y=y(I)}function N(I){qe(I)?(o.line++,o.column=1,o.offset+=I===-3?2:1,L()):I!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===d[o._index].length&&(o._bufferIndex=-1,o._index++)),h.previous=I}function R(I,K){const ve=K||{};return ve.type=I,ve.start=D(),h.events.push(["enter",ve,h]),g.push(ve),ve}function Z(I){const K=g.pop();return K.end=D(),h.events.push(["exit",K,h]),K}function X(I,K){se(I,K.from)}function M(I,K){K.restore()}function ee(I,K){return ve;function ve(re,te,Q){let ie,q,ge,w;return Array.isArray(re)?B(re):"tokenize"in re?B([re]):O(re);function O(_e){return Ue;function Ue(De){const Oe=De!==null&&_e[De],tt=De!==null&&_e.null,ot=[...Array.isArray(Oe)?Oe:Oe?[Oe]:[],...Array.isArray(tt)?tt:tt?[tt]:[]];return B(ot)(De)}}function B(_e){return ie=_e,q=0,_e.length===0?Q:C(_e[q])}function C(_e){return Ue;function Ue(De){return w=$(),ge=_e,_e.partial||(h.currentConstruct=_e),_e.name&&h.parser.constructs.disable.null.includes(_e.name)?Ae():_e.tokenize.call(K?Object.assign(Object.create(h),K):h,f,Ee,Ae)(De)}}function Ee(_e){return I(ge,w),te}function Ae(_e){return w.restore(),++q<ie.length?C(ie[q]):Q}}}function se(I,K){I.resolveAll&&!u.includes(I)&&u.push(I),I.resolve&&Zn(h.events,K,h.events.length-K,I.resolve(h.events.slice(K),h)),I.resolveTo&&(h.events=I.resolveTo(h.events,h))}function $(){const I=D(),K=h.previous,ve=h.currentConstruct,re=h.events.length,te=Array.from(g);return{from:re,restore:Q};function Q(){o=I,h.previous=K,h.currentConstruct=ve,h.events.length=re,g=te,L()}}function L(){o.line in c&&o.column<2&&(o.column=c[o.line],o.offset+=c[o.line]-1)}}function Tv(t,a){const s=a.start._index,o=a.start._bufferIndex,c=a.end._index,u=a.end._bufferIndex;let d;if(s===c)d=[t[s].slice(o,u)];else{if(d=t.slice(s,c),o>-1){const g=d[0];typeof g=="string"?d[0]=g.slice(o):d.shift()}u>0&&d.push(t[c].slice(0,u))}return d}function zv(t,a){let s=-1;const o=[];let c;for(;++s<t.length;){const u=t[s];let d;if(typeof u=="string")d=u;else switch(u){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=a?" ":"	";break}case-1:{if(!a&&c)continue;d=" ";break}default:d=String.fromCharCode(u)}c=u===-2,o.push(d)}return o.join("")}function Pv(t){const o={constructs:Ob([Cv,...(t||{}).extensions||[]]),content:c(qb),defined:[],document:c(Kb),flow:c(dv),lazy:{},string:c(pv),text:c(fv)};return o;function c(u){return d;function d(g){return _v(o,u,g)}}}function Lv(t){for(;!n0(t););return t}const Rg=/[\0\t\n\r]/g;function Iv(){let t=1,a="",s=!0,o;return c;function c(u,d,g){const f=[];let h,y,x,k,v;for(u=a+(typeof u=="string"?u.toString():new TextDecoder(d||void 0).decode(u)),x=0,a="",s&&(u.charCodeAt(0)===65279&&x++,s=void 0);x<u.length;){if(Rg.lastIndex=x,h=Rg.exec(u),k=h&&h.index!==void 0?h.index:u.length,v=u.charCodeAt(k),!h){a=u.slice(x);break}if(v===10&&x===k&&o)f.push(-3),o=void 0;else switch(o&&(f.push(-5),o=void 0),x<k&&(f.push(u.slice(x,k)),t+=k-x),v){case 0:{f.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,f.push(-2);t++<y;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:o=!0,t=1}x=k+1}return g&&(o&&f.push(-5),a&&f.push(a),f.push(null)),f}}const Mv=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Rv(t){return t.replace(Mv,Av)}function Av(t,a,s){if(a)return a;if(s.charCodeAt(0)===35){const c=s.charCodeAt(1),u=c===120||c===88;return Xp(s.slice(u?2:1),u?16:10)}return su(s)||t}const i0={}.hasOwnProperty;function Dv(t,a,s){return typeof a!="string"&&(s=a,a=void 0),Ov(s)(Lv(Pv(s).document().write(Iv()(t,a,!0))))}function Ov(t){const a={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Pe),autolinkProtocol:$,autolinkEmail:$,atxHeading:u(rt),blockQuote:u(tt),characterEscape:$,characterReference:$,codeFenced:u(ot),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:u(ot,d),codeText:u(ct,d),codeTextData:$,data:$,codeFlowValue:$,definition:u(yt),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:u(ue),hardBreakEscape:u(Qe),hardBreakTrailing:u(Qe),htmlFlow:u(G,d),htmlFlowData:$,htmlText:u(G,d),htmlTextData:$,image:u(ne),label:d,link:u(Pe),listItem:u(We),listItemValue:k,listOrdered:u(ye,x),listUnordered:u(ye),paragraph:u(J),reference:C,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:u(rt),strong:u(he),thematicBreak:u(U)},exit:{atxHeading:f(),atxHeadingSequence:X,autolink:f(),autolinkEmail:Oe,autolinkProtocol:De,blockQuote:f(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:Ae,characterReferenceMarkerNumeric:Ae,characterReferenceValue:_e,characterReference:Ue,codeFenced:f(S),codeFencedFence:P,codeFencedFenceInfo:v,codeFencedFenceMeta:D,codeFlowValue:L,codeIndented:f(_),codeText:f(te),codeTextData:L,data:L,definition:f(),definitionDestinationString:Z,definitionLabelString:N,definitionTitleString:R,emphasis:f(),hardBreakEscape:f(K),hardBreakTrailing:f(K),htmlFlow:f(ve),htmlFlowData:L,htmlText:f(re),htmlTextData:L,image:f(ie),label:ge,labelText:q,lineEnding:I,link:f(Q),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:Ee,resourceDestinationString:w,resourceTitleString:O,resource:B,setextHeading:f(se),setextHeadingLineSequence:ee,setextHeadingText:M,strong:f(),thematicBreak:f()}};c0(a,(t||{}).mdastExtensions||[]);const s={};return o;function o(F){let Y={type:"root",children:[]};const ae={stack:[Y],tokenStack:[],config:a,enter:g,exit:h,buffer:d,resume:y,data:s},be=[];let Fe=-1;for(;++Fe<F.length;)if(F[Fe][1].type==="listOrdered"||F[Fe][1].type==="listUnordered")if(F[Fe][0]==="enter")be.push(Fe);else{const Ke=be.pop();Fe=c(F,Ke,Fe)}for(Fe=-1;++Fe<F.length;){const Ke=a[F[Fe][0]];i0.call(Ke,F[Fe][1].type)&&Ke[F[Fe][1].type].call(Object.assign({sliceSerialize:F[Fe][2].sliceSerialize},ae),F[Fe][1])}if(ae.tokenStack.length>0){const Ke=ae.tokenStack[ae.tokenStack.length-1];(Ke[1]||Ag).call(ae,void 0,Ke[0])}for(Y.position={start:Rr(F.length>0?F[0][1].start:{line:1,column:1,offset:0}),end:Rr(F.length>0?F[F.length-2][1].end:{line:1,column:1,offset:0})},Fe=-1;++Fe<a.transforms.length;)Y=a.transforms[Fe](Y)||Y;return Y}function c(F,Y,ae){let be=Y-1,Fe=-1,Ke=!1,Ze,Xe,Vt,$t;for(;++be<=ae;){const He=F[be];switch(He[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{He[0]==="enter"?Fe++:Fe--,$t=void 0;break}case"lineEndingBlank":{He[0]==="enter"&&(Ze&&!$t&&!Fe&&!Vt&&(Vt=be),$t=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:$t=void 0}if(!Fe&&He[0]==="enter"&&He[1].type==="listItemPrefix"||Fe===-1&&He[0]==="exit"&&(He[1].type==="listUnordered"||He[1].type==="listOrdered")){if(Ze){let Je=be;for(Xe=void 0;Je--;){const we=F[Je];if(we[1].type==="lineEnding"||we[1].type==="lineEndingBlank"){if(we[0]==="exit")continue;Xe&&(F[Xe][1].type="lineEndingBlank",Ke=!0),we[1].type="lineEnding",Xe=Je}else if(!(we[1].type==="linePrefix"||we[1].type==="blockQuotePrefix"||we[1].type==="blockQuotePrefixWhitespace"||we[1].type==="blockQuoteMarker"||we[1].type==="listItemIndent"))break}Vt&&(!Xe||Vt<Xe)&&(Ze._spread=!0),Ze.end=Object.assign({},Xe?F[Xe][1].start:He[1].end),F.splice(Xe||be,0,["exit",Ze,He[2]]),be++,ae++}if(He[1].type==="listItemPrefix"){const Je={type:"listItem",_spread:!1,start:Object.assign({},He[1].start),end:void 0};Ze=Je,F.splice(be,0,["enter",Je,He[2]]),be++,ae++,Vt=void 0,$t=!0}}}return F[Y][1]._spread=Ke,ae}function u(F,Y){return ae;function ae(be){g.call(this,F(be),be),Y&&Y.call(this,be)}}function d(){this.stack.push({type:"fragment",children:[]})}function g(F,Y,ae){this.stack[this.stack.length-1].children.push(F),this.stack.push(F),this.tokenStack.push([Y,ae||void 0]),F.position={start:Rr(Y.start),end:void 0}}function f(F){return Y;function Y(ae){F&&F.call(this,ae),h.call(this,ae)}}function h(F,Y){const ae=this.stack.pop(),be=this.tokenStack.pop();if(be)be[0].type!==F.type&&(Y?Y.call(this,F,be[0]):(be[1]||Ag).call(this,F,be[0]));else throw new Error("Cannot close `"+F.type+"` ("+zl({start:F.start,end:F.end})+"): its not open");ae.position.end=Rr(F.end)}function y(){return Ab(this.stack.pop())}function x(){this.data.expectingFirstListItemValue=!0}function k(F){if(this.data.expectingFirstListItemValue){const Y=this.stack[this.stack.length-2];Y.start=Number.parseInt(this.sliceSerialize(F),10),this.data.expectingFirstListItemValue=void 0}}function v(){const F=this.resume(),Y=this.stack[this.stack.length-1];Y.lang=F}function D(){const F=this.resume(),Y=this.stack[this.stack.length-1];Y.meta=F}function P(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const F=this.resume(),Y=this.stack[this.stack.length-1];Y.value=F.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const F=this.resume(),Y=this.stack[this.stack.length-1];Y.value=F.replace(/(\r?\n|\r)$/g,"")}function N(F){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.label=Y,ae.identifier=za(this.sliceSerialize(F)).toLowerCase()}function R(){const F=this.resume(),Y=this.stack[this.stack.length-1];Y.title=F}function Z(){const F=this.resume(),Y=this.stack[this.stack.length-1];Y.url=F}function X(F){const Y=this.stack[this.stack.length-1];if(!Y.depth){const ae=this.sliceSerialize(F).length;Y.depth=ae}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function ee(F){const Y=this.stack[this.stack.length-1];Y.depth=this.sliceSerialize(F).codePointAt(0)===61?1:2}function se(){this.data.setextHeadingSlurpLineEnding=void 0}function $(F){const ae=this.stack[this.stack.length-1].children;let be=ae[ae.length-1];(!be||be.type!=="text")&&(be=ke(),be.position={start:Rr(F.start),end:void 0},ae.push(be)),this.stack.push(be)}function L(F){const Y=this.stack.pop();Y.value+=this.sliceSerialize(F),Y.position.end=Rr(F.end)}function I(F){const Y=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ae=Y.children[Y.children.length-1];ae.position.end=Rr(F.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&a.canContainEols.includes(Y.type)&&($.call(this,F),L.call(this,F))}function K(){this.data.atHardBreak=!0}function ve(){const F=this.resume(),Y=this.stack[this.stack.length-1];Y.value=F}function re(){const F=this.resume(),Y=this.stack[this.stack.length-1];Y.value=F}function te(){const F=this.resume(),Y=this.stack[this.stack.length-1];Y.value=F}function Q(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=Y,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function ie(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=Y,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function q(F){const Y=this.sliceSerialize(F),ae=this.stack[this.stack.length-2];ae.label=Rv(Y),ae.identifier=za(Y).toLowerCase()}function ge(){const F=this.stack[this.stack.length-1],Y=this.resume(),ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,ae.type==="link"){const be=F.children;ae.children=be}else ae.alt=Y}function w(){const F=this.resume(),Y=this.stack[this.stack.length-1];Y.url=F}function O(){const F=this.resume(),Y=this.stack[this.stack.length-1];Y.title=F}function B(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function Ee(F){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.label=Y,ae.identifier=za(this.sliceSerialize(F)).toLowerCase(),this.data.referenceType="full"}function Ae(F){this.data.characterReferenceType=F.type}function _e(F){const Y=this.sliceSerialize(F),ae=this.data.characterReferenceType;let be;ae?(be=Xp(Y,ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):be=su(Y);const Fe=this.stack[this.stack.length-1];Fe.value+=be}function Ue(F){const Y=this.stack.pop();Y.position.end=Rr(F.end)}function De(F){L.call(this,F);const Y=this.stack[this.stack.length-1];Y.url=this.sliceSerialize(F)}function Oe(F){L.call(this,F);const Y=this.stack[this.stack.length-1];Y.url="mailto:"+this.sliceSerialize(F)}function tt(){return{type:"blockquote",children:[]}}function ot(){return{type:"code",lang:null,meta:null,value:""}}function ct(){return{type:"inlineCode",value:""}}function yt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ue(){return{type:"emphasis",children:[]}}function rt(){return{type:"heading",depth:0,children:[]}}function Qe(){return{type:"break"}}function G(){return{type:"html",value:""}}function ne(){return{type:"image",title:null,url:"",alt:null}}function Pe(){return{type:"link",title:null,url:"",children:[]}}function ye(F){return{type:"list",ordered:F.type==="listOrdered",start:null,spread:F._spread,children:[]}}function We(F){return{type:"listItem",spread:F._spread,checked:null,children:[]}}function J(){return{type:"paragraph",children:[]}}function he(){return{type:"strong",children:[]}}function ke(){return{type:"text",value:""}}function U(){return{type:"thematicBreak"}}}function Rr(t){return{line:t.line,column:t.column,offset:t.offset}}function c0(t,a){let s=-1;for(;++s<a.length;){const o=a[s];Array.isArray(o)?c0(t,o):jv(t,o)}}function jv(t,a){let s;for(s in a)if(i0.call(a,s))switch(s){case"canContainEols":{const o=a[s];o&&t[s].push(...o);break}case"transforms":{const o=a[s];o&&t[s].push(...o);break}case"enter":case"exit":{const o=a[s];o&&Object.assign(t[s],o);break}}}function Ag(t,a){throw t?new Error("Cannot close `"+t.type+"` ("+zl({start:t.start,end:t.end})+"): a different token (`"+a.type+"`, "+zl({start:a.start,end:a.end})+") is open"):new Error("Cannot close document, a token (`"+a.type+"`, "+zl({start:a.start,end:a.end})+") is still open")}function Fv(t){const a=this;a.parser=s;function s(o){return Dv(o,{...a.data("settings"),...t,extensions:a.data("micromarkExtensions")||[],mdastExtensions:a.data("fromMarkdownExtensions")||[]})}}function $v(t,a){const s={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(a),!0)};return t.patch(a,s),t.applyData(a,s)}function Bv(t,a){const s={type:"element",tagName:"br",properties:{},children:[]};return t.patch(a,s),[t.applyData(a,s),{type:"text",value:`
`}]}function Uv(t,a){const s=a.value?a.value+`
`:"",o={},c=a.lang?a.lang.split(/\s+/):[];c.length>0&&(o.className=["language-"+c[0]]);let u={type:"element",tagName:"code",properties:o,children:[{type:"text",value:s}]};return a.meta&&(u.data={meta:a.meta}),t.patch(a,u),u=t.applyData(a,u),u={type:"element",tagName:"pre",properties:{},children:[u]},t.patch(a,u),u}function Hv(t,a){const s={type:"element",tagName:"del",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function Vv(t,a){const s={type:"element",tagName:"em",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function qv(t,a){const s=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",o=String(a.identifier).toUpperCase(),c=Aa(o.toLowerCase()),u=t.footnoteOrder.indexOf(o);let d,g=t.footnoteCounts.get(o);g===void 0?(g=0,t.footnoteOrder.push(o),d=t.footnoteOrder.length):d=u+1,g+=1,t.footnoteCounts.set(o,g);const f={type:"element",tagName:"a",properties:{href:"#"+s+"fn-"+c,id:s+"fnref-"+c+(g>1?"-"+g:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(d)}]};t.patch(a,f);const h={type:"element",tagName:"sup",properties:{},children:[f]};return t.patch(a,h),t.applyData(a,h)}function Wv(t,a){const s={type:"element",tagName:"h"+a.depth,properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function Kv(t,a){if(t.options.allowDangerousHtml){const s={type:"raw",value:a.value};return t.patch(a,s),t.applyData(a,s)}}function u0(t,a){const s=a.referenceType;let o="]";if(s==="collapsed"?o+="[]":s==="full"&&(o+="["+(a.label||a.identifier)+"]"),a.type==="imageReference")return[{type:"text",value:"!["+a.alt+o}];const c=t.all(a),u=c[0];u&&u.type==="text"?u.value="["+u.value:c.unshift({type:"text",value:"["});const d=c[c.length-1];return d&&d.type==="text"?d.value+=o:c.push({type:"text",value:o}),c}function Gv(t,a){const s=String(a.identifier).toUpperCase(),o=t.definitionById.get(s);if(!o)return u0(t,a);const c={src:Aa(o.url||""),alt:a.alt};o.title!==null&&o.title!==void 0&&(c.title=o.title);const u={type:"element",tagName:"img",properties:c,children:[]};return t.patch(a,u),t.applyData(a,u)}function Qv(t,a){const s={src:Aa(a.url)};a.alt!==null&&a.alt!==void 0&&(s.alt=a.alt),a.title!==null&&a.title!==void 0&&(s.title=a.title);const o={type:"element",tagName:"img",properties:s,children:[]};return t.patch(a,o),t.applyData(a,o)}function Jv(t,a){const s={type:"text",value:a.value.replace(/\r?\n|\r/g," ")};t.patch(a,s);const o={type:"element",tagName:"code",properties:{},children:[s]};return t.patch(a,o),t.applyData(a,o)}function Yv(t,a){const s=String(a.identifier).toUpperCase(),o=t.definitionById.get(s);if(!o)return u0(t,a);const c={href:Aa(o.url||"")};o.title!==null&&o.title!==void 0&&(c.title=o.title);const u={type:"element",tagName:"a",properties:c,children:t.all(a)};return t.patch(a,u),t.applyData(a,u)}function Xv(t,a){const s={href:Aa(a.url)};a.title!==null&&a.title!==void 0&&(s.title=a.title);const o={type:"element",tagName:"a",properties:s,children:t.all(a)};return t.patch(a,o),t.applyData(a,o)}function Zv(t,a,s){const o=t.all(a),c=s?eE(s):d0(a),u={},d=[];if(typeof a.checked=="boolean"){const y=o[0];let x;y&&y.type==="element"&&y.tagName==="p"?x=y:(x={type:"element",tagName:"p",properties:{},children:[]},o.unshift(x)),x.children.length>0&&x.children.unshift({type:"text",value:" "}),x.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:a.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let g=-1;for(;++g<o.length;){const y=o[g];(c||g!==0||y.type!=="element"||y.tagName!=="p")&&d.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!c?d.push(...y.children):d.push(y)}const f=o[o.length-1];f&&(c||f.type!=="element"||f.tagName!=="p")&&d.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:u,children:d};return t.patch(a,h),t.applyData(a,h)}function eE(t){let a=!1;if(t.type==="list"){a=t.spread||!1;const s=t.children;let o=-1;for(;!a&&++o<s.length;)a=d0(s[o])}return a}function d0(t){const a=t.spread;return a??t.children.length>1}function tE(t,a){const s={},o=t.all(a);let c=-1;for(typeof a.start=="number"&&a.start!==1&&(s.start=a.start);++c<o.length;){const d=o[c];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){s.className=["contains-task-list"];break}}const u={type:"element",tagName:a.ordered?"ol":"ul",properties:s,children:t.wrap(o,!0)};return t.patch(a,u),t.applyData(a,u)}function nE(t,a){const s={type:"element",tagName:"p",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function rE(t,a){const s={type:"root",children:t.wrap(t.all(a))};return t.patch(a,s),t.applyData(a,s)}function aE(t,a){const s={type:"element",tagName:"strong",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function lE(t,a){const s=t.all(a),o=s.shift(),c=[];if(o){const d={type:"element",tagName:"thead",properties:{},children:t.wrap([o],!0)};t.patch(a.children[0],d),c.push(d)}if(s.length>0){const d={type:"element",tagName:"tbody",properties:{},children:t.wrap(s,!0)},g=nu(a.children[1]),f=qp(a.children[a.children.length-1]);g&&f&&(d.position={start:g,end:f}),c.push(d)}const u={type:"element",tagName:"table",properties:{},children:t.wrap(c,!0)};return t.patch(a,u),t.applyData(a,u)}function sE(t,a,s){const o=s?s.children:void 0,u=(o?o.indexOf(a):1)===0?"th":"td",d=s&&s.type==="table"?s.align:void 0,g=d?d.length:a.children.length;let f=-1;const h=[];for(;++f<g;){const x=a.children[f],k={},v=d?d[f]:void 0;v&&(k.align=v);let D={type:"element",tagName:u,properties:k,children:[]};x&&(D.children=t.all(x),t.patch(x,D),D=t.applyData(x,D)),h.push(D)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(a,y),t.applyData(a,y)}function oE(t,a){const s={type:"element",tagName:"td",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}const Dg=9,Og=32;function iE(t){const a=String(t),s=/\r?\n|\r/g;let o=s.exec(a),c=0;const u=[];for(;o;)u.push(jg(a.slice(c,o.index),c>0,!0),o[0]),c=o.index+o[0].length,o=s.exec(a);return u.push(jg(a.slice(c),c>0,!1)),u.join("")}function jg(t,a,s){let o=0,c=t.length;if(a){let u=t.codePointAt(o);for(;u===Dg||u===Og;)o++,u=t.codePointAt(o)}if(s){let u=t.codePointAt(c-1);for(;u===Dg||u===Og;)c--,u=t.codePointAt(c-1)}return c>o?t.slice(o,c):""}function cE(t,a){const s={type:"text",value:iE(String(a.value))};return t.patch(a,s),t.applyData(a,s)}function uE(t,a){const s={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(a,s),t.applyData(a,s)}const dE={blockquote:$v,break:Bv,code:Uv,delete:Hv,emphasis:Vv,footnoteReference:qv,heading:Wv,html:Kv,imageReference:Gv,image:Qv,inlineCode:Jv,linkReference:Yv,link:Xv,listItem:Zv,list:tE,paragraph:nE,root:rE,strong:aE,table:lE,tableCell:oE,tableRow:sE,text:cE,thematicBreak:uE,toml:Xs,yaml:Xs,definition:Xs,footnoteDefinition:Xs};function Xs(){}const m0=-1,bo=0,Ll=1,io=2,cu=3,uu=4,du=5,mu=6,g0=7,p0=8,Fg=typeof self=="object"?self:globalThis,mE=(t,a)=>{const s=(c,u)=>(t.set(u,c),c),o=c=>{if(t.has(c))return t.get(c);const[u,d]=a[c];switch(u){case bo:case m0:return s(d,c);case Ll:{const g=s([],c);for(const f of d)g.push(o(f));return g}case io:{const g=s({},c);for(const[f,h]of d)g[o(f)]=o(h);return g}case cu:return s(new Date(d),c);case uu:{const{source:g,flags:f}=d;return s(new RegExp(g,f),c)}case du:{const g=s(new Map,c);for(const[f,h]of d)g.set(o(f),o(h));return g}case mu:{const g=s(new Set,c);for(const f of d)g.add(o(f));return g}case g0:{const{name:g,message:f}=d;return s(new Fg[g](f),c)}case p0:return s(BigInt(d),c);case"BigInt":return s(Object(BigInt(d)),c);case"ArrayBuffer":return s(new Uint8Array(d).buffer,d);case"DataView":{const{buffer:g}=new Uint8Array(d);return s(new DataView(g),d)}}return s(new Fg[u](d),c)};return o},$g=t=>mE(new Map,t)(0),Sa="",{toString:gE}={},{keys:pE}=Object,Nl=t=>{const a=typeof t;if(a!=="object"||!t)return[bo,a];const s=gE.call(t).slice(8,-1);switch(s){case"Array":return[Ll,Sa];case"Object":return[io,Sa];case"Date":return[cu,Sa];case"RegExp":return[uu,Sa];case"Map":return[du,Sa];case"Set":return[mu,Sa];case"DataView":return[Ll,s]}return s.includes("Array")?[Ll,s]:s.includes("Error")?[g0,s]:[io,s]},Zs=([t,a])=>t===bo&&(a==="function"||a==="symbol"),fE=(t,a,s,o)=>{const c=(d,g)=>{const f=o.push(d)-1;return s.set(g,f),f},u=d=>{if(s.has(d))return s.get(d);let[g,f]=Nl(d);switch(g){case bo:{let y=d;switch(f){case"bigint":g=p0,y=d.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+f);y=null;break;case"undefined":return c([m0],d)}return c([g,y],d)}case Ll:{if(f){let k=d;return f==="DataView"?k=new Uint8Array(d.buffer):f==="ArrayBuffer"&&(k=new Uint8Array(d)),c([f,[...k]],d)}const y=[],x=c([g,y],d);for(const k of d)y.push(u(k));return x}case io:{if(f)switch(f){case"BigInt":return c([f,d.toString()],d);case"Boolean":case"Number":case"String":return c([f,d.valueOf()],d)}if(a&&"toJSON"in d)return u(d.toJSON());const y=[],x=c([g,y],d);for(const k of pE(d))(t||!Zs(Nl(d[k])))&&y.push([u(k),u(d[k])]);return x}case cu:return c([g,d.toISOString()],d);case uu:{const{source:y,flags:x}=d;return c([g,{source:y,flags:x}],d)}case du:{const y=[],x=c([g,y],d);for(const[k,v]of d)(t||!(Zs(Nl(k))||Zs(Nl(v))))&&y.push([u(k),u(v)]);return x}case mu:{const y=[],x=c([g,y],d);for(const k of d)(t||!Zs(Nl(k)))&&y.push(u(k));return x}}const{message:h}=d;return c([g,{name:f,message:h}],d)};return u},Bg=(t,{json:a,lossy:s}={})=>{const o=[];return fE(!(a||s),!!a,new Map,o)(t),o},co=typeof structuredClone=="function"?(t,a)=>a&&("json"in a||"lossy"in a)?$g(Bg(t,a)):structuredClone(t):(t,a)=>$g(Bg(t,a));function hE(t,a){const s=[{type:"text",value:""}];return a>1&&s.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(a)}]}),s}function yE(t,a){return"Back to reference "+(t+1)+(a>1?"-"+a:"")}function xE(t){const a=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",s=t.options.footnoteBackContent||hE,o=t.options.footnoteBackLabel||yE,c=t.options.footnoteLabel||"Footnotes",u=t.options.footnoteLabelTagName||"h2",d=t.options.footnoteLabelProperties||{className:["sr-only"]},g=[];let f=-1;for(;++f<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[f]);if(!h)continue;const y=t.all(h),x=String(h.identifier).toUpperCase(),k=Aa(x.toLowerCase());let v=0;const D=[],P=t.footnoteCounts.get(x);for(;P!==void 0&&++v<=P;){D.length>0&&D.push({type:"text",value:" "});let N=typeof s=="string"?s:s(f,v);typeof N=="string"&&(N={type:"text",value:N}),D.push({type:"element",tagName:"a",properties:{href:"#"+a+"fnref-"+k+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof o=="string"?o:o(f,v),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const S=y[y.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const N=S.children[S.children.length-1];N&&N.type==="text"?N.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...D)}else y.push(...D);const _={type:"element",tagName:"li",properties:{id:a+"fn-"+k},children:t.wrap(y,!0)};t.patch(h,_),g.push(_)}if(g.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...co(d),id:"footnote-label"},children:[{type:"text",value:c}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(g,!0)},{type:"text",value:`
`}]}}const f0=(function(t){if(t==null)return kE;if(typeof t=="function")return vo(t);if(typeof t=="object")return Array.isArray(t)?bE(t):vE(t);if(typeof t=="string")return EE(t);throw new Error("Expected function, string, or object as test")});function bE(t){const a=[];let s=-1;for(;++s<t.length;)a[s]=f0(t[s]);return vo(o);function o(...c){let u=-1;for(;++u<a.length;)if(a[u].apply(this,c))return!0;return!1}}function vE(t){const a=t;return vo(s);function s(o){const c=o;let u;for(u in t)if(c[u]!==a[u])return!1;return!0}}function EE(t){return vo(a);function a(s){return s&&s.type===t}}function vo(t){return a;function a(s,o,c){return!!(wE(s)&&t.call(this,s,typeof o=="number"?o:void 0,c||void 0))}}function kE(){return!0}function wE(t){return t!==null&&typeof t=="object"&&"type"in t}const h0=[],NE=!0,Ug=!1,SE="skip";function CE(t,a,s,o){let c;typeof a=="function"&&typeof s!="function"?(o=s,s=a):c=a;const u=f0(c),d=o?-1:1;g(t,void 0,[])();function g(f,h,y){const x=f&&typeof f=="object"?f:{};if(typeof x.type=="string"){const v=typeof x.tagName=="string"?x.tagName:typeof x.name=="string"?x.name:void 0;Object.defineProperty(k,"name",{value:"node ("+(f.type+(v?"<"+v+">":""))+")"})}return k;function k(){let v=h0,D,P,S;if((!a||u(f,h,y[y.length-1]||void 0))&&(v=_E(s(f,y)),v[0]===Ug))return v;if("children"in f&&f.children){const _=f;if(_.children&&v[0]!==SE)for(P=(o?_.children.length:-1)+d,S=y.concat(_);P>-1&&P<_.children.length;){const N=_.children[P];if(D=g(N,P,S)(),D[0]===Ug)return D;P=typeof D[1]=="number"?D[1]:P+d}}return v}}}function _E(t){return Array.isArray(t)?t:typeof t=="number"?[NE,t]:t==null?h0:[t]}function y0(t,a,s,o){let c,u,d;typeof a=="function"&&typeof s!="function"?(u=void 0,d=a,c=s):(u=a,d=s,c=o),CE(t,u,g,c);function g(f,h){const y=h[h.length-1],x=y?y.children.indexOf(f):void 0;return d(f,x,y)}}const Bc={}.hasOwnProperty,TE={};function zE(t,a){const s=a||TE,o=new Map,c=new Map,u=new Map,d={...dE,...s.handlers},g={all:h,applyData:LE,definitionById:o,footnoteById:c,footnoteCounts:u,footnoteOrder:[],handlers:d,one:f,options:s,patch:PE,wrap:ME};return y0(t,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const x=y.type==="definition"?o:c,k=String(y.identifier).toUpperCase();x.has(k)||x.set(k,y)}}),g;function f(y,x){const k=y.type,v=g.handlers[k];if(Bc.call(g.handlers,k)&&v)return v(g,y,x);if(g.options.passThrough&&g.options.passThrough.includes(k)){if("children"in y){const{children:P,...S}=y,_=co(S);return _.children=g.all(y),_}return co(y)}return(g.options.unknownHandler||IE)(g,y,x)}function h(y){const x=[];if("children"in y){const k=y.children;let v=-1;for(;++v<k.length;){const D=g.one(k[v],y);if(D){if(v&&k[v-1].type==="break"&&(!Array.isArray(D)&&D.type==="text"&&(D.value=Hg(D.value)),!Array.isArray(D)&&D.type==="element")){const P=D.children[0];P&&P.type==="text"&&(P.value=Hg(P.value))}Array.isArray(D)?x.push(...D):x.push(D)}}}return x}}function PE(t,a){t.position&&(a.position=db(t))}function LE(t,a){let s=a;if(t&&t.data){const o=t.data.hName,c=t.data.hChildren,u=t.data.hProperties;if(typeof o=="string")if(s.type==="element")s.tagName=o;else{const d="children"in s?s.children:[s];s={type:"element",tagName:o,properties:{},children:d}}s.type==="element"&&u&&Object.assign(s.properties,co(u)),"children"in s&&s.children&&c!==null&&c!==void 0&&(s.children=c)}return s}function IE(t,a){const s=a.data||{},o="value"in a&&!(Bc.call(s,"hProperties")||Bc.call(s,"hChildren"))?{type:"text",value:a.value}:{type:"element",tagName:"div",properties:{},children:t.all(a)};return t.patch(a,o),t.applyData(a,o)}function ME(t,a){const s=[];let o=-1;for(a&&s.push({type:"text",value:`
`});++o<t.length;)o&&s.push({type:"text",value:`
`}),s.push(t[o]);return a&&t.length>0&&s.push({type:"text",value:`
`}),s}function Hg(t){let a=0,s=t.charCodeAt(a);for(;s===9||s===32;)a++,s=t.charCodeAt(a);return t.slice(a)}function Vg(t,a){const s=zE(t,a),o=s.one(t,void 0),c=xE(s),u=Array.isArray(o)?{type:"root",children:o}:o||{type:"root",children:[]};return c&&u.children.push({type:"text",value:`
`},c),u}function RE(t,a){return t&&"run"in t?async function(s,o){const c=Vg(s,{file:o,...a});await t.run(c,o)}:function(s,o){return Vg(s,{file:o,...t||a})}}function qg(t){if(t)throw t}var yc,Wg;function AE(){if(Wg)return yc;Wg=1;var t=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,c=function(h){return typeof Array.isArray=="function"?Array.isArray(h):a.call(h)==="[object Array]"},u=function(h){if(!h||a.call(h)!=="[object Object]")return!1;var y=t.call(h,"constructor"),x=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!y&&!x)return!1;var k;for(k in h);return typeof k>"u"||t.call(h,k)},d=function(h,y){s&&y.name==="__proto__"?s(h,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):h[y.name]=y.newValue},g=function(h,y){if(y==="__proto__")if(t.call(h,y)){if(o)return o(h,y).value}else return;return h[y]};return yc=function f(){var h,y,x,k,v,D,P=arguments[0],S=1,_=arguments.length,N=!1;for(typeof P=="boolean"&&(N=P,P=arguments[1]||{},S=2),(P==null||typeof P!="object"&&typeof P!="function")&&(P={});S<_;++S)if(h=arguments[S],h!=null)for(y in h)x=g(P,y),k=g(h,y),P!==k&&(N&&k&&(u(k)||(v=c(k)))?(v?(v=!1,D=x&&c(x)?x:[]):D=x&&u(x)?x:{},d(P,{name:y,newValue:f(N,D,k)})):typeof k<"u"&&d(P,{name:y,newValue:k}));return P},yc}var DE=AE();const xc=uo(DE);function Uc(t){if(typeof t!="object"||t===null)return!1;const a=Object.getPrototypeOf(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function OE(){const t=[],a={run:s,use:o};return a;function s(...c){let u=-1;const d=c.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);g(null,...c);function g(f,...h){const y=t[++u];let x=-1;if(f){d(f);return}for(;++x<c.length;)(h[x]===null||h[x]===void 0)&&(h[x]=c[x]);c=h,y?jE(y,g)(...h):d(null,...h)}}function o(c){if(typeof c!="function")throw new TypeError("Expected `middelware` to be a function, not "+c);return t.push(c),a}}function jE(t,a){let s;return o;function o(...d){const g=t.length>d.length;let f;g&&d.push(c);try{f=t.apply(this,d)}catch(h){const y=h;if(g&&s)throw y;return c(y)}g||(f&&f.then&&typeof f.then=="function"?f.then(u,c):f instanceof Error?c(f):u(f))}function c(d,...g){s||(s=!0,a(d,...g))}function u(d){c(null,d)}}const Qn={basename:FE,dirname:$E,extname:BE,join:UE,sep:"/"};function FE(t,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');Bl(t);let s=0,o=-1,c=t.length,u;if(a===void 0||a.length===0||a.length>t.length){for(;c--;)if(t.codePointAt(c)===47){if(u){s=c+1;break}}else o<0&&(u=!0,o=c+1);return o<0?"":t.slice(s,o)}if(a===t)return"";let d=-1,g=a.length-1;for(;c--;)if(t.codePointAt(c)===47){if(u){s=c+1;break}}else d<0&&(u=!0,d=c+1),g>-1&&(t.codePointAt(c)===a.codePointAt(g--)?g<0&&(o=c):(g=-1,o=d));return s===o?o=d:o<0&&(o=t.length),t.slice(s,o)}function $E(t){if(Bl(t),t.length===0)return".";let a=-1,s=t.length,o;for(;--s;)if(t.codePointAt(s)===47){if(o){a=s;break}}else o||(o=!0);return a<0?t.codePointAt(0)===47?"/":".":a===1&&t.codePointAt(0)===47?"//":t.slice(0,a)}function BE(t){Bl(t);let a=t.length,s=-1,o=0,c=-1,u=0,d;for(;a--;){const g=t.codePointAt(a);if(g===47){if(d){o=a+1;break}continue}s<0&&(d=!0,s=a+1),g===46?c<0?c=a:u!==1&&(u=1):c>-1&&(u=-1)}return c<0||s<0||u===0||u===1&&c===s-1&&c===o+1?"":t.slice(c,s)}function UE(...t){let a=-1,s;for(;++a<t.length;)Bl(t[a]),t[a]&&(s=s===void 0?t[a]:s+"/"+t[a]);return s===void 0?".":HE(s)}function HE(t){Bl(t);const a=t.codePointAt(0)===47;let s=VE(t,!a);return s.length===0&&!a&&(s="."),s.length>0&&t.codePointAt(t.length-1)===47&&(s+="/"),a?"/"+s:s}function VE(t,a){let s="",o=0,c=-1,u=0,d=-1,g,f;for(;++d<=t.length;){if(d<t.length)g=t.codePointAt(d);else{if(g===47)break;g=47}if(g===47){if(!(c===d-1||u===1))if(c!==d-1&&u===2){if(s.length<2||o!==2||s.codePointAt(s.length-1)!==46||s.codePointAt(s.length-2)!==46){if(s.length>2){if(f=s.lastIndexOf("/"),f!==s.length-1){f<0?(s="",o=0):(s=s.slice(0,f),o=s.length-1-s.lastIndexOf("/")),c=d,u=0;continue}}else if(s.length>0){s="",o=0,c=d,u=0;continue}}a&&(s=s.length>0?s+"/..":"..",o=2)}else s.length>0?s+="/"+t.slice(c+1,d):s=t.slice(c+1,d),o=d-c-1;c=d,u=0}else g===46&&u>-1?u++:u=-1}return s}function Bl(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const qE={cwd:WE};function WE(){return"/"}function Hc(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function KE(t){if(typeof t=="string")t=new URL(t);else if(!Hc(t)){const a=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw a.code="ERR_INVALID_ARG_TYPE",a}if(t.protocol!=="file:"){const a=new TypeError("The URL must be of scheme file");throw a.code="ERR_INVALID_URL_SCHEME",a}return GE(t)}function GE(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const a=t.pathname;let s=-1;for(;++s<a.length;)if(a.codePointAt(s)===37&&a.codePointAt(s+1)===50){const o=a.codePointAt(s+2);if(o===70||o===102){const c=new TypeError("File URL path must not include encoded / characters");throw c.code="ERR_INVALID_FILE_URL_PATH",c}}return decodeURIComponent(a)}const bc=["history","path","basename","stem","extname","dirname"];class x0{constructor(a){let s;a?Hc(a)?s={path:a}:typeof a=="string"||QE(a)?s={value:a}:s=a:s={},this.cwd="cwd"in s?"":qE.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<bc.length;){const u=bc[o];u in s&&s[u]!==void 0&&s[u]!==null&&(this[u]=u==="history"?[...s[u]]:s[u])}let c;for(c in s)bc.includes(c)||(this[c]=s[c])}get basename(){return typeof this.path=="string"?Qn.basename(this.path):void 0}set basename(a){Ec(a,"basename"),vc(a,"basename"),this.path=Qn.join(this.dirname||"",a)}get dirname(){return typeof this.path=="string"?Qn.dirname(this.path):void 0}set dirname(a){Kg(this.basename,"dirname"),this.path=Qn.join(a||"",this.basename)}get extname(){return typeof this.path=="string"?Qn.extname(this.path):void 0}set extname(a){if(vc(a,"extname"),Kg(this.dirname,"extname"),a){if(a.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(a.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qn.join(this.dirname,this.stem+(a||""))}get path(){return this.history[this.history.length-1]}set path(a){Hc(a)&&(a=KE(a)),Ec(a,"path"),this.path!==a&&this.history.push(a)}get stem(){return typeof this.path=="string"?Qn.basename(this.path,this.extname):void 0}set stem(a){Ec(a,"stem"),vc(a,"stem"),this.path=Qn.join(this.dirname||"",a+(this.extname||""))}fail(a,s,o){const c=this.message(a,s,o);throw c.fatal=!0,c}info(a,s,o){const c=this.message(a,s,o);return c.fatal=void 0,c}message(a,s,o){const c=new Jt(a,s,o);return this.path&&(c.name=this.path+":"+c.name,c.file=this.path),c.fatal=!1,this.messages.push(c),c}toString(a){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(a||void 0).decode(this.value)}}function vc(t,a){if(t&&t.includes(Qn.sep))throw new Error("`"+a+"` cannot be a path: did not expect `"+Qn.sep+"`")}function Ec(t,a){if(!t)throw new Error("`"+a+"` cannot be empty")}function Kg(t,a){if(!t)throw new Error("Setting `"+a+"` requires `path` to be set too")}function QE(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const JE=(function(t){const o=this.constructor.prototype,c=o[t],u=function(){return c.apply(u,arguments)};return Object.setPrototypeOf(u,o),u}),YE={}.hasOwnProperty;class gu extends JE{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=OE()}copy(){const a=new gu;let s=-1;for(;++s<this.attachers.length;){const o=this.attachers[s];a.use(...o)}return a.data(xc(!0,{},this.namespace)),a}data(a,s){return typeof a=="string"?arguments.length===2?(Nc("data",this.frozen),this.namespace[a]=s,this):YE.call(this.namespace,a)&&this.namespace[a]||void 0:a?(Nc("data",this.frozen),this.namespace=a,this):this.namespace}freeze(){if(this.frozen)return this;const a=this;for(;++this.freezeIndex<this.attachers.length;){const[s,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const c=s.call(a,...o);typeof c=="function"&&this.transformers.use(c)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(a){this.freeze();const s=eo(a),o=this.parser||this.Parser;return kc("parse",o),o(String(s),s)}process(a,s){const o=this;return this.freeze(),kc("process",this.parser||this.Parser),wc("process",this.compiler||this.Compiler),s?c(void 0,s):new Promise(c);function c(u,d){const g=eo(a),f=o.parse(g);o.run(f,g,function(y,x,k){if(y||!x||!k)return h(y);const v=x,D=o.stringify(v,k);ek(D)?k.value=D:k.result=D,h(y,k)});function h(y,x){y||!x?d(y):u?u(x):s(void 0,x)}}}processSync(a){let s=!1,o;return this.freeze(),kc("processSync",this.parser||this.Parser),wc("processSync",this.compiler||this.Compiler),this.process(a,c),Qg("processSync","process",s),o;function c(u,d){s=!0,qg(u),o=d}}run(a,s,o){Gg(a),this.freeze();const c=this.transformers;return!o&&typeof s=="function"&&(o=s,s=void 0),o?u(void 0,o):new Promise(u);function u(d,g){const f=eo(s);c.run(a,f,h);function h(y,x,k){const v=x||a;y?g(y):d?d(v):o(void 0,v,k)}}}runSync(a,s){let o=!1,c;return this.run(a,s,u),Qg("runSync","run",o),c;function u(d,g){qg(d),c=g,o=!0}}stringify(a,s){this.freeze();const o=eo(s),c=this.compiler||this.Compiler;return wc("stringify",c),Gg(a),c(a,o)}use(a,...s){const o=this.attachers,c=this.namespace;if(Nc("use",this.frozen),a!=null)if(typeof a=="function")f(a,s);else if(typeof a=="object")Array.isArray(a)?g(a):d(a);else throw new TypeError("Expected usable value, not `"+a+"`");return this;function u(h){if(typeof h=="function")f(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[y,...x]=h;f(y,x)}else d(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function d(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");g(h.plugins),h.settings&&(c.settings=xc(!0,c.settings,h.settings))}function g(h){let y=-1;if(h!=null)if(Array.isArray(h))for(;++y<h.length;){const x=h[y];u(x)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function f(h,y){let x=-1,k=-1;for(;++x<o.length;)if(o[x][0]===h){k=x;break}if(k===-1)o.push([h,...y]);else if(y.length>0){let[v,...D]=y;const P=o[k][1];Uc(P)&&Uc(v)&&(v=xc(!0,P,v)),o[k]=[h,v,...D]}}}}const XE=new gu().freeze();function kc(t,a){if(typeof a!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function wc(t,a){if(typeof a!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Nc(t,a){if(a)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Gg(t){if(!Uc(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Qg(t,a,s){if(!s)throw new Error("`"+t+"` finished async. Use `"+a+"` instead")}function eo(t){return ZE(t)?t:new x0(t)}function ZE(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function ek(t){return typeof t=="string"||tk(t)}function tk(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const nk="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Jg=[],Yg={allowDangerousHtml:!0},rk=/^(https?|ircs?|mailto|xmpp)$/i,ak=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function lk(t){const a=sk(t),s=ok(t);return ik(a.runSync(a.parse(s),s),t)}function sk(t){const a=t.rehypePlugins||Jg,s=t.remarkPlugins||Jg,o=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Yg}:Yg;return XE().use(Fv).use(s).use(RE,o).use(a)}function ok(t){const a=t.children||"",s=new x0;return typeof a=="string"&&(s.value=a),s}function ik(t,a){const s=a.allowedElements,o=a.allowElement,c=a.components,u=a.disallowedElements,d=a.skipHtml,g=a.unwrapDisallowed,f=a.urlTransform||ck;for(const y of ak)Object.hasOwn(a,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+nk+y.id,void 0);return a.className&&(t={type:"element",tagName:"div",properties:{className:a.className},children:t.type==="root"?t.children:[t]}),y0(t,h),hb(t,{Fragment:pc.Fragment,components:c,ignoreInvalidStyle:!0,jsx:pc.jsx,jsxs:pc.jsxs,passKeys:!0,passNode:!0});function h(y,x,k){if(y.type==="raw"&&k&&typeof x=="number")return d?k.children.splice(x,1):k.children[x]={type:"text",value:y.value},x;if(y.type==="element"){let v;for(v in mc)if(Object.hasOwn(mc,v)&&Object.hasOwn(y.properties,v)){const D=y.properties[v],P=mc[v];(P===null||P.includes(y.tagName))&&(y.properties[v]=f(String(D||""),v,y))}}if(y.type==="element"){let v=s?!s.includes(y.tagName):u?u.includes(y.tagName):!1;if(!v&&o&&typeof x=="number"&&(v=!o(y,x,k)),v&&k&&typeof x=="number")return g&&y.children?k.children.splice(x,1,...y.children):k.children.splice(x,1),x}}}function ck(t){const a=t.indexOf(":"),s=t.indexOf("?"),o=t.indexOf("#"),c=t.indexOf("/");return a===-1||c!==-1&&a>c||s!==-1&&a>s||o!==-1&&a>o||rk.test(t.slice(0,a))?t:""}const uk={supervisor:{icon:Xn,color:"purple",label:""},rag:{icon:Nt,color:"blue",label:"RAG"},web_search:{icon:Qt,color:"cyan",label:""},t2sql:{icon:bt,color:"amber",label:"SQL"},mcp:{icon:zn,color:"indigo",label:"MCP"},process:{icon:yo,color:"orange",label:""},synthesizer:{icon:ur,color:"green",label:""}},Xg={purple:{active:"bg-purple-50 border-purple-400 text-purple-700",done:"bg-purple-50 border-purple-300 text-purple-600",glow:"rgba(168,85,247,0.35)"},blue:{active:"bg-blue-50 border-blue-400 text-blue-700",done:"bg-blue-50 border-blue-300 text-blue-600",glow:"rgba(59,130,246,0.35)"},cyan:{active:"bg-cyan-50 border-cyan-400 text-cyan-700",done:"bg-cyan-50 border-cyan-300 text-cyan-600",glow:"rgba(6,182,212,0.35)"},amber:{active:"bg-amber-50 border-amber-400 text-amber-700",done:"bg-amber-50 border-amber-300 text-amber-600",glow:"rgba(245,158,11,0.35)"},indigo:{active:"bg-indigo-50 border-indigo-400 text-indigo-700",done:"bg-indigo-50 border-indigo-300 text-indigo-600",glow:"rgba(99,102,241,0.35)"},orange:{active:"bg-orange-50 border-orange-400 text-orange-700",done:"bg-orange-50 border-orange-300 text-orange-600",glow:"rgba(249,115,22,0.35)"},green:{active:"bg-green-50 border-green-400 text-green-700",done:"bg-green-50 border-green-300 text-green-600",glow:"rgba(74,222,128,0.35)"}};function dk({agentKey:t,status:a,durationMs:s}){const o=uk[t]||{icon:ur,color:"green",label:t},c=o.icon,u=Xg[o.color]||Xg.green,d=a==="pending",g=a==="active",f=a==="done",h=d?"bg-gray-50 border-gray-200 text-gray-400 border-dashed":g?`${u.active} border-solid`:`${u.done} border-solid`;return r.createElement("div",{className:`flex flex-col items-center gap-1 px-3 py-2 rounded-lg border-2 min-w-[72px] transition-all duration-300 ${h}`,style:g?{"--glow-color":u.glow}:void 0},r.createElement("div",{className:`relative ${g?"animate-pulseGlow":""}`,style:g?{"--glow-color":u.glow}:void 0},g?r.createElement(Dt,{size:18,className:"animate-spin"}):f?r.createElement(it,{size:18}):r.createElement(c,{size:18})),r.createElement("span",{className:"text-[10px] font-bold whitespace-nowrap"},o.label),f&&s>0&&r.createElement("span",{className:"text-[9px] opacity-60"},s>=1e3?`${(s/1e3).toFixed(1)}s`:`${s}ms`))}function mk({active:t}){return r.createElement("div",{className:"flex items-center px-0.5 relative"},r.createElement("div",{className:`w-6 h-0.5 ${t?"bg-green-400":"bg-gray-300"} transition-colors duration-300 relative`},t&&r.createElement("div",{className:"absolute top-1/2 -translate-y-1/2 w-1.5 h-1.5 rounded-full bg-green-500 animate-travelDot"})),r.createElement("div",{className:`w-0 h-0 border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent border-l-[5px] ${t?"border-l-green-400":"border-l-gray-300"} transition-colors duration-300`}))}function gk({agents:t,activeAgent:a,completedMap:s}){if(!t||t.length===0)return null;const o=c=>s?.[c]!==void 0?"done":a===c?"active":"pending";return r.createElement("div",{className:"flex items-center gap-0 overflow-x-auto py-2 px-1 mb-2 animate-fadeIn"},t.map((c,u)=>{const d=o(c),g=t[u+1],f=d==="done"&&g&&(o(g)==="active"||o(g)==="done");return r.createElement(r.Fragment,{key:c},r.createElement(dk,{agentKey:c,status:d,durationMs:s?.[c]||0}),u<t.length-1&&r.createElement(mk,{active:f}))}))}function pk({message:t,onSend:a}){const s=E.useMemo(()=>{const o=t.toolCallsMeta?.map(h=>h.name)||[],c=t.toolCallsMeta?.intent||[],u=!!t.generatedSql,d=!!t.tableData,g=o.includes("vector_retrieval")||c.includes("rag"),f=o.includes("web_search")||c.includes("web_search");return u||d?["   ","  ","   "]:f&&g?["   "," "," "]:f?["   "," ","  "]:g?["   ","  "," "]:["  "," ",""]},[t.toolCallsMeta,t.generatedSql,t.tableData]);return r.createElement("div",{className:"flex flex-wrap gap-2 mt-3 animate-fadeIn"},s.map((o,c)=>r.createElement("button",{key:c,onClick:()=>a(o),className:"text-xs px-3 py-1.5 rounded-full border border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400 hover:border-green-400 hover:text-green-600 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-all hover:scale-105 active:scale-95 animate-slideUp",style:{animationDelay:`${c*.1}s`,animationFillMode:"both"}},o)))}function fk({source:t,anchorRect:a,onClose:s}){const o=E.useRef(null);if(E.useEffect(()=>{const d=f=>{o.current&&!o.current.contains(f.target)&&s()},g=f=>{f.key==="Escape"&&s()};return document.addEventListener("mousedown",d),document.addEventListener("keydown",g),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("keydown",g)}},[s]),!t||!a)return null;const c=a.bottom+8,u=Math.max(8,Math.min(a.left,window.innerWidth-340));return jl.createPortal(r.createElement("div",{ref:o,style:{position:"fixed",top:c,left:u,zIndex:200},className:"w-80 bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden animate-scaleIn"},r.createElement("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-gray-800"},r.createElement("div",{className:"flex items-center gap-2 min-w-0"},r.createElement("div",{className:"p-1.5 bg-blue-50 dark:bg-blue-900/30 rounded-lg shrink-0"},r.createElement(Nt,{size:14,className:"text-blue-500"})),r.createElement("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-100 truncate"},t.filename)),r.createElement("button",{onClick:s,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors shrink-0"},r.createElement(mr,{size:14}))),r.createElement("div",{className:"px-4 py-3"},r.createElement("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 rounded-lg p-3 max-h-32 overflow-y-auto custom-scrollbar border border-gray-100 dark:border-gray-700 leading-relaxed italic"},'"',t.chunk_text,'"')),r.createElement("div",{className:"px-4 py-2.5 border-t border-gray-100 dark:border-gray-800 flex items-center gap-3 text-[10px] text-gray-400"},t.score>0&&r.createElement("span",{className:"flex items-center gap-1"},r.createElement("span",{className:"font-bold"},":")," ",(t.score*100).toFixed(0),"%"),r.createElement("span",{className:"flex items-center gap-1"},r.createElement("span",{className:"font-bold"},":")," [",t.id,"]"))),document.body)}function hk({num:t,source:a,onClick:s}){return r.createElement("button",{onClick:s,className:"inline-flex items-center justify-center min-w-[20px] h-5 px-1 mx-0.5 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-[10px] font-bold rounded border border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900/50 hover:border-blue-300 dark:hover:border-blue-700 transition-all cursor-pointer align-baseline leading-none",title:a?.filename||` ${t}`},t)}const yk={rag:{label:"RAG",cls:"bg-blue-50 text-blue-600 border-blue-200"},web_search:{label:"Web",cls:"bg-green-50 text-green-600 border-green-200"},sql:{label:"SQL",cls:"bg-amber-50 text-amber-600 border-amber-200"},mcp:{label:"MCP",cls:"bg-indigo-50 text-indigo-600 border-indigo-200"}},xk={supervisor:Xn,rag:Nt,web_search:Qt,t2sql:bt,mcp:zn,process:yo},bk={"agent-general":ur,"agent-rag":Nt};function Sc(t){return bk[t.id]||xk[t.agentType]||Tt}function Cc({sources:t}){if(!t)return null;const a=Object.entries(t).filter(([,s])=>s);return a.length===0?null:r.createElement("div",{className:"flex items-center gap-0.5 shrink-0"},a.map(([s])=>{const o=yk[s];return o?r.createElement("span",{key:s,className:`px-1 py-0 rounded text-[8px] font-bold border ${o.cls}`},o.label):null}))}function vk({agents:t,currentAgent:a,config:s,onAgentChange:o,effectiveSources:c,knowledgeBases:u,selectedKbIds:d,onToggleKb:g,mcpServers:f,activeMcpIds:h,onToggleMcp:y,dbConnections:x,selectedDbConnectionId:k,onSelectDb:v}){const[D,P]=E.useState(!1),[S,_]=E.useState(null);E.useEffect(()=>{if(!D&&!S)return;const $=()=>{P(!1),_(null)};return window.addEventListener("click",$),()=>window.removeEventListener("click",$)},[D,S]);const N=t.filter($=>!$.agentType||$.agentType==="custom"),R=t.filter($=>$.agentType&&$.agentType!=="custom"),Z=d.length===0?"KB ":d.length===1?u.find($=>$.id===d[0])?.name||"KB":`${d.length} KB`,X=k?x.find($=>$.id===k)?.name||"DB":"DB ",M=h.length,ee=M===0?"MCP ":M===1?f.find($=>$.id===h[0])?.name||"MCP":`${M} MCP`,se=a?Sc(a):Tt;return r.createElement("div",{className:"flex flex-wrap items-center gap-1.5"},r.createElement("div",{className:"relative"},r.createElement("button",{onClick:$=>{$.stopPropagation(),P(!D),_(null)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[11px] font-semibold transition-colors cursor-pointer ${a?"bg-green-50 hover:bg-green-100 text-green-700 border border-green-200":"bg-gray-50 hover:bg-gray-100 text-gray-600 border border-gray-200"}`},r.createElement(se,{size:12}),r.createElement("span",{className:"max-w-[120px] truncate"},a?.name||" "),r.createElement("span",{className:"text-[9px] opacity-60 font-mono"},a?.model||s.llm),r.createElement(Yr,{size:10,className:`transition-transform ${D?"rotate-180":""}`})),D&&r.createElement("div",{className:"absolute bottom-full left-0 mb-2 w-80 bg-white border border-gray-200 rounded-xl shadow-xl z-30 overflow-hidden",onClick:$=>$.stopPropagation()},r.createElement("div",{className:"px-3 py-2 text-[10px] font-semibold text-gray-500 uppercase tracking-wider bg-gray-50 border-b border-gray-200"}," "),r.createElement("div",{className:"max-h-64 overflow-y-auto custom-scrollbar p-1"},r.createElement("button",{onClick:()=>{o(null),P(!1)},className:`w-full text-left px-3 py-2 rounded-lg flex items-center gap-2.5 transition ${a?"text-gray-700 hover:bg-gray-50":"bg-gray-50 text-gray-700"}`},r.createElement("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center ${a?"bg-gray-100 text-gray-500":"bg-gray-200 text-gray-600"}`},r.createElement(Tt,{size:13})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-xs font-bold truncate"}," "),r.createElement("div",{className:"text-[10px] text-gray-400 truncate"},"  (",s.llm,") ")),r.createElement(Cc,{sources:{rag:!0}}),!a&&r.createElement(it,{size:12,className:"text-green-500 shrink-0"})),N.length>0&&r.createElement(r.Fragment,null,r.createElement("div",{className:"h-px bg-gray-100 mx-2 my-1"}),N.map($=>{const L=Sc($),I=a?.id===$.id;return r.createElement("button",{key:$.id,onClick:()=>{o($.id),P(!1)},className:`w-full text-left px-3 py-2 rounded-lg flex items-center gap-2.5 transition ${I?"bg-green-50 text-gray-700 border border-green-200":"text-gray-700 hover:bg-gray-50 border border-transparent"}`},r.createElement("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center shrink-0 ${I?"bg-green-100 text-green-600":"bg-gray-100 text-gray-500"}`},r.createElement(L,{size:13})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-xs font-bold truncate"},$.name),r.createElement("div",{className:"text-[10px] text-gray-400 truncate flex items-center gap-1"},r.createElement(on,{size:9})," ",$.model||s.llm)),r.createElement(Cc,{sources:$.defaultTools?.sources}),I&&r.createElement(it,{size:12,className:"text-green-500 shrink-0"}))})),R.length>0&&r.createElement(r.Fragment,null,r.createElement("div",{className:"h-px bg-gray-100 mx-2 my-1"}),r.createElement("div",{className:"px-3 py-1 text-[9px] text-gray-400 font-bold uppercase tracking-wider"}," "),R.map($=>{const L=Sc($),I=a?.id===$.id;return r.createElement("button",{key:$.id,onClick:()=>{o($.id),P(!1)},className:`w-full text-left px-3 py-2 rounded-lg flex items-center gap-2.5 transition ${I?"bg-green-50 text-gray-700 border border-green-200":"text-gray-700 hover:bg-gray-50 border border-transparent"}`},r.createElement("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center shrink-0 ${I?"bg-green-100 text-green-600":"bg-gray-100 text-gray-500"}`},r.createElement(L,{size:13})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-xs font-bold truncate"},$.name),r.createElement("div",{className:"text-[10px] text-gray-400 truncate flex items-center gap-1"},r.createElement(on,{size:9})," ",$.model||s.llm)),r.createElement(Cc,{sources:$.defaultTools?.sources}),I&&r.createElement(it,{size:12,className:"text-green-500 shrink-0"}))}))))),c.rag&&r.createElement("div",{className:"relative"},r.createElement("button",{onClick:$=>{$.stopPropagation(),_(S==="kb"?null:"kb"),P(!1)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[11px] font-semibold transition-colors cursor-pointer ${d.length>0?"bg-emerald-50 hover:bg-emerald-100 text-emerald-600 border border-emerald-200":"bg-gray-50 hover:bg-gray-100 text-gray-400 border border-gray-200"}`},r.createElement(bt,{size:12}),r.createElement("span",{className:"max-w-[120px] truncate"},Z),r.createElement(Yr,{size:10,className:`transition-transform ${S==="kb"?"rotate-180":""}`})),S==="kb"&&r.createElement("div",{className:"absolute bottom-full left-0 mb-2 w-64 bg-white border border-gray-200 rounded-xl shadow-xl z-30 overflow-hidden",onClick:$=>$.stopPropagation()},r.createElement("div",{className:"px-3 py-2 text-[10px] font-semibold text-gray-500 uppercase tracking-wider bg-gray-50 border-b border-gray-200"},"  ( )"),r.createElement("div",{className:"max-h-48 overflow-y-auto custom-scrollbar p-1"},u.map($=>{const L=d.includes($.id);return r.createElement("button",{key:$.id,onClick:()=>g($.id),className:"w-full text-left px-3 py-2.5 rounded-lg flex items-center gap-3 hover:bg-gray-50 transition"},r.createElement("div",{className:`w-4 h-4 border-2 rounded flex items-center justify-center transition ${L?"bg-green-400 border-green-400":"border-gray-300"}`},L&&r.createElement(it,{size:10,className:"text-white"})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-xs font-bold text-gray-800 truncate"},$.name),r.createElement("div",{className:"text-[10px] text-gray-400 truncate"},$.files?.length||0," ")))})))),c.sql&&r.createElement("div",{className:"relative"},r.createElement("button",{onClick:$=>{$.stopPropagation(),_(S==="db"?null:"db"),P(!1)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[11px] font-semibold transition-colors cursor-pointer ${k?"bg-amber-50 hover:bg-amber-100 text-amber-600 border border-amber-200":"bg-gray-50 hover:bg-gray-100 text-gray-400 border border-gray-200"}`},r.createElement(Xr,{size:12}),r.createElement("span",{className:"max-w-[120px] truncate"},X),r.createElement(Yr,{size:10,className:`transition-transform ${S==="db"?"rotate-180":""}`})),S==="db"&&r.createElement("div",{className:"absolute bottom-full left-0 mb-2 w-56 bg-white border border-gray-200 rounded-xl shadow-xl z-30 overflow-hidden",onClick:$=>$.stopPropagation()},r.createElement("div",{className:"px-3 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 border-b border-gray-200"}," "),r.createElement("div",{className:"max-h-48 overflow-y-auto p-1"},x.length===0?r.createElement("div",{className:"p-4 text-center text-xs text-gray-400"}," DB .",r.createElement("br",null)," ."):x.map($=>r.createElement("button",{key:$.id,onClick:()=>{v($.id),_(null)},className:`w-full text-left px-3 py-2.5 rounded-lg flex items-center gap-3 hover:bg-gray-50 transition ${k===$.id?"bg-amber-50 text-amber-700":""}`},r.createElement(bt,{size:14,className:"shrink-0"}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-xs font-bold truncate"},$.name),r.createElement("div",{className:"text-[10px] text-gray-400 truncate"},$.db_type,$.db_type!=="sqlite"&&`  ${$.host}:${$.port}`)),k===$.id&&r.createElement(it,{size:12,className:"text-amber-600 shrink-0"})))))),c.mcp&&r.createElement("div",{className:"relative"},r.createElement("button",{onClick:$=>{$.stopPropagation(),_(S==="mcp"?null:"mcp"),P(!1)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[11px] font-semibold transition-colors cursor-pointer ${h.length>0?"bg-indigo-50 hover:bg-indigo-100 text-indigo-600 border border-indigo-200":"bg-gray-50 hover:bg-gray-100 text-gray-400 border border-gray-200"}`},r.createElement(zn,{size:12}),r.createElement("span",{className:"max-w-[120px] truncate"},ee),r.createElement(Yr,{size:10,className:`transition-transform ${S==="mcp"?"rotate-180":""}`})),S==="mcp"&&r.createElement("div",{className:"absolute bottom-full left-0 mb-2 w-56 bg-white border border-gray-200 rounded-xl shadow-xl z-30 overflow-hidden",onClick:$=>$.stopPropagation()},r.createElement("div",{className:"px-3 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 border-b border-gray-100"},"MCP "),r.createElement("div",{className:"max-h-48 overflow-y-auto custom-scrollbar p-1"},f.length===0?r.createElement("div",{className:"p-4 text-center text-xs text-gray-400"}," MCP  .",r.createElement("br",null)," ."):f.map($=>{const L=h.includes($.id);return r.createElement("button",{key:$.id,onClick:I=>{I.stopPropagation(),y($.id)},className:"w-full text-left px-3 py-2.5 rounded-lg flex items-center gap-3 hover:bg-gray-50 transition"},r.createElement("div",{className:`w-4 h-4 border-2 rounded flex items-center justify-center transition ${L?"bg-green-400 border-green-400":"border-gray-300"}`},L&&r.createElement(it,{size:10,className:"text-white"})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-xs font-bold text-gray-800 truncate"},$.name),r.createElement("div",{className:"text-[10px] text-gray-400 truncate"},$.status)))})))))}function Ek({children:t,...a}){const[s,o]=E.useState(!1),c=E.useRef(null),u=()=>{const d=c.current?.textContent||"";navigator.clipboard.writeText(d),o(!0),setTimeout(()=>o(!1),2e3)};return r.createElement("div",{className:"relative group/code"},r.createElement("pre",{ref:c,...a},t),r.createElement("button",{onClick:u,className:"absolute top-2 right-2 p-1.5 rounded-lg bg-gray-700/80 text-gray-300 hover:bg-gray-600 hover:text-white opacity-0 group-hover/code:opacity-100 transition-all text-[10px] flex items-center gap-1"},s?r.createElement(r.Fragment,null,r.createElement(it,{size:12})," "):r.createElement(r.Fragment,null,r.createElement(Lc,{size:12})," ")))}const kk=({agentId:t,size:a=12,className:s=""})=>{switch(t){case"agent-general":return r.createElement(ur,{size:a,className:s});case"agent-rag":return r.createElement(Nt,{size:a,className:s});default:return r.createElement(Tt,{size:a,className:s})}};function wk(){const{currentMessages:t,addMessage:a,renameSession:s,config:o,setConfig:c,agents:u,currentAgent:d,setCurrentAgentId:g,knowledgeBases:f,currentKbId:h,mcpServers:y,setSessions:x,currentSessionId:k,sessions:v,DEFAULT_TOOL_PRESET:D}=Ma(),[P,S]=E.useState(""),[_,N]=E.useState(!1),[R,Z]=E.useState([]),[X,M]=E.useState(!1),ee=E.useRef(new Map),se=E.useCallback(J=>(ee.current.has(J)||ee.current.set(J,URL.createObjectURL(J)),ee.current.get(J)),[]);E.useEffect(()=>{const J=new Set(R);for(const[he,ke]of ee.current)J.has(he)||(URL.revokeObjectURL(ke),ee.current.delete(he));return()=>{for(const he of ee.current.values())URL.revokeObjectURL(he);ee.current.clear()}},[R]);const[$,L]=E.useState([]),[I,K]=E.useState([h]),[ve,re]=E.useState(null),[te,Q]=E.useState([]),ie=d?.defaultTools||D||{sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},q=E.useMemo(()=>({rag:ie.sources?.rag??!0,web_search:ie.sources?.web_search??!1,mcp:ie.sources?.mcp??!1,sql:ie.sources?.sql??!1}),[ie]),w=E.useMemo(()=>Object.values(q).filter(Boolean).length,[q])>=2,[O,B]=E.useState(null),[C,Ee]=E.useState(!1),Ae=E.useRef(!0),_e=E.useRef(null),Ue=E.useRef(null),De=E.useRef(null),Oe=E.useRef(null),tt=J=>{K(he=>he.includes(J)?he.filter(ke=>ke!==J):[...he,J])};E.useEffect(()=>{(async()=>{try{const he=await Rt.getDbConnections();he?.connections&&Q(he.connections)}catch{}})()},[]),E.useEffect(()=>{const J=f.map(he=>he.id);K(he=>{const ke=he.filter(U=>J.includes(U));return ke.length>0?ke:J.includes(h)?[h]:J.length>0?[J[0]]:he})},[h,f]),E.useEffect(()=>{Oe.current&&(Oe.current.abort(),Oe.current=null),N(!1),M(!1)},[k]),E.useEffect(()=>()=>{Oe.current&&(Oe.current.abort(),Oe.current=null)},[]),E.useEffect(()=>{Ae.current&&Ue.current?.scrollTo({top:Ue.current.scrollHeight,behavior:"smooth"})},[t,_]);const ot=E.useCallback(()=>{const J=Ue.current;if(!J)return;const ke=J.scrollHeight-J.scrollTop-J.clientHeight<150;Ae.current=ke,Ee(!ke&&t.length>0)},[t.length]),ct=E.useCallback(()=>{Ue.current?.scrollTo({top:Ue.current.scrollHeight,behavior:"smooth"}),Ee(!1)},[]),yt=E.useCallback(()=>{const J=De.current;J&&(J.style.height="auto",J.style.height=Math.min(J.scrollHeight,192)+"px")},[]);E.useEffect(()=>{yt()},[P,yt]);const ue=J=>{if(J.target.files&&J.target.files.length>0){const he=Array.from(J.target.files);Z(ke=>[...ke,...he])}J.target.value=""},rt=J=>{L(he=>he.includes(J)?he.filter(ke=>ke!==J):[...he,J])},Qe=E.useCallback(J=>{g(J),L([]),re(null)},[g]),G=async(J=null)=>{const he=J||P;if(!he.trim()&&R.length===0)return;if(q.sql&&!ve){a({role:"assistant",text:"SQL      .  DB ."});return}Oe.current&&Oe.current.abort(),Oe.current=new AbortController;const ke=k,U=[".txt",".md",".csv"],F=[".jpg",".jpeg",".png",".gif",".webp",".bmp"];let Y=[],ae=[];const be=[...R];if(be.length>0){M(!0);try{const He=be.map(async we=>{const et=we.name.substring(we.name.lastIndexOf(".")).toLowerCase();if(F.includes(et))return new Promise(Me=>{const z=new FileReader;z.onload=pe=>{const fe=pe.target.result.split(",")[1];Me({filename:we.name,type:"image",data:fe})},z.onerror=()=>{console.error(`  : ${we.name}`),Me({filename:we.name,type:"error"})},z.readAsDataURL(we)});if(U.includes(et))return new Promise(Me=>{const z=new FileReader;z.onload=pe=>Me({filename:we.name,type:"text",text:pe.target.result}),z.onerror=()=>{console.error(`  : ${we.name}`),Me({filename:we.name,type:"text",text:""})},z.readAsText(we)});try{return{...await nx(we),type:"document"}}catch(Me){return console.error(`  : ${we.name}`,Me),{filename:we.name,type:"document",text:""}}}),Je=await Promise.all(He);Y=Je.filter(we=>we.type==="text"||we.type==="document"),ae=Je.filter(we=>we.type==="image"&&we.data).map(we=>we.data)}catch(He){console.error("   :",He)}finally{M(!1)}}ae.length>5;let Fe=he;const Ke=Y.filter(He=>He.text?.trim());if(Ke.length>0){const He=Ke.map(Je=>`[ : ${Je.filename}]
${Je.text}`).join(`

`);Fe=Ke.length>0&&he.trim()?`${he}

---
${He}`:He||he}if(ae.length>0&&!he.trim()&&Ke.length===0&&(Fe="   ."),!J){const He=v.find(Je=>Je.id===k);if(He&&He.messages.length===0){const Je=he.length>30?he.slice(0,30)+"...":he;s(k,Je)}a({role:"user",text:he,attachments:be.map(Je=>({name:Je.name}))}),S(""),Z([])}N(!0);const Ze=Jn();let Xe="";a({id:Ze,role:"assistant",text:"",thinking:w?"Smart Mode:    ...":null,thinkingTime:0,sources:[]});const $t=Date.now();try{const He=t.filter(we=>we.text).slice(-10).map(we=>({role:we.role,content:we.text})),Je={query:Fe,model:d?.model||o.llm,kb_ids:q.rag?I:[],use_rag:q.rag,web_search:q.web_search,use_deep_think:w,active_mcp_ids:q.mcp?$:[],system_prompt:d?.systemPrompt||null,history:He,top_k:o.searchTopK||null,use_rerank:o.useRerank||!1,search_provider:o.activeSearchProviderId||null,search_mode:o.searchMode||"hybrid",dense_weight:o.denseWeight??.5,use_multimodal_search:o.useMultimodalSearch||!1,images:ae,use_sql:q.sql,db_connection_id:q.sql?ve:null};await tx(Je,we=>{if(!Oe.current?.signal.aborted){if(we.type==="thinking")x(et=>et.map(Me=>Me.id===ke?{...Me,messages:Me.messages.map(z=>z.id===Ze?{...z,thinking:we.thinking,activeAgent:we.active_agent||z.activeAgent}:z)}:Me));else if(we.type==="pipeline_plan")x(et=>et.map(Me=>Me.id===ke?{...Me,messages:Me.messages.map(z=>z.id===Ze?{...z,pipelineAgents:we.agents,completedAgents:{}}:z)}:Me));else if(we.type==="agent_status"&&we.status==="done")x(et=>et.map(Me=>Me.id===ke?{...Me,messages:Me.messages.map(z=>z.id===Ze?{...z,completedAgents:{...z.completedAgents||{},[we.agent]:we.duration_ms||0}}:z)}:Me));else if(we.type==="agent_status"&&we.status==="active")x(et=>et.map(Me=>Me.id===ke?{...Me,messages:Me.messages.map(z=>z.id===Ze?{...z,activeAgent:we.agent}:z)}:Me));else if(we.type==="sql")x(et=>et.map(Me=>Me.id===ke?{...Me,messages:Me.messages.map(z=>z.id===Ze?{...z,generatedSql:we.sql}:z)}:Me));else if(we.type==="table"){const et=((Date.now()-$t)/1e3).toFixed(1);x(Me=>Me.map(z=>z.id===ke?{...z,messages:z.messages.map(pe=>pe.id===Ze?{...pe,tableData:{columns:we.columns,rows:we.rows,total:we.total},thinkingTime:et}:pe)}:z))}else if(we.type==="tool_calls_meta")x(et=>et.map(Me=>Me.id===ke?{...Me,messages:Me.messages.map(z=>z.id===Ze?{...z,toolCallsMeta:we.tool_calls}:z)}:Me));else if(we.type==="sources")x(et=>et.map(Me=>Me.id===ke?{...Me,messages:Me.messages.map(z=>z.id===Ze?{...z,sources:we.sources}:z)}:Me));else if(we.type==="content"){Xe+=we.content;const et=((Date.now()-$t)/1e3).toFixed(1);x(Me=>Me.map(z=>z.id===ke?{...z,messages:z.messages.map(pe=>pe.id===Ze?{...pe,text:Xe,thinkingTime:et}:pe)}:z))}}},()=>{N(!1),Oe.current=null},Oe.current)}catch(He){console.error("  :",He),N(!1);const Je=He.message||"    .";a({id:Jn(),role:"assistant",text:` ${Je}`,thinking:"",thinkingTime:0,sources:[]})}},ne=()=>{Oe.current&&(Oe.current.abort(),Oe.current=null,N(!1))},Pe=(J,he)=>{if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(J).catch(()=>{const ke=document.createElement("textarea");ke.value=J,ke.style.position="fixed",ke.style.opacity="0",document.body.appendChild(ke),ke.select(),document.execCommand("copy"),document.body.removeChild(ke)});else{const ke=document.createElement("textarea");ke.value=J,ke.style.position="fixed",ke.style.opacity="0",document.body.appendChild(ke),ke.select(),document.execCommand("copy"),document.body.removeChild(ke)}B(he),setTimeout(()=>B(null),1500)},ye=async(J,he)=>{const ke=t;if(J<0||J>=ke.length)return;const U=ke[J],F=J>0?ke[J-1]:null;if(!F||U.role!=="assistant")return;const Y=[...ke];Y[J]={...Y[J],feedback:{is_positive:he}},x(ae=>ae.map(be=>be.id===k?{...be,messages:Y}:be));try{await Pc.create({session_id:k,message_index:J,user_message:F.text||"",ai_message:U.text||"",is_positive:he,agent_id:d?.id,model_name:d?.model||o.llm,kb_ids:JSON.stringify(I),used_web_search:q.web_search,used_deep_think:w,tool_calls_json:U.toolCallsMeta?JSON.stringify(U.toolCallsMeta):null})}catch(ae){console.error("  :",ae)}},We=E.useMemo(()=>{const J=[];q.sql&&(J.push("   "),J.push("  ")),d?.systemPrompt&&J.push(`${d.name}   `);const he=f.find(U=>I.includes(U.id))?.name;he&&(J.push(`"${he}"  `),J.push(`"${he}"   `)),q.web_search&&J.push("  ");const ke=["  ","  "," "];for(;J.length<3;)J.push(ke[J.length]);return J.slice(0,3)},[q,d,f,I]);return r.createElement("div",{className:"flex-1 flex flex-col min-h-0 relative bg-gray-50"},r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar scroll-smooth relative",ref:Ue,onScroll:ot},t.length===0?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-500 gap-6 px-4"},r.createElement("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-600 shadow-lg rounded-2xl flex items-center justify-center"},r.createElement(kk,{agentId:d?.id,size:36,className:"text-white"})),r.createElement("div",{className:"text-center max-w-lg"},r.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-2"},d?.name||"AI"," "),r.createElement("p",{className:"text-sm text-gray-600 leading-relaxed"},d?.description||"    .")),r.createElement("div",{className:"flex flex-wrap justify-center gap-2 max-w-xl"},We.map(J=>r.createElement("button",{key:J,onClick:()=>{S(J),De.current?.focus()},className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-xs text-gray-700 hover:bg-gray-50 hover:border-green-300 hover:text-green-500 transition-all font-medium shadow-sm"},J)))):r.createElement("div",{className:"max-w-4xl mx-auto px-4 md:px-8 py-6 space-y-1"},t.map((J,he)=>r.createElement(Nk,{key:J.id,msg:{...J,onFeedback:J.role==="assistant"?ke=>ye(he,ke):null},isLast:he===t.length-1,isStreaming:_&&he===t.length-1&&J.role==="assistant",copiedId:O,onCopy:Pe,onRegenerate:()=>G(J.role==="assistant"&&he>0?t[he-1].text:null)})),!_&&t.length>0&&t[t.length-1].role==="assistant"&&t[t.length-1].text&&r.createElement("div",{className:"max-w-[80%] ml-11"},r.createElement(pk,{message:t[t.length-1],onSend:J=>G(J)})),_&&t.length>0&&t[t.length-1].role==="user"&&r.createElement("div",{className:"flex items-start gap-3 py-4"},r.createElement("div",{className:"w-8 h-8 rounded-full flex items-center justify-center shrink-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700"},r.createElement(Tt,{size:16,className:"text-gray-600 dark:text-gray-400"})),r.createElement("div",{className:"flex items-center gap-2 pt-2"},r.createElement("div",{className:"flex gap-1"},r.createElement("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),r.createElement("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),r.createElement("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})),r.createElement("span",{className:"text-xs text-gray-400 ml-1"},"  ..."))))),C&&r.createElement("button",{onClick:ct,className:"absolute bottom-20 left-1/2 -translate-x-1/2 flex items-center gap-1.5 px-3 py-1.5 bg-gray-800 dark:bg-gray-200 text-white dark:text-gray-800 text-xs font-medium rounded-full shadow-lg hover:bg-gray-700 dark:hover:bg-gray-300 transition-all animate-slideUp z-10"},r.createElement(Xc,{size:14}),"  "),r.createElement("div",{className:"border-t border-gray-200 bg-white px-4 py-3"},r.createElement("div",{className:"max-w-4xl mx-auto relative"},_&&r.createElement("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 z-20"},r.createElement("button",{onClick:ne,className:"flex items-center gap-2 px-4 py-2 bg-white border border-red-300 shadow-md rounded-full text-sm text-red-600 hover:bg-red-50 font-medium transition-colors"},r.createElement(Cx,{size:14}),"  ")),r.createElement("div",{className:"bg-white border border-gray-300 rounded-2xl shadow-sm focus-within:ring-2 focus-within:ring-green-400 focus-within:border-green-400 transition-all flex flex-col relative"},r.createElement("div",{className:"px-3 pt-2.5 flex flex-wrap items-center gap-1.5"},r.createElement(vk,{agents:u,currentAgent:d,config:o,onAgentChange:Qe,effectiveSources:q,knowledgeBases:f,selectedKbIds:I,onToggleKb:tt,mcpServers:y,activeMcpIds:$,onToggleMcp:rt,dbConnections:te,selectedDbConnectionId:ve,onSelectDb:re}),R.map((J,he)=>{const ke=J.name.substring(J.name.lastIndexOf(".")).toLowerCase(),U=[".jpg",".jpeg",".png",".gif",".webp",".bmp"].includes(ke);return r.createElement("div",{key:he,className:"flex items-center gap-1.5 px-2 py-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-[11px] font-medium text-gray-700 dark:text-gray-300 shadow-sm"},U?r.createElement("img",{src:se(J),alt:J.name,className:"w-6 h-6 object-cover rounded"}):r.createElement(Mc,{size:10,className:"text-gray-400"}),r.createElement("span",{className:"max-w-[100px] truncate"},J.name),r.createElement("button",{onClick:()=>Z(F=>F.filter((Y,ae)=>ae!==he)),className:"text-gray-400 hover:text-red-500 ml-0.5"},r.createElement(mr,{size:10})))})),r.createElement("textarea",{ref:De,value:P,onChange:J=>S(J.target.value),onKeyDown:J=>J.key==="Enter"&&!J.shiftKey&&(J.preventDefault(),G()),placeholder:`${d?.name||"AI"}  ...`,className:"w-full bg-transparent border-none outline-none resize-none px-4 py-2 text-sm custom-scrollbar leading-relaxed min-h-[44px] max-h-48 dark:text-gray-100 dark:placeholder-gray-500",rows:1}),r.createElement("div",{className:"flex items-center justify-between px-2 pb-2 pt-0.5"},r.createElement("div",{className:"flex items-center gap-0.5"},r.createElement("input",{type:"file",multiple:!0,accept:".pdf,.docx,.doc,.txt,.md,.pptx,.xlsx,.csv",className:"hidden",ref:_e,onChange:ue}),r.createElement("button",{onClick:()=>_e.current?.click(),className:"p-2 text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-300 rounded-xl transition",title:" "},r.createElement(Mc,{size:18}))),r.createElement("button",{onClick:()=>G(),disabled:!P.trim()&&R.length===0||_||X,className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all font-bold text-sm ${(P.trim()||R.length>0)&&!_&&!X?"bg-green-500 text-white hover:bg-green-600 shadow-sm hover:shadow":"bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed"}`},X?r.createElement(Dt,{size:16,className:"animate-spin"}):_?r.createElement(Dt,{size:16,className:"animate-spin"}):r.createElement(wx,{size:16,fill:"currentColor"}),r.createElement("span",{className:"hidden sm:inline"},X?" ":"")))),r.createElement("p",{className:"text-center text-[10px] text-gray-400 dark:text-gray-500 mt-1.5"},"AI can make mistakes. Check important info."))))}function Nk({msg:t,isLast:a,isStreaming:s,copiedId:o,onCopy:c,onRegenerate:u}){const d=t.role==="user",g=o===t.id,f=t.text&&t.text.trim().length>0,h=f&&t.thinking,[y,x]=E.useState(null),[k,v]=E.useState(!1),D=E.useCallback(S=>t.sources?.length?r.Children.map(S,_=>{if(typeof _=="string"){const N=[];let R=0;const Z=/\[(\d+)\]/g;let X;for(;(X=Z.exec(_))!==null;){const M=parseInt(X[1]),ee=t.sources.find(se=>se.id===M);ee&&(X.index>R&&N.push(_.slice(R,X.index)),N.push(r.createElement(hk,{key:`c${M}-${X.index}`,num:M,source:ee,onClick:se=>{const $=se.currentTarget.getBoundingClientRect();x({source:ee,anchorRect:$})}})),R=Z.lastIndex)}if(N.length>0)return R<_.length&&N.push(_.slice(R)),N}return _}):S,[t.sources]),P=E.useMemo(()=>{const S={pre:Ek};if(t.sources?.length){const _=N=>({children:R,node:Z,...X})=>r.createElement(N,{...X},D(R));Object.assign(S,{p:_("p"),li:_("li"),td:_("td"),strong:_("strong"),em:_("em")})}return S},[t.sources,D]);return r.createElement("div",{className:`flex ${d?"justify-end":"justify-start"} group py-3`},r.createElement("div",{className:`flex max-w-[80%] ${d?"flex-row-reverse":"flex-row"} items-start gap-3`},r.createElement("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${d?"bg-gray-600":"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700"}`},d?r.createElement(Ap,{size:16,className:"text-white"}):r.createElement(Tt,{size:16,className:"text-gray-600 dark:text-gray-400"})),r.createElement("div",{className:"flex flex-col gap-1.5 min-w-0"},r.createElement("div",{className:`flex items-center gap-2 ${d?"flex-row-reverse":"flex-row"}`},r.createElement("span",{className:"text-[11px] font-bold text-gray-500 dark:text-gray-400"},d?"You":"AI"),t.time&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500"},t.time),t.thinkingTime>0&&!d&&f&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500"},t.thinkingTime,"s")),!d&&t.toolCallsMeta&&t.toolCallsMeta.length>0&&r.createElement("div",{className:"flex flex-wrap items-center gap-1.5"},t.toolCallsMeta.map((S,_)=>{const R={vector_retrieval:{icon:"",label:"RAG ",bg:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-300 border-purple-200 dark:border-purple-800"},web_search:{icon:"",label:" ",bg:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-300 border-green-200 dark:border-green-800"},mcp_tools:{icon:"",label:"MCP",bg:"bg-cyan-50 dark:bg-cyan-900/20 text-cyan-600 dark:text-cyan-300 border-cyan-200 dark:border-cyan-800"},sql_query:{icon:"",label:"SQL",bg:"bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-300 border-amber-200 dark:border-amber-800"},process:{icon:"",label:" ",bg:"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-300 border-orange-200 dark:border-orange-800"}}[S.name]||{icon:"",label:S.name||"",bg:"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-700"},Z=S.duration_ms?(S.duration_ms/1e3).toFixed(1):null;return r.createElement("span",{key:_,className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-[10px] font-semibold border ${R.bg}`},r.createElement("span",null,R.icon)," ",R.label,Z&&r.createElement("span",{className:"opacity-50"},Z,"s"))})),t.pipelineAgents?.length>0&&r.createElement(gk,{agents:t.pipelineAgents,activeAgent:t.activeAgent,completedMap:t.completedAgents||{}}),t.thinking&&r.createElement("div",{className:`text-xs text-gray-500 dark:text-gray-400 italic p-3 rounded-xl border ${h?"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700":"bg-gray-50/50 dark:bg-gray-900/20 border-gray-100 dark:border-gray-900"}`},r.createElement("div",{className:`flex items-center gap-2 font-bold text-[11px] ${h?"cursor-pointer select-none":"mb-1.5"}`,onClick:()=>h&&v(!k)},h?r.createElement(r.Fragment,null,r.createElement(it,{size:11,className:"text-green-400"})," ",r.createElement("span",{className:"text-gray-500"}," ")):r.createElement(r.Fragment,null,r.createElement(Dt,{size:11,className:"animate-spin text-green-400"})," ",r.createElement("span",{className:"text-gray-500"}," ...")),t.activeAgent&&r.createElement("span",{className:`text-[9px] px-1.5 py-0.5 rounded font-bold border not-italic ${{supervisor:"bg-purple-50 text-purple-600 border-purple-200",rag:"bg-blue-50 text-blue-600 border-blue-200",web_search:"bg-cyan-50 text-cyan-600 border-cyan-200",t2sql:"bg-amber-50 text-amber-600 border-amber-200",mcp:"bg-indigo-50 text-indigo-600 border-indigo-200",process:"bg-orange-50 text-orange-600 border-orange-200",synthesizer:"bg-green-50 text-green-600 border-green-200"}[t.activeAgent]||"bg-gray-50 text-gray-600 border-gray-200"}`},{supervisor:"Supervisor",rag:"RAG",web_search:"Web Search",t2sql:"T2SQL",mcp:"MCP",process:"Process",synthesizer:"Synthesizer"}[t.activeAgent]||t.activeAgent),h&&r.createElement("span",{className:"ml-auto p-0.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition"},k?r.createElement(_p,{size:12}):r.createElement(Yr,{size:12}))),r.createElement("div",{className:`pl-4 border-l-2 border-gray-200 dark:border-gray-600 leading-relaxed custom-scrollbar transition-all duration-300 overflow-hidden ${h?k?"max-h-[300px] overflow-y-auto mt-1.5":"max-h-0":"max-h-32 overflow-y-auto mt-1.5"}`},t.thinking)),t.generatedSql&&r.createElement("div",{className:"bg-gray-900 dark:bg-gray-950 rounded-xl p-3 border border-gray-700"},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement("span",{className:"text-[10px] font-bold text-orange-400 uppercase tracking-wider"},"Generated SQL"),r.createElement("button",{onClick:()=>navigator.clipboard.writeText(t.generatedSql),className:"text-gray-500 hover:text-gray-300 transition",title:"SQL "},r.createElement(Lc,{size:11}))),r.createElement("pre",{className:"text-xs text-green-300 font-mono whitespace-pre-wrap leading-relaxed overflow-x-auto"},t.generatedSql)),t.tableData&&r.createElement("div",{className:"overflow-x-auto rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("table",{className:"w-full text-xs"},r.createElement("thead",null,r.createElement("tr",{className:"bg-gray-100 dark:bg-gray-800"},t.tableData.columns.map((S,_)=>r.createElement("th",{key:_,className:"px-3 py-2 text-left font-bold text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700"},S)))),r.createElement("tbody",null,t.tableData.rows.map((S,_)=>r.createElement("tr",{key:_,className:_%2===0?"bg-white dark:bg-gray-900":"bg-gray-50 dark:bg-gray-800/50"},S.map((N,R)=>r.createElement("td",{key:R,className:"px-3 py-2 text-gray-800 dark:text-gray-200 border-b border-gray-100 dark:border-gray-800"},N==null?r.createElement("span",{className:"text-gray-400 italic"},"NULL"):String(N))))))),r.createElement("div",{className:"px-3 py-1.5 text-[10px] text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700"}," ",t.tableData.total,"")),f&&r.createElement("div",{className:`px-4 py-3 rounded-2xl text-sm leading-relaxed break-words relative group/bubble ${d?"bg-green-500 text-white rounded-tr-sm":"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 border border-gray-200 dark:border-gray-700 rounded-tl-sm"}`},d?r.createElement("div",{className:"whitespace-pre-wrap"},t.text):r.createElement("div",{className:"markdown-body prose prose-sm dark:prose-invert max-w-none prose-pre:bg-gray-900 prose-pre:text-gray-100 prose-code:text-gray-600 dark:prose-code:text-gray-400 prose-code:before:content-none prose-code:after:content-none prose-code:font-mono prose-code:text-xs"},r.createElement(lk,{components:P},t.text)),s&&!d&&r.createElement("span",{className:"inline-block w-0.5 h-4 bg-gray-500 animate-pulse ml-0.5 align-text-bottom"}),!d&&!s&&r.createElement("div",{className:"absolute -bottom-8 left-0 flex items-center gap-1 opacity-0 group-hover/bubble:opacity-100 mobile-always-show transition-opacity"},r.createElement("button",{onClick:()=>c(t.text,t.id),className:`p-1.5 rounded-lg transition text-xs flex items-center gap-1 ${g?"text-green-400 bg-green-50 dark:bg-green-800/30":"text-gray-400 hover:text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:""},g?r.createElement(r.Fragment,null,r.createElement(it,{size:12})," "):r.createElement(Lc,{size:12})),r.createElement("button",{onClick:u,className:"p-1.5 text-gray-400 hover:text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-900/30 rounded-lg transition",title:""},r.createElement(kx,{size:12})),r.createElement("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),r.createElement("button",{onClick:()=>t.onFeedback&&t.onFeedback(!0),className:`p-1.5 rounded-lg transition ${t.feedback?.is_positive===!0?"text-green-500 bg-green-50 dark:bg-green-800/30":"text-gray-400 hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-800/30"}`,title:""},r.createElement(Rp,{size:12})),r.createElement("button",{onClick:()=>t.onFeedback&&t.onFeedback(!1),className:`p-1.5 rounded-lg transition ${t.feedback?.is_positive===!1?"text-red-600 bg-red-50 dark:bg-red-900/30":"text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:""},r.createElement(Mp,{size:12})))),!d&&!s&&t.sources?.length>0&&r.createElement("div",{className:"flex flex-wrap items-center gap-1.5 mt-1"},r.createElement("span",{className:"text-[10px] text-gray-400 font-medium"},":"),t.sources.map(S=>r.createElement("button",{key:S.id,onClick:_=>{const N=_.currentTarget.getBoundingClientRect();x({source:S,anchorRect:N})},className:"inline-flex items-center gap-1 text-[10px] px-1.5 py-0.5 bg-gray-50 dark:bg-gray-800 text-gray-500 dark:text-gray-400 rounded border border-gray-200 dark:border-gray-700 hover:border-blue-300 hover:text-blue-600 dark:hover:border-blue-700 dark:hover:text-blue-400 transition-colors"},r.createElement(Nt,{size:10}),r.createElement("span",{className:"max-w-[120px] truncate"},S.filename)))),y&&r.createElement(fk,{source:y.source,anchorRect:y.anchorRect,onClose:()=>x(null)}),t.attachments&&t.attachments.length>0&&r.createElement("div",{className:`flex flex-wrap gap-1.5 ${d?"justify-end":"justify-start"}`},t.attachments.map((S,_)=>r.createElement("div",{key:_,className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-lg text-[11px] text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600"},r.createElement(Mc,{size:10,className:"text-gray-400"})," ",S.name))))))}function Sk({isOpen:t,onClose:a,onSave:s,initialData:o=null}){const{toast:c}=pr(),u={sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},[d,g]=E.useState({name:"",description:"",model:"llama3.1",systemPrompt:"",published:!0,defaultTools:{sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}}}),[f,h]=E.useState([]),[y,x]=E.useState(!1);E.useEffect(()=>{if(!t)return;(async()=>{x(!0);try{const S=await Rt.getAvailableModels();S?.models&&S.models.length>0&&h(S.models)}catch(S){console.error("   :",S)}finally{x(!1)}})()},[t]);const k=o&&o.agentType&&o.agentType!=="custom";if(E.useEffect(()=>{if(t)if(o){let P=o.defaultTools||{...u};if("sources"in P){if("smartMode"in P){const{smartMode:S,..._}=P;P=_}}else{const{deep_think:S,smartMode:_,...N}=P;P={sources:N}}g({name:o.name,description:o.description||"",model:o.model||"llama3.1",systemPrompt:o.systemPrompt||"",published:o.published,defaultTools:P})}else g({name:"",description:"",model:"llama3.1",systemPrompt:"",published:!0,defaultTools:{sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}}})},[o,t]),!t)return null;const v=()=>{if(!d.name.trim())return c.warning("  .");s(d),a()},D={ollama:"  (Ollama)",openai:" OpenAI",anthropic:" Anthropic",google:" Google AI",groq:" Groq"};return r.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200"},r.createElement("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-2xl overflow-hidden m-4 flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-200"},r.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-b bg-gray-50/50"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("div",{className:"p-2 bg-gray-100 text-gray-600 rounded-lg"},r.createElement(Tt,{size:20})),r.createElement("h3",{className:"text-lg font-bold text-gray-800"},o?" ":"  ")),r.createElement("button",{onClick:a,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition"},r.createElement(mr,{size:20}))),r.createElement("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar"},r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2 flex items-center gap-2"},r.createElement(At,{size:16,className:"text-gray-500"}),"  "),k&&r.createElement("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3 text-xs text-purple-700"},r.createElement("span",{className:"font-bold"}," "),"  : ",{supervisor:"",rag:"RAG ",web_search:" ",t2sql:"T2SQL",mcp:"MCP ",process:""}[o.agentType]||o.agentType,".     ."),r.createElement("div",{className:"grid grid-cols-1 gap-4"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-700 mb-1.5"}," ",r.createElement("span",{className:"text-red-500"},"*")),r.createElement("input",{type:"text",value:d.name,onChange:P=>g({...d,name:P.target.value}),placeholder:":   ",className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-green-400 outline-none text-sm",autoFocus:!0})),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-700 mb-1.5"},""),r.createElement("textarea",{value:d.description,onChange:P=>g({...d,description:P.target.value}),placeholder:"    .",className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-green-400 outline-none text-sm resize-none h-20"})))),r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2 flex items-center gap-2"},r.createElement(on,{size:16,className:"text-gray-500"}),"  "),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-700 mb-1.5"},"LLM "),r.createElement("div",{className:"relative"},y?r.createElement("div",{className:"w-full p-2.5 border rounded-lg bg-gray-50 flex items-center gap-2 text-sm text-gray-500"},r.createElement(Dt,{size:16,className:"animate-spin"}),r.createElement("span",null,"   ...")):f.length>0?r.createElement("select",{value:d.model,onChange:P=>g({...d,model:P.target.value}),className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-green-400 outline-none bg-white text-sm"},(()=>{const P=f.reduce((S,_)=>{const N=_.provider||"ollama";return S[N]||(S[N]=[]),S[N].push(_),S},{});return Object.entries(P).map(([S,_])=>r.createElement("optgroup",{key:S,label:D[S]||S},_.map(N=>r.createElement("option",{key:N.name,value:N.name},N.display_name||N.name))))})()):r.createElement("div",{className:"w-full p-2.5 border border-yellow-300 bg-yellow-50 rounded-lg text-sm text-gray-700"}," Ollama    . Ollama    .")),r.createElement("p",{className:"text-xs text-gray-500 mt-1"},"  API  :  API     "))),r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2 flex items-center gap-2"},r.createElement(Nt,{size:16,className:"text-gray-500"}),"  "),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-700 mb-1.5"}," "),r.createElement("textarea",{value:d.systemPrompt,onChange:P=>g({...d,systemPrompt:P.target.value}),placeholder:"    . (:    .)",className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-green-400 outline-none text-sm resize-none h-32"}))),r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2 flex items-center gap-2"},r.createElement(Ip,{size:16,className:"text-gray-500"}),"   "),r.createElement("p",{className:"text-xs text-gray-500"},"       ."),r.createElement("div",{className:"grid grid-cols-2 gap-3"},[{key:"rag",label:"RAG",desc:"   ",icon:Nt,color:"blue"},{key:"web_search",label:" ",desc:"  ",icon:Qt,color:"green"},{key:"mcp",label:"MCP",desc:" MCP  ",icon:zn,color:"indigo"},{key:"sql",label:"SQL",desc:"  ",icon:Xr,color:"amber"}].map(P=>{const S=P.icon,_=d.defaultTools?.sources?.[P.key]??!1,N={blue:_?"bg-blue-50 border-blue-200":"",green:_?"bg-green-50 border-green-200":"",indigo:_?"bg-indigo-50 border-indigo-200":"",amber:_?"bg-amber-50 border-amber-200":""};return r.createElement("label",{key:P.key,className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition hover:shadow-sm ${N[P.color]||"border-gray-200"}`},r.createElement("input",{type:"checkbox",checked:_,onChange:()=>g({...d,defaultTools:{...d.defaultTools,sources:{...d.defaultTools?.sources,[P.key]:!_}}}),className:"mt-0.5 accent-green-500"}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-800"},r.createElement(S,{size:13})," ",P.label),r.createElement("div",{className:"text-[10px] text-gray-500 mt-0.5"},P.desc)))})))),r.createElement("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-3"},r.createElement("button",{onClick:a,className:"px-5 py-2.5 text-sm font-bold text-gray-600 hover:bg-gray-200 bg-white border border-gray-300 rounded-xl transition"},""),r.createElement("button",{onClick:v,className:"px-5 py-2.5 text-sm font-bold text-white bg-green-500 hover:bg-green-600 rounded-xl shadow-lg transition flex items-center gap-2"},r.createElement(Lp,{size:16})," "))))}const Zg={supervisor:Xn,rag:Nt,web_search:Qt,t2sql:bt,mcp:zn,process:yo,custom:Tt},Ck={supervisor:"",rag:"RAG",web_search:"",t2sql:"SQL",mcp:"MCP",process:"",custom:""},ep={supervisor:"bg-purple-50 border-purple-100 text-purple-600",rag:"bg-blue-50 border-blue-100 text-blue-600",web_search:"bg-cyan-50 border-cyan-100 text-cyan-600",t2sql:"bg-amber-50 border-amber-100 text-amber-600",mcp:"bg-indigo-50 border-indigo-100 text-indigo-600",process:"bg-orange-50 border-orange-100 text-orange-600",custom:"bg-green-50 border-green-100 text-green-600"},tp={supervisor:"bg-purple-100 text-purple-700 border-purple-200",rag:"bg-blue-100 text-blue-700 border-blue-200",web_search:"bg-cyan-100 text-cyan-700 border-cyan-200",t2sql:"bg-amber-100 text-amber-700 border-amber-200",mcp:"bg-indigo-100 text-indigo-700 border-indigo-200",process:"bg-orange-100 text-orange-700 border-orange-200",custom:"bg-green-100 text-green-700 border-green-200"};function _k(){const{agents:t,addAgent:a,updateAgent:s,deleteAgent:o}=Ma(),{toast:c,confirm:u}=pr(),[d,g]=E.useState(""),[f,h]=E.useState(!1),[y,x]=E.useState(null),[k,v]=E.useState(null),D=["agent-general","agent-rag","system-supervisor","system-rag","system-web","system-sql","system-mcp","system-process"];E.useEffect(()=>{const L=()=>v(null);return window.addEventListener("click",L),()=>window.removeEventListener("click",L)},[]);const P=t.filter(L=>L.name.toLowerCase().includes(d.toLowerCase())),S=P.filter(L=>D.includes(L.id)||L.agentType&&L.agentType!=="custom"),_=P.filter(L=>!D.includes(L.id)&&(!L.agentType||L.agentType==="custom")),N=()=>{x(null),h(!0)},R=(L,I)=>{L.stopPropagation(),x(I),h(!0),v(null)},Z=(L,I)=>{if(L.stopPropagation(),D.includes(I)){c.warning("    .");return}u("   ?",()=>o(I),{confirmLabel:""})},X=(L,I)=>{L.stopPropagation(),s(I.id,{published:!I.published}),v(null)},M=L=>{y?s(y.id,L):a({id:Jn(),agentType:"custom",...L,updated_at:new Date().toLocaleDateString()})},ee=L=>{if(L.agentType&&Zg[L.agentType])return Zg[L.agentType];switch(L.id){case"agent-general":return ur;case"agent-rag":return Nt;default:return Tt}},se=L=>L.agentType&&ep[L.agentType]?ep[L.agentType]:D.includes(L.id)?"bg-green-50 border-green-100 text-green-600":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200 text-gray-600",$=({agent:L,isSystem:I})=>{const K=ee(L),ve=se(L),re=L.agentType||"custom",te=tp[re]||tp.custom,Q=Ck[re]||re;return r.createElement("div",{className:"group bg-white border border-gray-200 rounded-2xl p-5 hover:shadow-xl hover:border-gray-300 transition-all duration-300 relative flex flex-col"},r.createElement("div",{className:"flex justify-between items-start mb-3"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`w-12 h-12 rounded-2xl border flex items-center justify-center shadow-sm ${ve}`},r.createElement(K,{size:24})),r.createElement("div",null,r.createElement("h3",{className:"font-bold text-gray-800 line-clamp-1 flex items-center gap-1.5",title:L.name},L.name,I&&r.createElement(Pp,{size:12,className:"text-gray-400",title:" "})),r.createElement("div",{className:"flex items-center gap-1.5 mt-1"},re!=="custom"&&r.createElement("span",{className:`inline-flex items-center gap-1 text-[10px] font-bold px-2 py-0.5 rounded border ${te}`},Q),r.createElement("span",{className:"inline-flex items-center gap-1 bg-gray-100 text-gray-600 text-[10px] font-bold px-2 py-0.5 rounded border border-gray-200"},r.createElement(on,{size:10})," ",L.model||"")))),r.createElement("div",{className:"relative"},r.createElement("button",{onClick:ie=>{ie.stopPropagation(),v(k===L.id?null:L.id)},className:"p-1.5 text-gray-400 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition"},r.createElement(vx,{size:20})),k===L.id&&r.createElement("div",{className:"absolute right-0 top-8 w-32 bg-white border border-gray-200 rounded-xl shadow-xl z-20 overflow-hidden animate-in fade-in zoom-in-95 duration-100"},r.createElement("button",{onClick:ie=>R(ie,L),className:"w-full text-left px-4 py-2.5 text-xs font-medium text-gray-700 hover:bg-gray-50 flex items-center gap-2"},r.createElement(Sx,{size:14})," "),r.createElement("button",{onClick:ie=>X(ie,L),className:"w-full text-left px-4 py-2.5 text-xs font-medium text-gray-700 hover:bg-gray-50 flex items-center gap-2"},L.published?r.createElement(r.Fragment,null,r.createElement(Dp,{size:14}),"  "):r.createElement(r.Fragment,null,r.createElement(it,{size:14})," ")),!I&&r.createElement("button",{onClick:ie=>Z(ie,L.id),className:"w-full text-left px-4 py-2.5 text-xs font-medium text-red-600 hover:bg-red-50 flex items-center gap-2 border-t border-gray-50"},r.createElement(Bn,{size:14})," ")))),r.createElement("div",{className:"mb-3"},r.createElement("p",{className:"text-xs text-gray-500 line-clamp-2 leading-relaxed"},L.description||" .")),L.defaultTools?.sources&&Object.values(L.defaultTools.sources).some(ie=>ie)&&r.createElement("div",{className:"flex flex-wrap items-center gap-1 mb-3"},L.defaultTools.sources?.rag&&r.createElement("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold bg-blue-50 text-blue-600 border border-blue-200"},r.createElement(Nt,{size:9})," RAG"),L.defaultTools.sources?.web_search&&r.createElement("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold bg-green-50 text-green-600 border border-green-200"},r.createElement(Qt,{size:9})," Web"),L.defaultTools.sources?.mcp&&r.createElement("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold bg-indigo-50 text-indigo-600 border border-indigo-200"},r.createElement(zn,{size:9})," MCP"),L.defaultTools.sources?.sql&&r.createElement("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold bg-amber-50 text-amber-600 border border-amber-200"},r.createElement(Xr,{size:9})," SQL")),L.systemPrompt?r.createElement("div",{className:"mb-3 bg-gray-50 rounded-lg p-2.5 border border-gray-100"},r.createElement("div",{className:"flex items-center gap-1 mb-1"},r.createElement(bn,{size:10,className:"text-gray-400"}),r.createElement("span",{className:"text-[10px] font-bold text-gray-400 uppercase"}," ")),r.createElement("p",{className:"text-[11px] text-gray-600 line-clamp-2 leading-relaxed italic"},'"',L.systemPrompt,'"')):r.createElement("div",{className:"mb-3 bg-gray-50 rounded-lg p-2.5 border border-dashed border-gray-200"},r.createElement("p",{className:"text-[11px] text-gray-400 text-center"},"  ")),r.createElement("div",{className:"pt-3 border-t border-gray-100 flex items-center justify-between text-xs mt-auto"},r.createElement("div",{className:"text-gray-400 flex items-center gap-1"},r.createElement(Tp,{size:12})," ",L.updated_at),r.createElement("div",null,L.published?r.createElement("span",{className:"flex items-center gap-1 text-green-500 font-bold bg-green-50 px-2 py-1 rounded-full"},r.createElement(it,{size:10})," "):r.createElement("span",{className:"flex items-center gap-1 text-gray-500 font-bold bg-gray-100 px-2 py-1 rounded-full"},""))))};return r.createElement("div",{className:"h-full flex flex-col p-6 bg-gray-50/50"},r.createElement("div",{className:"flex justify-between items-start mb-8"},r.createElement("div",null,r.createElement("h2",{className:"text-2xl font-bold text-gray-800"}," "),r.createElement("p",{className:"text-sm text-gray-500 mt-1"},"    .")),r.createElement("button",{onClick:N,className:"flex items-center gap-2 px-5 py-2.5 bg-green-500 text-white rounded-xl hover:bg-green-600 transition shadow-lg shadow-green-100 font-bold text-sm"},r.createElement(cn,{size:18})," ",r.createElement("span",null," "))),r.createElement("div",{className:"mb-6 relative max-w-md"},r.createElement(fo,{size:18,className:"absolute left-3 top-3 text-gray-400"}),r.createElement("input",{type:"text",placeholder:"  ...",value:d,onChange:L=>g(L.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-400 outline-none bg-white shadow-sm transition"})),P.length===0?r.createElement("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 gap-4"},r.createElement("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center"},r.createElement(Tt,{size:40,className:"text-gray-300"})),r.createElement("p",null,"  .")):r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar pb-4 space-y-8"},S.length>0&&r.createElement("div",null,r.createElement("div",{className:"flex items-center gap-2 mb-4"},r.createElement(Xn,{size:16,className:"text-purple-500"}),r.createElement("h3",{className:"text-sm font-bold text-gray-700"}," "),r.createElement("span",{className:"text-[10px] text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full font-medium"},S.length,"")),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5"},S.map(L=>r.createElement($,{key:L.id,agent:L,isSystem:!0})))),_.length>0&&r.createElement("div",null,r.createElement("div",{className:"flex items-center gap-2 mb-4"},r.createElement(Tt,{size:16,className:"text-green-500"}),r.createElement("h3",{className:"text-sm font-bold text-gray-700"}," "),r.createElement("span",{className:"text-[10px] text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full font-medium"},_.length,"")),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5"},_.map(L=>r.createElement($,{key:L.id,agent:L,isSystem:!1}))))),r.createElement(Sk,{isOpen:f,onClose:()=>h(!1),onSave:M,initialData:y}))}function Tk({kbId:t}){const[a,s]=E.useState([]),[o,c]=E.useState(!0),[u,d]=E.useState(null),[g,f]=E.useState([]),[h,y]=E.useState(!1),[x,k]=E.useState(!1),[v,D]=E.useState(""),[P,S]=E.useState(null),[_,N]=E.useState(0),[R,Z]=E.useState(null),[X,M]=E.useState(null),ee=E.useRef(null),[se,$]=E.useState(null);E.useEffect(()=>{let Q=!1;return(async()=>{c(!0);const q=await sn.getFilesList(t);Q||(s(q.files||[]),c(!1))})(),()=>{Q=!0}},[t]);const L=E.useCallback(async(Q=null,ie=null,q=null,ge=!1)=>{ge?k(!0):y(!0),M(null);try{const w=await sn.getChunks(t,Q,20,ie||null,q||null);f(ge?O=>[...O,...w.chunks]:w.chunks),N(w.total),S(w.next_offset)}catch(w){M(w.message||"   .")}finally{y(!1),k(!1)}},[t]);E.useEffect(()=>{L(null,v||null,u)},[u,L]);const I=Q=>{D(Q),ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{L(null,Q,u)},400)},K=()=>{P&&!x&&L(P,v||null,u,!0)},ve=Q=>{d(Q===u?null:Q),D(""),Z(null)},re=a.reduce((Q,ie)=>Q+ie.chunk_count,0),te=u?a.find(Q=>Q.source===u)?.filename||"unknown":null;return r.createElement("div",{className:"h-full flex bg-gray-50"},r.createElement("div",{className:"w-72 border-r border-gray-200 bg-white flex flex-col shrink-0"},r.createElement("div",{className:"h-14 border-b border-gray-200 flex items-center px-5 gap-3 shrink-0 bg-gray-50"},r.createElement("div",{className:"p-2 rounded-lg bg-gray-600"},r.createElement(hx,{size:16,className:"text-white"})),r.createElement("span",{className:"text-sm font-bold text-gray-900"}," "),r.createElement("span",{className:"ml-auto text-xs text-gray-600 font-semibold bg-gray-100 px-2.5 py-1 rounded-full"},a.length)),r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar"},o?r.createElement("div",{className:"flex items-center justify-center py-8"},r.createElement(Dt,{size:20,className:"animate-spin text-green-200"})):a.length===0?r.createElement("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400"},r.createElement(Nt,{size:24,className:"mb-2 text-gray-300"}),r.createElement("p",{className:"text-xs"},"  ")):r.createElement("div",{className:"p-3 space-y-1"},r.createElement("button",{onClick:()=>ve(null),className:`group w-full text-left px-4 py-3 rounded-lg text-sm transition-all ${u===null?"bg-green-500 text-white font-semibold shadow-sm":"text-gray-700 hover:bg-gray-50 font-medium"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`p-1.5 rounded-lg transition-all ${u===null?"bg-gray-500":"bg-gray-100 group-hover:bg-gray-200"}`},r.createElement(Ca,{size:14,className:u===null?"text-white":"text-gray-600"})),r.createElement("span",{className:"truncate"}," "),r.createElement("span",{className:`ml-auto text-xs px-2 py-0.5 rounded-full font-semibold transition-all ${u===null?"bg-green-400 text-white":"bg-gray-100 text-gray-600 group-hover:bg-gray-200"}`},re))),a.map(Q=>r.createElement("button",{key:Q.source,onClick:()=>ve(Q.source),className:`group w-full text-left px-4 py-3 rounded-lg text-sm transition-all ${u===Q.source?"bg-purple-600 text-white font-semibold shadow-sm":"text-gray-700 hover:bg-gray-50 font-medium"}`,title:Q.source},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`p-1.5 rounded-lg transition-all ${u===Q.source?"bg-purple-500":"bg-gray-100 group-hover:bg-gray-200"}`},r.createElement(Nt,{size:14,className:u===Q.source?"text-white":"text-gray-600"})),r.createElement("span",{className:"truncate flex-1"},Q.filename),r.createElement("span",{className:`shrink-0 text-xs px-2 py-0.5 rounded-full font-semibold transition-all ${u===Q.source?"bg-purple-500 text-white":"bg-gray-100 text-gray-600 group-hover:bg-gray-200"}`},Q.chunk_count))))))),r.createElement("div",{className:"flex-1 flex flex-col min-w-0"},r.createElement("div",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-6 bg-white shrink-0"},r.createElement("div",{className:"flex items-center gap-3 min-w-0"},u&&r.createElement("button",{onClick:()=>ve(null),className:"shrink-0 flex items-center gap-2 text-sm font-semibold text-white bg-purple-600 hover:bg-purple-700 px-3 py-2 rounded-lg transition-colors shadow-sm"},r.createElement(Nt,{size:13}),r.createElement("span",{className:"max-w-[120px] truncate"},te),r.createElement(mr,{size:13})),r.createElement("div",{className:"relative w-64"},r.createElement(fo,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.createElement("input",{type:"text",placeholder:" ...",value:v,onChange:Q=>I(Q.target.value),className:"w-full pl-10 pr-4 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400 outline-none bg-white"})),v&&r.createElement("button",{onClick:()=>{D(""),L(null,null,u)},className:"text-sm text-gray-600 hover:text-gray-900 font-semibold transition-colors"},"")),r.createElement("span",{className:"text-sm font-semibold text-gray-900 bg-gray-100 px-4 py-2 rounded-full flex items-center gap-2"},r.createElement(Ca,{size:14,className:"text-gray-600"})," ",_,"")),r.createElement("div",{className:"flex-1 overflow-y-auto p-3 custom-scrollbar"},h?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-400"},r.createElement(Dt,{size:28,className:"animate-spin text-green-300 mb-3"}),r.createElement("p",{className:"text-sm font-bold"},"   ...")):X?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-400"},r.createElement(Ml,{size:28,className:"text-red-400 mb-3"}),r.createElement("p",{className:"text-sm font-bold mb-1"}," "),r.createElement("p",{className:"text-xs"},X),r.createElement("button",{onClick:()=>L(null,null,u),className:"mt-3 px-3 py-1.5 bg-green-500 text-white rounded-lg text-xs font-bold hover:bg-green-600 transition"}," ")):g.length===0?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-400"},r.createElement("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mb-3"},r.createElement(Ca,{size:28,className:"text-orange-300"})),r.createElement("h3",{className:"text-base font-bold text-gray-500"},v?"  ":u?"   ":"  "),r.createElement("p",{className:"text-xs mt-1 text-center text-gray-400"},v?"  .":"   .")):r.createElement("div",{className:"space-y-1.5"},g.map(Q=>{const ie=R===Q.id,q=Q.content_type==="image",ge=Q.text.length>200?Q.text.slice(0,200)+"...":Q.text,w=Q.source?Q.source.split("/").pop().split("\\").pop():"unknown",O=Q.thumbnail_path||null,B=Q.image_path||null;return r.createElement("div",{key:Q.id,className:`group bg-white border rounded-lg transition-all cursor-pointer ${ie?"border-gray-400 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onClick:()=>Z(ie?null:Q.id)},r.createElement("div",{className:"flex items-center gap-3 px-4 py-3.5"},r.createElement("span",{className:`shrink-0 w-11 h-11 rounded-lg flex items-center justify-center text-sm font-bold shadow-sm transition-all ${q?"bg-pink-600 text-white":"bg-green-500 text-white"}`},q?r.createElement(Tl,{size:18}):`#${Q.chunk_index}`),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center gap-2 flex-wrap"},!u&&r.createElement(r.Fragment,null,r.createElement("div",{className:`p-1 rounded-lg ${q?"bg-pink-50":"bg-gray-50"}`},q?r.createElement(Tl,{size:13,className:"text-pink-600 shrink-0"}):r.createElement(Nt,{size:13,className:"text-gray-600 shrink-0"})),r.createElement("span",{className:"text-xs font-semibold text-gray-700 truncate"},w)),q&&r.createElement("span",{className:"text-xs font-semibold bg-pink-600 text-white px-2.5 py-1 rounded-full"},"IMAGE"),Q.score!=null&&r.createElement("span",{className:"text-xs font-semibold bg-green-500 text-white px-2.5 py-1 rounded-full"},Q.score)),!ie&&!q&&r.createElement("p",{className:"text-sm text-gray-700 mt-1.5 line-clamp-2 leading-relaxed"},ge),!ie&&q&&Q.caption&&r.createElement("p",{className:"text-sm text-gray-700 mt-1.5 line-clamp-1 leading-relaxed italic"},Q.caption)),r.createElement("div",{className:`shrink-0 transition-all ${ie?"text-gray-600":"text-gray-400 group-hover:text-gray-500"}`},ie?r.createElement(_p,{size:16}):r.createElement(Yr,{size:16}))),ie&&r.createElement("div",{className:"px-4 pb-4 space-y-3"},q?r.createElement(r.Fragment,null,O&&r.createElement("div",{className:"relative group/img"},r.createElement("img",{src:O,alt:w,className:"w-full max-w-lg mx-auto rounded-lg border-2 border-gray-200 cursor-pointer hover:border-gray-500 transition-all shadow-sm",onClick:C=>{C.stopPropagation(),$(B)}}),r.createElement("button",{onClick:C=>{C.stopPropagation(),$(B)},className:"absolute top-3 right-3 p-2.5 bg-green-500 hover:bg-green-600 text-white rounded-lg opacity-0 group-hover/img:opacity-100 transition-all shadow-sm",title:"  "},r.createElement(px,{size:16}))),r.createElement("div",{className:"bg-pink-50 rounded-lg p-4 space-y-2 text-sm border border-pink-200"},Q.caption&&r.createElement("div",{className:"flex gap-2"},r.createElement("span",{className:"font-semibold text-pink-700 shrink-0"},":"),r.createElement("span",{className:"text-gray-700 italic"},Q.caption)),Q.ocr_text&&r.createElement("div",{className:"flex gap-2"},r.createElement("span",{className:"font-semibold text-pink-700 shrink-0"},":"),r.createElement("span",{className:"text-gray-700"},Q.ocr_text)),Q.image_dimensions&&r.createElement("div",{className:"flex gap-2"},r.createElement("span",{className:"font-semibold text-pink-700 shrink-0"},":"),r.createElement("span",{className:"text-gray-700"},Q.image_dimensions)))):r.createElement("div",{className:"bg-gray-50 rounded-lg p-4 text-sm text-gray-700 leading-relaxed whitespace-pre-wrap font-mono border border-gray-200 max-h-96 overflow-y-auto custom-scrollbar"},Q.text),r.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-600 flex-wrap"},r.createElement("span",{className:"flex items-center gap-1.5 bg-gray-100 px-2.5 py-1 rounded-lg"},r.createElement(yx,{size:11})," ",Q.id.slice(0,12),"..."),!u&&Q.source&&r.createElement("button",{onClick:C=>{C.stopPropagation(),ve(Q.source)},className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded-lg font-semibold transition-colors"},"  "),Q.metadata?.uploaded_at&&r.createElement("span",{className:"bg-gray-100 px-2.5 py-1 rounded-lg"},": ",Q.metadata.uploaded_at),!q&&r.createElement("span",{className:"bg-gray-100 px-2.5 py-1 rounded-lg"},": ",Q.text.length,""))))}),P&&!v&&r.createElement("div",{className:"flex justify-center py-3"},r.createElement("button",{onClick:Q=>{Q.stopPropagation(),K()},disabled:x,className:"px-5 py-2 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-xl text-xs font-bold transition disabled:opacity-50 flex items-center gap-2"},x?r.createElement(r.Fragment,null,r.createElement(Dt,{size:13,className:"animate-spin"}),"  ..."):r.createElement(r.Fragment,null,"  (",g.length,"/",_,")")))))),se&&r.createElement("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-8",onClick:()=>$(null)},r.createElement("button",{onClick:()=>$(null),className:"absolute top-6 right-6 p-4 bg-white/10 hover:bg-white/20 text-white rounded-full transition-colors shadow-lg"},r.createElement(mr,{size:28})),r.createElement("img",{src:se,alt:"Full size",className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",onClick:Q=>Q.stopPropagation()})))}function zk(){const{knowledgeBases:t,currentKbId:a,setCurrentKbId:s,addFilesToKb:o,updateFileStatusInKb:c,updateKbConfig:u,setKnowledgeBases:d,removeFileFromKb:g}=Ma(),{toast:f,confirm:h}=pr(),[y,x]=E.useState("list"),[k,v]=E.useState("files"),[D,P]=E.useState(!1),[S,_]=E.useState(""),[N,R]=E.useState(!1),[Z,X]=E.useState(!1),[M,ee]=E.useState({name:"",description:"",chunkingMethod:"fixed",chunkSize:512,chunkOverlap:50,semanticThreshold:.75,externalServiceId:""}),[se,$]=E.useState({}),[L,I]=E.useState([]),K=E.useRef(null),ve=E.useRef(null),re=t.find(ue=>ue.id===a),te=re?.files||[];E.useEffect(()=>{const ue=async()=>{const rt={};for(const Qe of t)try{const G=await sn.getStats(Qe.id);G&&(rt[Qe.id]=G)}catch{}$(rt)};t.length>0&&ue()},[t.length,y]);const[Q,ie]=E.useState(null),[q,ge]=E.useState(!1),w=async ue=>{ie({fileId:ue.id,fileName:ue.name,source:ue.source||ue.name})},O=async()=>{if(Q){ge(!0);try{await sn.deleteFileChunks(a,Q.source)}catch(ue){console.warn("VDB chunk deletion failed:",ue.message)}g(Q.fileId),ie(null),ge(!1)}},B=ue=>{s(ue),x("detail"),v("files")},C=ue=>{ue.preventDefault(),P(!0)},Ee=()=>P(!1),Ae=ue=>{ue.preventDefault(),P(!1),_e(Array.from(ue.dataTransfer.files))},_e=async ue=>{const rt=ue.map(Qe=>({id:Jn(),name:Qe.name,size:(Qe.size/1024).toFixed(1)+" KB",type:Qe.type||"Unknown",status:"uploading",progress:0,rawFile:Qe}));o(rt);for(const Qe of rt)try{c(Qe.id,"processing"),await kp(Qe.rawFile,a),c(Qe.id,"ready")}catch(G){console.error("Upload Error:",G);const ne=G?.message||" .";c(Qe.id,"error",ne)}},Ue=async()=>{const ue=await ax.list();I((ue.services||[]).filter(rt=>rt.service_type==="qdrant"))},De=()=>{ee({name:"",description:"",chunkingMethod:"fixed",chunkSize:512,chunkOverlap:50,semanticThreshold:.75,externalServiceId:""}),Ue(),X(!0)},Oe=()=>{re&&(ee({name:re.name,description:re.description,chunkingMethod:re.chunkingMethod||re.config?.chunkingMethod||"fixed",chunkSize:re.chunkSize||re.config?.chunkSize||512,chunkOverlap:re.chunkOverlap||re.config?.chunkOverlap||50,semanticThreshold:re.semanticThreshold||re.config?.semanticThreshold||.75,externalServiceId:re.externalServiceId||""}),Ue(),R(!0))},tt=async ue=>{if(!M.name.trim())return f.warning(" .");const rt={name:M.name,description:M.description,config:{chunkingMethod:M.chunkingMethod,chunkSize:M.chunkSize,chunkOverlap:M.chunkOverlap,semanticThreshold:M.semanticThreshold},externalServiceId:M.externalServiceId||""};if(ue){const Qe=Jn();try{await sn.createBase({kb_id:Qe,name:M.name,description:M.description,chunk_size:M.chunkSize,chunk_overlap:M.chunkOverlap,chunking_method:M.chunkingMethod,semantic_threshold:M.semanticThreshold,external_service_id:M.externalServiceId||null})}catch(G){console.error("KB create API failed:",G)}d(G=>[...G,{id:Qe,files:[],created_at:new Date().toLocaleDateString(),...rt}]),X(!1)}else{try{await sn.updateBase(a,{name:M.name,description:M.description,chunk_size:M.chunkSize,chunk_overlap:M.chunkOverlap,chunking_method:M.chunkingMethod,semantic_threshold:M.semanticThreshold,external_service_id:M.externalServiceId||null})}catch(Qe){console.error("KB update API failed:",Qe)}d(Qe=>Qe.map(G=>G.id===a?{...G,...rt}:G)),R(!1)}},ot=()=>{if(t.length<=1)return f.warning("   .");h("?",()=>{const ue=t.filter(rt=>rt.id!==a);d(ue),s(ue[0].id),x("list"),R(!1)},{confirmLabel:""})},ct=()=>r.createElement(Ik,{kbId:a}),yt=()=>r.createElement("div",{className:"space-y-5"},r.createElement("div",{className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5"},""),r.createElement("input",{type:"text",value:M.name,onChange:ue=>ee({...M,name:ue.target.value}),className:"w-full p-2.5 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 focus:border-green-400 bg-white",placeholder:"  "})),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5"},""),r.createElement("textarea",{value:M.description,onChange:ue=>ee({...M,description:ue.target.value}),className:"w-full p-2.5 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 focus:border-green-400 bg-white resize-none h-20",placeholder:"  "}))),r.createElement("div",{className:"border-t border-gray-200 pt-5 space-y-4"},r.createElement("label",{className:"block text-sm font-bold text-gray-900 flex items-center gap-2"},r.createElement(Ip,{size:15}),"  "),r.createElement("div",{className:"grid grid-cols-2 gap-3"},r.createElement("div",{onClick:()=>ee({...M,chunkingMethod:"fixed"}),className:`p-4 border-2 rounded-lg cursor-pointer transition-all flex flex-col items-center gap-2 text-center ${M.chunkingMethod==="fixed"?"border-green-400 bg-green-50":"border-gray-300 hover:border-gray-400 bg-white"}`},r.createElement("div",{className:`p-2 rounded-lg ${M.chunkingMethod==="fixed"?"bg-gray-100 text-gray-600":"bg-gray-100 text-gray-500"}`},r.createElement(dx,{size:18})),r.createElement("div",null,r.createElement("div",{className:"font-bold text-sm text-gray-900"}," "),r.createElement("div",{className:"text-[10px] text-gray-500"},"Fixed Size"))),r.createElement("div",{onClick:()=>ee({...M,chunkingMethod:"semantic"}),className:`p-4 border-2 rounded-lg cursor-pointer transition-all flex flex-col items-center gap-2 text-center ${M.chunkingMethod==="semantic"?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-gray-400 bg-white"}`},r.createElement("div",{className:`p-2 rounded-lg ${M.chunkingMethod==="semantic"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-500"}`},r.createElement(Xn,{size:18})),r.createElement("div",null,r.createElement("div",{className:"font-bold text-sm text-gray-900"}," "),r.createElement("div",{className:"text-[10px] text-gray-500"},"Semantic")))),r.createElement("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4"},M.chunkingMethod==="fixed"?r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement("div",{className:"flex justify-between mb-1.5"},r.createElement("label",{className:"text-xs font-semibold text-gray-700"},"Chunk Size (Token)"),r.createElement("span",{className:"text-xs font-mono bg-gray-50 text-gray-700 px-2 py-0.5 rounded border border-gray-200"},M.chunkSize)),r.createElement("input",{type:"range",min:"128",max:"2048",step:"128",value:M.chunkSize,onChange:ue=>ee({...M,chunkSize:Number(ue.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-green-500"})),r.createElement("div",null,r.createElement("div",{className:"flex justify-between mb-1.5"},r.createElement("label",{className:"text-xs font-semibold text-gray-700"},"Chunk Overlap"),r.createElement("span",{className:"text-xs font-mono bg-gray-50 text-gray-700 px-2 py-0.5 rounded border border-gray-200"},M.chunkOverlap)),r.createElement("input",{type:"range",min:"0",max:"200",step:"10",value:M.chunkOverlap,onChange:ue=>ee({...M,chunkOverlap:Number(ue.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-green-500"}))):r.createElement("div",null,r.createElement("div",{className:"flex gap-2 bg-purple-50 border border-purple-200 p-3 rounded-lg text-xs text-purple-900 mb-3"},r.createElement(At,{size:14,className:"shrink-0 mt-0.5"}),r.createElement("p",null,r.createElement("strong",null," ?"),r.createElement("br",null),"       .      .")),r.createElement("div",null,r.createElement("div",{className:"flex justify-between mb-1.5"},r.createElement("label",{className:"text-xs font-semibold text-gray-700"},"Similarity Threshold"),r.createElement("span",{className:"text-xs font-mono bg-purple-50 text-purple-700 px-2 py-0.5 rounded border border-purple-200"},M.semanticThreshold)),r.createElement("input",{type:"range",min:"0.1",max:"0.95",step:"0.05",value:M.semanticThreshold,onChange:ue=>ee({...M,semanticThreshold:Number(ue.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-purple-600"}),r.createElement("p",{className:"text-[10px] text-gray-500 mt-1 text-right"},"    .")))),r.createElement("div",{className:"flex items-center gap-2 text-xs text-amber-800 bg-amber-50 border border-amber-200 p-2.5 rounded-lg"},r.createElement(At,{size:13,className:"shrink-0"}),r.createElement("span",null,"     ."))),L.length>0&&r.createElement("div",{className:"border-t border-gray-200 pt-5 space-y-3"},r.createElement("label",{className:"block text-sm font-bold text-gray-900 flex items-center gap-2"},r.createElement(Cl,{size:15}),"  DB "),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5"},"Qdrant "),r.createElement("select",{value:M.externalServiceId,onChange:ue=>ee({...M,externalServiceId:ue.target.value}),className:"w-full p-2.5 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 focus:border-green-400 bg-white cursor-pointer"},r.createElement("option",{value:""}," ( Qdrant)"),L.map(ue=>r.createElement("option",{key:ue.service_id,value:ue.service_id},ue.name," (",ue.url,")"))),r.createElement("p",{className:"text-[10px] text-gray-500 mt-1"},"   Qdrant  ."))));return y==="list"?r.createElement("div",{className:"h-full flex flex-col p-8 bg-gray-50 overflow-y-auto custom-scrollbar"},r.createElement("div",{className:"flex justify-between items-end mb-8"},r.createElement("div",null,r.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-2"}," "),r.createElement("p",{className:"text-gray-600"},"AI     .")),r.createElement("button",{onClick:De,className:"flex items-center gap-2 px-5 py-3 bg-green-500 hover:bg-green-600 text-white rounded-lg font-semibold transition-colors shadow-sm"},r.createElement(cn,{size:20}),r.createElement("span",null,"  "))),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5"},t.map((ue,rt)=>r.createElement("div",{key:ue.id,onClick:()=>B(ue.id),className:`group bg-white border border-gray-200 rounded-xl p-5 hover:shadow-lg hover:border-green-200 hover-lift cursor-pointer flex flex-col h-56 animate-scaleIn animate-stagger-${Math.min(rt%4+1,4)}`},r.createElement("div",{className:"flex items-start justify-between mb-4"},r.createElement("div",{className:"p-3 bg-green-50 text-green-500 rounded-lg group-hover:bg-green-50 group-hover:scale-110 transition-all"},r.createElement(bt,{size:22,className:"group-hover:rotate-6 transition-transform"})),ue.config?.chunkingMethod==="semantic"&&r.createElement("span",{className:"text-[10px] font-semibold px-2 py-1 bg-purple-50 text-purple-700 rounded-full border border-purple-200 animate-fadeIn"},"Semantic")),r.createElement("h3",{className:"text-base font-bold text-gray-900 mb-2 group-hover:text-green-500 transition-colors"},ue.name),r.createElement("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4 flex-1"},ue.description||" ."),r.createElement("div",{className:"pt-3 border-t border-gray-100 flex items-center justify-between text-xs text-gray-500"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("span",{className:"flex items-center gap-1 hover:text-gray-600 transition-colors"},r.createElement(Nt,{size:11})," ",se[ue.id]?.file_count??ue.files.length),r.createElement("span",{className:"flex items-center gap-1 hover:text-purple-600 transition-colors"},r.createElement(Ca,{size:11})," ",se[ue.id]?.chunk_count??""),r.createElement("span",{className:"flex items-center gap-1 hover:text-green-500 transition-colors"},r.createElement(_a,{size:11})," ",se[ue.id]?.graph_node_count??""))))),r.createElement("button",{onClick:De,className:"group border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center text-gray-400 hover:border-green-300 hover:text-green-500 hover:bg-green-50 hover-lift h-56 gap-3 animate-scaleIn"},r.createElement("div",{className:"p-3 bg-gray-100 group-hover:bg-green-50 rounded-full group-hover:scale-110 transition-all"},r.createElement(cn,{size:24,className:"group-hover:rotate-90 transition-transform"})),r.createElement("span",{className:"font-semibold"},"  "))),r.createElement(lo,{isOpen:Z,onClose:()=>X(!1),title:"   "},r.createElement("div",{className:"p-6"},yt(),r.createElement("div",{className:"mt-8 flex justify-end gap-3"},r.createElement("button",{onClick:()=>X(!1),className:"px-5 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},""),r.createElement("button",{onClick:()=>tt(!0),className:"px-5 py-2.5 text-sm font-semibold text-white bg-green-500 hover:bg-green-600 rounded-lg transition-colors shadow-sm"},""))))):r.createElement("div",{className:"h-full flex flex-col p-6 bg-gray-50"},r.createElement("div",{className:"flex justify-between items-center mb-5"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("button",{onClick:()=>x("list"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-600 transition-colors shadow-sm"},r.createElement(mx,{size:20})),r.createElement("div",null,r.createElement("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2"},re?.name,r.createElement("span",{className:"text-xs font-medium text-purple-700 bg-purple-50 px-2.5 py-1 rounded-full border border-purple-200"},re?.config?.chunkingMethod==="semantic"?"Semantic":"Fixed")),r.createElement("div",{className:"flex items-center gap-3 mt-1"},r.createElement("p",{className:"text-sm text-gray-600"},re?.description||" ."),se[a]&&r.createElement("span",{className:"flex items-center gap-3 text-xs text-gray-500 ml-2 border-l pl-3 border-gray-300"},r.createElement("span",{className:"flex items-center gap-1"},r.createElement(Ca,{size:10})," ",se[a].chunk_count),r.createElement("span",{className:"flex items-center gap-1"},r.createElement(_a,{size:10})," ",se[a].graph_node_count),r.createElement("span",{className:"flex items-center gap-1"},r.createElement(Ic,{size:10})," ",se[a].graph_edge_count))))),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:"flex bg-gray-100 p-1 rounded-lg border border-gray-200"},r.createElement("button",{onClick:()=>v("files"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${k==="files"?"bg-white text-gray-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`},r.createElement(Nt,{size:15})," "),r.createElement("button",{onClick:()=>v("chunks"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${k==="chunks"?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`},r.createElement(Ca,{size:15})," "),r.createElement("button",{onClick:()=>v("graph"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${k==="graph"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`},r.createElement(_a,{size:15})," ")),r.createElement("button",{onClick:Oe,className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium shadow-sm"},r.createElement(ho,{size:15})," ",r.createElement("span",null,"")))),r.createElement("div",{className:"flex-1 bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col overflow-hidden"},k==="files"?r.createElement(r.Fragment,null,r.createElement("div",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-5 bg-gray-50"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("input",{type:"file",multiple:!0,className:"hidden",ref:K,onChange:ue=>_e(Array.from(ue.target.files))}),r.createElement("input",{type:"file",multiple:!0,webkitdirectory:"",className:"hidden",ref:ve,onChange:ue=>_e(Array.from(ue.target.files))}),r.createElement("button",{onClick:()=>K.current?.click(),className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-sm font-medium transition-colors shadow-sm"},r.createElement(Rl,{size:15}),"  "),r.createElement("button",{onClick:()=>ve.current?.click(),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 rounded-lg text-sm font-medium transition-colors shadow-sm"},r.createElement(fx,{size:15}),"  ")),r.createElement("div",{className:"relative w-64"},r.createElement(fo,{size:15,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.createElement("input",{type:"text",placeholder:" ...",value:S,onChange:ue=>_(ue.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400 outline-none bg-white"}))),r.createElement("div",{className:`flex-1 overflow-y-auto p-4 transition-colors ${D?"bg-gray-50":"bg-white"}`,onDragOver:C,onDragLeave:Ee,onDrop:Ae},te.length===0?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 border-2 border-dashed border-gray-300 rounded-xl m-4"},r.createElement("div",{className:"w-20 h-20 bg-gray-50 rounded-xl flex items-center justify-center mb-4"},r.createElement(Rl,{size:36,className:"text-gray-500"})),r.createElement("h3",{className:"text-base font-bold text-gray-700 mb-2"}," "),r.createElement("p",{className:"text-sm text-center text-gray-500 mb-1"},"PDF, DOCX, TXT, MD, PPTX, XLSX, JPG, PNG "),r.createElement("p",{className:"text-sm text-center text-gray-500"},"    "),r.createElement("p",{className:"text-xs text-gray-400 mt-3"}," 500MB")):r.createElement("div",{className:"grid grid-cols-1 gap-2"},te.filter(ue=>ue.name.toLowerCase().includes(S.toLowerCase())).map((ue,rt)=>{const Qe=ue.type==="image"||/\.(jpg|jpeg|png|gif|webp)$/i.test(ue.name),G=ue.thumbnail_path||null;return r.createElement("div",{key:ue.id,className:`group flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-md hover:border-gray-300 hover-lift transition-all animate-slideUp animate-stagger-${Math.min(rt%4+1,4)}`},r.createElement("div",{className:"flex items-center gap-3"},Qe&&G?r.createElement("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0 border-2 border-gray-200 group-hover:border-pink-400 transition-colors"},r.createElement("img",{src:G,alt:ue.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),r.createElement("div",{className:"absolute inset-0 bg-pink-500/10 opacity-0 group-hover:opacity-100 transition-opacity"})):r.createElement("div",{className:`p-2.5 rounded-lg ${Qe?"bg-pink-50 text-pink-600":"bg-red-50 text-red-600"} group-hover:scale-110 transition-transform`},r.createElement(Nt,{size:18})),r.createElement("div",null,r.createElement("div",{className:"font-semibold text-gray-900 text-sm flex items-center gap-2"},ue.name,Qe&&r.createElement("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-pink-100 text-pink-700 rounded-full"},"IMAGE")),r.createElement("div",{className:"text-xs text-gray-500 mt-0.5 flex items-center gap-2"},r.createElement("span",null,ue.size),r.createElement("span",{className:"w-1 h-1 bg-gray-300 rounded-full"}),r.createElement("span",{className:"capitalize"},ue.type)))),r.createElement("div",{className:"flex items-center gap-3"},ue.status==="ready"&&r.createElement("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-green-600 bg-green-50 px-2.5 py-1 rounded-full border border-green-100"},r.createElement(it,{size:11})," "),ue.status==="uploading"&&r.createElement("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-amber-700 bg-amber-50 px-2.5 py-1 rounded-full border border-amber-200"},r.createElement(Dt,{size:11,className:"animate-spin"}),"  "),ue.status==="processing"&&r.createElement("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-gray-700 bg-gray-50 px-2.5 py-1 rounded-full border border-gray-200"},r.createElement(Dt,{size:11,className:"animate-spin"}),"  "),ue.status==="error"&&r.createElement("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-red-700 bg-red-50 px-2.5 py-1 rounded-full border border-red-200 cursor-help",title:ue.errorMessage||" "},r.createElement(Ml,{size:11})," "),r.createElement("button",{onClick:()=>w(ue),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg hover:scale-110 active:scale-95 transition-all opacity-0 group-hover:opacity-100"},r.createElement(Bn,{size:16}))))})))):k==="chunks"?r.createElement(Tk,{kbId:a}):r.createElement(ct,null)),r.createElement(lo,{isOpen:N,onClose:()=>R(!1),title:"  "},r.createElement("div",{className:"p-6"},yt(),r.createElement("div",{className:"mt-8 flex justify-between items-center"},r.createElement("button",{onClick:ot,className:"text-red-600 text-sm font-semibold hover:text-red-700 hover:bg-red-50 px-3 py-2 rounded-lg transition-colors flex items-center gap-1.5"},r.createElement(Bn,{size:14})," "),r.createElement("div",{className:"flex gap-3"},r.createElement("button",{onClick:()=>R(!1),className:"px-5 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},""),r.createElement("button",{onClick:()=>tt(!1),className:"px-5 py-2.5 text-sm font-semibold text-white bg-green-500 hover:bg-green-600 rounded-lg transition-colors shadow-sm"},""))))),r.createElement(lo,{isOpen:!!Q,onClose:()=>!q&&ie(null),title:"  "},r.createElement("div",{className:"p-6"},r.createElement("div",{className:"flex items-center gap-3 mb-4 p-4 bg-red-50 border border-red-200 rounded-lg"},r.createElement("div",{className:"p-2.5 bg-red-100 rounded-lg"},r.createElement(Ml,{size:24,className:"text-red-600"})),r.createElement("div",null,r.createElement("p",{className:"text-sm font-semibold text-red-900"},"    "),r.createElement("p",{className:"text-xs text-red-700 mt-0.5"}," DB     ."))),r.createElement("p",{className:"text-sm text-gray-700 mb-2"},"  ?"),r.createElement("p",{className:"text-sm font-semibold text-gray-900 bg-gray-100 px-3 py-2.5 rounded-lg mb-4 flex items-center gap-2 border border-gray-300"},r.createElement(Nt,{size:14,className:"text-gray-600"}),Q?.fileName),r.createElement("div",{className:"flex justify-end gap-3"},r.createElement("button",{onClick:()=>ie(null),disabled:q,className:"px-4 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50"},""),r.createElement("button",{onClick:O,disabled:q,className:"px-4 py-2.5 text-sm font-semibold text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors disabled:opacity-50 shadow-sm flex items-center gap-2"},q?r.createElement(r.Fragment,null,r.createElement(Dt,{size:14,className:"animate-spin"}),"  ..."):r.createElement(r.Fragment,null,r.createElement(Bn,{size:14}),"  "))))))}const to={Location:"#10B981",Vehicle:"#3B82F6",Person:"#F59E0B",Entity:"#8B5CF6",Concept:"#06B6D4",Place:"#10B981",Event:"#EF4444",Organization:"#EC4899",Document:"#6366F1",System:"#F97316",Unknown:"#9CA3AF"},no="#6B7280",Pk=["Entity","Concept","Person","Place","Event","Organization","Document"],Lk=["RELATION","INCLUDES","INVOLVES","CAUSES","RELATED_TO","HAS","PART_OF"];function Ik({kbId:t}){const{toast:a,confirm:s}=pr(),o=E.useRef(null),[c,u]=E.useState({nodes:[],edges:[]}),[d,g]=E.useState(!0),[f,h]=E.useState(null),[y,x]=E.useState({}),[k,v]=E.useState(null),[D,P]=E.useState(null),[S,_]=E.useState(1),[N,R]=E.useState({x:0,y:0}),[Z,X]=E.useState(!1),M=E.useRef({x:0,y:0}),ee=E.useRef(null),se=E.useRef({}),[$,L]=E.useState(null),[I,K]=E.useState(null),[ve,re]=E.useState(!1),[te,Q]=E.useState({label:"Entity",name:"",properties:{}}),[ie,q]=E.useState(null),[ge,w]=E.useState(null),[O,B]=E.useState("RELATION"),[C,Ee]=E.useState(!1),[Ae,_e]=E.useState(""),[Ue,De]=E.useState(""),[Oe,tt]=E.useState(""),ot=E.useCallback(async()=>{g(!0),h(null);try{const U=await sn.getGraph(t);if(U.error)h(U.error),u({nodes:[],edges:[]});else{u(U);const F={},Y=400,ae=300,be=Math.min(250,U.nodes.length*30);U.nodes.forEach((Fe,Ke)=>{const Ze=2*Math.PI*Ke/U.nodes.length;se.current[Fe.id]?F[Fe.id]=se.current[Fe.id]:F[Fe.id]={x:Y+be*Math.cos(Ze)+(Math.random()-.5)*20,y:ae+be*Math.sin(Ze)+(Math.random()-.5)*20,vx:0,vy:0}}),se.current=F,x({...F})}}catch(U){h(U.message||"    .")}finally{g(!1)}},[t]);E.useEffect(()=>{ot()},[ot]),E.useEffect(()=>{if(c.nodes.length===0)return;let U=0;const F=300,Y=()=>{if(U>=F)return;U++;const ae=se.current,be=c.nodes,Fe=c.edges,Ke=400,Ze=300;be.forEach(Xe=>{if(!ae[Xe.id])return;let Vt=0,$t=0;be.forEach(He=>{if(Xe.id===He.id||!ae[He.id])return;const Je=ae[Xe.id].x-ae[He.id].x,we=ae[Xe.id].y-ae[He.id].y,et=Math.max(Math.sqrt(Je*Je+we*we),1),Me=3e3/(et*et);Vt+=Je/et*Me,$t+=we/et*Me}),Fe.forEach(He=>{let Je=null;if(He.source===Xe.id&&ae[He.target]?Je=ae[He.target]:He.target===Xe.id&&ae[He.source]&&(Je=ae[He.source]),!Je)return;const we=Je.x-ae[Xe.id].x,et=Je.y-ae[Xe.id].y,Me=Math.sqrt(we*we+et*et),z=(Me-120)*.01;Vt+=we/Math.max(Me,1)*z,$t+=et/Math.max(Me,1)*z}),Vt+=(Ke-ae[Xe.id].x)*.001,$t+=(Ze-ae[Xe.id].y)*.001,D!==Xe.id&&(ae[Xe.id].vx=(ae[Xe.id].vx+Vt)*.8,ae[Xe.id].vy=(ae[Xe.id].vy+$t)*.8,ae[Xe.id].x+=ae[Xe.id].vx,ae[Xe.id].y+=ae[Xe.id].vy)}),x({...ae}),ee.current=requestAnimationFrame(Y)};return ee.current=requestAnimationFrame(Y),()=>{ee.current&&cancelAnimationFrame(ee.current)}},[c,D]);const ct=(U,F)=>{if(U.stopPropagation(),ie==="selectSource"){w(F),q("selectTarget");return}if(ie==="selectTarget"&&ge){J(ge,F);return}P(F)},yt=(U,F)=>{U.stopPropagation(),!ie&&(L(F),K(null),_e(F.name))},ue=(U,F)=>{U.stopPropagation(),!ie&&(K(F),L(null))},rt=U=>{(U.target===o.current||U.target.tagName==="rect")&&(X(!0),M.current={x:U.clientX-N.x,y:U.clientY-N.y},ie||(L(null),K(null)))},Qe=E.useCallback(U=>{if(D&&se.current[D]){const F=o.current;if(!F)return;const Y=F.getBoundingClientRect();se.current[D].x=(U.clientX-Y.left-N.x)/S,se.current[D].y=(U.clientY-Y.top-N.y)/S,se.current[D].vx=0,se.current[D].vy=0,x({...se.current})}else Z&&R({x:U.clientX-M.current.x,y:U.clientY-M.current.y})},[D,Z,S,N]),G=E.useCallback(()=>{P(null),X(!1)},[]),ne=E.useCallback(U=>{U.preventDefault(),_(F=>Math.max(.3,Math.min(3,F-U.deltaY*.001)))},[]);E.useEffect(()=>(window.addEventListener("mouseup",G),()=>window.removeEventListener("mouseup",G)),[G]);const Pe=async()=>{if(te.name.trim()){Ee(!0);try{await sn.createNode(t,{label:te.label,name:te.name,properties:te.properties}),re(!1),Q({label:"Entity",name:"",properties:{}}),await ot()}catch(U){a.error("  : "+(U.message||""))}finally{Ee(!1)}}},ye=async()=>{if(!(!$||!Ae.trim())){Ee(!0);try{await sn.updateNode($.id,{name:Ae}),L(null),await ot()}catch(U){a.error("  : "+(U.message||""))}finally{Ee(!1)}}},We=async()=>{$&&s(`"${$.name}"  ?    .`,async()=>{Ee(!0);try{await sn.deleteNode($.id),L(null),await ot()}catch(U){a.error("  : "+(U.message||""))}finally{Ee(!1)}},{confirmLabel:""})},J=async(U,F)=>{if(U===F){q(null),w(null);return}Ee(!0);try{await sn.createEdge(t,{source_id:U,target_id:F,relationship_type:O}),await ot()}catch(Y){a.error("  : "+(Y.message||""))}finally{Ee(!1),q(null),w(null)}},he=async()=>{I?.id&&s("  ?",async()=>{Ee(!0);try{await sn.deleteEdge(I.id),K(null),await ot()}catch(U){a.error("  : "+(U.message||""))}finally{Ee(!1)}},{confirmLabel:""})},ke=[...new Set(c.nodes.map(U=>U.label))];return d?r.createElement("div",{className:"h-full flex flex-col items-center justify-center bg-gray-900 text-white"},r.createElement(Dt,{size:32,className:"animate-spin text-purple-400 mb-4"}),r.createElement("p",{className:"font-bold"},"   ...")):f?r.createElement("div",{className:"h-full flex flex-col items-center justify-center bg-gray-900 text-white"},r.createElement(Ml,{size:32,className:"text-red-400 mb-4"}),r.createElement("p",{className:"font-bold mb-2"},"  "),r.createElement("p",{className:"text-sm text-gray-400 mb-4"},f),r.createElement("button",{onClick:ot,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-sm font-bold flex items-center gap-2"},r.createElement(Fn,{size:14}),"  ")):c.nodes.length===0&&!ve?r.createElement("div",{className:"h-full flex flex-col items-center justify-center bg-gray-900 text-white"},r.createElement(_a,{size:48,className:"text-gray-600 mb-4"}),r.createElement("p",{className:"font-bold text-lg mb-2"},"  "),r.createElement("p",{className:"text-sm text-gray-400 text-center mb-4"},"  ",r.createElement("br",null),"  ."),r.createElement("button",{onClick:()=>re(!0),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-lg text-sm font-bold flex items-center gap-2"},r.createElement(cn,{size:14}),"   ")):r.createElement("div",{className:"h-full flex flex-col relative bg-gray-900 overflow-hidden"},r.createElement("div",{className:"absolute top-4 left-4 z-10 bg-black/60 backdrop-blur-md p-3 rounded-xl border border-gray-700 text-white text-xs"},ke.map(U=>r.createElement("div",{key:U,className:"flex items-center gap-2 mb-1 last:mb-0"},r.createElement("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:to[U]||no}}),r.createElement("span",null,U))),r.createElement("div",{className:"border-t border-gray-700 mt-2 pt-2 text-gray-400"},c.nodes.length," nodes / ",c.edges.length," edges")),ie&&r.createElement("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-20 bg-orange-600 text-white px-4 py-2 rounded-xl text-sm font-bold flex items-center gap-3 shadow-lg"},r.createElement(Ic,{size:16}),ie==="selectSource"?"  ":"  ",r.createElement("select",{value:O,onChange:U=>B(U.target.value),className:"bg-orange-700 text-white text-xs px-2 py-1 rounded-lg border border-orange-500 outline-none"},Lk.map(U=>r.createElement("option",{key:U,value:U},U))),r.createElement("button",{onClick:()=>{q(null),w(null)},className:"text-orange-200 hover:text-white ml-1"},"")),r.createElement("div",{className:"absolute top-4 right-4 z-10 flex flex-col gap-2"},r.createElement("button",{onClick:ot,className:"p-2 bg-black/60 backdrop-blur-md text-white rounded-lg border border-gray-700 hover:bg-green-600 transition",title:""},r.createElement(Fn,{size:16})),r.createElement("button",{onClick:()=>_(U=>Math.min(3,U+.2)),className:"p-2 bg-black/60 backdrop-blur-md text-white rounded-lg border border-gray-700 hover:bg-green-600 transition",title:""},r.createElement(cn,{size:16})),r.createElement("button",{onClick:()=>_(U=>Math.max(.3,U-.2)),className:"p-2 bg-black/60 backdrop-blur-md text-white rounded-lg border border-gray-700 hover:bg-green-600 transition",title:""},r.createElement("span",{className:"block w-4 h-4 text-center leading-4 font-bold"},"-")),r.createElement("button",{onClick:()=>{_(1),R({x:0,y:0})},className:"p-2 bg-black/60 backdrop-blur-md text-white rounded-lg border border-gray-700 hover:bg-green-600 transition text-[10px] font-bold",title:""},"1:1"),r.createElement("div",{className:"border-t border-gray-700 my-1"}),r.createElement("button",{onClick:()=>{re(!0),L(null),K(null)},className:"p-2 bg-green-500/80 backdrop-blur-md text-white rounded-lg border border-green-400 hover:bg-green-500 transition",title:" "},r.createElement(cn,{size:16})),r.createElement("button",{onClick:()=>{q("selectSource"),w(null),L(null),K(null)},className:`p-2 backdrop-blur-md text-white rounded-lg border transition ${ie?"bg-orange-600 border-orange-500":"bg-orange-600/60 border-orange-500/50 hover:bg-orange-600"}`,title:" "},r.createElement(Ic,{size:16}))),$&&!ie&&r.createElement("div",{className:"absolute right-4 top-[220px] z-20 w-72 bg-black/80 backdrop-blur-md rounded-xl border border-gray-600 p-4 text-white"},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("span",{className:"text-xs font-bold px-2 py-1 rounded-full",style:{backgroundColor:to[$.label]||no}},$.label),r.createElement("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white"},r.createElement("span",{className:"text-lg leading-none"},""))),r.createElement("input",{value:Ae,onChange:U=>_e(U.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-sm text-white mb-3 outline-none focus:border-purple-500",placeholder:" "}),Object.entries($.properties||{}).filter(([U])=>U!=="name").length>0&&r.createElement("div",{className:"mb-3 space-y-1"},r.createElement("div",{className:"text-[10px] text-gray-400 uppercase font-bold"},""),Object.entries($.properties).filter(([U])=>U!=="name").map(([U,F])=>r.createElement("div",{key:U,className:"text-xs text-gray-300 flex gap-1"},r.createElement("span",{className:"text-gray-500"},U,":")," ",F))),r.createElement("div",{className:"flex gap-2"},r.createElement("button",{onClick:ye,disabled:C,className:"flex-1 px-3 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-xs font-bold transition disabled:opacity-50"},C?" ...":""),r.createElement("button",{onClick:We,disabled:C,className:"px-3 py-2 bg-red-600/80 hover:bg-red-600 rounded-lg text-xs font-bold transition disabled:opacity-50"},""))),I&&!ie&&r.createElement("div",{className:"absolute right-4 top-[220px] z-20 w-64 bg-black/80 backdrop-blur-md rounded-xl border border-gray-600 p-4 text-white"},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("span",{className:"text-xs font-bold text-orange-400"},I.type),r.createElement("button",{onClick:()=>K(null),className:"text-gray-400 hover:text-white"},r.createElement("span",{className:"text-lg leading-none"},""))),r.createElement("div",{className:"text-xs text-gray-300 mb-1"},c.nodes.find(U=>U.id===I.source)?.name||"?","  ",c.nodes.find(U=>U.id===I.target)?.name||"?"),r.createElement("button",{onClick:he,disabled:C,className:"w-full mt-3 px-3 py-2 bg-red-600/80 hover:bg-red-600 rounded-lg text-xs font-bold transition disabled:opacity-50"},C?" ...":" ")),ve&&r.createElement("div",{className:"absolute right-4 top-[220px] z-20 w-72 bg-black/80 backdrop-blur-md rounded-xl border border-green-500 p-4 text-white"},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("span",{className:"text-sm font-bold text-green-300"}," "),r.createElement("button",{onClick:()=>re(!1),className:"text-gray-400 hover:text-white"},r.createElement("span",{className:"text-lg leading-none"},""))),r.createElement("select",{value:te.label,onChange:U=>Q({...te,label:U.target.value}),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-sm text-white mb-2 outline-none focus:border-green-400"},Pk.map(U=>r.createElement("option",{key:U,value:U},U))),r.createElement("input",{value:te.name,onChange:U=>Q({...te,name:U.target.value}),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-sm text-white mb-2 outline-none focus:border-green-400",placeholder:" "}),r.createElement("div",{className:"mb-2"},r.createElement("div",{className:"text-[10px] text-gray-400 uppercase font-bold mb-1"}," "),r.createElement("div",{className:"flex gap-1"},r.createElement("input",{value:Ue,onChange:U=>De(U.target.value),className:"flex-1 bg-gray-800 border border-gray-600 rounded px-2 py-1 text-xs text-white outline-none",placeholder:""}),r.createElement("input",{value:Oe,onChange:U=>tt(U.target.value),className:"flex-1 bg-gray-800 border border-gray-600 rounded px-2 py-1 text-xs text-white outline-none",placeholder:""}),r.createElement("button",{onClick:()=>{Ue.trim()&&(Q({...te,properties:{...te.properties,[Ue]:Oe}}),De(""),tt(""))},className:"px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-500"},"+")),Object.entries(te.properties).map(([U,F])=>r.createElement("div",{key:U,className:"flex items-center gap-1 mt-1 text-xs text-gray-300"},r.createElement("span",{className:"text-gray-500"},U,":")," ",F,r.createElement("button",{onClick:()=>{const Y={...te.properties};delete Y[U],Q({...te,properties:Y})},className:"ml-auto text-red-400 hover:text-red-300 text-[10px]"},"x")))),r.createElement("button",{onClick:Pe,disabled:C||!te.name.trim(),className:"w-full px-3 py-2 bg-green-500 hover:bg-green-600 rounded-lg text-xs font-bold transition disabled:opacity-50"},C?" ...":" ")),k&&!$&&!I&&!ve&&y[k.id]&&r.createElement("div",{className:"absolute z-20 bg-black/80 backdrop-blur-md text-white p-3 rounded-xl border border-gray-600 text-xs max-w-xs pointer-events-none",style:{left:Math.min(y[k.id].x*S+N.x+20,(o.current?.clientWidth||600)-200),top:y[k.id].y*S+N.y-10}},r.createElement("div",{className:"font-bold text-sm mb-1 flex items-center gap-2"},r.createElement("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:to[k.label]||no}}),k.name),r.createElement("div",{className:"text-gray-400 mb-1"},k.label),r.createElement("div",{className:"text-[10px] text-gray-500"}," ")),r.createElement("svg",{ref:o,className:`w-full h-full ${ie?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:rt,onMouseMove:Qe,onWheel:ne},r.createElement("rect",{width:"100%",height:"100%",fill:"transparent"}),r.createElement("g",{transform:`translate(${N.x},${N.y}) scale(${S})`},c.edges.map((U,F)=>{const Y=y[U.source],ae=y[U.target];if(!Y||!ae)return null;const be=(Y.x+ae.x)/2,Fe=(Y.y+ae.y)/2,Ke=I?.id===U.id;return r.createElement("g",{key:`e-${F}`},r.createElement("line",{x1:Y.x,y1:Y.y,x2:ae.x,y2:ae.y,stroke:"transparent",strokeWidth:12,style:{cursor:"pointer"},onClick:Ze=>ue(Ze,U)}),r.createElement("line",{x1:Y.x,y1:Y.y,x2:ae.x,y2:ae.y,stroke:Ke?"#F59E0B":"#4B5563",strokeWidth:Ke?2.5:1.5,strokeOpacity:Ke?1:.6}),r.createElement("text",{x:be,y:Fe-6,textAnchor:"middle",fill:Ke?"#F59E0B":"#6B7280",fontSize:9,fontWeight:"bold"},U.type))}),c.nodes.map(U=>{const F=y[U.id];if(!F)return null;const Y=to[U.label]||no,ae=k?.id===U.id,be=$?.id===U.id,Fe=ge===U.id,Ke=ae||be?22:18;return r.createElement("g",{key:U.id,style:{cursor:ie?"crosshair":"pointer"},onMouseDown:Ze=>ct(Ze,U.id),onClick:Ze=>yt(Ze,U),onMouseEnter:()=>v(U),onMouseLeave:()=>v(null)},(ae||be)&&r.createElement("circle",{cx:F.x,cy:F.y,r:Ke+8,fill:Y,fillOpacity:.15}),Fe&&r.createElement("circle",{cx:F.x,cy:F.y,r:Ke+6,fill:"#F59E0B",fillOpacity:.3}),r.createElement("circle",{cx:F.x,cy:F.y,r:Ke,fill:Y,stroke:be||ae?"#fff":Y,strokeWidth:be?3:ae?2.5:1.5,fillOpacity:.85}),r.createElement("text",{x:F.x,y:F.y+Ke+14,textAnchor:"middle",fill:"#D1D5DB",fontSize:10,fontWeight:"600"},U.name.length>12?U.name.slice(0,12)+"...":U.name))}))))}const np=[{value:"chat",label:"Chat (OpenAI)",desc:"  "},{value:"completion",label:"Completion",desc:"  "},{value:"instruction",label:"Instruction",desc:"- "},{value:"tool_calling",label:"Tool Calling",desc:"    (Qwen2.5)"}];function Mk(){const t=Ar(),{toast:a,confirm:s}=pr(),[o,c]=E.useState([]),[u,d]=E.useState([]),[g,f]=E.useState(!0),[h,y]=E.useState({total:0,has_positive:0,avg_rating:null}),[x,k]=E.useState(!1),[v,D]=E.useState({name:"",format_type:"chat"}),[P,S]=E.useState(null),[_,N]=E.useState("chat");E.useEffect(()=>{R()},[]);const R=async()=>{f(!0);try{const[L,I]=await Promise.all([Pc.list({limit:100}),Ys.list()]);c(L.feedbacks||[]),y({total:L.total||0,has_positive:L.has_positive||0,avg_rating:L.avg_rating}),d(I.datasets||[])}catch(L){console.error("  :",L)}finally{f(!1)}},Z=async L=>{s("  ?",async()=>{try{await Pc.delete(L),await R()}catch(I){console.error("  :",I)}},{confirmLabel:""})},X=async()=>{if(v.name.trim())try{await Ys.create({name:v.name,description:`    (${v.format_type})`,format_type:v.format_type,min_rating:3,only_positive:!0}),k(!1),D({name:"",format_type:"chat"}),await R()}catch(L){console.error("  :",L),a.error("  : "+L.message)}},M=async L=>{s(" ?   .",async()=>{try{const I=await Ys.build(L);a.success(I.message),await R()}catch(I){console.error("  :",I),a.error(" : "+I.message)}},{confirmLabel:""})},ee=async L=>{try{await Ys.export(L,_),S(null),a.success("JSONL   !")}catch(I){console.error(" :",I),a.error(" : "+I.message)}},se=async L=>{const I=prompt("   :","my_custom_model");if(!I)return;const K=prompt("   (: llama3.1, gemma2):","llama3.1");K&&s(` ${K}  ?

     .`,async()=>{try{const ve=await ir.createJob({dataset_id:L,job_name:I,base_model:K,provider:"ollama",format_type:"chat",num_epochs:3});a.success(`  !  ID: ${ve.job_id}`)}catch(ve){console.error("  :",ve),a.error("  : "+ve.message)}},{confirmLabel:""})},$=L=>{if(!L)return null;try{const I=typeof L=="string"?JSON.parse(L):L;return Array.isArray(I)?I:null}catch{return null}};return g?r.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center"},r.createElement(Dt,{className:"animate-spin text-green-500",size:32})):r.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8"},r.createElement("div",{className:"max-w-7xl mx-auto space-y-6"},r.createElement("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-800 p-1 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("button",{className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium bg-green-500 text-white shadow-sm"},r.createElement(bt,{size:16,className:"inline mr-2"})," "),r.createElement("button",{onClick:()=>t("/finetuning"),className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition"},r.createElement(Pn,{size:16,className:"inline mr-2"})," ")),r.createElement("div",{className:"flex items-center justify-between"},r.createElement("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white"},"  ")),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"}," "),r.createElement("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},h.total)),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"}," "),r.createElement("div",{className:"text-3xl font-bold text-gray-600 dark:text-gray-400 mt-1"},h.has_positive)),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"}," "),r.createElement("div",{className:"text-3xl font-bold text-gray-600 dark:text-gray-400 mt-1"},h.avg_rating?h.avg_rating.toFixed(1):"N/A"))),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2"},r.createElement(bt,{size:20})," "),r.createElement("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition"},r.createElement(cn,{size:16}),"  ")),u.length===0?r.createElement("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400"}," "):r.createElement("div",{className:"space-y-2"},u.map(L=>r.createElement("div",{key:L.id,className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},r.createElement("div",{className:"flex-1"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},L.name),L.format_type&&r.createElement("span",{className:`px-1.5 py-0.5 text-xs rounded font-medium ${L.format_type==="tool_calling"?"bg-gray-100 text-gray-700 dark:bg-gray-900/40 dark:text-gray-300":"bg-gray-100 text-gray-600 dark:bg-gray-600 dark:text-gray-300"}`},L.format_type)),r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"},L.total_examples,"  | ",L.verified_examples," ",L.is_exported&&r.createElement("span",{className:"ml-2 text-gray-600 dark:text-gray-400"}," "))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement("button",{onClick:()=>M(L.id),className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600 transition",title:"  (  )"},r.createElement(Fn,{size:14})," "),r.createElement("button",{onClick:()=>{N(L.format_type||"chat"),S(L.id)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-400 text-white text-sm rounded-lg hover:bg-green-500 transition",title:"JSONL "},r.createElement(Rl,{size:14})," "),r.createElement("button",{onClick:()=>se(L.id),className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition",title:" "},r.createElement(Pn,{size:14})," "),r.createElement("div",{className:"text-xs text-gray-400 dark:text-gray-500"},new Date(L.created_at).toLocaleDateString())))))),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4"}," "),o.length===0?r.createElement("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400"}," .     !"):r.createElement("div",{className:"space-y-3"},o.slice(0,20).map(L=>{const I=$(L.tool_calls_json);return r.createElement("div",{key:L.id,className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600"},r.createElement("div",{className:"flex items-start justify-between mb-2"},r.createElement("div",{className:"flex items-center gap-2 flex-wrap"},L.is_positive===!0&&r.createElement(Rp,{size:14,className:"text-gray-600"}),L.is_positive===!1&&r.createElement(Mp,{size:14,className:"text-red-500"}),L.rating&&r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},L.rating),I&&I.length>0&&r.createElement("span",{className:"flex items-center gap-1 px-1.5 py-0.5 bg-gray-100 dark:bg-gray-900/40 text-gray-700 dark:text-gray-300 rounded text-xs"},I.map(K=>K.name).filter((K,ve,re)=>re.indexOf(K)===ve).join(", ")),r.createElement("span",{className:"text-xs text-gray-400 dark:text-gray-500"},new Date(L.created_at).toLocaleString())),r.createElement("button",{onClick:()=>Z(L.id),className:"text-gray-400 hover:text-red-500 transition"},r.createElement(Bn,{size:14}))),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1"},r.createElement("strong",null,"Q:")," ",L.user_message.slice(0,100),L.user_message.length>100&&"..."),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300"},r.createElement("strong",null,"A:")," ",L.ai_message.slice(0,100),L.ai_message.length>100&&"..."))})))),x&&r.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},r.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md border border-gray-200 dark:border-gray-700"},r.createElement("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"  "),r.createElement("div",{className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},""),r.createElement("input",{type:"text",value:v.name,onChange:L=>D(I=>({...I,name:L.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:" "})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},""),r.createElement("div",{className:"grid grid-cols-2 gap-2"},np.map(L=>r.createElement("button",{key:L.value,onClick:()=>D(I=>({...I,format_type:L.value})),className:`p-3 rounded-lg border text-left transition ${v.format_type===L.value?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300"}`},r.createElement("div",{className:`text-sm font-medium ${v.format_type===L.value?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"}`},L.label),r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400"},L.desc)))))),r.createElement("div",{className:"flex justify-end gap-2 mt-6"},r.createElement("button",{onClick:()=>k(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition"},""),r.createElement("button",{onClick:X,disabled:!v.name.trim(),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition disabled:opacity-50"},"")))),P&&r.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},r.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-sm border border-gray-200 dark:border-gray-700"},r.createElement("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4"}," "),r.createElement("div",{className:"space-y-2"},np.map(L=>r.createElement("button",{key:L.value,onClick:()=>N(L.value),className:`w-full p-3 rounded-lg border text-left transition ${_===L.value?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300"}`},r.createElement("div",{className:`text-sm font-medium ${_===L.value?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"}`},L.label),r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400"},L.desc)))),r.createElement("div",{className:"flex justify-end gap-2 mt-6"},r.createElement("button",{onClick:()=>S(null),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition"},""),r.createElement("button",{onClick:()=>ee(P),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition"},"")))))}const Rk="Qwen/Qwen2.5-3B-Instruct";function Ak(){const t=Ar(),{toast:a,confirm:s}=pr(),[o,c]=E.useState([]),[u,d]=E.useState([]),[g,f]=E.useState([]),[h,y]=E.useState(!0),[x,k]=E.useState(null),[v,D]=E.useState(Rk),[P,S]=E.useState(null),[_,N]=E.useState(!1);E.useEffect(()=>{R();const I=setInterval(R,5e3);return()=>clearInterval(I)},[]),E.useEffect(()=>{if(!_)return;const I=setInterval(async()=>{const K=await ir.getDownloadStatus(v);S(K),(K.status==="done"||K.status==="error")&&(N(!1),K.status==="done"&&R())},3e3);return()=>clearInterval(I)},[_,v]);const R=async()=>{try{const[I,K,ve,re]=await Promise.all([ir.listJobs(),ir.listModels(),ir.listBaseModels(),Rt.getUserSettings()]);c(I.jobs||[]),d(K.models||[]),f(ve.models||[]),k(re?.custom_model||null)}catch(I){console.error("  :",I)}finally{y(!1)}},Z=async()=>{if(v.trim()){N(!0),S({status:"downloading",message:" ..."});try{const I=await ir.downloadModel(v);I.status==="done"&&(S({status:"done",message:I.message}),N(!1),R())}catch(I){S({status:"error",message:I.message}),N(!1)}}},X=async I=>{try{await ir.setDefaultModel(I),k(I),a.success(`${I}()   .`)}catch(K){console.error("   :",K),a.error("   : "+K.message)}},M=async()=>{try{await ir.clearDefaultModel(),k(null),a.success("  .")}catch(I){console.error("   :",I),a.error("   : "+I.message)}},ee=async I=>{s("  /?",async()=>{try{await ir.cancelJob(I),await R()}catch(K){console.error("  :",K),a.error("  : "+K.message)}},{confirmLabel:"/"})},se=I=>{switch(I){case"completed":return"text-gray-700 bg-gray-50 dark:bg-gray-900/30 dark:text-gray-300";case"running":return"text-gray-600 bg-gray-50/70 dark:bg-gray-900/20 dark:text-gray-400";case"failed":return"text-red-600 bg-red-50 dark:bg-red-900/30";case"cancelled":return"text-gray-600 bg-gray-50 dark:bg-gray-900/30";default:return"text-gray-400 bg-gray-50/50 dark:bg-gray-900/10 dark:text-gray-500"}},$=I=>{switch(I){case"completed":return r.createElement(it,{size:16});case"running":return r.createElement(Dt,{size:16,className:"animate-spin"});case"failed":return r.createElement(Dp,{size:16});default:return r.createElement(Tp,{size:16})}},L=I=>{switch(I){case"unsloth":return"QLoRA (Unsloth)";case"ollama":return"Ollama (Few-shot)";default:return I}};return h?r.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center"},r.createElement(Dt,{className:"animate-spin text-green-500",size:32})):r.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8"},r.createElement("div",{className:"max-w-7xl mx-auto space-y-6"},r.createElement("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-800 p-1 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("button",{onClick:()=>t("/training"),className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition"},r.createElement(bt,{size:16,className:"inline mr-2"})," "),r.createElement("button",{className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium bg-green-500 text-white shadow-sm"},r.createElement(Pn,{size:16,className:"inline mr-2"})," ")),r.createElement("div",{className:"flex items-center justify-between"},r.createElement("div",null,r.createElement("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white"}," "),r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Ollama Few-shot & QLoRA   ")),r.createElement("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition"},r.createElement(Dt,{size:16})," ")),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},r.createElement(on,{size:20}),"   "),g.length>0&&r.createElement("div",{className:"mb-4"},r.createElement("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," "),r.createElement("div",{className:"flex flex-wrap gap-2"},g.map((I,K)=>r.createElement("span",{key:K,className:"px-3 py-1.5 bg-gray-50 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-mono border border-gray-200 dark:border-gray-800"},I.name||I)))),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("input",{type:"text",value:v,onChange:I=>D(I.target.value),placeholder:"HuggingFace  (: Qwen/Qwen2.5-3B-Instruct)",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm font-mono"}),r.createElement("button",{onClick:Z,disabled:_||!v.trim(),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition disabled:opacity-50 whitespace-nowrap"},_?r.createElement(Dt,{size:16,className:"animate-spin"}):r.createElement(on,{size:16}),_?" ...":" ")),P&&r.createElement("div",{className:`mt-3 p-3 rounded-lg text-sm ${P.status==="done"?"bg-gray-50 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300":P.status==="error"?"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300":"bg-gray-50/70 dark:bg-gray-900/20 text-gray-600 dark:text-gray-400"}`},P.message||P.status,P.progress_percent!=null&&r.createElement("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 overflow-hidden"},r.createElement("div",{className:"bg-green-400 h-2 transition-all duration-300",style:{width:`${P.progress_percent}%`}})))),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},r.createElement(Pn,{size:20}),"    (",u.length,")"),u.length===0?r.createElement("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400"},"  .   !"):r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},u.map((I,K)=>r.createElement("div",{key:K,className:`p-4 rounded-lg border-2 transition-all ${x===I?"border-green-400 bg-green-50/50 dark:bg-green-900/20 shadow-sm":"border-gray-200 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800 hover:border-gray-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-2"},r.createElement(Pn,{size:14,className:x===I?"text-green-500":"text-gray-400 dark:text-gray-500"}),r.createElement("div",{className:"font-mono text-sm text-gray-900 dark:text-white font-semibold truncate flex-1"},I),x===I&&r.createElement("span",{className:"text-[10px] px-2 py-0.5 bg-green-500 text-white rounded-full font-bold"},"")),r.createElement("div",{className:"flex items-center justify-between mt-2"},x===I?r.createElement(r.Fragment,null,r.createElement("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium"},"   "),r.createElement("button",{onClick:M,className:"text-xs px-2 py-1 text-gray-500 hover:text-red-500 transition"},"")):r.createElement(r.Fragment,null,r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"}," "),r.createElement("button",{onClick:()=>X(I),className:"text-xs px-3 py-1 bg-green-500 text-white rounded-md hover:bg-green-600 font-medium transition"},"  "))))))),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},r.createElement(Pn,{size:20}),"  "),o.length===0?r.createElement("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400"},"  "):r.createElement("div",{className:"space-y-3"},o.map(I=>r.createElement("div",{key:I.job_id,className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600"},r.createElement("div",{className:"flex items-start justify-between mb-3"},r.createElement("div",{className:"flex-1"},r.createElement("div",{className:"flex items-center gap-2 mb-2 flex-wrap"},r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},I.job_name),r.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium flex items-center gap-1 ${se(I.status)}`},$(I.status),I.status),r.createElement("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${I.provider==="unsloth"?"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300":"bg-gray-100 text-gray-600 dark:bg-gray-600 dark:text-gray-300"}`},L(I.provider))),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1"},r.createElement("div",null,r.createElement("strong",null," ID:")," ",r.createElement("span",{className:"font-mono text-xs"},I.job_id)),r.createElement("div",null,r.createElement("strong",null," :")," ",I.base_model),I.output_model_name&&r.createElement("div",{className:"flex items-center gap-2"},r.createElement("strong",null," :")," ",r.createElement("span",{className:"font-mono text-xs text-gray-600 dark:text-gray-400"},I.output_model_name),I.status==="completed"&&x!==I.output_model_name&&r.createElement("button",{onClick:()=>X(I.output_model_name),className:"text-xs px-2.5 py-1 bg-green-500 text-white rounded-md hover:bg-green-600 font-medium transition"},"  "),I.status==="completed"&&x===I.output_model_name&&r.createElement("span",{className:"text-xs px-2.5 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-md font-bold flex items-center gap-1"},r.createElement(it,{size:10}),"   ")),I.final_loss!=null&&r.createElement("div",null,r.createElement("strong",null," Loss:")," ",r.createElement("span",{className:"font-mono text-xs text-gray-600 dark:text-gray-400"},I.final_loss.toFixed(4))),I.error_message&&r.createElement("div",{className:"text-red-600 dark:text-red-400 text-xs mt-1"},r.createElement("strong",null,":")," ",I.error_message))),r.createElement("button",{onClick:()=>ee(I.job_id),className:"text-gray-400 hover:text-red-500 transition",title:"/"},r.createElement(Bn,{size:16}))),I.status==="running"&&r.createElement("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 overflow-hidden"},r.createElement("div",{className:"bg-green-400 h-2 transition-all duration-500",style:{width:`${I.progress}%`}})),r.createElement("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-500 dark:text-gray-400 flex-wrap"},I.provider==="unsloth"&&r.createElement("span",null,": ",I.num_epochs||"N/A"),I.provider==="unsloth"&&r.createElement("span",null,"LR: ",I.learning_rate||"N/A"),I.training_time_seconds&&r.createElement("span",null," : ",I.training_time_seconds>=60?`${Math.floor(I.training_time_seconds/60)} ${I.training_time_seconds%60}`:`${I.training_time_seconds}`),r.createElement("span",{className:"ml-auto"},new Date(I.created_at).toLocaleString()))))))))}const Dk=[{id:"overview",icon:ur,title:" ",color:"green",content:{summary:"RAG AI      AI .",details:["        ."," (RAG),  , SQL , MCP ,          .","     ,     ."],flow:[{label:" ",icon:bn},{label:"  ( )",icon:Xn},{label:"  ",icon:Pn},{label:"   ",icon:ur}]}},{id:"agents",icon:Tt,title:" ",color:"purple",content:{summary:"         .",agents:[{name:" ",type:"supervisor",icon:Xn,color:"purple",desc:"        .       ."},{name:"RAG  ",type:"rag",icon:Nt,color:"blue",desc:"     ,      ."},{name:"  ",type:"web",icon:Qt,color:"cyan",desc:"   . DuckDuckGo, Brave, Tavily, Serper    ."},{name:"T2SQL ",type:"sql",icon:bt,color:"amber",desc:" SQL   .     ."},{name:"MCP  ",type:"mcp",icon:zn,color:"indigo",desc:" MCP(Model Context Protocol)   , API    ."},{name:" ",type:"process",icon:yo,color:"orange",desc:" ,      xLAM   ."},{name:" ",type:"synthesizer",icon:ur,color:"green",desc:"      ."}]}},{id:"model",icon:on,title:" ",color:"gray",content:{summary:"   ,   .",rules:[{priority:1,label:" ",desc:"       .",where:"  > "},{priority:2,label:" ",desc:'   " "    .',where:" >  "}],tip:"     ,      ."}},{id:"rag",icon:Nt,title:"RAG ( )",color:"blue",content:{summary:"   ,       .",steps:[{step:" ",desc:"  PDF, DOCX, PPTX, TXT   ."},{step:" ",desc:"Docling  , BAAI/bge-m3   ."},{step:" ",desc:"Dense, Sparse, Hybrid  , Reranker  ."},{step:" ",desc:"Neo4j      . (3    )"}]}},{id:"web",icon:Qt,title:" ",color:"cyan",content:{summary:"     .",providers:[{name:"DuckDuckGo",desc:", API  ",free:!0},{name:"Brave Search",desc:" 2,000/",free:!1},{name:"Tavily AI",desc:"AI  , 1,000/ ",free:!1},{name:"Google Serper",desc:"Google , 2,500 ",free:!1}],tip:"       .      ."}},{id:"sql",icon:bt,title:"Text-to-SQL",color:"amber",content:{summary:"  SQL    .",steps:[{step:"DB  ",desc:" > DB  PostgreSQL, MySQL, SQLite  ."},{step:" ",desc:"/     SQL  ."},{step:"SQL  ",desc:"  SQL    DB ."},{step:" ",desc:'"    10 ?"    SQL  /.'}],tip:"  SELECT  . INSERT, UPDATE, DELETE ."}},{id:"mcp",icon:zn,title:"MCP ",color:"indigo",content:{summary:"Model Context Protocol     AI .",steps:[{step:"MCP  ",desc:" > MCP  SSE  Stdio  MCP  ."},{step:" ",desc:"     MCP  ."},{step:" ",desc:"    MCP   ."}]}},{id:"deep-think",icon:Xn,title:"Deep Think",color:"purple",content:{summary:"   , LLM     .",features:[" : LLM      .","  :  + RAG    ."," :       .","  :    ."],tip:"    ON/OFF   . OFF      ."}},{id:"training",icon:Zc,title:" & ",color:"green",content:{summary:"       .",steps:[{step:" ",desc:" /    ."},{step:" ",desc:"     ."},{step:"",desc:"Ollama Few-shot  Unsloth QLoRA   ."},{step:"  ",desc:"       ."}]}}],rp={green:{bg:"bg-green-50",border:"border-green-200",text:"text-green-600",badge:"bg-green-100 text-green-700",dot:"bg-green-400"},purple:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-600",badge:"bg-purple-100 text-purple-700",dot:"bg-purple-400"},blue:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-600",badge:"bg-blue-100 text-blue-700",dot:"bg-blue-400"},cyan:{bg:"bg-cyan-50",border:"border-cyan-200",text:"text-cyan-600",badge:"bg-cyan-100 text-cyan-700",dot:"bg-cyan-400"},amber:{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-600",badge:"bg-amber-100 text-amber-700",dot:"bg-amber-400"},indigo:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-600",badge:"bg-indigo-100 text-indigo-700",dot:"bg-indigo-400"},orange:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-600",badge:"bg-orange-100 text-orange-700",dot:"bg-orange-400"},gray:{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-600",badge:"bg-gray-100 text-gray-700",dot:"bg-gray-400"}};function Ok({section:t,isOpen:a,onToggle:s}){const o=t.icon,c=rp[t.color],u=t.content;return r.createElement("div",{className:`border rounded-2xl overflow-hidden transition-all ${a?c.border:"border-gray-200"}`},r.createElement("button",{onClick:s,className:`w-full flex items-center gap-3 px-5 py-4 text-left transition-colors ${a?`${c.bg}`:"bg-white hover:bg-gray-50"}`},r.createElement("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${c.bg} ${c.text} border ${c.border}`},r.createElement(o,{size:20})),r.createElement("div",{className:"flex-1"},r.createElement("h3",{className:"font-bold text-gray-900"},t.title),r.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},u.summary)),a?r.createElement(Yr,{size:16,className:"text-gray-400"}):r.createElement(_l,{size:16,className:"text-gray-400"})),a&&r.createElement("div",{className:"px-5 pb-5 pt-2 bg-white space-y-4"},u.details&&r.createElement("ul",{className:"space-y-2"},u.details.map((d,g)=>r.createElement("li",{key:g,className:"flex items-start gap-2 text-sm text-gray-700"},r.createElement("div",{className:`w-1.5 h-1.5 rounded-full ${c.dot} shrink-0 mt-2`}),d))),u.flow&&r.createElement("div",{className:"flex items-center gap-2 flex-wrap"},u.flow.map((d,g)=>{const f=d.icon;return r.createElement(r.Fragment,{key:g},r.createElement("div",{className:"flex items-center gap-1.5 bg-gray-50 border border-gray-200 rounded-lg px-3 py-2"},r.createElement(f,{size:14,className:c.text}),r.createElement("span",{className:"text-xs font-medium text-gray-700"},d.label)),g<u.flow.length-1&&r.createElement(Sl,{size:14,className:"text-gray-300 shrink-0"}))})),u.agents&&r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},u.agents.map(d=>{const g=d.icon,f=rp[d.color];return r.createElement("div",{key:d.type,className:`flex items-start gap-3 p-3 rounded-xl border ${f.border} ${f.bg}`},r.createElement("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${f.text} bg-white border ${f.border}`},r.createElement(g,{size:16})),r.createElement("div",null,r.createElement("div",{className:"text-xs font-bold text-gray-800"},d.name),r.createElement("div",{className:"text-[11px] text-gray-600 mt-0.5 leading-relaxed"},d.desc)))})),u.rules&&r.createElement("div",{className:"space-y-3"},u.rules.map(d=>r.createElement("div",{key:d.priority,className:"flex items-start gap-3 p-3 bg-gray-50 rounded-xl border border-gray-200"},r.createElement("div",{className:"w-7 h-7 rounded-lg bg-green-500 text-white flex items-center justify-center text-xs font-bold shrink-0"},d.priority),r.createElement("div",null,r.createElement("div",{className:"text-xs font-bold text-gray-800"},d.label),r.createElement("div",{className:"text-[11px] text-gray-600 mt-0.5"},d.desc),r.createElement("div",{className:"text-[10px] text-gray-400 mt-1 flex items-center gap-1"},r.createElement(ho,{size:9})," ",d.where))))),u.steps&&r.createElement("div",{className:"space-y-2"},u.steps.map((d,g)=>r.createElement("div",{key:g,className:"flex items-start gap-3"},r.createElement("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold shrink-0 ${c.badge}`},g+1),r.createElement("div",null,r.createElement("div",{className:"text-xs font-bold text-gray-800"},d.step),r.createElement("div",{className:"text-[11px] text-gray-600 mt-0.5"},d.desc))))),u.features&&r.createElement("ul",{className:"space-y-2"},u.features.map((d,g)=>r.createElement("li",{key:g,className:"flex items-start gap-2 text-sm text-gray-700"},r.createElement("div",{className:`w-1.5 h-1.5 rounded-full ${c.dot} shrink-0 mt-2`}),d))),u.providers&&r.createElement("div",{className:"grid grid-cols-2 gap-2"},u.providers.map(d=>r.createElement("div",{key:d.name,className:"flex items-center gap-2 p-2.5 bg-gray-50 rounded-lg border border-gray-200"},r.createElement("div",{className:"flex-1"},r.createElement("div",{className:"text-xs font-bold text-gray-800 flex items-center gap-1.5"},d.name,d.free&&r.createElement("span",{className:"text-[9px] bg-green-100 text-green-700 px-1.5 py-0.5 rounded font-bold"},"FREE")),r.createElement("div",{className:"text-[10px] text-gray-500 mt-0.5"},d.desc))))),u.tip&&r.createElement("div",{className:`flex items-start gap-2 p-3 rounded-xl ${c.bg} border ${c.border}`},r.createElement(At,{size:14,className:`${c.text} shrink-0 mt-0.5`}),r.createElement("span",{className:"text-xs text-gray-700"},u.tip))))}function jk(){const[t,a]=E.useState("overview");return r.createElement("div",{className:"h-full flex flex-col p-6 bg-gray-50/50 overflow-hidden"},r.createElement("div",{className:"mb-6"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:"w-10 h-10 rounded-xl bg-green-50 border border-green-200 flex items-center justify-center"},r.createElement(Zr,{size:20,className:"text-green-600"})),r.createElement("div",null,r.createElement("h2",{className:"text-2xl font-bold text-gray-800"}," "),r.createElement("p",{className:"text-sm text-gray-500 mt-0.5"},"RAG AI    .")))),r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-3 pb-4"},Dk.map(s=>r.createElement(Ok,{key:s.id,section:s,isOpen:t===s.id,onToggle:()=>a(t===s.id?null:s.id)}))))}function Fk(){const[t,a]=E.useState(""),[s,o]=E.useState(""),[c,u]=E.useState(!1),[d,g]=E.useState(""),{login:f}=Fl(),h=Ar(),y=async x=>{x.preventDefault(),g(""),u(!0);try{await f(t,s),h("/home")}catch(k){console.error(k),g(" .   .")}finally{u(!1)}};return r.createElement("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4"},r.createElement("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden"},r.createElement("div",{className:"p-8"},r.createElement("div",{className:"flex justify-center mb-6"},r.createElement("div",{className:"w-16 h-16 bg-gray-600 rounded-2xl flex items-center justify-center shadow-lg shadow-gray-500/30"},r.createElement(Tt,{size:40,className:"text-white"}))),r.createElement("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-2"},"Welcome Back"),r.createElement("p",{className:"text-center text-gray-500 mb-8"},"RAG AI    ."),d&&r.createElement("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 text-center"},d),r.createElement("form",{onSubmit:y,className:"space-y-5"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("input",{type:"email",value:t,onChange:x=>a(x.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-400 focus:bg-white outline-none transition-all",placeholder:"name@example.com",required:!0})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("input",{type:"password",value:s,onChange:x=>o(x.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-400 focus:bg-white outline-none transition-all",placeholder:"",required:!0})),r.createElement("button",{type:"submit",disabled:c,className:"w-full py-3.5 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl shadow-md transition-all flex items-center justify-center gap-2"},c?r.createElement(Dt,{size:20,className:"animate-spin"}):"")),r.createElement("div",{className:"mt-6 text-center"},r.createElement("p",{className:"text-sm text-gray-600"}," ?"," ",r.createElement(po,{to:"/register",className:"text-gray-600 font-bold hover:underline"},"")))),r.createElement("div",{className:"bg-gray-50 p-4 text-center text-xs text-gray-400 border-t border-gray-100"},"Powered by RAG AI Engine")))}function $k(){const[t,a]=E.useState(""),[s,o]=E.useState(""),[c,u]=E.useState(""),[d,g]=E.useState(!1),[f,h]=E.useState(""),{register:y}=Fl(),{toast:x}=pr(),k=Ar(),v=async D=>{D.preventDefault(),h(""),g(!0);try{y?(await y(t,s,c),x.success(" ! ."),k("/login")):(x.info(" :   (API )"),k("/login"))}catch(P){console.error(P),h(" .  .")}finally{g(!1)}};return r.createElement("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4"},r.createElement("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden"},r.createElement("div",{className:"p-8"},r.createElement("div",{className:"flex justify-center mb-6"},r.createElement("div",{className:"w-16 h-16 bg-green-600 rounded-2xl flex items-center justify-center shadow-lg shadow-green-500/30"},r.createElement(Tt,{size:40,className:"text-white"}))),r.createElement("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-2"},"Create Account"),r.createElement("p",{className:"text-center text-gray-500 mb-8"},"  ."),f&&r.createElement("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 text-center"},f),r.createElement("form",{onSubmit:v,className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("div",{className:"relative"},r.createElement("input",{type:"text",value:t,onChange:D=>a(D.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:bg-white outline-none transition-all",placeholder:"",required:!0}),r.createElement(Ap,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("div",{className:"relative"},r.createElement("input",{type:"email",value:s,onChange:D=>o(D.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:bg-white outline-none transition-all",placeholder:"name@example.com",required:!0}),r.createElement(bx,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("div",{className:"relative"},r.createElement("input",{type:"password",value:c,onChange:D=>u(D.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:bg-white outline-none transition-all",placeholder:"",required:!0}),r.createElement(Pp,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}))),r.createElement("button",{type:"submit",disabled:d,className:"w-full py-3.5 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl shadow-md transition-all flex items-center justify-center gap-2 mt-2"},d?r.createElement(Dt,{size:20,className:"animate-spin"}):"")),r.createElement("div",{className:"mt-6 text-center"},r.createElement("p",{className:"text-sm text-gray-600"},"  ?"," ",r.createElement(po,{to:"/login",className:"text-green-600 font-bold hover:underline"},""))))))}function Bk(){return r.createElement(lx,null,r.createElement(ox,null,r.createElement(Lx,null,r.createElement(Vy,null,r.createElement(vy,null,r.createElement(yn,{path:"/login",element:r.createElement(Fk,null)}),r.createElement(yn,{path:"/register",element:r.createElement($k,null)}),r.createElement(yn,{path:"/",element:r.createElement($x,null)},r.createElement(yn,{index:!0,element:r.createElement(Tc,{to:"/home",replace:!0})}),r.createElement(yn,{path:"home",element:r.createElement(Bx,null)}),r.createElement(yn,{path:"chat",element:r.createElement(wk,null)}),r.createElement(yn,{path:"agent",element:r.createElement("div",{className:"flex-1 overflow-hidden p-6 bg-gray-50/50 dark:bg-gray-900 h-full"},r.createElement("div",{className:"h-full bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},r.createElement(_k,null)))}),r.createElement(yn,{path:"knowledge",element:r.createElement("div",{className:"flex-1 overflow-hidden p-6 bg-gray-50/50 dark:bg-gray-900 h-full"},r.createElement("div",{className:"h-full bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},r.createElement(zk,null)))}),r.createElement(yn,{path:"training",element:r.createElement(Mk,null)}),r.createElement(yn,{path:"finetuning",element:r.createElement(Ak,null)}),r.createElement(yn,{path:"guide",element:r.createElement("div",{className:"flex-1 overflow-hidden p-6 bg-gray-50/50 dark:bg-gray-900 h-full"},r.createElement("div",{className:"h-full bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},r.createElement(jk,null)))})),r.createElement(yn,{path:"*",element:r.createElement(Tc,{to:"/login",replace:!0})}))))))}vh.createRoot(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement(Bk,null)));
