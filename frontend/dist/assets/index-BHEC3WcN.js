(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=s(c);fetch(c.href,u)}})();function co(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ec={exports:{}},Ge={};var qm;function hh(){if(qm)return Ge;qm=1;var t=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function k(j){return j===null||typeof j!="object"?null:(j=x&&j[x]||j["@@iterator"],typeof j=="function"?j:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,M={};function S(j,B,_){this.props=j,this.context=B,this.refs=M,this.updater=_||E}S.prototype.isReactComponent={},S.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},S.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function C(){}C.prototype=S.prototype;function N(j,B,_){this.props=j,this.context=B,this.refs=M,this.updater=_||E}var A=N.prototype=new C;A.constructor=N,O(A,S.prototype),A.isPureReactComponent=!0;var q=Array.isArray,X=Object.prototype.hasOwnProperty,L={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function le(j,B,_){var be,Ie={},Ne=null,Fe=null;if(B!=null)for(be in B.ref!==void 0&&(Fe=B.ref),B.key!==void 0&&(Ne=""+B.key),B)X.call(B,be)&&!Z.hasOwnProperty(be)&&(Ie[be]=B[be]);var Le=arguments.length-2;if(Le===1)Ie.children=_;else if(1<Le){for(var Oe=Array(Le),Qe=0;Qe<Le;Qe++)Oe[Qe]=arguments[Qe+2];Ie.children=Oe}if(j&&j.defaultProps)for(be in Le=j.defaultProps,Le)Ie[be]===void 0&&(Ie[be]=Le[be]);return{$$typeof:t,type:j,key:Ne,ref:Fe,props:Ie,_owner:L.current}}function re(j,B){return{$$typeof:t,type:j.type,key:B,ref:j.ref,props:j.props,_owner:j._owner}}function R(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function F(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(_){return B[_]})}var K=/\/+/g;function ye(j,B){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):B.toString(36)}function ae(j,B,_,be,Ie){var Ne=typeof j;(Ne==="undefined"||Ne==="boolean")&&(j=null);var Fe=!1;if(j===null)Fe=!0;else switch(Ne){case"string":case"number":Fe=!0;break;case"object":switch(j.$$typeof){case t:case a:Fe=!0}}if(Fe)return Fe=j,Ie=Ie(Fe),j=be===""?"."+ye(Fe,0):be,q(Ie)?(_="",j!=null&&(_=j.replace(K,"$&/")+"/"),ae(Ie,B,_,"",function(Qe){return Qe})):Ie!=null&&(R(Ie)&&(Ie=re(Ie,_+(!Ie.key||Fe&&Fe.key===Ie.key?"":(""+Ie.key).replace(K,"$&/")+"/")+j)),B.push(Ie)),1;if(Fe=0,be=be===""?".":be+":",q(j))for(var Le=0;Le<j.length;Le++){Ne=j[Le];var Oe=be+ye(Ne,Le);Fe+=ae(Ne,B,_,Oe,Ie)}else if(Oe=k(j),typeof Oe=="function")for(j=Oe.call(j),Le=0;!(Ne=j.next()).done;)Ne=Ne.value,Oe=be+ye(Ne,Le++),Fe+=ae(Ne,B,_,Oe,Ie);else if(Ne==="object")throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Fe}function ee(j,B,_){if(j==null)return j;var be=[],Ie=0;return ae(j,be,"","",function(Ne){return B.call(_,Ne,Ie++)}),be}function J(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(_){(j._status===0||j._status===-1)&&(j._status=1,j._result=_)},function(_){(j._status===0||j._status===-1)&&(j._status=2,j._result=_)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var me={current:null},G={transition:null},ue={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:G,ReactCurrentOwner:L};function w(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:ee,forEach:function(j,B,_){ee(j,function(){B.apply(this,arguments)},_)},count:function(j){var B=0;return ee(j,function(){B++}),B},toArray:function(j){return ee(j,function(B){return B})||[]},only:function(j){if(!R(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ge.Component=S,Ge.Fragment=s,Ge.Profiler=c,Ge.PureComponent=N,Ge.StrictMode=o,Ge.Suspense=f,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ge.act=w,Ge.cloneElement=function(j,B,_){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var be=O({},j.props),Ie=j.key,Ne=j.ref,Fe=j._owner;if(B!=null){if(B.ref!==void 0&&(Ne=B.ref,Fe=L.current),B.key!==void 0&&(Ie=""+B.key),j.type&&j.type.defaultProps)var Le=j.type.defaultProps;for(Oe in B)X.call(B,Oe)&&!Z.hasOwnProperty(Oe)&&(be[Oe]=B[Oe]===void 0&&Le!==void 0?Le[Oe]:B[Oe])}var Oe=arguments.length-2;if(Oe===1)be.children=_;else if(1<Oe){Le=Array(Oe);for(var Qe=0;Qe<Oe;Qe++)Le[Qe]=arguments[Qe+2];be.children=Le}return{$$typeof:t,type:j.type,key:Ie,ref:Ne,props:be,_owner:Fe}},Ge.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:u,_context:j},j.Consumer=j},Ge.createElement=le,Ge.createFactory=function(j){var B=le.bind(null,j);return B.type=j,B},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(j){return{$$typeof:g,render:j}},Ge.isValidElement=R,Ge.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:J}},Ge.memo=function(j,B){return{$$typeof:h,type:j,compare:B===void 0?null:B}},Ge.startTransition=function(j){var B=G.transition;G.transition={};try{j()}finally{G.transition=B}},Ge.unstable_act=w,Ge.useCallback=function(j,B){return me.current.useCallback(j,B)},Ge.useContext=function(j){return me.current.useContext(j)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(j){return me.current.useDeferredValue(j)},Ge.useEffect=function(j,B){return me.current.useEffect(j,B)},Ge.useId=function(){return me.current.useId()},Ge.useImperativeHandle=function(j,B,_){return me.current.useImperativeHandle(j,B,_)},Ge.useInsertionEffect=function(j,B){return me.current.useInsertionEffect(j,B)},Ge.useLayoutEffect=function(j,B){return me.current.useLayoutEffect(j,B)},Ge.useMemo=function(j,B){return me.current.useMemo(j,B)},Ge.useReducer=function(j,B,_){return me.current.useReducer(j,B,_)},Ge.useRef=function(j){return me.current.useRef(j)},Ge.useState=function(j){return me.current.useState(j)},Ge.useSyncExternalStore=function(j,B,_){return me.current.useSyncExternalStore(j,B,_)},Ge.useTransition=function(){return me.current.useTransition()},Ge.version="18.3.1",Ge}var Vm;function Bc(){return Vm||(Vm=1,ec.exports=hh()),ec.exports}var v=Bc();const r=co(v);var Gs={},tc={exports:{}},ln={},nc={exports:{}},rc={};var Wm;function yh(){return Wm||(Wm=1,(function(t){function a(G,ue){var w=G.length;G.push(ue);e:for(;0<w;){var j=w-1>>>1,B=G[j];if(0<c(B,ue))G[j]=ue,G[w]=B,w=j;else break e}}function s(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var ue=G[0],w=G.pop();if(w!==ue){G[0]=w;e:for(var j=0,B=G.length,_=B>>>1;j<_;){var be=2*(j+1)-1,Ie=G[be],Ne=be+1,Fe=G[Ne];if(0>c(Ie,w))Ne<B&&0>c(Fe,Ie)?(G[j]=Fe,G[Ne]=w,j=Ne):(G[j]=Ie,G[be]=w,j=be);else if(Ne<B&&0>c(Fe,w))G[j]=Fe,G[Ne]=w,j=Ne;else break e}}return ue}function c(G,ue){var w=G.sortIndex-ue.sortIndex;return w!==0?w:G.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();t.unstable_now=function(){return d.now()-g}}var f=[],h=[],y=1,x=null,k=3,E=!1,O=!1,M=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(G){for(var ue=s(h);ue!==null;){if(ue.callback===null)o(h);else if(ue.startTime<=G)o(h),ue.sortIndex=ue.expirationTime,a(f,ue);else break;ue=s(h)}}function q(G){if(M=!1,A(G),!O)if(s(f)!==null)O=!0,J(X);else{var ue=s(h);ue!==null&&me(q,ue.startTime-G)}}function X(G,ue){O=!1,M&&(M=!1,C(le),le=-1),E=!0;var w=k;try{for(A(ue),x=s(f);x!==null&&(!(x.expirationTime>ue)||G&&!F());){var j=x.callback;if(typeof j=="function"){x.callback=null,k=x.priorityLevel;var B=j(x.expirationTime<=ue);ue=t.unstable_now(),typeof B=="function"?x.callback=B:x===s(f)&&o(f),A(ue)}else o(f);x=s(f)}if(x!==null)var _=!0;else{var be=s(h);be!==null&&me(q,be.startTime-ue),_=!1}return _}finally{x=null,k=w,E=!1}}var L=!1,Z=null,le=-1,re=5,R=-1;function F(){return!(t.unstable_now()-R<re)}function K(){if(Z!==null){var G=t.unstable_now();R=G;var ue=!0;try{ue=Z(!0,G)}finally{ue?ye():(L=!1,Z=null)}}else L=!1}var ye;if(typeof N=="function")ye=function(){N(K)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ee=ae.port2;ae.port1.onmessage=K,ye=function(){ee.postMessage(null)}}else ye=function(){S(K,0)};function J(G){Z=G,L||(L=!0,ye())}function me(G,ue){le=S(function(){G(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){O||E||(O=!0,J(X))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return s(f)},t.unstable_next=function(G){switch(k){case 1:case 2:case 3:var ue=3;break;default:ue=k}var w=k;k=ue;try{return G()}finally{k=w}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ue){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var w=k;k=G;try{return ue()}finally{k=w}},t.unstable_scheduleCallback=function(G,ue,w){var j=t.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?j+w:j):w=j,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=w+B,G={id:y++,callback:ue,priorityLevel:G,startTime:w,expirationTime:B,sortIndex:-1},w>j?(G.sortIndex=w,a(h,G),s(f)===null&&G===s(h)&&(M?(C(le),le=-1):M=!0,me(q,w-j))):(G.sortIndex=B,a(f,G),O||E||(O=!0,J(X))),G},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(G){var ue=k;return function(){var w=k;k=ue;try{return G.apply(this,arguments)}finally{k=w}}}})(rc)),rc}var Km;function xh(){return Km||(Km=1,nc.exports=yh()),nc.exports}var Gm;function bh(){if(Gm)return ln;Gm=1;var t=Bc(),a=xh();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,l=1;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function u(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(c[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function k(e){return f.call(x,e)?!0:f.call(y,e)?!1:h.test(e)?x[e]=!0:(y[e]=!0,!1)}function E(e,n,l,i){if(l!==null&&l.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return i?!1:l!==null?!l.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,n,l,i){if(n===null||typeof n>"u"||E(e,n,l,i))return!0;if(i)return!1;if(l!==null)switch(l.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function M(e,n,l,i,m,p,b){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=i,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=e,this.type=n,this.sanitizeURL=p,this.removeEmptyString=b}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new M(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];S[n]=new M(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new M(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new M(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new M(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new M(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new M(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new M(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new M(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function N(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(C,N);S[n]=new M(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(C,N);S[n]=new M(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(C,N);S[n]=new M(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new M(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new M(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,n,l,i){var m=S.hasOwnProperty(n)?S[n]:null;(m!==null?m.type!==0:i||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(O(n,l,m,i)&&(l=null),i||m===null?k(n)&&(l===null?e.removeAttribute(n):e.setAttribute(n,""+l)):m.mustUseProperty?e[m.propertyName]=l===null?m.type===3?!1:"":l:(n=m.attributeName,i=m.attributeNamespace,l===null?e.removeAttribute(n):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,i?e.setAttributeNS(i,n,l):e.setAttribute(n,l))))}var q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),L=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),F=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),G=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var w=Object.assign,j;function B(e){if(j===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);j=n&&n[1]||""}return`
`+j+e}var _=!1;function be(e,n){if(!e||_)return"";_=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(W){var i=W}Reflect.construct(e,[],n)}else{try{n.call()}catch(W){i=W}e.call(n.prototype)}else{try{throw Error()}catch(W){i=W}e()}}catch(W){if(W&&i&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),p=i.stack.split(`
`),b=m.length-1,z=p.length-1;1<=b&&0<=z&&m[b]!==p[z];)z--;for(;1<=b&&0<=z;b--,z--)if(m[b]!==p[z]){if(b!==1||z!==1)do if(b--,z--,0>z||m[b]!==p[z]){var D=`
`+m[b].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=b&&0<=z);break}}}finally{_=!1,Error.prepareStackTrace=l}return(e=e?e.displayName||e.name:"")?B(e):""}function Ie(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=be(e.type,!1),e;case 11:return e=be(e.type.render,!1),e;case 1:return e=be(e.type,!0),e;default:return""}}function Ne(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case L:return"Portal";case re:return"Profiler";case le:return"StrictMode";case ye:return"Suspense";case ae:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case F:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return n=e.displayName||null,n!==null?n:Ne(e.type)||"Memo";case J:n=e._payload,e=e._init;try{return Ne(e(n))}catch{}}return null}function Fe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(n);case 8:return n===le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Le(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oe(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qe(e){var n=Oe(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),i=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(b){i=""+b,p.call(this,b)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(b){i=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ue(e){e._valueTracker||(e._valueTracker=Qe(e))}function lt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),i="";return e&&(i=Oe(e)?e.checked?"true":"false":e.value),e=i,e!==l?(n.setValue(e),!0):!1}function Et(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function de(e,n){var l=n.checked;return w({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??e._wrapperState.initialChecked})}function Ye(e,n){var l=n.defaultValue==null?"":n.defaultValue,i=n.checked!=null?n.checked:n.defaultChecked;l=Le(n.value!=null?n.value:l),e._wrapperState={initialChecked:i,initialValue:l,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function We(e,n){n=n.checked,n!=null&&A(e,"checked",n,!1)}function Q(e,n){We(e,n);var l=Le(n.value),i=n.type;if(l!=null)i==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+l):e.value!==""+l&&(e.value=""+l);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?_e(e,n.type,l):n.hasOwnProperty("defaultValue")&&_e(e,n.type,Le(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function te(e,n,l){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var i=n.type;if(!(i!=="submit"&&i!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,l||n===e.value||(e.value=n),e.defaultValue=n}l=e.name,l!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,l!==""&&(e.name=l)}function _e(e,n,l){(n!=="number"||Et(e.ownerDocument)!==e)&&(l==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+l&&(e.defaultValue=""+l))}var fe=Array.isArray;function He(e,n,l,i){if(e=e.options,n){n={};for(var m=0;m<l.length;m++)n["$"+l[m]]=!0;for(l=0;l<e.length;l++)m=n.hasOwnProperty("$"+e[l].value),e[l].selected!==m&&(e[l].selected=m),m&&i&&(e[l].defaultSelected=!0)}else{for(l=""+Le(l),n=null,m=0;m<e.length;m++){if(e[m].value===l){e[m].selected=!0,i&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function Ve(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return w({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function at(e,n){var l=n.value;if(l==null){if(l=n.children,n=n.defaultValue,l!=null){if(n!=null)throw Error(s(92));if(fe(l)){if(1<l.length)throw Error(s(93));l=l[0]}n=l}n==null&&(n=""),l=n}e._wrapperState={initialValue:Le(l)}}function ut(e,n){var l=Le(n.value),i=Le(n.defaultValue);l!=null&&(l=""+l,l!==e.value&&(e.value=l),n.defaultValue==null&&e.defaultValue!==l&&(e.defaultValue=l)),i!=null&&(e.defaultValue=""+i)}function T(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function I(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function U(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?I(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ne,he=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,l,i,m){MSApp.execUnsafeLocalFunction(function(){return e(n,l,i,m)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ne=ne||document.createElement("div"),ne.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ne.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Me(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},et=["Webkit","ms","Moz","O"];Object.keys(je).forEach(function(e){et.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),je[n]=je[e]})});function Ke(e,n,l){return n==null||typeof n=="boolean"||n===""?"":l||typeof n!="number"||n===0||je.hasOwnProperty(e)&&je[e]?(""+n).trim():n+"px"}function It(e,n){e=e.style;for(var l in n)if(n.hasOwnProperty(l)){var i=l.indexOf("--")===0,m=Ke(l,n[l],i);l==="float"&&(l="cssFloat"),i?e.setProperty(l,m):e[l]=m}}var ft=w({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xe(e,n){if(n){if(ft[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function kt(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dt=null;function nt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var st=null,P=null,ie=null;function Y(e){if(e=nl(e)){if(typeof st!="function")throw Error(s(280));var n=e.stateNode;n&&(n=cs(n),st(e.stateNode,e.type,n))}}function ve(e){P?ie?ie.push(e):ie=[e]:P=e}function ot(){if(P){var e=P,n=ie;if(ie=P=null,Y(e),n)for(e=0;e<n.length;e++)Y(n[e])}}function Je(e,n){return e(n)}function wt(){}var dn=!1;function Lt(e,n,l){if(dn)return e(n,l);dn=!0;try{return Je(e,n,l)}finally{dn=!1,(P!==null||ie!==null)&&(wt(),ot())}}function In(e,n){var l=e.stateNode;if(l===null)return null;var i=cs(l);if(i===null)return null;l=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,n,typeof l));return l}var Aa=!1;if(g)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{Aa=!1}function E0(e,n,l,i,m,p,b,z,D){var W=Array.prototype.slice.call(arguments,3);try{n.apply(l,W)}catch(oe){this.onError(oe)}}var Oa=!1,Bl=null,Ul=!1,bo=null,k0={onError:function(e){Oa=!0,Bl=e}};function w0(e,n,l,i,m,p,b,z,D){Oa=!1,Bl=null,E0.apply(k0,arguments)}function N0(e,n,l,i,m,p,b,z,D){if(w0.apply(this,arguments),Oa){if(Oa){var W=Bl;Oa=!1,Bl=null}else throw Error(s(198));Ul||(Ul=!0,bo=W)}}function jr(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function gu(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function pu(e){if(jr(e)!==e)throw Error(s(188))}function S0(e){var n=e.alternate;if(!n){if(n=jr(e),n===null)throw Error(s(188));return n!==e?null:e}for(var l=e,i=n;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(i=m.return,i!==null){l=i;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return pu(m),e;if(p===i)return pu(m),n;p=p.sibling}throw Error(s(188))}if(l.return!==i.return)l=m,i=p;else{for(var b=!1,z=m.child;z;){if(z===l){b=!0,l=m,i=p;break}if(z===i){b=!0,i=m,l=p;break}z=z.sibling}if(!b){for(z=p.child;z;){if(z===l){b=!0,l=p,i=m;break}if(z===i){b=!0,i=p,l=m;break}z=z.sibling}if(!b)throw Error(s(189))}}if(l.alternate!==i)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:n}function fu(e){return e=S0(e),e!==null?hu(e):null}function hu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=hu(e);if(n!==null)return n;e=e.sibling}return null}var yu=a.unstable_scheduleCallback,xu=a.unstable_cancelCallback,C0=a.unstable_shouldYield,_0=a.unstable_requestPaint,Tt=a.unstable_now,T0=a.unstable_getCurrentPriorityLevel,vo=a.unstable_ImmediatePriority,bu=a.unstable_UserBlockingPriority,Hl=a.unstable_NormalPriority,z0=a.unstable_LowPriority,vu=a.unstable_IdlePriority,ql=null,qn=null;function P0(e){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(ql,e,void 0,(e.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:M0,I0=Math.log,L0=Math.LN2;function M0(e){return e>>>=0,e===0?32:31-(I0(e)/L0|0)|0}var Vl=64,Wl=4194304;function ja(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kl(e,n){var l=e.pendingLanes;if(l===0)return 0;var i=0,m=e.suspendedLanes,p=e.pingedLanes,b=l&268435455;if(b!==0){var z=b&~m;z!==0?i=ja(z):(p&=b,p!==0&&(i=ja(p)))}else b=l&~m,b!==0?i=ja(b):p!==0&&(i=ja(p));if(i===0)return 0;if(n!==0&&n!==i&&(n&m)===0&&(m=i&-i,p=n&-n,m>=p||m===16&&(p&4194240)!==0))return n;if((i&4)!==0&&(i|=l&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=i;0<n;)l=31-Ln(n),m=1<<l,i|=e[l],n&=~m;return i}function R0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A0(e,n){for(var l=e.suspendedLanes,i=e.pingedLanes,m=e.expirationTimes,p=e.pendingLanes;0<p;){var b=31-Ln(p),z=1<<b,D=m[b];D===-1?((z&l)===0||(z&i)!==0)&&(m[b]=R0(z,n)):D<=n&&(e.expiredLanes|=z),p&=~z}}function Eo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Eu(){var e=Vl;return Vl<<=1,(Vl&4194240)===0&&(Vl=64),e}function ko(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Fa(e,n,l){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ln(n),e[n]=l}function D0(e,n){var l=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<l;){var m=31-Ln(l),p=1<<m;n[m]=0,i[m]=-1,e[m]=-1,l&=~p}}function wo(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var i=31-Ln(l),m=1<<i;m&n|e[i]&n&&(e[i]|=n),l&=~m}}var it=0;function ku(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var wu,No,Nu,Su,Cu,So=!1,Gl=[],fr=null,hr=null,yr=null,$a=new Map,Ba=new Map,xr=[],O0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(e,n){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":$a.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(n.pointerId)}}function Ua(e,n,l,i,m,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:l,eventSystemFlags:i,nativeEvent:p,targetContainers:[m]},n!==null&&(n=nl(n),n!==null&&No(n)),e):(e.eventSystemFlags|=i,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function j0(e,n,l,i,m){switch(n){case"focusin":return fr=Ua(fr,e,n,l,i,m),!0;case"dragenter":return hr=Ua(hr,e,n,l,i,m),!0;case"mouseover":return yr=Ua(yr,e,n,l,i,m),!0;case"pointerover":var p=m.pointerId;return $a.set(p,Ua($a.get(p)||null,e,n,l,i,m)),!0;case"gotpointercapture":return p=m.pointerId,Ba.set(p,Ua(Ba.get(p)||null,e,n,l,i,m)),!0}return!1}function Tu(e){var n=Fr(e.target);if(n!==null){var l=jr(n);if(l!==null){if(n=l.tag,n===13){if(n=gu(l),n!==null){e.blockedOn=n,Cu(e.priority,function(){Nu(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ql(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=_o(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(l===null){l=e.nativeEvent;var i=new l.constructor(l.type,l);dt=i,l.target.dispatchEvent(i),dt=null}else return n=nl(l),n!==null&&No(n),e.blockedOn=l,!1;n.shift()}return!0}function zu(e,n,l){Ql(e)&&l.delete(n)}function F0(){So=!1,fr!==null&&Ql(fr)&&(fr=null),hr!==null&&Ql(hr)&&(hr=null),yr!==null&&Ql(yr)&&(yr=null),$a.forEach(zu),Ba.forEach(zu)}function Ha(e,n){e.blockedOn===n&&(e.blockedOn=null,So||(So=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,F0)))}function qa(e){function n(m){return Ha(m,e)}if(0<Gl.length){Ha(Gl[0],e);for(var l=1;l<Gl.length;l++){var i=Gl[l];i.blockedOn===e&&(i.blockedOn=null)}}for(fr!==null&&Ha(fr,e),hr!==null&&Ha(hr,e),yr!==null&&Ha(yr,e),$a.forEach(n),Ba.forEach(n),l=0;l<xr.length;l++)i=xr[l],i.blockedOn===e&&(i.blockedOn=null);for(;0<xr.length&&(l=xr[0],l.blockedOn===null);)Tu(l),l.blockedOn===null&&xr.shift()}var ea=q.ReactCurrentBatchConfig,Jl=!0;function $0(e,n,l,i){var m=it,p=ea.transition;ea.transition=null;try{it=1,Co(e,n,l,i)}finally{it=m,ea.transition=p}}function B0(e,n,l,i){var m=it,p=ea.transition;ea.transition=null;try{it=4,Co(e,n,l,i)}finally{it=m,ea.transition=p}}function Co(e,n,l,i){if(Jl){var m=_o(e,n,l,i);if(m===null)qo(e,n,i,Yl,l),_u(e,i);else if(j0(m,e,n,l,i))i.stopPropagation();else if(_u(e,i),n&4&&-1<O0.indexOf(e)){for(;m!==null;){var p=nl(m);if(p!==null&&wu(p),p=_o(e,n,l,i),p===null&&qo(e,n,i,Yl,l),p===m)break;m=p}m!==null&&i.stopPropagation()}else qo(e,n,i,null,l)}}var Yl=null;function _o(e,n,l,i){if(Yl=null,e=nt(i),e=Fr(e),e!==null)if(n=jr(e),n===null)e=null;else if(l=n.tag,l===13){if(e=gu(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Yl=e,null}function Pu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T0()){case vo:return 1;case bu:return 4;case Hl:case z0:return 16;case vu:return 536870912;default:return 16}default:return 16}}var br=null,To=null,Xl=null;function Iu(){if(Xl)return Xl;var e,n=To,l=n.length,i,m="value"in br?br.value:br.textContent,p=m.length;for(e=0;e<l&&n[e]===m[e];e++);var b=l-e;for(i=1;i<=b&&n[l-i]===m[p-i];i++);return Xl=m.slice(e,1<i?1-i:void 0)}function Zl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function es(){return!0}function Lu(){return!1}function mn(e){function n(l,i,m,p,b){this._reactName=l,this._targetInst=m,this.type=i,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var z in e)e.hasOwnProperty(z)&&(l=e[z],this[z]=l?l(p):p[z]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?es:Lu,this.isPropagationStopped=Lu,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),n}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zo=mn(ta),Va=w({},ta,{view:0,detail:0}),U0=mn(Va),Po,Io,Wa,ts=w({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wa&&(Wa&&e.type==="mousemove"?(Po=e.screenX-Wa.screenX,Io=e.screenY-Wa.screenY):Io=Po=0,Wa=e),Po)},movementY:function(e){return"movementY"in e?e.movementY:Io}}),Mu=mn(ts),H0=w({},ts,{dataTransfer:0}),q0=mn(H0),V0=w({},Va,{relatedTarget:0}),Lo=mn(V0),W0=w({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),K0=mn(W0),G0=w({},ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q0=mn(G0),J0=w({},ta,{data:0}),Ru=mn(J0),Y0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ef(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Z0[e])?!!n[e]:!1}function Mo(){return ef}var tf=w({},Va,{key:function(e){if(e.key){var n=Y0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?X0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mo,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nf=mn(tf),rf=w({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Au=mn(rf),af=w({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mo}),lf=mn(af),sf=w({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),of=mn(sf),cf=w({},ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uf=mn(cf),df=[9,13,27,32],Ro=g&&"CompositionEvent"in window,Ka=null;g&&"documentMode"in document&&(Ka=document.documentMode);var mf=g&&"TextEvent"in window&&!Ka,Du=g&&(!Ro||Ka&&8<Ka&&11>=Ka),Ou=" ",ju=!1;function Fu(e,n){switch(e){case"keyup":return df.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $u(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var na=!1;function gf(e,n){switch(e){case"compositionend":return $u(n);case"keypress":return n.which!==32?null:(ju=!0,Ou);case"textInput":return e=n.data,e===Ou&&ju?null:e;default:return null}}function pf(e,n){if(na)return e==="compositionend"||!Ro&&Fu(e,n)?(e=Iu(),Xl=To=br=null,na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Du&&n.locale!=="ko"?null:n.data;default:return null}}var ff={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ff[e.type]:n==="textarea"}function Uu(e,n,l,i){ve(i),n=ss(n,"onChange"),0<n.length&&(l=new zo("onChange","change",null,l,i),e.push({event:l,listeners:n}))}var Ga=null,Qa=null;function hf(e){sd(e,0)}function ns(e){var n=oa(e);if(lt(n))return e}function yf(e,n){if(e==="change")return n}var Hu=!1;if(g){var Ao;if(g){var Do="oninput"in document;if(!Do){var qu=document.createElement("div");qu.setAttribute("oninput","return;"),Do=typeof qu.oninput=="function"}Ao=Do}else Ao=!1;Hu=Ao&&(!document.documentMode||9<document.documentMode)}function Vu(){Ga&&(Ga.detachEvent("onpropertychange",Wu),Qa=Ga=null)}function Wu(e){if(e.propertyName==="value"&&ns(Qa)){var n=[];Uu(n,Qa,e,nt(e)),Lt(hf,n)}}function xf(e,n,l){e==="focusin"?(Vu(),Ga=n,Qa=l,Ga.attachEvent("onpropertychange",Wu)):e==="focusout"&&Vu()}function bf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ns(Qa)}function vf(e,n){if(e==="click")return ns(n)}function Ef(e,n){if(e==="input"||e==="change")return ns(n)}function kf(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Mn=typeof Object.is=="function"?Object.is:kf;function Ja(e,n){if(Mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),i=Object.keys(n);if(l.length!==i.length)return!1;for(i=0;i<l.length;i++){var m=l[i];if(!f.call(n,m)||!Mn(e[m],n[m]))return!1}return!0}function Ku(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gu(e,n){var l=Ku(e);e=0;for(var i;l;){if(l.nodeType===3){if(i=e+l.textContent.length,e<=n&&i>=n)return{node:l,offset:n-e};e=i}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ku(l)}}function Qu(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Qu(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ju(){for(var e=window,n=Et();n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Et(e.document)}return n}function Oo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function wf(e){var n=Ju(),l=e.focusedElem,i=e.selectionRange;if(n!==l&&l&&l.ownerDocument&&Qu(l.ownerDocument.documentElement,l)){if(i!==null&&Oo(l)){if(n=i.start,e=i.end,e===void 0&&(e=n),"selectionStart"in l)l.selectionStart=n,l.selectionEnd=Math.min(e,l.value.length);else if(e=(n=l.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var m=l.textContent.length,p=Math.min(i.start,m);i=i.end===void 0?p:Math.min(i.end,m),!e.extend&&p>i&&(m=i,i=p,p=m),m=Gu(l,p);var b=Gu(l,i);m&&b&&(e.rangeCount!==1||e.anchorNode!==m.node||e.anchorOffset!==m.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(n=n.createRange(),n.setStart(m.node,m.offset),e.removeAllRanges(),p>i?(e.addRange(n),e.extend(b.node,b.offset)):(n.setEnd(b.node,b.offset),e.addRange(n)))}}for(n=[],e=l;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<n.length;l++)e=n[l],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nf=g&&"documentMode"in document&&11>=document.documentMode,ra=null,jo=null,Ya=null,Fo=!1;function Yu(e,n,l){var i=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fo||ra==null||ra!==Et(i)||(i=ra,"selectionStart"in i&&Oo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ya&&Ja(Ya,i)||(Ya=i,i=ss(jo,"onSelect"),0<i.length&&(n=new zo("onSelect","select",null,n,l),e.push({event:n,listeners:i}),n.target=ra)))}function rs(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var aa={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},$o={},Xu={};g&&(Xu=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function as(e){if($o[e])return $o[e];if(!aa[e])return e;var n=aa[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Xu)return $o[e]=n[l];return e}var Zu=as("animationend"),ed=as("animationiteration"),td=as("animationstart"),nd=as("transitionend"),rd=new Map,ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(e,n){rd.set(e,n),u(n,[e])}for(var Bo=0;Bo<ad.length;Bo++){var Uo=ad[Bo],Sf=Uo.toLowerCase(),Cf=Uo[0].toUpperCase()+Uo.slice(1);vr(Sf,"on"+Cf)}vr(Zu,"onAnimationEnd"),vr(ed,"onAnimationIteration"),vr(td,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(nd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_f=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function ld(e,n,l){var i=e.type||"unknown-event";e.currentTarget=l,N0(i,n,void 0,e),e.currentTarget=null}function sd(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var i=e[l],m=i.event;i=i.listeners;e:{var p=void 0;if(n)for(var b=i.length-1;0<=b;b--){var z=i[b],D=z.instance,W=z.currentTarget;if(z=z.listener,D!==p&&m.isPropagationStopped())break e;ld(m,z,W),p=D}else for(b=0;b<i.length;b++){if(z=i[b],D=z.instance,W=z.currentTarget,z=z.listener,D!==p&&m.isPropagationStopped())break e;ld(m,z,W),p=D}}}if(Ul)throw e=bo,Ul=!1,bo=null,e}function ht(e,n){var l=n[Jo];l===void 0&&(l=n[Jo]=new Set);var i=e+"__bubble";l.has(i)||(od(n,e,2,!1),l.add(i))}function Ho(e,n,l){var i=0;n&&(i|=4),od(l,e,i,n)}var ls="_reactListening"+Math.random().toString(36).slice(2);function Za(e){if(!e[ls]){e[ls]=!0,o.forEach(function(l){l!=="selectionchange"&&(_f.has(l)||Ho(l,!1,e),Ho(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ls]||(n[ls]=!0,Ho("selectionchange",!1,n))}}function od(e,n,l,i){switch(Pu(n)){case 1:var m=$0;break;case 4:m=B0;break;default:m=Co}l=m.bind(null,n,l,e),m=void 0,!Aa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),i?m!==void 0?e.addEventListener(n,l,{capture:!0,passive:m}):e.addEventListener(n,l,!0):m!==void 0?e.addEventListener(n,l,{passive:m}):e.addEventListener(n,l,!1)}function qo(e,n,l,i,m){var p=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var b=i.tag;if(b===3||b===4){var z=i.stateNode.containerInfo;if(z===m||z.nodeType===8&&z.parentNode===m)break;if(b===4)for(b=i.return;b!==null;){var D=b.tag;if((D===3||D===4)&&(D=b.stateNode.containerInfo,D===m||D.nodeType===8&&D.parentNode===m))return;b=b.return}for(;z!==null;){if(b=Fr(z),b===null)return;if(D=b.tag,D===5||D===6){i=p=b;continue e}z=z.parentNode}}i=i.return}Lt(function(){var W=p,oe=nt(l),ce=[];e:{var se=rd.get(e);if(se!==void 0){var we=zo,Te=e;switch(e){case"keypress":if(Zl(l)===0)break e;case"keydown":case"keyup":we=nf;break;case"focusin":Te="focus",we=Lo;break;case"focusout":Te="blur",we=Lo;break;case"beforeblur":case"afterblur":we=Lo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=lf;break;case Zu:case ed:case td:we=K0;break;case nd:we=of;break;case"scroll":we=U0;break;case"wheel":we=uf;break;case"copy":case"cut":case"paste":we=Q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Au}var ze=(n&4)!==0,zt=!ze&&e==="scroll",H=ze?se!==null?se+"Capture":null:se;ze=[];for(var $=W,V;$!==null;){V=$;var pe=V.stateNode;if(V.tag===5&&pe!==null&&(V=pe,H!==null&&(pe=In($,H),pe!=null&&ze.push(el($,pe,V)))),zt)break;$=$.return}0<ze.length&&(se=new we(se,Te,null,l,oe),ce.push({event:se,listeners:ze}))}}if((n&7)===0){e:{if(se=e==="mouseover"||e==="pointerover",we=e==="mouseout"||e==="pointerout",se&&l!==dt&&(Te=l.relatedTarget||l.fromElement)&&(Fr(Te)||Te[er]))break e;if((we||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,we?(Te=l.relatedTarget||l.toElement,we=W,Te=Te?Fr(Te):null,Te!==null&&(zt=jr(Te),Te!==zt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(we=null,Te=W),we!==Te)){if(ze=Mu,pe="onMouseLeave",H="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(ze=Au,pe="onPointerLeave",H="onPointerEnter",$="pointer"),zt=we==null?se:oa(we),V=Te==null?se:oa(Te),se=new ze(pe,$+"leave",we,l,oe),se.target=zt,se.relatedTarget=V,pe=null,Fr(oe)===W&&(ze=new ze(H,$+"enter",Te,l,oe),ze.target=V,ze.relatedTarget=zt,pe=ze),zt=pe,we&&Te)t:{for(ze=we,H=Te,$=0,V=ze;V;V=la(V))$++;for(V=0,pe=H;pe;pe=la(pe))V++;for(;0<$-V;)ze=la(ze),$--;for(;0<V-$;)H=la(H),V--;for(;$--;){if(ze===H||H!==null&&ze===H.alternate)break t;ze=la(ze),H=la(H)}ze=null}else ze=null;we!==null&&id(ce,se,we,ze,!1),Te!==null&&zt!==null&&id(ce,zt,Te,ze,!0)}}e:{if(se=W?oa(W):window,we=se.nodeName&&se.nodeName.toLowerCase(),we==="select"||we==="input"&&se.type==="file")var Pe=yf;else if(Bu(se))if(Hu)Pe=Ef;else{Pe=bf;var Ae=xf}else(we=se.nodeName)&&we.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Pe=vf);if(Pe&&(Pe=Pe(e,W))){Uu(ce,Pe,l,oe);break e}Ae&&Ae(e,se,W),e==="focusout"&&(Ae=se._wrapperState)&&Ae.controlled&&se.type==="number"&&_e(se,"number",se.value)}switch(Ae=W?oa(W):window,e){case"focusin":(Bu(Ae)||Ae.contentEditable==="true")&&(ra=Ae,jo=W,Ya=null);break;case"focusout":Ya=jo=ra=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,Yu(ce,l,oe);break;case"selectionchange":if(Nf)break;case"keydown":case"keyup":Yu(ce,l,oe)}var De;if(Ro)e:{switch(e){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else na?Fu(e,l)&&($e="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&($e="onCompositionStart");$e&&(Du&&l.locale!=="ko"&&(na||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&na&&(De=Iu()):(br=oe,To="value"in br?br.value:br.textContent,na=!0)),Ae=ss(W,$e),0<Ae.length&&($e=new Ru($e,e,null,l,oe),ce.push({event:$e,listeners:Ae}),De?$e.data=De:(De=$u(l),De!==null&&($e.data=De)))),(De=mf?gf(e,l):pf(e,l))&&(W=ss(W,"onBeforeInput"),0<W.length&&(oe=new Ru("onBeforeInput","beforeinput",null,l,oe),ce.push({event:oe,listeners:W}),oe.data=De))}sd(ce,n)})}function el(e,n,l){return{instance:e,listener:n,currentTarget:l}}function ss(e,n){for(var l=n+"Capture",i=[];e!==null;){var m=e,p=m.stateNode;m.tag===5&&p!==null&&(m=p,p=In(e,l),p!=null&&i.unshift(el(e,p,m)),p=In(e,n),p!=null&&i.push(el(e,p,m))),e=e.return}return i}function la(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function id(e,n,l,i,m){for(var p=n._reactName,b=[];l!==null&&l!==i;){var z=l,D=z.alternate,W=z.stateNode;if(D!==null&&D===i)break;z.tag===5&&W!==null&&(z=W,m?(D=In(l,p),D!=null&&b.unshift(el(l,D,z))):m||(D=In(l,p),D!=null&&b.push(el(l,D,z)))),l=l.return}b.length!==0&&e.push({event:n,listeners:b})}var Tf=/\r\n?/g,zf=/\u0000|\uFFFD/g;function cd(e){return(typeof e=="string"?e:""+e).replace(Tf,`
`).replace(zf,"")}function os(e,n,l){if(n=cd(n),cd(e)!==n&&l)throw Error(s(425))}function is(){}var Vo=null,Wo=null;function Ko(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Go=typeof setTimeout=="function"?setTimeout:void 0,Pf=typeof clearTimeout=="function"?clearTimeout:void 0,ud=typeof Promise=="function"?Promise:void 0,If=typeof queueMicrotask=="function"?queueMicrotask:typeof ud<"u"?function(e){return ud.resolve(null).then(e).catch(Lf)}:Go;function Lf(e){setTimeout(function(){throw e})}function Qo(e,n){var l=n,i=0;do{var m=l.nextSibling;if(e.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(i===0){e.removeChild(m),qa(n);return}i--}else l!=="$"&&l!=="$?"&&l!=="$!"||i++;l=m}while(l);qa(n)}function Er(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function dd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}var sa=Math.random().toString(36).slice(2),Vn="__reactFiber$"+sa,tl="__reactProps$"+sa,er="__reactContainer$"+sa,Jo="__reactEvents$"+sa,Mf="__reactListeners$"+sa,Rf="__reactHandles$"+sa;function Fr(e){var n=e[Vn];if(n)return n;for(var l=e.parentNode;l;){if(n=l[er]||l[Vn]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=dd(e);e!==null;){if(l=e[Vn])return l;e=dd(e)}return n}e=l,l=e.parentNode}return null}function nl(e){return e=e[Vn]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function cs(e){return e[tl]||null}var Yo=[],ia=-1;function kr(e){return{current:e}}function yt(e){0>ia||(e.current=Yo[ia],Yo[ia]=null,ia--)}function mt(e,n){ia++,Yo[ia]=e.current,e.current=n}var wr={},Vt=kr(wr),en=kr(!1),$r=wr;function ca(e,n){var l=e.type.contextTypes;if(!l)return wr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var m={},p;for(p in l)m[p]=n[p];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=m),m}function tn(e){return e=e.childContextTypes,e!=null}function us(){yt(en),yt(Vt)}function md(e,n,l){if(Vt.current!==wr)throw Error(s(168));mt(Vt,n),mt(en,l)}function gd(e,n,l){var i=e.stateNode;if(n=n.childContextTypes,typeof i.getChildContext!="function")return l;i=i.getChildContext();for(var m in i)if(!(m in n))throw Error(s(108,Fe(e)||"Unknown",m));return w({},l,i)}function ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wr,$r=Vt.current,mt(Vt,e),mt(en,en.current),!0}function pd(e,n,l){var i=e.stateNode;if(!i)throw Error(s(169));l?(e=gd(e,n,$r),i.__reactInternalMemoizedMergedChildContext=e,yt(en),yt(Vt),mt(Vt,e)):yt(en),mt(en,l)}var tr=null,ms=!1,Xo=!1;function fd(e){tr===null?tr=[e]:tr.push(e)}function Af(e){ms=!0,fd(e)}function Nr(){if(!Xo&&tr!==null){Xo=!0;var e=0,n=it;try{var l=tr;for(it=1;e<l.length;e++){var i=l[e];do i=i(!0);while(i!==null)}tr=null,ms=!1}catch(m){throw tr!==null&&(tr=tr.slice(e+1)),yu(vo,Nr),m}finally{it=n,Xo=!1}}return null}var ua=[],da=0,gs=null,ps=0,En=[],kn=0,Br=null,nr=1,rr="";function Ur(e,n){ua[da++]=ps,ua[da++]=gs,gs=e,ps=n}function hd(e,n,l){En[kn++]=nr,En[kn++]=rr,En[kn++]=Br,Br=e;var i=nr;e=rr;var m=32-Ln(i)-1;i&=~(1<<m),l+=1;var p=32-Ln(n)+m;if(30<p){var b=m-m%5;p=(i&(1<<b)-1).toString(32),i>>=b,m-=b,nr=1<<32-Ln(n)+m|l<<m|i,rr=p+e}else nr=1<<p|l<<m|i,rr=e}function Zo(e){e.return!==null&&(Ur(e,1),hd(e,1,0))}function ei(e){for(;e===gs;)gs=ua[--da],ua[da]=null,ps=ua[--da],ua[da]=null;for(;e===Br;)Br=En[--kn],En[kn]=null,rr=En[--kn],En[kn]=null,nr=En[--kn],En[kn]=null}var gn=null,pn=null,xt=!1,Rn=null;function yd(e,n){var l=Cn(5,null,null,0);l.elementType="DELETED",l.stateNode=n,l.return=e,n=e.deletions,n===null?(e.deletions=[l],e.flags|=16):n.push(l)}function xd(e,n){switch(e.tag){case 5:var l=e.type;return n=n.nodeType!==1||l.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,gn=e,pn=Er(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,gn=e,pn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(l=Br!==null?{id:nr,overflow:rr}:null,e.memoizedState={dehydrated:n,treeContext:l,retryLane:1073741824},l=Cn(18,null,null,0),l.stateNode=n,l.return=e,e.child=l,gn=e,pn=null,!0):!1;default:return!1}}function ti(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ni(e){if(xt){var n=pn;if(n){var l=n;if(!xd(e,n)){if(ti(e))throw Error(s(418));n=Er(l.nextSibling);var i=gn;n&&xd(e,n)?yd(i,l):(e.flags=e.flags&-4097|2,xt=!1,gn=e)}}else{if(ti(e))throw Error(s(418));e.flags=e.flags&-4097|2,xt=!1,gn=e}}}function bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gn=e}function fs(e){if(e!==gn)return!1;if(!xt)return bd(e),xt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ko(e.type,e.memoizedProps)),n&&(n=pn)){if(ti(e))throw vd(),Error(s(418));for(;n;)yd(e,n),n=Er(n.nextSibling)}if(bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"){if(n===0){pn=Er(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++}e=e.nextSibling}pn=null}}else pn=gn?Er(e.stateNode.nextSibling):null;return!0}function vd(){for(var e=pn;e;)e=Er(e.nextSibling)}function ma(){pn=gn=null,xt=!1}function ri(e){Rn===null?Rn=[e]:Rn.push(e)}var Df=q.ReactCurrentBatchConfig;function rl(e,n,l){if(e=l.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(s(309));var i=l.stateNode}if(!i)throw Error(s(147,e));var m=i,p=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(b){var z=m.refs;b===null?delete z[p]:z[p]=b},n._stringRef=p,n)}if(typeof e!="string")throw Error(s(284));if(!l._owner)throw Error(s(290,e))}return e}function hs(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Ed(e){var n=e._init;return n(e._payload)}function kd(e){function n(H,$){if(e){var V=H.deletions;V===null?(H.deletions=[$],H.flags|=16):V.push($)}}function l(H,$){if(!e)return null;for(;$!==null;)n(H,$),$=$.sibling;return null}function i(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function m(H,$){return H=Lr(H,$),H.index=0,H.sibling=null,H}function p(H,$,V){return H.index=V,e?(V=H.alternate,V!==null?(V=V.index,V<$?(H.flags|=2,$):V):(H.flags|=2,$)):(H.flags|=1048576,$)}function b(H){return e&&H.alternate===null&&(H.flags|=2),H}function z(H,$,V,pe){return $===null||$.tag!==6?($=Gi(V,H.mode,pe),$.return=H,$):($=m($,V),$.return=H,$)}function D(H,$,V,pe){var Pe=V.type;return Pe===Z?oe(H,$,V.props.children,pe,V.key):$!==null&&($.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===J&&Ed(Pe)===$.type)?(pe=m($,V.props),pe.ref=rl(H,$,V),pe.return=H,pe):(pe=$s(V.type,V.key,V.props,null,H.mode,pe),pe.ref=rl(H,$,V),pe.return=H,pe)}function W(H,$,V,pe){return $===null||$.tag!==4||$.stateNode.containerInfo!==V.containerInfo||$.stateNode.implementation!==V.implementation?($=Qi(V,H.mode,pe),$.return=H,$):($=m($,V.children||[]),$.return=H,$)}function oe(H,$,V,pe,Pe){return $===null||$.tag!==7?($=Jr(V,H.mode,pe,Pe),$.return=H,$):($=m($,V),$.return=H,$)}function ce(H,$,V){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Gi(""+$,H.mode,V),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case X:return V=$s($.type,$.key,$.props,null,H.mode,V),V.ref=rl(H,null,$),V.return=H,V;case L:return $=Qi($,H.mode,V),$.return=H,$;case J:var pe=$._init;return ce(H,pe($._payload),V)}if(fe($)||ue($))return $=Jr($,H.mode,V,null),$.return=H,$;hs(H,$)}return null}function se(H,$,V,pe){var Pe=$!==null?$.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return Pe!==null?null:z(H,$,""+V,pe);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case X:return V.key===Pe?D(H,$,V,pe):null;case L:return V.key===Pe?W(H,$,V,pe):null;case J:return Pe=V._init,se(H,$,Pe(V._payload),pe)}if(fe(V)||ue(V))return Pe!==null?null:oe(H,$,V,pe,null);hs(H,V)}return null}function we(H,$,V,pe,Pe){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return H=H.get(V)||null,z($,H,""+pe,Pe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case X:return H=H.get(pe.key===null?V:pe.key)||null,D($,H,pe,Pe);case L:return H=H.get(pe.key===null?V:pe.key)||null,W($,H,pe,Pe);case J:var Ae=pe._init;return we(H,$,V,Ae(pe._payload),Pe)}if(fe(pe)||ue(pe))return H=H.get(V)||null,oe($,H,pe,Pe,null);hs($,pe)}return null}function Te(H,$,V,pe){for(var Pe=null,Ae=null,De=$,$e=$=0,Ut=null;De!==null&&$e<V.length;$e++){De.index>$e?(Ut=De,De=null):Ut=De.sibling;var tt=se(H,De,V[$e],pe);if(tt===null){De===null&&(De=Ut);break}e&&De&&tt.alternate===null&&n(H,De),$=p(tt,$,$e),Ae===null?Pe=tt:Ae.sibling=tt,Ae=tt,De=Ut}if($e===V.length)return l(H,De),xt&&Ur(H,$e),Pe;if(De===null){for(;$e<V.length;$e++)De=ce(H,V[$e],pe),De!==null&&($=p(De,$,$e),Ae===null?Pe=De:Ae.sibling=De,Ae=De);return xt&&Ur(H,$e),Pe}for(De=i(H,De);$e<V.length;$e++)Ut=we(De,H,$e,V[$e],pe),Ut!==null&&(e&&Ut.alternate!==null&&De.delete(Ut.key===null?$e:Ut.key),$=p(Ut,$,$e),Ae===null?Pe=Ut:Ae.sibling=Ut,Ae=Ut);return e&&De.forEach(function(Mr){return n(H,Mr)}),xt&&Ur(H,$e),Pe}function ze(H,$,V,pe){var Pe=ue(V);if(typeof Pe!="function")throw Error(s(150));if(V=Pe.call(V),V==null)throw Error(s(151));for(var Ae=Pe=null,De=$,$e=$=0,Ut=null,tt=V.next();De!==null&&!tt.done;$e++,tt=V.next()){De.index>$e?(Ut=De,De=null):Ut=De.sibling;var Mr=se(H,De,tt.value,pe);if(Mr===null){De===null&&(De=Ut);break}e&&De&&Mr.alternate===null&&n(H,De),$=p(Mr,$,$e),Ae===null?Pe=Mr:Ae.sibling=Mr,Ae=Mr,De=Ut}if(tt.done)return l(H,De),xt&&Ur(H,$e),Pe;if(De===null){for(;!tt.done;$e++,tt=V.next())tt=ce(H,tt.value,pe),tt!==null&&($=p(tt,$,$e),Ae===null?Pe=tt:Ae.sibling=tt,Ae=tt);return xt&&Ur(H,$e),Pe}for(De=i(H,De);!tt.done;$e++,tt=V.next())tt=we(De,H,$e,tt.value,pe),tt!==null&&(e&&tt.alternate!==null&&De.delete(tt.key===null?$e:tt.key),$=p(tt,$,$e),Ae===null?Pe=tt:Ae.sibling=tt,Ae=tt);return e&&De.forEach(function(fh){return n(H,fh)}),xt&&Ur(H,$e),Pe}function zt(H,$,V,pe){if(typeof V=="object"&&V!==null&&V.type===Z&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case X:e:{for(var Pe=V.key,Ae=$;Ae!==null;){if(Ae.key===Pe){if(Pe=V.type,Pe===Z){if(Ae.tag===7){l(H,Ae.sibling),$=m(Ae,V.props.children),$.return=H,H=$;break e}}else if(Ae.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===J&&Ed(Pe)===Ae.type){l(H,Ae.sibling),$=m(Ae,V.props),$.ref=rl(H,Ae,V),$.return=H,H=$;break e}l(H,Ae);break}else n(H,Ae);Ae=Ae.sibling}V.type===Z?($=Jr(V.props.children,H.mode,pe,V.key),$.return=H,H=$):(pe=$s(V.type,V.key,V.props,null,H.mode,pe),pe.ref=rl(H,$,V),pe.return=H,H=pe)}return b(H);case L:e:{for(Ae=V.key;$!==null;){if($.key===Ae)if($.tag===4&&$.stateNode.containerInfo===V.containerInfo&&$.stateNode.implementation===V.implementation){l(H,$.sibling),$=m($,V.children||[]),$.return=H,H=$;break e}else{l(H,$);break}else n(H,$);$=$.sibling}$=Qi(V,H.mode,pe),$.return=H,H=$}return b(H);case J:return Ae=V._init,zt(H,$,Ae(V._payload),pe)}if(fe(V))return Te(H,$,V,pe);if(ue(V))return ze(H,$,V,pe);hs(H,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,$!==null&&$.tag===6?(l(H,$.sibling),$=m($,V),$.return=H,H=$):(l(H,$),$=Gi(V,H.mode,pe),$.return=H,H=$),b(H)):l(H,$)}return zt}var ga=kd(!0),wd=kd(!1),ys=kr(null),xs=null,pa=null,ai=null;function li(){ai=pa=xs=null}function si(e){var n=ys.current;yt(ys),e._currentValue=n}function oi(e,n,l){for(;e!==null;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===l)break;e=e.return}}function fa(e,n){xs=e,ai=pa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(nn=!0),e.firstContext=null)}function wn(e){var n=e._currentValue;if(ai!==e)if(e={context:e,memoizedValue:n,next:null},pa===null){if(xs===null)throw Error(s(308));pa=e,xs.dependencies={lanes:0,firstContext:e}}else pa=pa.next=e;return n}var Hr=null;function ii(e){Hr===null?Hr=[e]:Hr.push(e)}function Nd(e,n,l,i){var m=n.interleaved;return m===null?(l.next=l,ii(n)):(l.next=m.next,m.next=l),n.interleaved=l,ar(e,i)}function ar(e,n){e.lanes|=n;var l=e.alternate;for(l!==null&&(l.lanes|=n),l=e,e=e.return;e!==null;)e.childLanes|=n,l=e.alternate,l!==null&&(l.childLanes|=n),l=e,e=e.return;return l.tag===3?l.stateNode:null}var Sr=!1;function ci(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Cr(e,n,l){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ze&2)!==0){var m=i.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),i.pending=n,ar(e,l)}return m=i.interleaved,m===null?(n.next=n,ii(i)):(n.next=m.next,m.next=n),i.interleaved=n,ar(e,l)}function bs(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194240)!==0)){var i=n.lanes;i&=e.pendingLanes,l|=i,n.lanes=l,wo(e,l)}}function Cd(e,n){var l=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,l===i)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};p===null?m=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?m=p=n:p=p.next=n}else m=p=n;l={baseState:i.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:i.shared,effects:i.effects},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}function vs(e,n,l,i){var m=e.updateQueue;Sr=!1;var p=m.firstBaseUpdate,b=m.lastBaseUpdate,z=m.shared.pending;if(z!==null){m.shared.pending=null;var D=z,W=D.next;D.next=null,b===null?p=W:b.next=W,b=D;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,z=oe.lastBaseUpdate,z!==b&&(z===null?oe.firstBaseUpdate=W:z.next=W,oe.lastBaseUpdate=D))}if(p!==null){var ce=m.baseState;b=0,oe=W=D=null,z=p;do{var se=z.lane,we=z.eventTime;if((i&se)===se){oe!==null&&(oe=oe.next={eventTime:we,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Te=e,ze=z;switch(se=n,we=l,ze.tag){case 1:if(Te=ze.payload,typeof Te=="function"){ce=Te.call(we,ce,se);break e}ce=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ze.payload,se=typeof Te=="function"?Te.call(we,ce,se):Te,se==null)break e;ce=w({},ce,se);break e;case 2:Sr=!0}}z.callback!==null&&z.lane!==0&&(e.flags|=64,se=m.effects,se===null?m.effects=[z]:se.push(z))}else we={eventTime:we,lane:se,tag:z.tag,payload:z.payload,callback:z.callback,next:null},oe===null?(W=oe=we,D=ce):oe=oe.next=we,b|=se;if(z=z.next,z===null){if(z=m.shared.pending,z===null)break;se=z,z=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);if(oe===null&&(D=ce),m.baseState=D,m.firstBaseUpdate=W,m.lastBaseUpdate=oe,n=m.shared.interleaved,n!==null){m=n;do b|=m.lane,m=m.next;while(m!==n)}else p===null&&(m.shared.lanes=0);Wr|=b,e.lanes=b,e.memoizedState=ce}}function _d(e,n,l){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var i=e[n],m=i.callback;if(m!==null){if(i.callback=null,i=l,typeof m!="function")throw Error(s(191,m));m.call(i)}}}var al={},Wn=kr(al),ll=kr(al),sl=kr(al);function qr(e){if(e===al)throw Error(s(174));return e}function ui(e,n){switch(mt(sl,n),mt(ll,e),mt(Wn,al),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:U(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=U(n,e)}yt(Wn),mt(Wn,n)}function ha(){yt(Wn),yt(ll),yt(sl)}function Td(e){qr(sl.current);var n=qr(Wn.current),l=U(n,e.type);n!==l&&(mt(ll,e),mt(Wn,l))}function di(e){ll.current===e&&(yt(Wn),yt(ll))}var Nt=kr(0);function Es(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var mi=[];function gi(){for(var e=0;e<mi.length;e++)mi[e]._workInProgressVersionPrimary=null;mi.length=0}var ks=q.ReactCurrentDispatcher,pi=q.ReactCurrentBatchConfig,Vr=0,St=null,At=null,$t=null,ws=!1,ol=!1,il=0,Of=0;function Wt(){throw Error(s(321))}function fi(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Mn(e[l],n[l]))return!1;return!0}function hi(e,n,l,i,m,p){if(Vr=p,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ks.current=e===null||e.memoizedState===null?Bf:Uf,e=l(i,m),ol){p=0;do{if(ol=!1,il=0,25<=p)throw Error(s(301));p+=1,$t=At=null,n.updateQueue=null,ks.current=Hf,e=l(i,m)}while(ol)}if(ks.current=Cs,n=At!==null&&At.next!==null,Vr=0,$t=At=St=null,ws=!1,n)throw Error(s(300));return e}function yi(){var e=il!==0;return il=0,e}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?St.memoizedState=$t=e:$t=$t.next=e,$t}function Nn(){if(At===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var n=$t===null?St.memoizedState:$t.next;if(n!==null)$t=n,At=e;else{if(e===null)throw Error(s(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},$t===null?St.memoizedState=$t=e:$t=$t.next=e}return $t}function cl(e,n){return typeof n=="function"?n(e):n}function xi(e){var n=Nn(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var i=At,m=i.baseQueue,p=l.pending;if(p!==null){if(m!==null){var b=m.next;m.next=p.next,p.next=b}i.baseQueue=m=p,l.pending=null}if(m!==null){p=m.next,i=i.baseState;var z=b=null,D=null,W=p;do{var oe=W.lane;if((Vr&oe)===oe)D!==null&&(D=D.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),i=W.hasEagerState?W.eagerState:e(i,W.action);else{var ce={lane:oe,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};D===null?(z=D=ce,b=i):D=D.next=ce,St.lanes|=oe,Wr|=oe}W=W.next}while(W!==null&&W!==p);D===null?b=i:D.next=z,Mn(i,n.memoizedState)||(nn=!0),n.memoizedState=i,n.baseState=b,n.baseQueue=D,l.lastRenderedState=i}if(e=l.interleaved,e!==null){m=e;do p=m.lane,St.lanes|=p,Wr|=p,m=m.next;while(m!==e)}else m===null&&(l.lanes=0);return[n.memoizedState,l.dispatch]}function bi(e){var n=Nn(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var i=l.dispatch,m=l.pending,p=n.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do p=e(p,b.action),b=b.next;while(b!==m);Mn(p,n.memoizedState)||(nn=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),l.lastRenderedState=p}return[p,i]}function zd(){}function Pd(e,n){var l=St,i=Nn(),m=n(),p=!Mn(i.memoizedState,m);if(p&&(i.memoizedState=m,nn=!0),i=i.queue,vi(Md.bind(null,l,i,e),[e]),i.getSnapshot!==n||p||$t!==null&&$t.memoizedState.tag&1){if(l.flags|=2048,ul(9,Ld.bind(null,l,i,m,n),void 0,null),Bt===null)throw Error(s(349));(Vr&30)!==0||Id(l,n,m)}return m}function Id(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=St.updateQueue,n===null?(n={lastEffect:null,stores:null},St.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Ld(e,n,l,i){n.value=l,n.getSnapshot=i,Rd(n)&&Ad(e)}function Md(e,n,l){return l(function(){Rd(n)&&Ad(e)})}function Rd(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Mn(e,l)}catch{return!0}}function Ad(e){var n=ar(e,1);n!==null&&jn(n,e,1,-1)}function Dd(e){var n=Kn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:e},n.queue=e,e=e.dispatch=$f.bind(null,St,e),[n.memoizedState,e]}function ul(e,n,l,i){return e={tag:e,create:n,destroy:l,deps:i,next:null},n=St.updateQueue,n===null?(n={lastEffect:null,stores:null},St.updateQueue=n,n.lastEffect=e.next=e):(l=n.lastEffect,l===null?n.lastEffect=e.next=e:(i=l.next,l.next=e,e.next=i,n.lastEffect=e)),e}function Od(){return Nn().memoizedState}function Ns(e,n,l,i){var m=Kn();St.flags|=e,m.memoizedState=ul(1|n,l,void 0,i===void 0?null:i)}function Ss(e,n,l,i){var m=Nn();i=i===void 0?null:i;var p=void 0;if(At!==null){var b=At.memoizedState;if(p=b.destroy,i!==null&&fi(i,b.deps)){m.memoizedState=ul(n,l,p,i);return}}St.flags|=e,m.memoizedState=ul(1|n,l,p,i)}function jd(e,n){return Ns(8390656,8,e,n)}function vi(e,n){return Ss(2048,8,e,n)}function Fd(e,n){return Ss(4,2,e,n)}function $d(e,n){return Ss(4,4,e,n)}function Bd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ud(e,n,l){return l=l!=null?l.concat([e]):null,Ss(4,4,Bd.bind(null,n,e),l)}function Ei(){}function Hd(e,n){var l=Nn();n=n===void 0?null:n;var i=l.memoizedState;return i!==null&&n!==null&&fi(n,i[1])?i[0]:(l.memoizedState=[e,n],e)}function qd(e,n){var l=Nn();n=n===void 0?null:n;var i=l.memoizedState;return i!==null&&n!==null&&fi(n,i[1])?i[0]:(e=e(),l.memoizedState=[e,n],e)}function Vd(e,n,l){return(Vr&21)===0?(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=l):(Mn(l,n)||(l=Eu(),St.lanes|=l,Wr|=l,e.baseState=!0),n)}function jf(e,n){var l=it;it=l!==0&&4>l?l:4,e(!0);var i=pi.transition;pi.transition={};try{e(!1),n()}finally{it=l,pi.transition=i}}function Wd(){return Nn().memoizedState}function Ff(e,n,l){var i=Pr(e);if(l={lane:i,action:l,hasEagerState:!1,eagerState:null,next:null},Kd(e))Gd(n,l);else if(l=Nd(e,n,l,i),l!==null){var m=Xt();jn(l,e,i,m),Qd(l,n,i)}}function $f(e,n,l){var i=Pr(e),m={lane:i,action:l,hasEagerState:!1,eagerState:null,next:null};if(Kd(e))Gd(n,m);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var b=n.lastRenderedState,z=p(b,l);if(m.hasEagerState=!0,m.eagerState=z,Mn(z,b)){var D=n.interleaved;D===null?(m.next=m,ii(n)):(m.next=D.next,D.next=m),n.interleaved=m;return}}catch{}l=Nd(e,n,m,i),l!==null&&(m=Xt(),jn(l,e,i,m),Qd(l,n,i))}}function Kd(e){var n=e.alternate;return e===St||n!==null&&n===St}function Gd(e,n){ol=ws=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Qd(e,n,l){if((l&4194240)!==0){var i=n.lanes;i&=e.pendingLanes,l|=i,n.lanes=l,wo(e,l)}}var Cs={readContext:wn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},Bf={readContext:wn,useCallback:function(e,n){return Kn().memoizedState=[e,n===void 0?null:n],e},useContext:wn,useEffect:jd,useImperativeHandle:function(e,n,l){return l=l!=null?l.concat([e]):null,Ns(4194308,4,Bd.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Ns(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ns(4,2,e,n)},useMemo:function(e,n){var l=Kn();return n=n===void 0?null:n,e=e(),l.memoizedState=[e,n],e},useReducer:function(e,n,l){var i=Kn();return n=l!==void 0?l(n):n,i.memoizedState=i.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=Ff.bind(null,St,e),[i.memoizedState,e]},useRef:function(e){var n=Kn();return e={current:e},n.memoizedState=e},useState:Dd,useDebugValue:Ei,useDeferredValue:function(e){return Kn().memoizedState=e},useTransition:function(){var e=Dd(!1),n=e[0];return e=jf.bind(null,e[1]),Kn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,l){var i=St,m=Kn();if(xt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=n(),Bt===null)throw Error(s(349));(Vr&30)!==0||Id(i,n,l)}m.memoizedState=l;var p={value:l,getSnapshot:n};return m.queue=p,jd(Md.bind(null,i,p,e),[e]),i.flags|=2048,ul(9,Ld.bind(null,i,p,l,n),void 0,null),l},useId:function(){var e=Kn(),n=Bt.identifierPrefix;if(xt){var l=rr,i=nr;l=(i&~(1<<32-Ln(i)-1)).toString(32)+l,n=":"+n+"R"+l,l=il++,0<l&&(n+="H"+l.toString(32)),n+=":"}else l=Of++,n=":"+n+"r"+l.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Uf={readContext:wn,useCallback:Hd,useContext:wn,useEffect:vi,useImperativeHandle:Ud,useInsertionEffect:Fd,useLayoutEffect:$d,useMemo:qd,useReducer:xi,useRef:Od,useState:function(){return xi(cl)},useDebugValue:Ei,useDeferredValue:function(e){var n=Nn();return Vd(n,At.memoizedState,e)},useTransition:function(){var e=xi(cl)[0],n=Nn().memoizedState;return[e,n]},useMutableSource:zd,useSyncExternalStore:Pd,useId:Wd,unstable_isNewReconciler:!1},Hf={readContext:wn,useCallback:Hd,useContext:wn,useEffect:vi,useImperativeHandle:Ud,useInsertionEffect:Fd,useLayoutEffect:$d,useMemo:qd,useReducer:bi,useRef:Od,useState:function(){return bi(cl)},useDebugValue:Ei,useDeferredValue:function(e){var n=Nn();return At===null?n.memoizedState=e:Vd(n,At.memoizedState,e)},useTransition:function(){var e=bi(cl)[0],n=Nn().memoizedState;return[e,n]},useMutableSource:zd,useSyncExternalStore:Pd,useId:Wd,unstable_isNewReconciler:!1};function An(e,n){if(e&&e.defaultProps){n=w({},n),e=e.defaultProps;for(var l in e)n[l]===void 0&&(n[l]=e[l]);return n}return n}function ki(e,n,l,i){n=e.memoizedState,l=l(i,n),l=l==null?n:w({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var _s={isMounted:function(e){return(e=e._reactInternals)?jr(e)===e:!1},enqueueSetState:function(e,n,l){e=e._reactInternals;var i=Xt(),m=Pr(e),p=lr(i,m);p.payload=n,l!=null&&(p.callback=l),n=Cr(e,p,m),n!==null&&(jn(n,e,m,i),bs(n,e,m))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var i=Xt(),m=Pr(e),p=lr(i,m);p.tag=1,p.payload=n,l!=null&&(p.callback=l),n=Cr(e,p,m),n!==null&&(jn(n,e,m,i),bs(n,e,m))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Xt(),i=Pr(e),m=lr(l,i);m.tag=2,n!=null&&(m.callback=n),n=Cr(e,m,i),n!==null&&(jn(n,e,i,l),bs(n,e,i))}};function Jd(e,n,l,i,m,p,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,p,b):n.prototype&&n.prototype.isPureReactComponent?!Ja(l,i)||!Ja(m,p):!0}function Yd(e,n,l){var i=!1,m=wr,p=n.contextType;return typeof p=="object"&&p!==null?p=wn(p):(m=tn(n)?$r:Vt.current,i=n.contextTypes,p=(i=i!=null)?ca(e,m):wr),n=new n(l,p),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=_s,e.stateNode=n,n._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=m,e.__reactInternalMemoizedMaskedChildContext=p),n}function Xd(e,n,l,i){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,i),n.state!==e&&_s.enqueueReplaceState(n,n.state,null)}function wi(e,n,l,i){var m=e.stateNode;m.props=l,m.state=e.memoizedState,m.refs={},ci(e);var p=n.contextType;typeof p=="object"&&p!==null?m.context=wn(p):(p=tn(n)?$r:Vt.current,m.context=ca(e,p)),m.state=e.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(ki(e,n,p,l),m.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(n=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),n!==m.state&&_s.enqueueReplaceState(m,m.state,null),vs(e,l,m,i),m.state=e.memoizedState),typeof m.componentDidMount=="function"&&(e.flags|=4194308)}function ya(e,n){try{var l="",i=n;do l+=Ie(i),i=i.return;while(i);var m=l}catch(p){m=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:n,stack:m,digest:null}}function Ni(e,n,l){return{value:e,source:null,stack:l??null,digest:n??null}}function Si(e,n){try{console.error(n.value)}catch(l){setTimeout(function(){throw l})}}var qf=typeof WeakMap=="function"?WeakMap:Map;function Zd(e,n,l){l=lr(-1,l),l.tag=3,l.payload={element:null};var i=n.value;return l.callback=function(){Rs||(Rs=!0,$i=i),Si(e,n)},l}function em(e,n,l){l=lr(-1,l),l.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var m=n.value;l.payload=function(){return i(m)},l.callback=function(){Si(e,n)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(l.callback=function(){Si(e,n),typeof i!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var b=n.stack;this.componentDidCatch(n.value,{componentStack:b!==null?b:""})}),l}function tm(e,n,l){var i=e.pingCache;if(i===null){i=e.pingCache=new qf;var m=new Set;i.set(n,m)}else m=i.get(n),m===void 0&&(m=new Set,i.set(n,m));m.has(l)||(m.add(l),e=ah.bind(null,e,n,l),n.then(e,e))}function nm(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function rm(e,n,l,i,m){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(n=lr(-1,1),n.tag=2,Cr(l,n,1))),l.lanes|=1),e):(e.flags|=65536,e.lanes=m,e)}var Vf=q.ReactCurrentOwner,nn=!1;function Yt(e,n,l,i){n.child=e===null?wd(n,null,l,i):ga(n,e.child,l,i)}function am(e,n,l,i,m){l=l.render;var p=n.ref;return fa(n,m),i=hi(e,n,l,i,p,m),l=yi(),e!==null&&!nn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,sr(e,n,m)):(xt&&l&&Zo(n),n.flags|=1,Yt(e,n,i,m),n.child)}function lm(e,n,l,i,m){if(e===null){var p=l.type;return typeof p=="function"&&!Ki(p)&&p.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(n.tag=15,n.type=p,sm(e,n,p,i,m)):(e=$s(l.type,null,i,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,(e.lanes&m)===0){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:Ja,l(b,i)&&e.ref===n.ref)return sr(e,n,m)}return n.flags|=1,e=Lr(p,i),e.ref=n.ref,e.return=n,n.child=e}function sm(e,n,l,i,m){if(e!==null){var p=e.memoizedProps;if(Ja(p,i)&&e.ref===n.ref)if(nn=!1,n.pendingProps=i=p,(e.lanes&m)!==0)(e.flags&131072)!==0&&(nn=!0);else return n.lanes=e.lanes,sr(e,n,m)}return Ci(e,n,l,i,m)}function om(e,n,l){var i=n.pendingProps,m=i.children,p=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(ba,fn),fn|=l;else{if((l&1073741824)===0)return e=p!==null?p.baseLanes|l:l,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,mt(ba,fn),fn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=p!==null?p.baseLanes:l,mt(ba,fn),fn|=i}else p!==null?(i=p.baseLanes|l,n.memoizedState=null):i=l,mt(ba,fn),fn|=i;return Yt(e,n,m,l),n.child}function im(e,n){var l=n.ref;(e===null&&l!==null||e!==null&&e.ref!==l)&&(n.flags|=512,n.flags|=2097152)}function Ci(e,n,l,i,m){var p=tn(l)?$r:Vt.current;return p=ca(n,p),fa(n,m),l=hi(e,n,l,i,p,m),i=yi(),e!==null&&!nn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,sr(e,n,m)):(xt&&i&&Zo(n),n.flags|=1,Yt(e,n,l,m),n.child)}function cm(e,n,l,i,m){if(tn(l)){var p=!0;ds(n)}else p=!1;if(fa(n,m),n.stateNode===null)zs(e,n),Yd(n,l,i),wi(n,l,i,m),i=!0;else if(e===null){var b=n.stateNode,z=n.memoizedProps;b.props=z;var D=b.context,W=l.contextType;typeof W=="object"&&W!==null?W=wn(W):(W=tn(l)?$r:Vt.current,W=ca(n,W));var oe=l.getDerivedStateFromProps,ce=typeof oe=="function"||typeof b.getSnapshotBeforeUpdate=="function";ce||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(z!==i||D!==W)&&Xd(n,b,i,W),Sr=!1;var se=n.memoizedState;b.state=se,vs(n,i,b,m),D=n.memoizedState,z!==i||se!==D||en.current||Sr?(typeof oe=="function"&&(ki(n,l,oe,i),D=n.memoizedState),(z=Sr||Jd(n,l,z,i,se,D,W))?(ce||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=D),b.props=i,b.state=D,b.context=W,i=z):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{b=n.stateNode,Sd(e,n),z=n.memoizedProps,W=n.type===n.elementType?z:An(n.type,z),b.props=W,ce=n.pendingProps,se=b.context,D=l.contextType,typeof D=="object"&&D!==null?D=wn(D):(D=tn(l)?$r:Vt.current,D=ca(n,D));var we=l.getDerivedStateFromProps;(oe=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(z!==ce||se!==D)&&Xd(n,b,i,D),Sr=!1,se=n.memoizedState,b.state=se,vs(n,i,b,m);var Te=n.memoizedState;z!==ce||se!==Te||en.current||Sr?(typeof we=="function"&&(ki(n,l,we,i),Te=n.memoizedState),(W=Sr||Jd(n,l,W,i,se,Te,D)||!1)?(oe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(i,Te,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(i,Te,D)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||z===e.memoizedProps&&se===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||z===e.memoizedProps&&se===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=Te),b.props=i,b.state=Te,b.context=D,i=W):(typeof b.componentDidUpdate!="function"||z===e.memoizedProps&&se===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||z===e.memoizedProps&&se===e.memoizedState||(n.flags|=1024),i=!1)}return _i(e,n,l,i,p,m)}function _i(e,n,l,i,m,p){im(e,n);var b=(n.flags&128)!==0;if(!i&&!b)return m&&pd(n,l,!1),sr(e,n,p);i=n.stateNode,Vf.current=n;var z=b&&typeof l.getDerivedStateFromError!="function"?null:i.render();return n.flags|=1,e!==null&&b?(n.child=ga(n,e.child,null,p),n.child=ga(n,null,z,p)):Yt(e,n,z,p),n.memoizedState=i.state,m&&pd(n,l,!0),n.child}function um(e){var n=e.stateNode;n.pendingContext?md(e,n.pendingContext,n.pendingContext!==n.context):n.context&&md(e,n.context,!1),ui(e,n.containerInfo)}function dm(e,n,l,i,m){return ma(),ri(m),n.flags|=256,Yt(e,n,l,i),n.child}var Ti={dehydrated:null,treeContext:null,retryLane:0};function zi(e){return{baseLanes:e,cachePool:null,transitions:null}}function mm(e,n,l){var i=n.pendingProps,m=Nt.current,p=!1,b=(n.flags&128)!==0,z;if((z=b)||(z=e!==null&&e.memoizedState===null?!1:(m&2)!==0),z?(p=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(m|=1),mt(Nt,m&1),e===null)return ni(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(b=i.children,e=i.fallback,p?(i=n.mode,p=n.child,b={mode:"hidden",children:b},(i&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=b):p=Bs(b,i,0,null),e=Jr(e,i,l,null),p.return=n,e.return=n,p.sibling=e,n.child=p,n.child.memoizedState=zi(l),n.memoizedState=Ti,e):Pi(n,b));if(m=e.memoizedState,m!==null&&(z=m.dehydrated,z!==null))return Wf(e,n,b,i,z,m,l);if(p){p=i.fallback,b=n.mode,m=e.child,z=m.sibling;var D={mode:"hidden",children:i.children};return(b&1)===0&&n.child!==m?(i=n.child,i.childLanes=0,i.pendingProps=D,n.deletions=null):(i=Lr(m,D),i.subtreeFlags=m.subtreeFlags&14680064),z!==null?p=Lr(z,p):(p=Jr(p,b,l,null),p.flags|=2),p.return=n,i.return=n,i.sibling=p,n.child=i,i=p,p=n.child,b=e.child.memoizedState,b=b===null?zi(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},p.memoizedState=b,p.childLanes=e.childLanes&~l,n.memoizedState=Ti,i}return p=e.child,e=p.sibling,i=Lr(p,{mode:"visible",children:i.children}),(n.mode&1)===0&&(i.lanes=l),i.return=n,i.sibling=null,e!==null&&(l=n.deletions,l===null?(n.deletions=[e],n.flags|=16):l.push(e)),n.child=i,n.memoizedState=null,i}function Pi(e,n){return n=Bs({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ts(e,n,l,i){return i!==null&&ri(i),ga(n,e.child,null,l),e=Pi(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wf(e,n,l,i,m,p,b){if(l)return n.flags&256?(n.flags&=-257,i=Ni(Error(s(422))),Ts(e,n,b,i)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(p=i.fallback,m=n.mode,i=Bs({mode:"visible",children:i.children},m,0,null),p=Jr(p,m,b,null),p.flags|=2,i.return=n,p.return=n,i.sibling=p,n.child=i,(n.mode&1)!==0&&ga(n,e.child,null,b),n.child.memoizedState=zi(b),n.memoizedState=Ti,p);if((n.mode&1)===0)return Ts(e,n,b,null);if(m.data==="$!"){if(i=m.nextSibling&&m.nextSibling.dataset,i)var z=i.dgst;return i=z,p=Error(s(419)),i=Ni(p,i,void 0),Ts(e,n,b,i)}if(z=(b&e.childLanes)!==0,nn||z){if(i=Bt,i!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(i.suspendedLanes|b))!==0?0:m,m!==0&&m!==p.retryLane&&(p.retryLane=m,ar(e,m),jn(i,e,m,-1))}return Wi(),i=Ni(Error(s(421))),Ts(e,n,b,i)}return m.data==="$?"?(n.flags|=128,n.child=e.child,n=lh.bind(null,e),m._reactRetry=n,null):(e=p.treeContext,pn=Er(m.nextSibling),gn=n,xt=!0,Rn=null,e!==null&&(En[kn++]=nr,En[kn++]=rr,En[kn++]=Br,nr=e.id,rr=e.overflow,Br=n),n=Pi(n,i.children),n.flags|=4096,n)}function gm(e,n,l){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n),oi(e.return,n,l)}function Ii(e,n,l,i,m){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:l,tailMode:m}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=i,p.tail=l,p.tailMode=m)}function pm(e,n,l){var i=n.pendingProps,m=i.revealOrder,p=i.tail;if(Yt(e,n,i.children,l),i=Nt.current,(i&2)!==0)i=i&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gm(e,l,n);else if(e.tag===19)gm(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(mt(Nt,i),(n.mode&1)===0)n.memoizedState=null;else switch(m){case"forwards":for(l=n.child,m=null;l!==null;)e=l.alternate,e!==null&&Es(e)===null&&(m=l),l=l.sibling;l=m,l===null?(m=n.child,n.child=null):(m=l.sibling,l.sibling=null),Ii(n,!1,m,l,p);break;case"backwards":for(l=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Es(e)===null){n.child=m;break}e=m.sibling,m.sibling=l,l=m,m=e}Ii(n,!0,l,null,p);break;case"together":Ii(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zs(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function sr(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Wr|=n.lanes,(l&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,l=Lr(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Lr(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Kf(e,n,l){switch(n.tag){case 3:um(n),ma();break;case 5:Td(n);break;case 1:tn(n.type)&&ds(n);break;case 4:ui(n,n.stateNode.containerInfo);break;case 10:var i=n.type._context,m=n.memoizedProps.value;mt(ys,i._currentValue),i._currentValue=m;break;case 13:if(i=n.memoizedState,i!==null)return i.dehydrated!==null?(mt(Nt,Nt.current&1),n.flags|=128,null):(l&n.child.childLanes)!==0?mm(e,n,l):(mt(Nt,Nt.current&1),e=sr(e,n,l),e!==null?e.sibling:null);mt(Nt,Nt.current&1);break;case 19:if(i=(l&n.childLanes)!==0,(e.flags&128)!==0){if(i)return pm(e,n,l);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),mt(Nt,Nt.current),i)break;return null;case 22:case 23:return n.lanes=0,om(e,n,l)}return sr(e,n,l)}var fm,Li,hm,ym;fm=function(e,n){for(var l=n.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Li=function(){},hm=function(e,n,l,i){var m=e.memoizedProps;if(m!==i){e=n.stateNode,qr(Wn.current);var p=null;switch(l){case"input":m=de(e,m),i=de(e,i),p=[];break;case"select":m=w({},m,{value:void 0}),i=w({},i,{value:void 0}),p=[];break;case"textarea":m=Ve(e,m),i=Ve(e,i),p=[];break;default:typeof m.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=is)}Xe(l,i);var b;l=null;for(W in m)if(!i.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var z=m[W];for(b in z)z.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(c.hasOwnProperty(W)?p||(p=[]):(p=p||[]).push(W,null));for(W in i){var D=i[W];if(z=m?.[W],i.hasOwnProperty(W)&&D!==z&&(D!=null||z!=null))if(W==="style")if(z){for(b in z)!z.hasOwnProperty(b)||D&&D.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in D)D.hasOwnProperty(b)&&z[b]!==D[b]&&(l||(l={}),l[b]=D[b])}else l||(p||(p=[]),p.push(W,l)),l=D;else W==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,z=z?z.__html:void 0,D!=null&&z!==D&&(p=p||[]).push(W,D)):W==="children"?typeof D!="string"&&typeof D!="number"||(p=p||[]).push(W,""+D):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(c.hasOwnProperty(W)?(D!=null&&W==="onScroll"&&ht("scroll",e),p||z===D||(p=[])):(p=p||[]).push(W,D))}l&&(p=p||[]).push("style",l);var W=p;(n.updateQueue=W)&&(n.flags|=4)}},ym=function(e,n,l,i){l!==i&&(n.flags|=4)};function dl(e,n){if(!xt)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var i=null;l!==null;)l.alternate!==null&&(i=l),l=l.sibling;i===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Kt(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,i=0;if(n)for(var m=e.child;m!==null;)l|=m.lanes|m.childLanes,i|=m.subtreeFlags&14680064,i|=m.flags&14680064,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)l|=m.lanes|m.childLanes,i|=m.subtreeFlags,i|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=i,e.childLanes=l,n}function Gf(e,n,l){var i=n.pendingProps;switch(ei(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(n),null;case 1:return tn(n.type)&&us(),Kt(n),null;case 3:return i=n.stateNode,ha(),yt(en),yt(Vt),gi(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(fs(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rn!==null&&(Hi(Rn),Rn=null))),Li(e,n),Kt(n),null;case 5:di(n);var m=qr(sl.current);if(l=n.type,e!==null&&n.stateNode!=null)hm(e,n,l,i,m),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!i){if(n.stateNode===null)throw Error(s(166));return Kt(n),null}if(e=qr(Wn.current),fs(n)){i=n.stateNode,l=n.type;var p=n.memoizedProps;switch(i[Vn]=n,i[tl]=p,e=(n.mode&1)!==0,l){case"dialog":ht("cancel",i),ht("close",i);break;case"iframe":case"object":case"embed":ht("load",i);break;case"video":case"audio":for(m=0;m<Xa.length;m++)ht(Xa[m],i);break;case"source":ht("error",i);break;case"img":case"image":case"link":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"input":Ye(i,p),ht("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!p.multiple},ht("invalid",i);break;case"textarea":at(i,p),ht("invalid",i)}Xe(l,p),m=null;for(var b in p)if(p.hasOwnProperty(b)){var z=p[b];b==="children"?typeof z=="string"?i.textContent!==z&&(p.suppressHydrationWarning!==!0&&os(i.textContent,z,e),m=["children",z]):typeof z=="number"&&i.textContent!==""+z&&(p.suppressHydrationWarning!==!0&&os(i.textContent,z,e),m=["children",""+z]):c.hasOwnProperty(b)&&z!=null&&b==="onScroll"&&ht("scroll",i)}switch(l){case"input":Ue(i),te(i,p,!0);break;case"textarea":Ue(i),T(i);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(i.onclick=is)}i=m,n.updateQueue=i,i!==null&&(n.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=I(l)),e==="http://www.w3.org/1999/xhtml"?l==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=b.createElement(l,{is:i.is}):(e=b.createElement(l),l==="select"&&(b=e,i.multiple?b.multiple=!0:i.size&&(b.size=i.size))):e=b.createElementNS(e,l),e[Vn]=n,e[tl]=i,fm(e,n,!1,!1),n.stateNode=e;e:{switch(b=kt(l,i),l){case"dialog":ht("cancel",e),ht("close",e),m=i;break;case"iframe":case"object":case"embed":ht("load",e),m=i;break;case"video":case"audio":for(m=0;m<Xa.length;m++)ht(Xa[m],e);m=i;break;case"source":ht("error",e),m=i;break;case"img":case"image":case"link":ht("error",e),ht("load",e),m=i;break;case"details":ht("toggle",e),m=i;break;case"input":Ye(e,i),m=de(e,i),ht("invalid",e);break;case"option":m=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},m=w({},i,{value:void 0}),ht("invalid",e);break;case"textarea":at(e,i),m=Ve(e,i),ht("invalid",e);break;default:m=i}Xe(l,m),z=m;for(p in z)if(z.hasOwnProperty(p)){var D=z[p];p==="style"?It(e,D):p==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&he(e,D)):p==="children"?typeof D=="string"?(l!=="textarea"||D!=="")&&Me(e,D):typeof D=="number"&&Me(e,""+D):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(c.hasOwnProperty(p)?D!=null&&p==="onScroll"&&ht("scroll",e):D!=null&&A(e,p,D,b))}switch(l){case"input":Ue(e),te(e,i,!1);break;case"textarea":Ue(e),T(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Le(i.value));break;case"select":e.multiple=!!i.multiple,p=i.value,p!=null?He(e,!!i.multiple,p,!1):i.defaultValue!=null&&He(e,!!i.multiple,i.defaultValue,!0);break;default:typeof m.onClick=="function"&&(e.onclick=is)}switch(l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Kt(n),null;case 6:if(e&&n.stateNode!=null)ym(e,n,e.memoizedProps,i);else{if(typeof i!="string"&&n.stateNode===null)throw Error(s(166));if(l=qr(sl.current),qr(Wn.current),fs(n)){if(i=n.stateNode,l=n.memoizedProps,i[Vn]=n,(p=i.nodeValue!==l)&&(e=gn,e!==null))switch(e.tag){case 3:os(i.nodeValue,l,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&os(i.nodeValue,l,(e.mode&1)!==0)}p&&(n.flags|=4)}else i=(l.nodeType===9?l:l.ownerDocument).createTextNode(i),i[Vn]=n,n.stateNode=i}return Kt(n),null;case 13:if(yt(Nt),i=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xt&&pn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)vd(),ma(),n.flags|=98560,p=!1;else if(p=fs(n),i!==null&&i.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Vn]=n}else ma(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Kt(n),p=!1}else Rn!==null&&(Hi(Rn),Rn=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=l,n):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Nt.current&1)!==0?Dt===0&&(Dt=3):Wi())),n.updateQueue!==null&&(n.flags|=4),Kt(n),null);case 4:return ha(),Li(e,n),e===null&&Za(n.stateNode.containerInfo),Kt(n),null;case 10:return si(n.type._context),Kt(n),null;case 17:return tn(n.type)&&us(),Kt(n),null;case 19:if(yt(Nt),p=n.memoizedState,p===null)return Kt(n),null;if(i=(n.flags&128)!==0,b=p.rendering,b===null)if(i)dl(p,!1);else{if(Dt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(b=Es(e),b!==null){for(n.flags|=128,dl(p,!1),i=b.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),n.subtreeFlags=0,i=l,l=n.child;l!==null;)p=l,e=i,p.flags&=14680066,b=p.alternate,b===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=b.childLanes,p.lanes=b.lanes,p.child=b.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=b.memoizedProps,p.memoizedState=b.memoizedState,p.updateQueue=b.updateQueue,p.type=b.type,e=b.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return mt(Nt,Nt.current&1|2),n.child}e=e.sibling}p.tail!==null&&Tt()>va&&(n.flags|=128,i=!0,dl(p,!1),n.lanes=4194304)}else{if(!i)if(e=Es(b),e!==null){if(n.flags|=128,i=!0,l=e.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),dl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!xt)return Kt(n),null}else 2*Tt()-p.renderingStartTime>va&&l!==1073741824&&(n.flags|=128,i=!0,dl(p,!1),n.lanes=4194304);p.isBackwards?(b.sibling=n.child,n.child=b):(l=p.last,l!==null?l.sibling=b:n.child=b,p.last=b)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=Tt(),n.sibling=null,l=Nt.current,mt(Nt,i?l&1|2:l&1),n):(Kt(n),null);case 22:case 23:return Vi(),i=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(n.flags|=8192),i&&(n.mode&1)!==0?(fn&1073741824)!==0&&(Kt(n),n.subtreeFlags&6&&(n.flags|=8192)):Kt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function Qf(e,n){switch(ei(n),n.tag){case 1:return tn(n.type)&&us(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ha(),yt(en),yt(Vt),gi(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return di(n),null;case 13:if(yt(Nt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ma()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return yt(Nt),null;case 4:return ha(),null;case 10:return si(n.type._context),null;case 22:case 23:return Vi(),null;case 24:return null;default:return null}}var Ps=!1,Gt=!1,Jf=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function xa(e,n){var l=e.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(i){_t(e,n,i)}else l.current=null}function Mi(e,n,l){try{l()}catch(i){_t(e,n,i)}}var xm=!1;function Yf(e,n){if(Vo=Jl,e=Ju(),Oo(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var i=l.getSelection&&l.getSelection();if(i&&i.rangeCount!==0){l=i.anchorNode;var m=i.anchorOffset,p=i.focusNode;i=i.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var b=0,z=-1,D=-1,W=0,oe=0,ce=e,se=null;t:for(;;){for(var we;ce!==l||m!==0&&ce.nodeType!==3||(z=b+m),ce!==p||i!==0&&ce.nodeType!==3||(D=b+i),ce.nodeType===3&&(b+=ce.nodeValue.length),(we=ce.firstChild)!==null;)se=ce,ce=we;for(;;){if(ce===e)break t;if(se===l&&++W===m&&(z=b),se===p&&++oe===i&&(D=b),(we=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=we}l=z===-1||D===-1?null:{start:z,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wo={focusedElem:e,selectionRange:l},Jl=!1,Ce=n;Ce!==null;)if(n=Ce,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ce=e;else for(;Ce!==null;){n=Ce;try{var Te=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var ze=Te.memoizedProps,zt=Te.memoizedState,H=n.stateNode,$=H.getSnapshotBeforeUpdate(n.elementType===n.type?ze:An(n.type,ze),zt);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var V=n.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(pe){_t(n,n.return,pe)}if(e=n.sibling,e!==null){e.return=n.return,Ce=e;break}Ce=n.return}return Te=xm,xm=!1,Te}function ml(e,n,l){var i=n.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var m=i=i.next;do{if((m.tag&e)===e){var p=m.destroy;m.destroy=void 0,p!==void 0&&Mi(n,l,p)}m=m.next}while(m!==i)}}function Is(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var i=l.create;l.destroy=i()}l=l.next}while(l!==n)}}function Ri(e){var n=e.ref;if(n!==null){var l=e.stateNode;e.tag,e=l,typeof n=="function"?n(e):n.current=e}}function bm(e){var n=e.alternate;n!==null&&(e.alternate=null,bm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Vn],delete n[tl],delete n[Jo],delete n[Mf],delete n[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vm(e){return e.tag===5||e.tag===3||e.tag===4}function Em(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ai(e,n,l){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?l.nodeType===8?l.parentNode.insertBefore(e,n):l.insertBefore(e,n):(l.nodeType===8?(n=l.parentNode,n.insertBefore(e,l)):(n=l,n.appendChild(e)),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=is));else if(i!==4&&(e=e.child,e!==null))for(Ai(e,n,l),e=e.sibling;e!==null;)Ai(e,n,l),e=e.sibling}function Di(e,n,l){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Di(e,n,l),e=e.sibling;e!==null;)Di(e,n,l),e=e.sibling}var Ht=null,Dn=!1;function _r(e,n,l){for(l=l.child;l!==null;)km(e,n,l),l=l.sibling}function km(e,n,l){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(ql,l)}catch{}switch(l.tag){case 5:Gt||xa(l,n);case 6:var i=Ht,m=Dn;Ht=null,_r(e,n,l),Ht=i,Dn=m,Ht!==null&&(Dn?(e=Ht,l=l.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)):Ht.removeChild(l.stateNode));break;case 18:Ht!==null&&(Dn?(e=Ht,l=l.stateNode,e.nodeType===8?Qo(e.parentNode,l):e.nodeType===1&&Qo(e,l),qa(e)):Qo(Ht,l.stateNode));break;case 4:i=Ht,m=Dn,Ht=l.stateNode.containerInfo,Dn=!0,_r(e,n,l),Ht=i,Dn=m;break;case 0:case 11:case 14:case 15:if(!Gt&&(i=l.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){m=i=i.next;do{var p=m,b=p.destroy;p=p.tag,b!==void 0&&((p&2)!==0||(p&4)!==0)&&Mi(l,n,b),m=m.next}while(m!==i)}_r(e,n,l);break;case 1:if(!Gt&&(xa(l,n),i=l.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=l.memoizedProps,i.state=l.memoizedState,i.componentWillUnmount()}catch(z){_t(l,n,z)}_r(e,n,l);break;case 21:_r(e,n,l);break;case 22:l.mode&1?(Gt=(i=Gt)||l.memoizedState!==null,_r(e,n,l),Gt=i):_r(e,n,l);break;default:_r(e,n,l)}}function wm(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var l=e.stateNode;l===null&&(l=e.stateNode=new Jf),n.forEach(function(i){var m=sh.bind(null,e,i);l.has(i)||(l.add(i),i.then(m,m))})}}function On(e,n){var l=n.deletions;if(l!==null)for(var i=0;i<l.length;i++){var m=l[i];try{var p=e,b=n,z=b;e:for(;z!==null;){switch(z.tag){case 5:Ht=z.stateNode,Dn=!1;break e;case 3:Ht=z.stateNode.containerInfo,Dn=!0;break e;case 4:Ht=z.stateNode.containerInfo,Dn=!0;break e}z=z.return}if(Ht===null)throw Error(s(160));km(p,b,m),Ht=null,Dn=!1;var D=m.alternate;D!==null&&(D.return=null),m.return=null}catch(W){_t(m,n,W)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Nm(n,e),n=n.sibling}function Nm(e,n){var l=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(n,e),Gn(e),i&4){try{ml(3,e,e.return),Is(3,e)}catch(ze){_t(e,e.return,ze)}try{ml(5,e,e.return)}catch(ze){_t(e,e.return,ze)}}break;case 1:On(n,e),Gn(e),i&512&&l!==null&&xa(l,l.return);break;case 5:if(On(n,e),Gn(e),i&512&&l!==null&&xa(l,l.return),e.flags&32){var m=e.stateNode;try{Me(m,"")}catch(ze){_t(e,e.return,ze)}}if(i&4&&(m=e.stateNode,m!=null)){var p=e.memoizedProps,b=l!==null?l.memoizedProps:p,z=e.type,D=e.updateQueue;if(e.updateQueue=null,D!==null)try{z==="input"&&p.type==="radio"&&p.name!=null&&We(m,p),kt(z,b);var W=kt(z,p);for(b=0;b<D.length;b+=2){var oe=D[b],ce=D[b+1];oe==="style"?It(m,ce):oe==="dangerouslySetInnerHTML"?he(m,ce):oe==="children"?Me(m,ce):A(m,oe,ce,W)}switch(z){case"input":Q(m,p);break;case"textarea":ut(m,p);break;case"select":var se=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!p.multiple;var we=p.value;we!=null?He(m,!!p.multiple,we,!1):se!==!!p.multiple&&(p.defaultValue!=null?He(m,!!p.multiple,p.defaultValue,!0):He(m,!!p.multiple,p.multiple?[]:"",!1))}m[tl]=p}catch(ze){_t(e,e.return,ze)}}break;case 6:if(On(n,e),Gn(e),i&4){if(e.stateNode===null)throw Error(s(162));m=e.stateNode,p=e.memoizedProps;try{m.nodeValue=p}catch(ze){_t(e,e.return,ze)}}break;case 3:if(On(n,e),Gn(e),i&4&&l!==null&&l.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(ze){_t(e,e.return,ze)}break;case 4:On(n,e),Gn(e);break;case 13:On(n,e),Gn(e),m=e.child,m.flags&8192&&(p=m.memoizedState!==null,m.stateNode.isHidden=p,!p||m.alternate!==null&&m.alternate.memoizedState!==null||(Fi=Tt())),i&4&&wm(e);break;case 22:if(oe=l!==null&&l.memoizedState!==null,e.mode&1?(Gt=(W=Gt)||oe,On(n,e),Gt=W):On(n,e),Gn(e),i&8192){if(W=e.memoizedState!==null,(e.stateNode.isHidden=W)&&!oe&&(e.mode&1)!==0)for(Ce=e,oe=e.child;oe!==null;){for(ce=Ce=oe;Ce!==null;){switch(se=Ce,we=se.child,se.tag){case 0:case 11:case 14:case 15:ml(4,se,se.return);break;case 1:xa(se,se.return);var Te=se.stateNode;if(typeof Te.componentWillUnmount=="function"){i=se,l=se.return;try{n=i,Te.props=n.memoizedProps,Te.state=n.memoizedState,Te.componentWillUnmount()}catch(ze){_t(i,l,ze)}}break;case 5:xa(se,se.return);break;case 22:if(se.memoizedState!==null){_m(ce);continue}}we!==null?(we.return=se,Ce=we):_m(ce)}oe=oe.sibling}e:for(oe=null,ce=e;;){if(ce.tag===5){if(oe===null){oe=ce;try{m=ce.stateNode,W?(p=m.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(z=ce.stateNode,D=ce.memoizedProps.style,b=D!=null&&D.hasOwnProperty("display")?D.display:null,z.style.display=Ke("display",b))}catch(ze){_t(e,e.return,ze)}}}else if(ce.tag===6){if(oe===null)try{ce.stateNode.nodeValue=W?"":ce.memoizedProps}catch(ze){_t(e,e.return,ze)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===e)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===e)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===e)break e;oe===ce&&(oe=null),ce=ce.return}oe===ce&&(oe=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:On(n,e),Gn(e),i&4&&wm(e);break;case 21:break;default:On(n,e),Gn(e)}}function Gn(e){var n=e.flags;if(n&2){try{e:{for(var l=e.return;l!==null;){if(vm(l)){var i=l;break e}l=l.return}throw Error(s(160))}switch(i.tag){case 5:var m=i.stateNode;i.flags&32&&(Me(m,""),i.flags&=-33);var p=Em(e);Di(e,p,m);break;case 3:case 4:var b=i.stateNode.containerInfo,z=Em(e);Ai(e,z,b);break;default:throw Error(s(161))}}catch(D){_t(e,e.return,D)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Xf(e,n,l){Ce=e,Sm(e)}function Sm(e,n,l){for(var i=(e.mode&1)!==0;Ce!==null;){var m=Ce,p=m.child;if(m.tag===22&&i){var b=m.memoizedState!==null||Ps;if(!b){var z=m.alternate,D=z!==null&&z.memoizedState!==null||Gt;z=Ps;var W=Gt;if(Ps=b,(Gt=D)&&!W)for(Ce=m;Ce!==null;)b=Ce,D=b.child,b.tag===22&&b.memoizedState!==null?Tm(m):D!==null?(D.return=b,Ce=D):Tm(m);for(;p!==null;)Ce=p,Sm(p),p=p.sibling;Ce=m,Ps=z,Gt=W}Cm(e)}else(m.subtreeFlags&8772)!==0&&p!==null?(p.return=m,Ce=p):Cm(e)}}function Cm(e){for(;Ce!==null;){var n=Ce;if((n.flags&8772)!==0){var l=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Gt||Is(5,n);break;case 1:var i=n.stateNode;if(n.flags&4&&!Gt)if(l===null)i.componentDidMount();else{var m=n.elementType===n.type?l.memoizedProps:An(n.type,l.memoizedProps);i.componentDidUpdate(m,l.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&_d(n,p,i);break;case 3:var b=n.updateQueue;if(b!==null){if(l=null,n.child!==null)switch(n.child.tag){case 5:l=n.child.stateNode;break;case 1:l=n.child.stateNode}_d(n,b,l)}break;case 5:var z=n.stateNode;if(l===null&&n.flags&4){l=z;var D=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&l.focus();break;case"img":D.src&&(l.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var W=n.alternate;if(W!==null){var oe=W.memoizedState;if(oe!==null){var ce=oe.dehydrated;ce!==null&&qa(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Gt||n.flags&512&&Ri(n)}catch(se){_t(n,n.return,se)}}if(n===e){Ce=null;break}if(l=n.sibling,l!==null){l.return=n.return,Ce=l;break}Ce=n.return}}function _m(e){for(;Ce!==null;){var n=Ce;if(n===e){Ce=null;break}var l=n.sibling;if(l!==null){l.return=n.return,Ce=l;break}Ce=n.return}}function Tm(e){for(;Ce!==null;){var n=Ce;try{switch(n.tag){case 0:case 11:case 15:var l=n.return;try{Is(4,n)}catch(D){_t(n,l,D)}break;case 1:var i=n.stateNode;if(typeof i.componentDidMount=="function"){var m=n.return;try{i.componentDidMount()}catch(D){_t(n,m,D)}}var p=n.return;try{Ri(n)}catch(D){_t(n,p,D)}break;case 5:var b=n.return;try{Ri(n)}catch(D){_t(n,b,D)}}}catch(D){_t(n,n.return,D)}if(n===e){Ce=null;break}var z=n.sibling;if(z!==null){z.return=n.return,Ce=z;break}Ce=n.return}}var Zf=Math.ceil,Ls=q.ReactCurrentDispatcher,Oi=q.ReactCurrentOwner,Sn=q.ReactCurrentBatchConfig,Ze=0,Bt=null,Mt=null,qt=0,fn=0,ba=kr(0),Dt=0,gl=null,Wr=0,Ms=0,ji=0,pl=null,rn=null,Fi=0,va=1/0,or=null,Rs=!1,$i=null,Tr=null,As=!1,zr=null,Ds=0,fl=0,Bi=null,Os=-1,js=0;function Xt(){return(Ze&6)!==0?Tt():Os!==-1?Os:Os=Tt()}function Pr(e){return(e.mode&1)===0?1:(Ze&2)!==0&&qt!==0?qt&-qt:Df.transition!==null?(js===0&&(js=Eu()),js):(e=it,e!==0||(e=window.event,e=e===void 0?16:Pu(e.type)),e)}function jn(e,n,l,i){if(50<fl)throw fl=0,Bi=null,Error(s(185));Fa(e,l,i),((Ze&2)===0||e!==Bt)&&(e===Bt&&((Ze&2)===0&&(Ms|=l),Dt===4&&Ir(e,qt)),an(e,i),l===1&&Ze===0&&(n.mode&1)===0&&(va=Tt()+500,ms&&Nr()))}function an(e,n){var l=e.callbackNode;A0(e,n);var i=Kl(e,e===Bt?qt:0);if(i===0)l!==null&&xu(l),e.callbackNode=null,e.callbackPriority=0;else if(n=i&-i,e.callbackPriority!==n){if(l!=null&&xu(l),n===1)e.tag===0?Af(Pm.bind(null,e)):fd(Pm.bind(null,e)),If(function(){(Ze&6)===0&&Nr()}),l=null;else{switch(ku(i)){case 1:l=vo;break;case 4:l=bu;break;case 16:l=Hl;break;case 536870912:l=vu;break;default:l=Hl}l=jm(l,zm.bind(null,e))}e.callbackPriority=n,e.callbackNode=l}}function zm(e,n){if(Os=-1,js=0,(Ze&6)!==0)throw Error(s(327));var l=e.callbackNode;if(Ea()&&e.callbackNode!==l)return null;var i=Kl(e,e===Bt?qt:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||n)n=Fs(e,i);else{n=i;var m=Ze;Ze|=2;var p=Lm();(Bt!==e||qt!==n)&&(or=null,va=Tt()+500,Gr(e,n));do try{nh();break}catch(z){Im(e,z)}while(!0);li(),Ls.current=p,Ze=m,Mt!==null?n=0:(Bt=null,qt=0,n=Dt)}if(n!==0){if(n===2&&(m=Eo(e),m!==0&&(i=m,n=Ui(e,m))),n===1)throw l=gl,Gr(e,0),Ir(e,i),an(e,Tt()),l;if(n===6)Ir(e,i);else{if(m=e.current.alternate,(i&30)===0&&!eh(m)&&(n=Fs(e,i),n===2&&(p=Eo(e),p!==0&&(i=p,n=Ui(e,p))),n===1))throw l=gl,Gr(e,0),Ir(e,i),an(e,Tt()),l;switch(e.finishedWork=m,e.finishedLanes=i,n){case 0:case 1:throw Error(s(345));case 2:Qr(e,rn,or);break;case 3:if(Ir(e,i),(i&130023424)===i&&(n=Fi+500-Tt(),10<n)){if(Kl(e,0)!==0)break;if(m=e.suspendedLanes,(m&i)!==i){Xt(),e.pingedLanes|=e.suspendedLanes&m;break}e.timeoutHandle=Go(Qr.bind(null,e,rn,or),n);break}Qr(e,rn,or);break;case 4:if(Ir(e,i),(i&4194240)===i)break;for(n=e.eventTimes,m=-1;0<i;){var b=31-Ln(i);p=1<<b,b=n[b],b>m&&(m=b),i&=~p}if(i=m,i=Tt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Zf(i/1960))-i,10<i){e.timeoutHandle=Go(Qr.bind(null,e,rn,or),i);break}Qr(e,rn,or);break;case 5:Qr(e,rn,or);break;default:throw Error(s(329))}}}return an(e,Tt()),e.callbackNode===l?zm.bind(null,e):null}function Ui(e,n){var l=pl;return e.current.memoizedState.isDehydrated&&(Gr(e,n).flags|=256),e=Fs(e,n),e!==2&&(n=rn,rn=l,n!==null&&Hi(n)),e}function Hi(e){rn===null?rn=e:rn.push.apply(rn,e)}function eh(e){for(var n=e;;){if(n.flags&16384){var l=n.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var i=0;i<l.length;i++){var m=l[i],p=m.getSnapshot;m=m.value;try{if(!Mn(p(),m))return!1}catch{return!1}}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ir(e,n){for(n&=~ji,n&=~Ms,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var l=31-Ln(n),i=1<<l;e[l]=-1,n&=~i}}function Pm(e){if((Ze&6)!==0)throw Error(s(327));Ea();var n=Kl(e,0);if((n&1)===0)return an(e,Tt()),null;var l=Fs(e,n);if(e.tag!==0&&l===2){var i=Eo(e);i!==0&&(n=i,l=Ui(e,i))}if(l===1)throw l=gl,Gr(e,0),Ir(e,n),an(e,Tt()),l;if(l===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Qr(e,rn,or),an(e,Tt()),null}function qi(e,n){var l=Ze;Ze|=1;try{return e(n)}finally{Ze=l,Ze===0&&(va=Tt()+500,ms&&Nr())}}function Kr(e){zr!==null&&zr.tag===0&&(Ze&6)===0&&Ea();var n=Ze;Ze|=1;var l=Sn.transition,i=it;try{if(Sn.transition=null,it=1,e)return e()}finally{it=i,Sn.transition=l,Ze=n,(Ze&6)===0&&Nr()}}function Vi(){fn=ba.current,yt(ba)}function Gr(e,n){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;if(l!==-1&&(e.timeoutHandle=-1,Pf(l)),Mt!==null)for(l=Mt.return;l!==null;){var i=l;switch(ei(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&us();break;case 3:ha(),yt(en),yt(Vt),gi();break;case 5:di(i);break;case 4:ha();break;case 13:yt(Nt);break;case 19:yt(Nt);break;case 10:si(i.type._context);break;case 22:case 23:Vi()}l=l.return}if(Bt=e,Mt=e=Lr(e.current,null),qt=fn=n,Dt=0,gl=null,ji=Ms=Wr=0,rn=pl=null,Hr!==null){for(n=0;n<Hr.length;n++)if(l=Hr[n],i=l.interleaved,i!==null){l.interleaved=null;var m=i.next,p=l.pending;if(p!==null){var b=p.next;p.next=m,i.next=b}l.pending=i}Hr=null}return e}function Im(e,n){do{var l=Mt;try{if(li(),ks.current=Cs,ws){for(var i=St.memoizedState;i!==null;){var m=i.queue;m!==null&&(m.pending=null),i=i.next}ws=!1}if(Vr=0,$t=At=St=null,ol=!1,il=0,Oi.current=null,l===null||l.return===null){Dt=1,gl=n,Mt=null;break}e:{var p=e,b=l.return,z=l,D=n;if(n=qt,z.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=D,oe=z,ce=oe.tag;if((oe.mode&1)===0&&(ce===0||ce===11||ce===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var we=nm(b);if(we!==null){we.flags&=-257,rm(we,b,z,p,n),we.mode&1&&tm(p,W,n),n=we,D=W;var Te=n.updateQueue;if(Te===null){var ze=new Set;ze.add(D),n.updateQueue=ze}else Te.add(D);break e}else{if((n&1)===0){tm(p,W,n),Wi();break e}D=Error(s(426))}}else if(xt&&z.mode&1){var zt=nm(b);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),rm(zt,b,z,p,n),ri(ya(D,z));break e}}p=D=ya(D,z),Dt!==4&&(Dt=2),pl===null?pl=[p]:pl.push(p),p=b;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var H=Zd(p,D,n);Cd(p,H);break e;case 1:z=D;var $=p.type,V=p.stateNode;if((p.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Tr===null||!Tr.has(V)))){p.flags|=65536,n&=-n,p.lanes|=n;var pe=em(p,z,n);Cd(p,pe);break e}}p=p.return}while(p!==null)}Rm(l)}catch(Pe){n=Pe,Mt===l&&l!==null&&(Mt=l=l.return);continue}break}while(!0)}function Lm(){var e=Ls.current;return Ls.current=Cs,e===null?Cs:e}function Wi(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Bt===null||(Wr&268435455)===0&&(Ms&268435455)===0||Ir(Bt,qt)}function Fs(e,n){var l=Ze;Ze|=2;var i=Lm();(Bt!==e||qt!==n)&&(or=null,Gr(e,n));do try{th();break}catch(m){Im(e,m)}while(!0);if(li(),Ze=l,Ls.current=i,Mt!==null)throw Error(s(261));return Bt=null,qt=0,Dt}function th(){for(;Mt!==null;)Mm(Mt)}function nh(){for(;Mt!==null&&!C0();)Mm(Mt)}function Mm(e){var n=Om(e.alternate,e,fn);e.memoizedProps=e.pendingProps,n===null?Rm(e):Mt=n,Oi.current=null}function Rm(e){var n=e;do{var l=n.alternate;if(e=n.return,(n.flags&32768)===0){if(l=Gf(l,n,fn),l!==null){Mt=l;return}}else{if(l=Qf(l,n),l!==null){l.flags&=32767,Mt=l;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dt=6,Mt=null;return}}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);Dt===0&&(Dt=5)}function Qr(e,n,l){var i=it,m=Sn.transition;try{Sn.transition=null,it=1,rh(e,n,l,i)}finally{Sn.transition=m,it=i}return null}function rh(e,n,l,i){do Ea();while(zr!==null);if((Ze&6)!==0)throw Error(s(327));l=e.finishedWork;var m=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var p=l.lanes|l.childLanes;if(D0(e,p),e===Bt&&(Mt=Bt=null,qt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||As||(As=!0,jm(Hl,function(){return Ea(),null})),p=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||p){p=Sn.transition,Sn.transition=null;var b=it;it=1;var z=Ze;Ze|=4,Oi.current=null,Yf(e,l),Nm(l,e),wf(Wo),Jl=!!Vo,Wo=Vo=null,e.current=l,Xf(l),_0(),Ze=z,it=b,Sn.transition=p}else e.current=l;if(As&&(As=!1,zr=e,Ds=m),p=e.pendingLanes,p===0&&(Tr=null),P0(l.stateNode),an(e,Tt()),n!==null)for(i=e.onRecoverableError,l=0;l<n.length;l++)m=n[l],i(m.value,{componentStack:m.stack,digest:m.digest});if(Rs)throw Rs=!1,e=$i,$i=null,e;return(Ds&1)!==0&&e.tag!==0&&Ea(),p=e.pendingLanes,(p&1)!==0?e===Bi?fl++:(fl=0,Bi=e):fl=0,Nr(),null}function Ea(){if(zr!==null){var e=ku(Ds),n=Sn.transition,l=it;try{if(Sn.transition=null,it=16>e?16:e,zr===null)var i=!1;else{if(e=zr,zr=null,Ds=0,(Ze&6)!==0)throw Error(s(331));var m=Ze;for(Ze|=4,Ce=e.current;Ce!==null;){var p=Ce,b=p.child;if((Ce.flags&16)!==0){var z=p.deletions;if(z!==null){for(var D=0;D<z.length;D++){var W=z[D];for(Ce=W;Ce!==null;){var oe=Ce;switch(oe.tag){case 0:case 11:case 15:ml(8,oe,p)}var ce=oe.child;if(ce!==null)ce.return=oe,Ce=ce;else for(;Ce!==null;){oe=Ce;var se=oe.sibling,we=oe.return;if(bm(oe),oe===W){Ce=null;break}if(se!==null){se.return=we,Ce=se;break}Ce=we}}}var Te=p.alternate;if(Te!==null){var ze=Te.child;if(ze!==null){Te.child=null;do{var zt=ze.sibling;ze.sibling=null,ze=zt}while(ze!==null)}}Ce=p}}if((p.subtreeFlags&2064)!==0&&b!==null)b.return=p,Ce=b;else e:for(;Ce!==null;){if(p=Ce,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ml(9,p,p.return)}var H=p.sibling;if(H!==null){H.return=p.return,Ce=H;break e}Ce=p.return}}var $=e.current;for(Ce=$;Ce!==null;){b=Ce;var V=b.child;if((b.subtreeFlags&2064)!==0&&V!==null)V.return=b,Ce=V;else e:for(b=$;Ce!==null;){if(z=Ce,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Is(9,z)}}catch(Pe){_t(z,z.return,Pe)}if(z===b){Ce=null;break e}var pe=z.sibling;if(pe!==null){pe.return=z.return,Ce=pe;break e}Ce=z.return}}if(Ze=m,Nr(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(ql,e)}catch{}i=!0}return i}finally{it=l,Sn.transition=n}}return!1}function Am(e,n,l){n=ya(l,n),n=Zd(e,n,1),e=Cr(e,n,1),n=Xt(),e!==null&&(Fa(e,1,n),an(e,n))}function _t(e,n,l){if(e.tag===3)Am(e,e,l);else for(;n!==null;){if(n.tag===3){Am(n,e,l);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Tr===null||!Tr.has(i))){e=ya(l,e),e=em(n,e,1),n=Cr(n,e,1),e=Xt(),n!==null&&(Fa(n,1,e),an(n,e));break}}n=n.return}}function ah(e,n,l){var i=e.pingCache;i!==null&&i.delete(n),n=Xt(),e.pingedLanes|=e.suspendedLanes&l,Bt===e&&(qt&l)===l&&(Dt===4||Dt===3&&(qt&130023424)===qt&&500>Tt()-Fi?Gr(e,0):ji|=l),an(e,n)}function Dm(e,n){n===0&&((e.mode&1)===0?n=1:(n=Wl,Wl<<=1,(Wl&130023424)===0&&(Wl=4194304)));var l=Xt();e=ar(e,n),e!==null&&(Fa(e,n,l),an(e,l))}function lh(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Dm(e,l)}function sh(e,n){var l=0;switch(e.tag){case 13:var i=e.stateNode,m=e.memoizedState;m!==null&&(l=m.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(n),Dm(e,l)}var Om;Om=function(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps||en.current)nn=!0;else{if((e.lanes&l)===0&&(n.flags&128)===0)return nn=!1,Kf(e,n,l);nn=(e.flags&131072)!==0}else nn=!1,xt&&(n.flags&1048576)!==0&&hd(n,ps,n.index);switch(n.lanes=0,n.tag){case 2:var i=n.type;zs(e,n),e=n.pendingProps;var m=ca(n,Vt.current);fa(n,l),m=hi(null,n,i,e,m,l);var p=yi();return n.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,tn(i)?(p=!0,ds(n)):p=!1,n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,ci(n),m.updater=_s,n.stateNode=m,m._reactInternals=n,wi(n,i,e,l),n=_i(null,n,i,!0,p,l)):(n.tag=0,xt&&p&&Zo(n),Yt(null,n,m,l),n=n.child),n;case 16:i=n.elementType;e:{switch(zs(e,n),e=n.pendingProps,m=i._init,i=m(i._payload),n.type=i,m=n.tag=ih(i),e=An(i,e),m){case 0:n=Ci(null,n,i,e,l);break e;case 1:n=cm(null,n,i,e,l);break e;case 11:n=am(null,n,i,e,l);break e;case 14:n=lm(null,n,i,An(i.type,e),l);break e}throw Error(s(306,i,""))}return n;case 0:return i=n.type,m=n.pendingProps,m=n.elementType===i?m:An(i,m),Ci(e,n,i,m,l);case 1:return i=n.type,m=n.pendingProps,m=n.elementType===i?m:An(i,m),cm(e,n,i,m,l);case 3:e:{if(um(n),e===null)throw Error(s(387));i=n.pendingProps,p=n.memoizedState,m=p.element,Sd(e,n),vs(n,i,null,l);var b=n.memoizedState;if(i=b.element,p.isDehydrated)if(p={element:i,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){m=ya(Error(s(423)),n),n=dm(e,n,i,l,m);break e}else if(i!==m){m=ya(Error(s(424)),n),n=dm(e,n,i,l,m);break e}else for(pn=Er(n.stateNode.containerInfo.firstChild),gn=n,xt=!0,Rn=null,l=wd(n,null,i,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ma(),i===m){n=sr(e,n,l);break e}Yt(e,n,i,l)}n=n.child}return n;case 5:return Td(n),e===null&&ni(n),i=n.type,m=n.pendingProps,p=e!==null?e.memoizedProps:null,b=m.children,Ko(i,m)?b=null:p!==null&&Ko(i,p)&&(n.flags|=32),im(e,n),Yt(e,n,b,l),n.child;case 6:return e===null&&ni(n),null;case 13:return mm(e,n,l);case 4:return ui(n,n.stateNode.containerInfo),i=n.pendingProps,e===null?n.child=ga(n,null,i,l):Yt(e,n,i,l),n.child;case 11:return i=n.type,m=n.pendingProps,m=n.elementType===i?m:An(i,m),am(e,n,i,m,l);case 7:return Yt(e,n,n.pendingProps,l),n.child;case 8:return Yt(e,n,n.pendingProps.children,l),n.child;case 12:return Yt(e,n,n.pendingProps.children,l),n.child;case 10:e:{if(i=n.type._context,m=n.pendingProps,p=n.memoizedProps,b=m.value,mt(ys,i._currentValue),i._currentValue=b,p!==null)if(Mn(p.value,b)){if(p.children===m.children&&!en.current){n=sr(e,n,l);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var z=p.dependencies;if(z!==null){b=p.child;for(var D=z.firstContext;D!==null;){if(D.context===i){if(p.tag===1){D=lr(-1,l&-l),D.tag=2;var W=p.updateQueue;if(W!==null){W=W.shared;var oe=W.pending;oe===null?D.next=D:(D.next=oe.next,oe.next=D),W.pending=D}}p.lanes|=l,D=p.alternate,D!==null&&(D.lanes|=l),oi(p.return,l,n),z.lanes|=l;break}D=D.next}}else if(p.tag===10)b=p.type===n.type?null:p.child;else if(p.tag===18){if(b=p.return,b===null)throw Error(s(341));b.lanes|=l,z=b.alternate,z!==null&&(z.lanes|=l),oi(b,l,n),b=p.sibling}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===n){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}Yt(e,n,m.children,l),n=n.child}return n;case 9:return m=n.type,i=n.pendingProps.children,fa(n,l),m=wn(m),i=i(m),n.flags|=1,Yt(e,n,i,l),n.child;case 14:return i=n.type,m=An(i,n.pendingProps),m=An(i.type,m),lm(e,n,i,m,l);case 15:return sm(e,n,n.type,n.pendingProps,l);case 17:return i=n.type,m=n.pendingProps,m=n.elementType===i?m:An(i,m),zs(e,n),n.tag=1,tn(i)?(e=!0,ds(n)):e=!1,fa(n,l),Yd(n,i,m),wi(n,i,m,l),_i(null,n,i,!0,e,l);case 19:return pm(e,n,l);case 22:return om(e,n,l)}throw Error(s(156,n.tag))};function jm(e,n){return yu(e,n)}function oh(e,n,l,i){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,n,l,i){return new oh(e,n,l,i)}function Ki(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ih(e){if(typeof e=="function")return Ki(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K)return 11;if(e===ee)return 14}return 2}function Lr(e,n){var l=e.alternate;return l===null?(l=Cn(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&14680064,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l}function $s(e,n,l,i,m,p){var b=2;if(i=e,typeof e=="function")Ki(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case Z:return Jr(l.children,m,p,n);case le:b=8,m|=8;break;case re:return e=Cn(12,l,n,m|2),e.elementType=re,e.lanes=p,e;case ye:return e=Cn(13,l,n,m),e.elementType=ye,e.lanes=p,e;case ae:return e=Cn(19,l,n,m),e.elementType=ae,e.lanes=p,e;case me:return Bs(l,m,p,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:b=10;break e;case F:b=9;break e;case K:b=11;break e;case ee:b=14;break e;case J:b=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=Cn(b,l,n,m),n.elementType=e,n.type=i,n.lanes=p,n}function Jr(e,n,l,i){return e=Cn(7,e,i,n),e.lanes=l,e}function Bs(e,n,l,i){return e=Cn(22,e,i,n),e.elementType=me,e.lanes=l,e.stateNode={isHidden:!1},e}function Gi(e,n,l){return e=Cn(6,e,null,n),e.lanes=l,e}function Qi(e,n,l){return n=Cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ch(e,n,l,i,m){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ko(0),this.expirationTimes=ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.identifierPrefix=i,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Ji(e,n,l,i,m,p,b,z,D){return e=new ch(e,n,l,z,D),n===1?(n=1,p===!0&&(n|=8)):n=0,p=Cn(3,null,null,n),e.current=p,p.stateNode=e,p.memoizedState={element:i,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ci(p),e}function uh(e,n,l){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:i==null?null:""+i,children:e,containerInfo:n,implementation:l}}function Fm(e){if(!e)return wr;e=e._reactInternals;e:{if(jr(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(tn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var l=e.type;if(tn(l))return gd(e,l,n)}return n}function $m(e,n,l,i,m,p,b,z,D){return e=Ji(l,i,!0,e,m,p,b,z,D),e.context=Fm(null),l=e.current,i=Xt(),m=Pr(l),p=lr(i,m),p.callback=n??null,Cr(l,p,m),e.current.lanes=m,Fa(e,m,i),an(e,i),e}function Us(e,n,l,i){var m=n.current,p=Xt(),b=Pr(m);return l=Fm(l),n.context===null?n.context=l:n.pendingContext=l,n=lr(p,b),n.payload={element:e},i=i===void 0?null:i,i!==null&&(n.callback=i),e=Cr(m,n,b),e!==null&&(jn(e,m,b,p),bs(e,m,b)),b}function Hs(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function Bm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function Yi(e,n){Bm(e,n),(e=e.alternate)&&Bm(e,n)}function dh(){return null}var Um=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xi(e){this._internalRoot=e}qs.prototype.render=Xi.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));Us(e,n,null,null)},qs.prototype.unmount=Xi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Kr(function(){Us(null,e,null,null)}),n[er]=null}};function qs(e){this._internalRoot=e}qs.prototype.unstable_scheduleHydration=function(e){if(e){var n=Su();e={blockedOn:null,target:e,priority:n};for(var l=0;l<xr.length&&n!==0&&n<xr[l].priority;l++);xr.splice(l,0,e),l===0&&Tu(e)}};function Zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hm(){}function mh(e,n,l,i,m){if(m){if(typeof i=="function"){var p=i;i=function(){var W=Hs(b);p.call(W)}}var b=$m(n,i,e,0,null,!1,!1,"",Hm);return e._reactRootContainer=b,e[er]=b.current,Za(e.nodeType===8?e.parentNode:e),Kr(),b}for(;m=e.lastChild;)e.removeChild(m);if(typeof i=="function"){var z=i;i=function(){var W=Hs(D);z.call(W)}}var D=Ji(e,0,!1,null,null,!1,!1,"",Hm);return e._reactRootContainer=D,e[er]=D.current,Za(e.nodeType===8?e.parentNode:e),Kr(function(){Us(n,D,l,i)}),D}function Ws(e,n,l,i,m){var p=l._reactRootContainer;if(p){var b=p;if(typeof m=="function"){var z=m;m=function(){var D=Hs(b);z.call(D)}}Us(n,b,e,m)}else b=mh(l,n,e,m,i);return Hs(b)}wu=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var l=ja(n.pendingLanes);l!==0&&(wo(n,l|1),an(n,Tt()),(Ze&6)===0&&(va=Tt()+500,Nr()))}break;case 13:Kr(function(){var i=ar(e,1);if(i!==null){var m=Xt();jn(i,e,1,m)}}),Yi(e,1)}},No=function(e){if(e.tag===13){var n=ar(e,134217728);if(n!==null){var l=Xt();jn(n,e,134217728,l)}Yi(e,134217728)}},Nu=function(e){if(e.tag===13){var n=Pr(e),l=ar(e,n);if(l!==null){var i=Xt();jn(l,e,n,i)}Yi(e,n)}},Su=function(){return it},Cu=function(e,n){var l=it;try{return it=e,n()}finally{it=l}},st=function(e,n,l){switch(n){case"input":if(Q(e,l),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<l.length;n++){var i=l[n];if(i!==e&&i.form===e.form){var m=cs(i);if(!m)throw Error(s(90));lt(i),Q(i,m)}}}break;case"textarea":ut(e,l);break;case"select":n=l.value,n!=null&&He(e,!!l.multiple,n,!1)}},Je=qi,wt=Kr;var gh={usingClientEntryPoint:!1,Events:[nl,oa,cs,ve,ot,qi]},hl={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ph={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fu(e),e===null?null:e.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||dh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ks.isDisabled&&Ks.supportsFiber)try{ql=Ks.inject(ph),qn=Ks}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gh,ln.createPortal=function(e,n){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zi(n))throw Error(s(200));return uh(e,n,null,l)},ln.createRoot=function(e,n){if(!Zi(e))throw Error(s(299));var l=!1,i="",m=Um;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),n=Ji(e,1,!1,null,null,l,!1,i,m),e[er]=n.current,Za(e.nodeType===8?e.parentNode:e),new Xi(n)},ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=fu(n),e=e===null?null:e.stateNode,e},ln.flushSync=function(e){return Kr(e)},ln.hydrate=function(e,n,l){if(!Vs(n))throw Error(s(200));return Ws(null,e,n,!0,l)},ln.hydrateRoot=function(e,n,l){if(!Zi(e))throw Error(s(405));var i=l!=null&&l.hydratedSources||null,m=!1,p="",b=Um;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),n=$m(n,null,e,1,l??null,m,!1,p,b),e[er]=n.current,Za(e),i)for(e=0;e<i.length;e++)l=i[e],m=l._getVersion,m=m(l._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[l,m]:n.mutableSourceEagerHydrationData.push(l,m);return new qs(n)},ln.render=function(e,n,l){if(!Vs(n))throw Error(s(200));return Ws(null,e,n,!1,l)},ln.unmountComponentAtNode=function(e){if(!Vs(e))throw Error(s(40));return e._reactRootContainer?(Kr(function(){Ws(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1},ln.unstable_batchedUpdates=qi,ln.unstable_renderSubtreeIntoContainer=function(e,n,l,i){if(!Vs(l))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ws(e,n,l,!1,i)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var Qm;function ap(){if(Qm)return tc.exports;Qm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),tc.exports=bh(),tc.exports}var Jm;function vh(){if(Jm)return Gs;Jm=1;var t=ap();return Gs.createRoot=t.createRoot,Gs.hydrateRoot=t.hydrateRoot,Gs}var Eh=vh();const kh=co(Eh);var Ym="popstate";function wh(t={}){function a(o,c){let{pathname:u,search:d,hash:g}=o.location;return Nc("",{pathname:u,search:d,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(o,c){return typeof c=="string"?c:Il(c)}return Sh(a,s,null,t)}function vt(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Un(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Nh(){return Math.random().toString(36).substring(2,10)}function Xm(t,a){return{usr:t.state,key:t.key,idx:a}}function Nc(t,a,s=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?za(a):a,state:s,key:a&&a.key||o||Nh()}}function Il({pathname:t="/",search:a="",hash:s=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function za(t){let a={};if(t){let s=t.indexOf("#");s>=0&&(a.hash=t.substring(s),t=t.substring(0,s));let o=t.indexOf("?");o>=0&&(a.search=t.substring(o),t=t.substring(0,o)),t&&(a.pathname=t)}return a}function Sh(t,a,s,o={}){let{window:c=document.defaultView,v5Compat:u=!1}=o,d=c.history,g="POP",f=null,h=y();h==null&&(h=0,d.replaceState({...d.state,idx:h},""));function y(){return(d.state||{idx:null}).idx}function x(){g="POP";let S=y(),C=S==null?null:S-h;h=S,f&&f({action:g,location:M.location,delta:C})}function k(S,C){g="PUSH";let N=Nc(M.location,S,C);h=y()+1;let A=Xm(N,h),q=M.createHref(N);try{d.pushState(A,"",q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;c.location.assign(q)}u&&f&&f({action:g,location:M.location,delta:1})}function E(S,C){g="REPLACE";let N=Nc(M.location,S,C);h=y();let A=Xm(N,h),q=M.createHref(N);d.replaceState(A,"",q),u&&f&&f({action:g,location:M.location,delta:0})}function O(S){return Ch(S)}let M={get action(){return g},get location(){return t(c,d)},listen(S){if(f)throw new Error("A history only accepts one active listener");return c.addEventListener(Ym,x),f=S,()=>{c.removeEventListener(Ym,x),f=null}},createHref(S){return a(c,S)},createURL:O,encodeLocation(S){let C=O(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:k,replace:E,go(S){return d.go(S)}};return M}function Ch(t,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),vt(s,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:Il(t);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=s+o),new URL(o,s)}function lp(t,a,s="/"){return _h(t,a,s,!1)}function _h(t,a,s,o){let c=typeof a=="string"?za(a):a,u=mr(c.pathname||"/",s);if(u==null)return null;let d=sp(t);Th(d);let g=null;for(let f=0;g==null&&f<d.length;++f){let h=Fh(u);g=Oh(d[f],h,o)}return g}function sp(t,a=[],s=[],o="",c=!1){let u=(d,g,f=c,h)=>{let y={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(o)&&f)return;vt(y.relativePath.startsWith(o),`Absolute route path "${y.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(o.length)}let x=cr([o,y.relativePath]),k=s.concat(y);d.children&&d.children.length>0&&(vt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),sp(d.children,a,k,x,f)),!(d.path==null&&!d.index)&&a.push({path:x,score:Ah(x,d.index),routesMeta:k})};return t.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))u(d,g);else for(let f of op(d.path))u(d,g,!0,f)}),a}function op(t){let a=t.split("/");if(a.length===0)return[];let[s,...o]=a,c=s.endsWith("?"),u=s.replace(/\?$/,"");if(o.length===0)return c?[u,""]:[u];let d=op(o.join("/")),g=[];return g.push(...d.map(f=>f===""?u:[u,f].join("/"))),c&&g.push(...d),g.map(f=>t.startsWith("/")&&f===""?"/":f)}function Th(t){t.sort((a,s)=>a.score!==s.score?s.score-a.score:Dh(a.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}var zh=/^:[\w-]+$/,Ph=3,Ih=2,Lh=1,Mh=10,Rh=-2,Zm=t=>t==="*";function Ah(t,a){let s=t.split("/"),o=s.length;return s.some(Zm)&&(o+=Rh),a&&(o+=Ih),s.filter(c=>!Zm(c)).reduce((c,u)=>c+(zh.test(u)?Ph:u===""?Lh:Mh),o)}function Dh(t,a){return t.length===a.length&&t.slice(0,-1).every((o,c)=>o===a[c])?t[t.length-1]-a[a.length-1]:0}function Oh(t,a,s=!1){let{routesMeta:o}=t,c={},u="/",d=[];for(let g=0;g<o.length;++g){let f=o[g],h=g===o.length-1,y=u==="/"?a:a.slice(u.length)||"/",x=so({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},y),k=f.route;if(!x&&h&&s&&!o[o.length-1].route.index&&(x=so({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!x)return null;Object.assign(c,x.params),d.push({params:c,pathname:cr([u,x.pathname]),pathnameBase:Hh(cr([u,x.pathnameBase])),route:k}),x.pathnameBase!=="/"&&(u=cr([u,x.pathnameBase]))}return d}function so(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,o]=jh(t.path,t.caseSensitive,t.end),c=a.match(s);if(!c)return null;let u=c[0],d=u.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:o.reduce((h,{paramName:y,isOptional:x},k)=>{if(y==="*"){let O=g[k]||"";d=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const E=g[k];return x&&!E?h[y]=void 0:h[y]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:d,pattern:t}}function jh(t,a=!1,s=!0){Un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],c="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,f)=>(o.push({paramName:g,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),c+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":t!==""&&t!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),o]}function Fh(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function mr(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,o=t.charAt(s);return o&&o!=="/"?null:t.slice(s)||"/"}var $h=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Bh(t,a="/"){let{pathname:s,search:o="",hash:c=""}=typeof t=="string"?za(t):t,u;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?u=eg(s.substring(1),"/"):u=eg(s,a)):u=a,{pathname:u,search:qh(o),hash:Vh(c)}}function eg(t,a){let s=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function ac(t,a,s,o){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Uh(t){return t.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function Uc(t){let a=Uh(t);return a.map((s,o)=>o===a.length-1?s.pathname:s.pathnameBase)}function Hc(t,a,s,o=!1){let c;typeof t=="string"?c=za(t):(c={...t},vt(!c.pathname||!c.pathname.includes("?"),ac("?","pathname","search",c)),vt(!c.pathname||!c.pathname.includes("#"),ac("#","pathname","hash",c)),vt(!c.search||!c.search.includes("#"),ac("#","search","hash",c)));let u=t===""||c.pathname==="",d=u?"/":c.pathname,g;if(d==null)g=s;else{let x=a.length-1;if(!o&&d.startsWith("..")){let k=d.split("/");for(;k[0]==="..";)k.shift(),x-=1;c.pathname=k.join("/")}g=x>=0?a[x]:"/"}let f=Bh(c,g),h=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&s.endsWith("/");return!f.pathname.endsWith("/")&&(h||y)&&(f.pathname+="/"),f}var cr=t=>t.join("/").replace(/\/\/+/g,"/"),Hh=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qh=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Vh=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Wh=class{constructor(t,a,s,o=!1){this.status=t,this.statusText=a||"",this.internal=o,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function Kh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Gh(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ip=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cp(t,a){let s=t;if(typeof s!="string"||!$h.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let o=s,c=!1;if(ip)try{let u=new URL(window.location.href),d=s.startsWith("//")?new URL(u.protocol+s):new URL(s),g=mr(d.pathname,a);d.origin===u.origin&&g!=null?s=g+d.search+d.hash:c=!0}catch{Un(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:c,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var up=["POST","PUT","PATCH","DELETE"];new Set(up);var Qh=["GET",...up];new Set(Qh);var Pa=v.createContext(null);Pa.displayName="DataRouter";var uo=v.createContext(null);uo.displayName="DataRouterState";var Jh=v.createContext(!1),dp=v.createContext({isTransitioning:!1});dp.displayName="ViewTransition";var Yh=v.createContext(new Map);Yh.displayName="Fetchers";var Xh=v.createContext(null);Xh.displayName="Await";var vn=v.createContext(null);vn.displayName="Navigation";var Al=v.createContext(null);Al.displayName="Location";var Hn=v.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var qc=v.createContext(null);qc.displayName="RouteError";var mp="REACT_ROUTER_ERROR",Zh="REDIRECT",ey="ROUTE_ERROR_RESPONSE";function ty(t){if(t.startsWith(`${mp}:${Zh}:{`))try{let a=JSON.parse(t.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function ny(t){if(t.startsWith(`${mp}:${ey}:{`))try{let a=JSON.parse(t.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Wh(a.status,a.statusText,a.data)}catch{}}function ry(t,{relative:a}={}){vt(Ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=v.useContext(vn),{hash:c,pathname:u,search:d}=Dl(t,{relative:a}),g=u;return s!=="/"&&(g=u==="/"?s:cr([s,u])),o.createHref({pathname:g,search:d,hash:c})}function Ia(){return v.useContext(Al)!=null}function gr(){return vt(Ia(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Al).location}var gp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pp(t){v.useContext(vn).static||v.useLayoutEffect(t)}function Dr(){let{isDataRoute:t}=v.useContext(Hn);return t?xy():ay()}function ay(){vt(Ia(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(Pa),{basename:a,navigator:s}=v.useContext(vn),{matches:o}=v.useContext(Hn),{pathname:c}=gr(),u=JSON.stringify(Uc(o)),d=v.useRef(!1);return pp(()=>{d.current=!0}),v.useCallback((f,h={})=>{if(Un(d.current,gp),!d.current)return;if(typeof f=="number"){s.go(f);return}let y=Hc(f,JSON.parse(u),c,h.relative==="path");t==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:cr([a,y.pathname])),(h.replace?s.replace:s.push)(y,h.state,h)},[a,s,u,c,t])}var ly=v.createContext(null);function sy(t){let a=v.useContext(Hn).outlet;return v.useMemo(()=>a&&v.createElement(ly.Provider,{value:t},a),[a,t])}function Dl(t,{relative:a}={}){let{matches:s}=v.useContext(Hn),{pathname:o}=gr(),c=JSON.stringify(Uc(s));return v.useMemo(()=>Hc(t,JSON.parse(c),o,a==="path"),[t,c,o,a])}function oy(t,a){return fp(t,a)}function fp(t,a,s,o,c){vt(Ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=v.useContext(vn),{matches:d}=v.useContext(Hn),g=d[d.length-1],f=g?g.params:{},h=g?g.pathname:"/",y=g?g.pathnameBase:"/",x=g&&g.route;{let N=x&&x.path||"";yp(h,!x||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let k=gr(),E;if(a){let N=typeof a=="string"?za(a):a;vt(y==="/"||N.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${N.pathname}" was given in the \`location\` prop.`),E=N}else E=k;let O=E.pathname||"/",M=O;if(y!=="/"){let N=y.replace(/^\//,"").split("/");M="/"+O.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=lp(t,{pathname:M});Un(x||S!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Un(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=my(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:cr([y,u.encodeLocation?u.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?y:cr([y,u.encodeLocation?u.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),d,s,o,c);return a&&C?v.createElement(Al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},C):C}function iy(){let t=yy(),a=Kh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:u},"ErrorBoundary")," or"," ",v.createElement("code",{style:u},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},a),s?v.createElement("pre",{style:c},s):null,d)}var cy=v.createElement(iy,null),hp=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const s=ny(t.digest);s&&(t=s)}let a=t!==void 0?v.createElement(Hn.Provider,{value:this.props.routeContext},v.createElement(qc.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?v.createElement(uy,{error:t},a):a}};hp.contextType=Jh;var lc=new WeakMap;function uy({children:t,error:a}){let{basename:s}=v.useContext(vn);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let o=ty(a.digest);if(o){let c=lc.get(a);if(c)throw c;let u=cp(o.location,s);if(ip&&!lc.get(a))if(u.isExternal||o.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:o.replace}));throw lc.set(a,d),d}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return t}function dy({routeContext:t,match:a,children:s}){let o=v.useContext(Pa);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),v.createElement(Hn.Provider,{value:t},s)}function my(t,a=[],s=null,o=null,c=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let u=t,d=s?.errors;if(d!=null){let y=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);vt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let g=!1,f=-1;if(s)for(let y=0;y<u.length;y++){let x=u[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=y),x.route.id){let{loaderData:k,errors:E}=s,O=x.route.loader&&!k.hasOwnProperty(x.route.id)&&(!E||E[x.route.id]===void 0);if(x.route.lazy||O){g=!0,f>=0?u=u.slice(0,f+1):u=[u[0]];break}}}let h=s&&o?(y,x)=>{o(y,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:Gh(s.matches),errorInfo:x})}:void 0;return u.reduceRight((y,x,k)=>{let E,O=!1,M=null,S=null;s&&(E=d&&x.route.id?d[x.route.id]:void 0,M=x.route.errorElement||cy,g&&(f<0&&k===0?(yp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,S=null):f===k&&(O=!0,S=x.route.hydrateFallbackElement||null)));let C=a.concat(u.slice(0,k+1)),N=()=>{let A;return E?A=M:O?A=S:x.route.Component?A=v.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=y,v.createElement(dy,{match:x,routeContext:{outlet:y,matches:C,isDataRoute:s!=null},children:A})};return s&&(x.route.ErrorBoundary||x.route.errorElement||k===0)?v.createElement(hp,{location:s.location,revalidation:s.revalidation,component:M,error:E,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:h}):N()},null)}function Vc(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gy(t){let a=v.useContext(Pa);return vt(a,Vc(t)),a}function py(t){let a=v.useContext(uo);return vt(a,Vc(t)),a}function fy(t){let a=v.useContext(Hn);return vt(a,Vc(t)),a}function Wc(t){let a=fy(t),s=a.matches[a.matches.length-1];return vt(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function hy(){return Wc("useRouteId")}function yy(){let t=v.useContext(qc),a=py("useRouteError"),s=Wc("useRouteError");return t!==void 0?t:a.errors?.[s]}function xy(){let{router:t}=gy("useNavigate"),a=Wc("useNavigate"),s=v.useRef(!1);return pp(()=>{s.current=!0}),v.useCallback(async(c,u={})=>{Un(s.current,gp),s.current&&(typeof c=="number"?await t.navigate(c):await t.navigate(c,{fromRouteId:a,...u}))},[t,a])}var tg={};function yp(t,a,s){!a&&!tg[t]&&(tg[t]=!0,Un(!1,s))}v.memo(by);function by({routes:t,future:a,state:s,onError:o}){return fp(t,void 0,s,o,a)}function Sc({to:t,replace:a,state:s,relative:o}){vt(Ia(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=v.useContext(vn);Un(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=v.useContext(Hn),{pathname:d}=gr(),g=Dr(),f=Hc(t,Uc(u),d,o==="path"),h=JSON.stringify(f);return v.useEffect(()=>{g(JSON.parse(h),{replace:a,state:s,relative:o})},[g,h,o,a,s]),null}function vy(t){return sy(t.context)}function hn(t){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ey({basename:t="/",children:a=null,location:s,navigationType:o="POP",navigator:c,static:u=!1,unstable_useTransitions:d}){vt(!Ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=t.replace(/^\/*/,"/"),f=v.useMemo(()=>({basename:g,navigator:c,static:u,unstable_useTransitions:d,future:{}}),[g,c,u,d]);typeof s=="string"&&(s=za(s));let{pathname:h="/",search:y="",hash:x="",state:k=null,key:E="default"}=s,O=v.useMemo(()=>{let M=mr(h,g);return M==null?null:{location:{pathname:M,search:y,hash:x,state:k,key:E},navigationType:o}},[g,h,y,x,k,E,o]);return Un(O!=null,`<Router basename="${g}"> is not able to match the URL "${h}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:v.createElement(vn.Provider,{value:f},v.createElement(Al.Provider,{children:a,value:O}))}function ky({children:t,location:a}){return oy(Cc(t),a)}function Cc(t,a=[]){let s=[];return v.Children.forEach(t,(o,c)=>{if(!v.isValidElement(o))return;let u=[...a,c];if(o.type===v.Fragment){s.push.apply(s,Cc(o.props.children,u));return}vt(o.type===hn,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Cc(o.props.children,u)),s.push(d)}),s}var no="get",ro="application/x-www-form-urlencoded";function mo(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function wy(t){return mo(t)&&t.tagName.toLowerCase()==="button"}function Ny(t){return mo(t)&&t.tagName.toLowerCase()==="form"}function Sy(t){return mo(t)&&t.tagName.toLowerCase()==="input"}function Cy(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _y(t,a){return t.button===0&&(!a||a==="_self")&&!Cy(t)}var Qs=null;function Ty(){if(Qs===null)try{new FormData(document.createElement("form"),0),Qs=!1}catch{Qs=!0}return Qs}var zy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sc(t){return t!=null&&!zy.has(t)?(Un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ro}"`),null):t}function Py(t,a){let s,o,c,u,d;if(Ny(t)){let g=t.getAttribute("action");o=g?mr(g,a):null,s=t.getAttribute("method")||no,c=sc(t.getAttribute("enctype"))||ro,u=new FormData(t)}else if(wy(t)||Sy(t)&&(t.type==="submit"||t.type==="image")){let g=t.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||g.getAttribute("action");if(o=f?mr(f,a):null,s=t.getAttribute("formmethod")||g.getAttribute("method")||no,c=sc(t.getAttribute("formenctype"))||sc(g.getAttribute("enctype"))||ro,u=new FormData(g,t),!Ty()){let{name:h,type:y,value:x}=t;if(y==="image"){let k=h?`${h}.`:"";u.append(`${k}x`,"0"),u.append(`${k}y`,"0")}else h&&u.append(h,x)}}else{if(mo(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=no,o=null,c=ro,d=t}return u&&c==="text/plain"&&(d=u,u=void 0),{action:o,method:s.toLowerCase(),encType:c,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kc(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Iy(t,a,s,o){let c=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${o}`:c.pathname=`${c.pathname}.${o}`:c.pathname==="/"?c.pathname=`_root.${o}`:a&&mr(c.pathname,a)==="/"?c.pathname=`${a.replace(/\/$/,"")}/_root.${o}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${o}`,c}async function Ly(t,a){if(t.id in a)return a[t.id];try{let s=await import(t.module);return a[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function My(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Ry(t,a,s){let o=await Promise.all(t.map(async c=>{let u=a.routes[c.route.id];if(u){let d=await Ly(u,s);return d.links?d.links():[]}return[]}));return jy(o.flat(1).filter(My).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function ng(t,a,s,o,c,u){let d=(f,h)=>s[h]?f.route.id!==s[h].route.id:!0,g=(f,h)=>s[h].pathname!==f.pathname||s[h].route.path?.endsWith("*")&&s[h].params["*"]!==f.params["*"];return u==="assets"?a.filter((f,h)=>d(f,h)||g(f,h)):u==="data"?a.filter((f,h)=>{let y=o.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(d(f,h)||g(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Ay(t,a,{includeHydrateFallback:s}={}){return Dy(t.map(o=>{let c=a.routes[o.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function Dy(t){return[...new Set(t)]}function Oy(t){let a={},s=Object.keys(t).sort();for(let o of s)a[o]=t[o];return a}function jy(t,a){let s=new Set;return new Set(a),t.reduce((o,c)=>{let u=JSON.stringify(Oy(c));return s.has(u)||(s.add(u),o.push({key:u,link:c})),o},[])}function xp(){let t=v.useContext(Pa);return Kc(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Fy(){let t=v.useContext(uo);return Kc(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Gc=v.createContext(void 0);Gc.displayName="FrameworkContext";function bp(){let t=v.useContext(Gc);return Kc(t,"You must render this element inside a <HydratedRouter> element"),t}function $y(t,a){let s=v.useContext(Gc),[o,c]=v.useState(!1),[u,d]=v.useState(!1),{onFocus:g,onBlur:f,onMouseEnter:h,onMouseLeave:y,onTouchStart:x}=a,k=v.useRef(null);v.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let M=C=>{C.forEach(N=>{d(N.isIntersecting)})},S=new IntersectionObserver(M,{threshold:.5});return k.current&&S.observe(k.current),()=>{S.disconnect()}}},[t]),v.useEffect(()=>{if(o){let M=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(M)}}},[o]);let E=()=>{c(!0)},O=()=>{c(!1),d(!1)};return s?t!=="intent"?[u,k,{}]:[u,k,{onFocus:yl(g,E),onBlur:yl(f,O),onMouseEnter:yl(h,E),onMouseLeave:yl(y,O),onTouchStart:yl(x,E)}]:[!1,k,{}]}function yl(t,a){return s=>{t&&t(s),s.defaultPrevented||a(s)}}function By({page:t,...a}){let{router:s}=xp(),o=v.useMemo(()=>lp(s.routes,t,s.basename),[s.routes,t,s.basename]);return o?v.createElement(Hy,{page:t,matches:o,...a}):null}function Uy(t){let{manifest:a,routeModules:s}=bp(),[o,c]=v.useState([]);return v.useEffect(()=>{let u=!1;return Ry(t,a,s).then(d=>{u||c(d)}),()=>{u=!0}},[t,a,s]),o}function Hy({page:t,matches:a,...s}){let o=gr(),{future:c,manifest:u,routeModules:d}=bp(),{basename:g}=xp(),{loaderData:f,matches:h}=Fy(),y=v.useMemo(()=>ng(t,a,h,u,o,"data"),[t,a,h,u,o]),x=v.useMemo(()=>ng(t,a,h,u,o,"assets"),[t,a,h,u,o]),k=v.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let M=new Set,S=!1;if(a.forEach(N=>{let A=u.routes[N.route.id];!A||!A.hasLoader||(!y.some(q=>q.route.id===N.route.id)&&N.route.id in f&&d[N.route.id]?.shouldRevalidate||A.hasClientLoader?S=!0:M.add(N.route.id))}),M.size===0)return[];let C=Iy(t,g,c.unstable_trailingSlashAwareDataRequests,"data");return S&&M.size>0&&C.searchParams.set("_routes",a.filter(N=>M.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[g,c.unstable_trailingSlashAwareDataRequests,f,o,u,y,a,t,d]),E=v.useMemo(()=>Ay(x,u),[x,u]),O=Uy(x);return v.createElement(v.Fragment,null,k.map(M=>v.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...s})),E.map(M=>v.createElement("link",{key:M,rel:"modulepreload",href:M,...s})),O.map(({key:M,link:S})=>v.createElement("link",{key:M,nonce:s.nonce,...S,crossOrigin:S.crossOrigin??s.crossOrigin})))}function qy(...t){return a=>{t.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var Vy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vy&&(window.__reactRouterVersion="7.13.0")}catch{}function Wy({basename:t,children:a,unstable_useTransitions:s,window:o}){let c=v.useRef();c.current==null&&(c.current=wh({window:o,v5Compat:!0}));let u=c.current,[d,g]=v.useState({action:u.action,location:u.location}),f=v.useCallback(h=>{s===!1?g(h):v.startTransition(()=>g(h))},[s]);return v.useLayoutEffect(()=>u.listen(f),[u,f]),v.createElement(Ey,{basename:t,children:a,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:s})}var vp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,go=v.forwardRef(function({onClick:a,discover:s="render",prefetch:o="none",relative:c,reloadDocument:u,replace:d,state:g,target:f,to:h,preventScrollReset:y,viewTransition:x,unstable_defaultShouldRevalidate:k,...E},O){let{basename:M,unstable_useTransitions:S}=v.useContext(vn),C=typeof h=="string"&&vp.test(h),N=cp(h,M);h=N.to;let A=ry(h,{relative:c}),[q,X,L]=$y(o,E),Z=Jy(h,{replace:d,state:g,target:f,preventScrollReset:y,relative:c,viewTransition:x,unstable_defaultShouldRevalidate:k,unstable_useTransitions:S});function le(R){a&&a(R),R.defaultPrevented||Z(R)}let re=v.createElement("a",{...E,...L,href:N.absoluteURL||A,onClick:N.isExternal||u?a:le,ref:qy(O,X),target:f,"data-discover":!C&&s==="render"?"true":void 0});return q&&!C?v.createElement(v.Fragment,null,re,v.createElement(By,{page:A})):re});go.displayName="Link";var Ky=v.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:o="",end:c=!1,style:u,to:d,viewTransition:g,children:f,...h},y){let x=Dl(d,{relative:h.relative}),k=gr(),E=v.useContext(uo),{navigator:O,basename:M}=v.useContext(vn),S=E!=null&&tx(x)&&g===!0,C=O.encodeLocation?O.encodeLocation(x).pathname:x.pathname,N=k.pathname,A=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(N=N.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&M&&(A=mr(A,M)||A);const q=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let X=N===C||!c&&N.startsWith(C)&&N.charAt(q)==="/",L=A!=null&&(A===C||!c&&A.startsWith(C)&&A.charAt(C.length)==="/"),Z={isActive:X,isPending:L,isTransitioning:S},le=X?a:void 0,re;typeof o=="function"?re=o(Z):re=[o,X?"active":null,L?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let R=typeof u=="function"?u(Z):u;return v.createElement(go,{...h,"aria-current":le,className:re,ref:y,style:R,to:d,viewTransition:g},typeof f=="function"?f(Z):f)});Ky.displayName="NavLink";var Gy=v.forwardRef(({discover:t="render",fetcherKey:a,navigate:s,reloadDocument:o,replace:c,state:u,method:d=no,action:g,onSubmit:f,relative:h,preventScrollReset:y,viewTransition:x,unstable_defaultShouldRevalidate:k,...E},O)=>{let{unstable_useTransitions:M}=v.useContext(vn),S=Zy(),C=ex(g,{relative:h}),N=d.toLowerCase()==="get"?"get":"post",A=typeof g=="string"&&vp.test(g),q=X=>{if(f&&f(X),X.defaultPrevented)return;X.preventDefault();let L=X.nativeEvent.submitter,Z=L?.getAttribute("formmethod")||d,le=()=>S(L||X.currentTarget,{fetcherKey:a,method:Z,navigate:s,replace:c,state:u,relative:h,preventScrollReset:y,viewTransition:x,unstable_defaultShouldRevalidate:k});M&&s!==!1?v.startTransition(()=>le()):le()};return v.createElement("form",{ref:O,method:N,action:C,onSubmit:o?f:q,...E,"data-discover":!A&&t==="render"?"true":void 0})});Gy.displayName="Form";function Qy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ep(t){let a=v.useContext(Pa);return vt(a,Qy(t)),a}function Jy(t,{target:a,replace:s,state:o,preventScrollReset:c,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:f}={}){let h=Dr(),y=gr(),x=Dl(t,{relative:u});return v.useCallback(k=>{if(_y(k,a)){k.preventDefault();let E=s!==void 0?s:Il(y)===Il(x),O=()=>h(t,{replace:E,state:o,preventScrollReset:c,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:g});f?v.startTransition(()=>O()):O()}},[y,h,x,s,o,a,t,c,u,d,g,f])}var Yy=0,Xy=()=>`__${String(++Yy)}__`;function Zy(){let{router:t}=Ep("useSubmit"),{basename:a}=v.useContext(vn),s=hy(),o=t.fetch,c=t.navigate;return v.useCallback(async(u,d={})=>{let{action:g,method:f,encType:h,formData:y,body:x}=Py(u,a);if(d.navigate===!1){let k=d.fetcherKey||Xy();await o(k,s,d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:x,formMethod:d.method||f,formEncType:d.encType||h,flushSync:d.flushSync})}else await c(d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:x,formMethod:d.method||f,formEncType:d.encType||h,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[o,c,a,s])}function ex(t,{relative:a}={}){let{basename:s}=v.useContext(vn),o=v.useContext(Hn);vt(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),u={...Dl(t||".",{relative:a})},d=gr();if(t==null){u.search=d.search;let g=new URLSearchParams(u.search),f=g.getAll("index");if(f.some(y=>y==="")){g.delete("index"),f.filter(x=>x).forEach(x=>g.append("index",x));let y=g.toString();u.search=y?`?${y}`:""}}return(!t||t===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:cr([s,u.pathname])),Il(u)}function tx(t,{relative:a}={}){let s=v.useContext(dp);vt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Ep("useViewTransitionState"),c=Dl(t,{relative:a});if(!s.isTransitioning)return!1;let u=mr(s.currentLocation.pathname,o)||s.currentLocation.pathname,d=mr(s.nextLocation.pathname,o)||s.nextLocation.pathname;return so(c.pathname,d)!=null||so(c.pathname,u)!=null}var Ol=ap();const xe="http://localhost:8000/api/v1",nx=3e4,rg=3e5,ke=()=>{const t=localStorage.getItem("rag_token");return t?{Authorization:`Bearer ${t}`}:{}};class $n extends Error{constructor(a,s,o=null){super(a),this.name="ApiError",this.status=s,this.detail=o}}const Re=async t=>{if(t.status===401)throw localStorage.removeItem("rag_token"),window.location.href="/login",new $n(" .  .",401);if(t.status===429){const o=t.headers.get("Retry-After")||"60";throw new $n(`  . ${o}   .`,429,{retryAfter:parseInt(o)})}if(t.status===413)throw new $n("   .",413);let a=`  (${t.status})`,s=null;try{const o=await t.json();a=o.detail||a,s=o}catch{}throw new $n(a,t.status,s)},Ee=async(t,a,s=nx)=>{const o=new AbortController,c=setTimeout(()=>o.abort(),s);try{const u=await fetch(t,{...a,signal:o.signal});return clearTimeout(c),u}catch(u){throw clearTimeout(c),u.name==="AbortError"?new $n("  .",408):new $n(navigator.onLine?"   .":"  .",0)}},rx=async({query:t,model:a,kb_ids:s,use_rag:o,web_search:c,use_deep_think:u,active_mcp_ids:d,system_prompt:g,history:f,top_k:h,use_rerank:y,search_provider:x,search_mode:k,images:E,use_sql:O,db_connection_id:M,use_multimodal_search:S},C,N,A)=>{try{const q=await fetch(`${xe}/chat/stream`,{method:"POST",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify({message:t,kb_ids:s&&s.length>0?s:["default_kb"],model:a,system_prompt:g||null,history:f||[],use_rag:o!==!1,use_web_search:c||!1,use_deep_think:u||!1,active_mcp_ids:d||[],top_k:h||null,use_rerank:y||!1,search_provider:x||null,search_mode:k||"hybrid",images:E||[],use_sql:O||!1,db_connection_id:M||null,use_multimodal_search:S||!1}),signal:A?.signal});q.ok||await Re(q);const X=q.body.getReader(),L=new TextDecoder;let Z="";for(;;){const{done:le,value:re}=await X.read();if(le)break;Z+=L.decode(re,{stream:!0});const R=Z.split(`
`);Z=R.pop();for(const F of R)if(F.trim())try{const K=F.startsWith('"')&&F.endsWith('"')?JSON.parse(F):F,ye=typeof K=="object"?K:JSON.parse(K);C(ye)}catch{}}N&&N()}catch(q){if(q.name==="AbortError"){N&&N();return}const X=q instanceof $n?q.message:"  .";C({type:"content",content:`
[] ${X}`}),N&&N()}},ax=async t=>{const a=new FormData;a.append("file",t);const s=await Ee(`${xe}/chat/extract-text`,{method:"POST",headers:{...ke()},body:a},6e4);return s.ok||await Re(s),await s.json()},kp=async(t,a,s=null)=>{const o=new FormData;if(o.append("file",t),o.append("kb_id",a||"default_kb"),s)return new Promise((u,d)=>{const g=new XMLHttpRequest;g.upload.addEventListener("progress",h=>{if(h.lengthComputable){const y=Math.round(h.loaded/h.total*100);s(y)}}),g.addEventListener("load",async()=>{if(g.status>=200&&g.status<300)try{const h=JSON.parse(g.responseText);u(h)}catch{u({success:!0})}else{let h=`  (${g.status})`;try{h=JSON.parse(g.responseText).detail||h}catch{}d(new $n(h,g.status))}}),g.addEventListener("error",()=>{d(new $n("  .",0))}),g.addEventListener("timeout",()=>{d(new $n("  .",408))}),g.addEventListener("abort",()=>{d(new $n(" .",0))}),g.open("POST",`${xe}/knowledge/upload`),g.timeout=rg;const f=localStorage.getItem("rag_token");f&&g.setRequestHeader("Authorization",`Bearer ${f}`),g.send(o)});const c=await Ee(`${xe}/knowledge/upload`,{method:"POST",headers:{...ke()},body:o},rg);return c.ok||await Re(c),await c.json()},on={upload:kp,listBases:async()=>{try{const t=await Ee(`${xe}/knowledge/bases`,{method:"GET",headers:{...ke()}});return t.ok?await t.json():{bases:[]}}catch{return{bases:[]}}},createBase:async t=>{const a=await Ee(`${xe}/knowledge/bases`,{method:"POST",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify(t)});return a.ok||await Re(a),await a.json()},updateBase:async(t,a)=>{const s=await Ee(`${xe}/knowledge/bases/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify(a)});return s.ok||await Re(s),await s.json()},deleteBase:async t=>{const a=await Ee(`${xe}/knowledge/bases/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...ke()}});return a.ok||await Re(a),await a.json()},getFiles:async t=>{const a=await Ee(`${xe}/knowledge/${t}/files`,{method:"GET",headers:{...ke()}});return a.ok||await Re(a),await a.json()},getGraph:async t=>{try{const a=await Ee(`${xe}/knowledge/graph?kb_id=${encodeURIComponent(t||"default_kb")}`,{method:"GET",headers:{...ke()}});return a.ok||await Re(a),await a.json()}catch(a){return{nodes:[],edges:[],error:a.message}}},deleteFile:async(t,a)=>{const s=await Ee(`${xe}/knowledge/${t}/files/${a}`,{method:"DELETE",headers:{...ke()}});return s.ok||await Re(s),await s.json()},deleteFileChunks:async(t,a)=>{const s=new URLSearchParams({source:a}),o=await Ee(`${xe}/knowledge/${encodeURIComponent(t)}/files?${s}`,{method:"DELETE",headers:{...ke()}});return o.ok||await Re(o),await o.json()},getFilesList:async t=>{try{const a=await Ee(`${xe}/knowledge/${encodeURIComponent(t)}/files`,{method:"GET",headers:{...ke()}});return a.ok?await a.json():{files:[]}}catch{return{files:[]}}},getChunks:async(t,a=null,s=20,o=null,c=null)=>{const u=new URLSearchParams;a!==null&&u.append("offset",a),u.append("limit",s),o&&u.append("search",o),c&&u.append("source",c);try{const d=await Ee(`${xe}/knowledge/${encodeURIComponent(t)}/chunks?${u}`,{method:"GET",headers:{...ke()}});return d.ok||await Re(d),await d.json()}catch{return{chunks:[],total:0,next_offset:null,kb_id:t}}},getStats:async t=>{try{const a=await Ee(`${xe}/knowledge/${encodeURIComponent(t)}/stats`,{method:"GET",headers:{...ke()}});return a.ok?await a.json():null}catch{return null}},createNode:async(t,a)=>{const s=await Ee(`${xe}/knowledge/graph/nodes?kb_id=${encodeURIComponent(t||"default_kb")}`,{method:"POST",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify(a)});return s.ok||await Re(s),await s.json()},updateNode:async(t,a)=>{const s=await Ee(`${xe}/knowledge/graph/nodes/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify(a)});return s.ok||await Re(s),await s.json()},deleteNode:async t=>{const a=await Ee(`${xe}/knowledge/graph/nodes/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...ke()}});return a.ok||await Re(a),await a.json()},createEdge:async(t,a)=>{const s=await Ee(`${xe}/knowledge/graph/edges?kb_id=${encodeURIComponent(t||"default_kb")}`,{method:"POST",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify(a)});return s.ok||await Re(s),await s.json()},deleteEdge:async t=>{const a=await Ee(`${xe}/knowledge/graph/edges/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...ke()}});return a.ok||await Re(a),await a.json()}},wp={check:async()=>{try{const t=await Ee(`${xe.replace("/api/v1","")}/health`,{method:"GET"},5e3);return t.ok?await t.json():{status:"unhealthy",error:`HTTP ${t.status}`}}catch(t){return{status:"unreachable",error:t.message}}},testService:async t=>{try{const a=await Ee(`${xe.replace("/api/v1","")}/health/${t}`,{method:"GET"},1e4);return a.ok?await a.json():{status:"disconnected",service:t,detail:`HTTP ${a.status}`}}catch(a){return{status:"disconnected",service:t,detail:a.message}}}},Ot={getConfig:async()=>{try{const t=await Ee(`${xe}/settings/config`,{method:"GET",headers:{...ke()}});return t.ok?await t.json():null}catch(t){return console.error("Failed to load backend config:",t),null}},getUserSettings:async()=>{try{const t=await Ee(`${xe}/settings/user`,{method:"GET",headers:{...ke()}});return t.ok?await t.json():null}catch{return null}},updateUserSettings:async t=>{try{const a=await Ee(`${xe}/settings/user`,{method:"PUT",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify(t)});return a.ok?await a.json():null}catch{return null}},saveApiKey:async(t,a)=>{const s=await Ee(`${xe}/settings/api-keys`,{method:"POST",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify({provider:t,key:a})});return s.ok||await Re(s),await s.json()},getApiKeys:async()=>{try{const t=await Ee(`${xe}/settings/api-keys`,{method:"GET",headers:{...ke()}});return t.ok?await t.json():{keys:[]}}catch{return{keys:[]}}},deleteApiKey:async t=>{const a=await Ee(`${xe}/settings/api-keys/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...ke()}});return a.ok||await Re(a),await a.json()},getOllamaModels:async()=>{try{const t=await Ee(`${xe}/settings/ollama-models`,{method:"GET",headers:{...ke()}});return t.ok?await t.json():{models:[],error:"Failed to fetch models"}}catch(t){return console.error("Failed to fetch Ollama models:",t),{models:[],error:t.message}}},getAvailableModels:async()=>{try{const t=await Ee(`${xe}/settings/available-models`,{method:"GET",headers:{...ke()}});return t.ok?await t.json():{models:[],error:"Failed to fetch models"}}catch(t){return console.error("Failed to fetch available models:",t),{models:[],error:t.message}}},getDbConnections:async()=>{try{const t=await Ee(`${xe}/settings/db-connections`,{method:"GET",headers:{...ke()}});return t.ok?await t.json():{connections:[]}}catch{return{connections:[]}}},addDbConnection:async t=>{const a=await Ee(`${xe}/settings/db-connections`,{method:"POST",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify(t)});return a.ok||await Re(a),await a.json()},deleteDbConnection:async t=>{const a=await Ee(`${xe}/settings/db-connections/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...ke()}});return a.ok||await Re(a),await a.json()},testDbConnection:async t=>{try{const a=await Ee(`${xe}/settings/db-connections/${encodeURIComponent(t)}/test`,{method:"POST",headers:{...ke()}},1e4);return a.ok?await a.json():{status:"disconnected",detail:`HTTP ${a.status}`}}catch(a){return{status:"disconnected",detail:a.message}}},getDbSchema:async t=>{try{const a=await Ee(`${xe}/settings/db-connections/${encodeURIComponent(t)}/schema`,{method:"GET",headers:{...ke()}});return a.ok?await a.json():{tables:[]}}catch(a){return{tables:[],error:a.message}}},updateDbMetadata:async(t,a)=>{try{const s=await Ee(`${xe}/settings/db-connections/${encodeURIComponent(t)}/metadata`,{method:"PUT",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify({schema_metadata:a})});if(!s.ok)throw new Error("  ");return await s.json()}catch(s){return{error:s.message}}}},lx={list:async()=>{try{const t=await Ee(`${xe}/agents`,{method:"GET",headers:{...ke()}});return t.ok?await t.json():{agents:[]}}catch{return{agents:[]}}},create:async t=>{const a=await Ee(`${xe}/agents`,{method:"POST",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify(t)});return a.ok||await Re(a),await a.json()},update:async(t,a)=>{const s=await Ee(`${xe}/agents/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify(a)});return s.ok||await Re(s),await s.json()},delete:async t=>{const a=await Ee(`${xe}/agents/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...ke()}});return a.ok||await Re(a),await a.json()}},xl={list:async(t=50,a=0)=>{try{const s=await Ee(`${xe}/sessions?limit=${t}&offset=${a}`,{method:"GET",headers:{...ke()}});return s.ok?await s.json():{sessions:[]}}catch{return{sessions:[]}}},create:async t=>{const a=await Ee(`${xe}/sessions`,{method:"POST",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify(t)});return a.ok||await Re(a),await a.json()},get:async t=>{const a=await Ee(`${xe}/sessions/${encodeURIComponent(t)}`,{method:"GET",headers:{...ke()}});return a.ok||await Re(a),await a.json()},update:async(t,a)=>{const s=await Ee(`${xe}/sessions/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify(a)});return s.ok||await Re(s),await s.json()},delete:async t=>{const a=await Ee(`${xe}/sessions/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...ke()}});return a.ok||await Re(a),await a.json()},addMessage:async(t,a)=>{const s=await Ee(`${xe}/sessions/${encodeURIComponent(t)}/messages`,{method:"POST",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify(a)});return s.ok||await Re(s),await s.json()},getMessages:async(t,a=100,s=0)=>{try{const o=await Ee(`${xe}/sessions/${encodeURIComponent(t)}/messages?limit=${a}&offset=${s}`,{method:"GET",headers:{...ke()}});return o.ok?await o.json():{messages:[]}}catch{return{messages:[]}}}},sx={list:async()=>{try{const t=await Ee(`${xe}/services`,{method:"GET",headers:{...ke()}});return t.ok?await t.json():{services:[]}}catch{return{services:[]}}},create:async t=>{const a=await Ee(`${xe}/services`,{method:"POST",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify(t)});return a.ok||await Re(a),await a.json()},update:async(t,a)=>{const s=await Ee(`${xe}/services/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...ke()},body:JSON.stringify(a)});return s.ok||await Re(s),await s.json()},delete:async t=>{const a=await Ee(`${xe}/services/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...ke()}});return a.ok||await Re(a),await a.json()},test:async t=>{try{const a=await Ee(`${xe}/services/${encodeURIComponent(t)}/test`,{method:"POST",headers:{...ke()}},1e4);return a.ok?await a.json():{status:"disconnected",detail:`HTTP ${a.status}`}}catch(a){return{status:"disconnected",detail:a.message}}}},oc={list:async()=>{const t=await Ee(`${xe}/settings/mcp-servers`,{headers:{...ke(),"Content-Type":"application/json"}});return t.ok||await Re(t),await t.json()},create:async t=>{const a=await Ee(`${xe}/settings/mcp-servers`,{method:"POST",headers:{...ke(),"Content-Type":"application/json"},body:JSON.stringify(t)});return a.ok||await Re(a),await a.json()},delete:async t=>{const a=await Ee(`${xe}/settings/mcp-servers/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...ke()}});return a.ok||await Re(a),await a.json()},reorder:async t=>{const a=await Ee(`${xe}/settings/mcp-servers/reorder`,{method:"PUT",headers:{...ke(),"Content-Type":"application/json"},body:JSON.stringify({server_ids:t})});return a.ok||await Re(a),await a.json()}},_c={create:async t=>{const a=await Ee(`${xe}/training/feedback`,{method:"POST",headers:{...ke(),"Content-Type":"application/json"},body:JSON.stringify(t)});return a.ok||await Re(a),await a.json()},list:async(t={})=>{const a=new URLSearchParams;t.session_id&&a.append("session_id",t.session_id),t.min_rating&&a.append("min_rating",t.min_rating),t.only_positive!==void 0&&a.append("only_positive",t.only_positive),t.skip&&a.append("skip",t.skip),t.limit&&a.append("limit",t.limit);const s=await Ee(`${xe}/training/feedback?${a}`,{headers:{...ke()}});return s.ok||await Re(s),await s.json()},update:async(t,a)=>{const s=await Ee(`${xe}/training/feedback/${t}`,{method:"PUT",headers:{...ke(),"Content-Type":"application/json"},body:JSON.stringify(a)});return s.ok||await Re(s),await s.json()},delete:async t=>{const a=await Ee(`${xe}/training/feedback/${t}`,{method:"DELETE",headers:{...ke()}});return a.ok||await Re(a),await a.json()}},Js={create:async t=>{const a=await Ee(`${xe}/training/datasets`,{method:"POST",headers:{...ke(),"Content-Type":"application/json"},body:JSON.stringify(t)});return a.ok||await Re(a),await a.json()},list:async()=>{const t=await Ee(`${xe}/training/datasets`,{headers:{...ke()}});return t.ok||await Re(t),await t.json()},get:async t=>{const a=await Ee(`${xe}/training/datasets/${t}`,{headers:{...ke()}});return a.ok||await Re(a),await a.json()},delete:async t=>{const a=await Ee(`${xe}/training/datasets/${t}`,{method:"DELETE",headers:{...ke()}});return a.ok||await Re(a),await a.json()},build:async t=>{const a=await Ee(`${xe}/training/datasets/${t}/build`,{method:"POST",headers:{...ke()}});return a.ok||await Re(a),await a.json()},export:async(t,a="chat")=>{const s=await Ee(`${xe}/training/datasets/${t}/export?format=${a}`,{headers:{...ke()}});s.ok||await Re(s);const o=await s.blob(),c=window.URL.createObjectURL(o),u=document.createElement("a");return u.href=c,u.download=`dataset_${t}_${a}.jsonl`,document.body.appendChild(u),u.click(),window.URL.revokeObjectURL(c),document.body.removeChild(u),{success:!0}}},ir={createJob:async t=>{const a=await Ee(`${xe}/finetuning/jobs`,{method:"POST",headers:{...ke(),"Content-Type":"application/json"},body:JSON.stringify(t)});return a.ok||await Re(a),await a.json()},listJobs:async()=>{const t=await Ee(`${xe}/finetuning/jobs`,{headers:{...ke()}});return t.ok||await Re(t),await t.json()},getJob:async t=>{const a=await Ee(`${xe}/finetuning/jobs/${encodeURIComponent(t)}`,{headers:{...ke()}});return a.ok||await Re(a),await a.json()},cancelJob:async t=>{const a=await Ee(`${xe}/finetuning/jobs/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...ke()}});return a.ok||await Re(a),await a.json()},listModels:async()=>{const t=await Ee(`${xe}/finetuning/models`,{headers:{...ke()}});return t.ok||await Re(t),await t.json()},downloadModel:async t=>{const a=await Ee(`${xe}/finetuning/models/download`,{method:"POST",headers:{...ke(),"Content-Type":"application/json"},body:JSON.stringify({model_name:t})},12e4);return a.ok||await Re(a),await a.json()},getDownloadStatus:async t=>{try{const a=await Ee(`${xe}/finetuning/models/download-status?model_name=${encodeURIComponent(t)}`,{headers:{...ke()}});return a.ok?await a.json():{status:"unknown"}}catch{return{status:"unknown"}}},listBaseModels:async()=>{try{const t=await Ee(`${xe}/finetuning/models/base`,{headers:{...ke()}});return t.ok?await t.json():{models:[]}}catch{return{models:[]}}},setDefaultModel:async t=>{const a=await Ee(`${xe}/finetuning/models/set-default`,{method:"POST",headers:{...ke(),"Content-Type":"application/json"},body:JSON.stringify({model_name:t})});return a.ok||await Re(a),await a.json()},clearDefaultModel:async()=>{const t=await Ee(`${xe}/finetuning/models/clear-default`,{method:"POST",headers:{...ke()}});return t.ok||await Re(t),await t.json()}},Np=v.createContext();function ox({children:t}){const[a,s]=v.useState(null),[o,c]=v.useState(!0);v.useEffect(()=>{const f=localStorage.getItem("rag_token"),h=localStorage.getItem("rag_user");f&&h&&s(JSON.parse(h)),c(!1)},[]);const u=async(f,h)=>{const y=new FormData;y.append("username",f),y.append("password",h);const x=await fetch(`${xe}/auth/login`,{method:"POST",body:y});if(!x.ok){const M=await x.json();throw new Error(M.detail||" ")}const E=(await x.json()).access_token,O={name:f.split("@")[0],email:f};return localStorage.setItem("rag_token",E),localStorage.setItem("rag_user",JSON.stringify(O)),s(O),O},d=async(f,h,y)=>{const x=await fetch(`${xe}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h,name:f,password:y})});if(!x.ok){const k=await x.json();throw new Error(k.detail||" ")}return await x.json()},g=()=>{localStorage.removeItem("rag_token"),localStorage.removeItem("rag_user"),s(null)};return r.createElement(Np.Provider,{value:{user:a,login:u,register:d,logout:g,isAuthenticated:!!a,isLoading:o}},!o&&t)}const jl=()=>v.useContext(Np);function Jn(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const a=Math.random()*16|0;return(t==="x"?a:a&3|8).toString(16)})}const Sp=v.createContext(),ag=(t,a)=>{let s;return(...o)=>{clearTimeout(s),s=setTimeout(()=>t(...o),a)}},ix=t=>({llm:t.llm_model,embeddingModel:t.embedding_model,vlm:t.vlm_model,enableMultimodal:t.enable_multimodal,retrieval:t.retrieval_mode,searchTopK:t.search_top_k,useRerank:t.use_rerank,searchMode:t.search_mode||"hybrid",denseWeight:t.dense_weight??.5,useMultimodalSearch:t.use_multimodal_search||!1,systemPrompt:t.system_prompt||"",theme:t.theme,activeSearchProviderId:t.active_search_provider_id,storageType:t.storage_type,bucketName:t.bucket_name}),lg=t=>({llm_model:t.llm,embedding_model:t.embeddingModel,vlm_model:t.vlm,enable_multimodal:t.enableMultimodal,retrieval_mode:t.retrieval,search_top_k:t.searchTopK,use_rerank:t.useRerank,search_mode:t.searchMode||"hybrid",dense_weight:t.denseWeight??.5,use_multimodal_search:t.useMultimodalSearch||!1,system_prompt:t.systemPrompt,theme:t.theme,active_search_provider_id:t.activeSearchProviderId,storage_type:t.storageType,bucket_name:t.bucketName}),ka={llm:"gemma3:12b",embeddingModel:"bge-m3",enableMultimodal:!0,vlm:"llava:7b",storageType:"minio",bucketName:"rag-ai-bucket",retrieval:"hybrid",useRerank:!0,searchMode:"hybrid",denseWeight:.5,useMultimodalSearch:!1,systemPrompt:"     AI .",theme:"Light",searchTopK:5,activeSearchProviderId:"ddg"};function cx({children:t}){const{isAuthenticated:a}=jl(),[s,o]=v.useState(()=>{const Q=localStorage.getItem("rag_ai_config");if(Q)try{const te=JSON.parse(Q);return delete te.neo4jPassword,delete te.redisPassword,{...ka,...te}}catch(te){console.error("Config parse error:",te)}return ka}),c=v.useRef(!1),u=v.useRef(!1),[d,g]=v.useState(()=>JSON.parse(localStorage.getItem("rag_ai_api_keys"))||[]),[f,h]=v.useState(()=>JSON.parse(localStorage.getItem("rag_ai_mcp"))||[{id:"mcp-1",name:"Filesystem",type:"stdio",status:"connected",enabled:!0},{id:"mcp-2",name:"Google Drive",type:"sse",status:"disconnected",enabled:!1}]),[y]=v.useState([{id:"ddg",name:"DuckDuckGo",type:"free",description:", API  ",needsKey:!1},{id:"brave",name:"Brave Search",type:"api",description:" 2,000/",needsKey:!0},{id:"tavily",name:"Tavily AI",type:"api",description:"AI  ,  1,000/",needsKey:!0},{id:"serper",name:"Google Serper",type:"api",description:"Google , 2,500 ",needsKey:!0}]),[x,k]=v.useState(()=>{const Q=localStorage.getItem("rag_ai_kbs");if(Q)try{return JSON.parse(Q).map(te=>({...te,config:te.config||{chunkSize:512,chunkOverlap:50}}))}catch(te){console.error(te)}return[{id:"default",name:"  ",description:"  ",files:[],config:{chunkSize:512,chunkOverlap:50},created_at:new Date().toLocaleDateString()}]}),[E,O]=v.useState("default"),M={sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},S=Q=>{if(!Q)return M;const te=typeof Q=="string"?JSON.parse(Q):Q;if("sources"in te&&!("smartMode"in te))return te;if("sources"in te)return{sources:te.sources};const{deep_think:_e,smartMode:fe,...He}=te;return{sources:He}},C=[{id:"agent-general",name:"  ",agentType:"custom",description:"       AI .",model:"gemma3:12b",systemPrompt:` "RAG AI ".         AI .

##  
-     .
-     .
- , , , ,     .

##  
1. ** **:     .
2. ** **: , ,  ,   .
3. ** **:     .
4. ** **:    .
5. ** **:     .`,icon:"sparkles",published:!0,defaultTools:{sources:{rag:!1,web_search:!1,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"agent-rag",name:"  ",agentType:"custom",description:"      RAG .",model:"gemma3:12b",systemPrompt:` "RAG AI   ".        RAG  .

##  
-      .
-   , , .
-     .

##  
1. **  **:     .
2. ** **:    .
3. ** **:    .
4. **  **:     .`,icon:"file-text",published:!0,defaultTools:{sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-supervisor",name:" ",agentType:"supervisor",description:"       .",model:"gemma3:12b",systemPrompt:"      (RAG, , SQL, MCP, )    .",icon:"brain",published:!0,defaultTools:{sources:{rag:!0,web_search:!0,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-rag",name:"RAG  ",agentType:"rag",description:"     .",model:"gemma3:12b",icon:"file-text",published:!0,defaultTools:{sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-web",name:"  ",agentType:"web_search",description:"   .",model:"gemma3:12b",icon:"globe",published:!0,defaultTools:{sources:{rag:!1,web_search:!0,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-sql",name:"T2SQL ",agentType:"t2sql",description:" SQL   .",model:"gemma3:12b",icon:"database",published:!0,defaultTools:{sources:{rag:!1,web_search:!1,mcp:!1,sql:!0}},updated_at:new Date().toLocaleDateString()},{id:"system-mcp",name:"MCP  ",agentType:"mcp",description:" MCP    .",model:"gemma3:12b",icon:"plug",published:!0,defaultTools:{sources:{rag:!1,web_search:!1,mcp:!0,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-process",name:" ",agentType:"process",description:",      .",model:"gemma3:12b",icon:"truck",published:!0,defaultTools:{sources:{rag:!1,web_search:!1,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()}],N=C.map(Q=>Q.id),[A,q]=v.useState(()=>{const Q=localStorage.getItem("rag_ai_agents");let te=Q?JSON.parse(Q):[];if(!C.every(fe=>te.some(He=>He.id===fe.id))){const fe=new Set(te.map(Ve=>Ve.id));return[...C.filter(Ve=>!fe.has(Ve.id)),...te.filter(Ve=>!N.includes(Ve.id))]}return te}),[X,L]=v.useState(null),[Z,le]=v.useState(()=>JSON.parse(localStorage.getItem("rag_ai_sessions"))||[{id:"new",title:" ",messages:[]}]),[re,R]=v.useState("new"),[F,K]=v.useState("home");v.useEffect(()=>{if(!re||re==="new"||!a)return;const Q=Z.find(te=>te.id===re);Q&&Q.messages&&Q.messages.length>0||xl.getMessages(re).then(te=>{if(te.messages&&te.messages.length>0){const _e=te.messages.map(fe=>({id:fe.id||Jn(),role:fe.role,content:fe.content,text:fe.content,thinking:fe.thinking,time:fe.created_at?new Date(fe.created_at).toLocaleTimeString():""}));le(fe=>fe.map(He=>He.id===re?{...He,messages:_e}:He))}}).catch(()=>{})},[re,a]),v.useEffect(()=>{if(!a){c.current=!1;return}if(c.current)return;let Q=!0;return(async()=>{const te=await Ot.getUserSettings();if(!Q)return;if(te){const Ve=ix(te),at=Ve.llm===ka.llm&&Ve.embeddingModel===ka.embeddingModel&&Ve.systemPrompt===ka.systemPrompt,ut=localStorage.getItem("rag_ai_config");if(at&&ut)try{const T=JSON.parse(ut),I={...ka,...T};if(await Ot.updateUserSettings(lg(I)),!Q)return;u.current=!0,o(I)}catch{}else u.current=!0,o(T=>({...T,...Ve}))}const _e=await on.listBases();if(!Q)return;if(_e.bases&&_e.bases.length>0){const Ve=await Promise.allSettled(_e.bases.map(T=>on.getFilesList(T.kb_id))),at=_e.bases.map((T,I)=>{const ne=((Ve[I]?.status==="fulfilled"?Ve[I].value:{files:[]}).files||[]).map((he,Me)=>({id:he.source||`file-${Me}`,name:he.filename||he.source,source:he.source,size:he.image_size?`${(he.image_size/1024).toFixed(1)} KB`:"",type:he.type||"text",status:he.status||"ready",chunk_count:he.chunk_count||0,thumbnail_path:he.thumbnail_path,image_path:he.image_path,image_dimensions:he.image_dimensions,error_message:he.error_message}));return{id:T.kb_id,name:T.name,description:T.description||"",files:ne,config:{chunkSize:T.chunk_size,chunkOverlap:T.chunk_overlap,chunkingMethod:T.chunking_method||"fixed",semanticThreshold:T.semantic_threshold||.75},chunkSize:T.chunk_size,chunkOverlap:T.chunk_overlap,chunkingMethod:T.chunking_method||"fixed",semanticThreshold:T.semantic_threshold||.75,file_count:ne.length||T.file_count||0,externalServiceId:T.external_service_id||"",created_at:T.created_at}});k(at);const ut=at.map(T=>T.id);ut.includes(E)||O(ut[0])}const fe=await lx.list();if(!Q)return;if(fe.agents&&fe.agents.length>0){const Ve=fe.agents.map(T=>({id:T.agent_id,name:T.name,description:T.description||"",model:T.model,systemPrompt:T.system_prompt||"",icon:T.icon||"",color:T.color||"",agentType:T.agent_type||"custom",published:T.published,defaultTools:S(T.default_tools),updated_at:T.updated_at})),at=new Set(Ve.map(T=>T.id)),ut=C.filter(T=>!at.has(T.id));q([...ut,...Ve])}const He=await xl.list();if(Q){if(He.sessions&&He.sessions.length>0){const Ve=He.sessions.map(at=>({id:at.session_id,title:at.title,messages:[],agent_id:at.agent_id,created_at:at.created_at}));le(Ve),R(Ve[0].id)}try{const Ve=await oc.list();if(!Q)return;if(Ve.servers&&Ve.servers.length>0){const at=Ve.servers.map(ut=>({id:ut.server_id,name:ut.name,type:ut.server_type,url:ut.url||"",command:ut.command||"",headers_json:ut.headers_json||"",enabled:ut.enabled,status:"connected"}));h(at)}}catch{}Q&&(c.current=!0)}})(),()=>{Q=!1}},[a]);const ye=v.useMemo(()=>ag(Q=>{if(localStorage.setItem("rag_ai_config",JSON.stringify(Q)),u.current){u.current=!1;return}localStorage.getItem("rag_token")&&Ot.updateUserSettings(lg(Q)).catch(()=>{})},500),[]),ae=v.useMemo(()=>ag(Q=>{localStorage.setItem("rag_ai_sessions",JSON.stringify(Q))},500),[]);v.useEffect(()=>{ye(s)},[s,ye]),v.useEffect(()=>{ae(Z)},[Z,ae]),v.useEffect(()=>{localStorage.setItem("rag_ai_kbs",JSON.stringify(x))},[x]),v.useEffect(()=>{localStorage.setItem("rag_ai_agents",JSON.stringify(A))},[A]),v.useEffect(()=>{localStorage.setItem("rag_ai_api_keys",JSON.stringify(d))},[d]),v.useEffect(()=>{localStorage.setItem("rag_ai_mcp",JSON.stringify(f))},[f]),v.useEffect(()=>{s.theme==="Dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s.theme]);const ee=v.useMemo(()=>Z.find(Q=>Q.id===re)?.messages||[],[Z,re]),J=v.useMemo(()=>x.find(Q=>Q.id===E),[x,E]),me=J?.files||[],G=v.useMemo(()=>X&&A.find(Q=>Q.id===X)||null,[A,X]),ue=v.useCallback((Q,te)=>{k(_e=>_e.map(fe=>fe.id===Q?{...fe,config:{...fe.config,...te}}:fe))},[]),w=v.useCallback(Q=>{k(te=>te.map(_e=>_e.id===E?{..._e,files:[..._e.files,...Q]}:_e))},[E]),j=v.useCallback(Q=>{k(te=>te.map(_e=>_e.id===E?{..._e,files:_e.files.filter(fe=>fe.id!==Q)}:_e))},[E]),B=v.useCallback((Q,te,_e=null)=>{k(fe=>fe.map(He=>He.id===E?{...He,files:He.files.map(Ve=>Ve.id===Q?{...Ve,status:te,..._e?{errorMessage:_e}:{}}:Ve)}:He))},[E]),_=v.useCallback(Q=>{q(te=>[Q,...te])},[]),be=v.useCallback((Q,te)=>{q(_e=>_e.map(fe=>fe.id===Q?{...fe,...te,updated_at:new Date().toLocaleDateString()}:fe))},[]),Ie=v.useCallback(Q=>{q(te=>te.filter(_e=>_e.id!==Q))},[]),Ne=v.useCallback((Q,te)=>{g(_e=>[..._e,{id:Jn(),provider:Q,key:te,date:new Date().toLocaleDateString()}])},[]),Fe=v.useCallback(Q=>{g(te=>te.filter(_e=>_e.id!==Q))},[]),Le=v.useCallback(async Q=>{const te=Jn(),_e={id:te,status:"connected",enabled:!0,...Q};h(fe=>[...fe,_e]);try{await oc.create({server_id:te,name:Q.name,server_type:Q.type||"sse",url:Q.url||"",command:Q.command||"",headers_json:Q.headers_json||"",enabled:!0})}catch(fe){console.error("MCP    :",fe)}},[]),Oe=v.useCallback(async Q=>{h(te=>te.filter(_e=>_e.id!==Q));try{await oc.delete(Q)}catch(te){console.error("MCP    :",te)}},[]),Qe=v.useCallback((Q,te)=>{h(_e=>{const fe=[..._e];return te==="up"&&Q>0?[fe[Q],fe[Q-1]]=[fe[Q-1],fe[Q]]:te==="down"&&Q<fe.length-1&&([fe[Q],fe[Q+1]]=[fe[Q+1],fe[Q]]),fe})},[]),Ue=v.useCallback((Q,te)=>{h(_e=>{const fe=[..._e],[He]=fe.splice(Q,1);return fe.splice(te,0,He),fe})},[]),lt=v.useCallback(Q=>{const te=Q.id||Jn(),_e=!Q.id;le(fe=>fe.map(He=>He.id===re?He.messages.find(at=>at.id===te)?{...He,messages:He.messages.map(at=>at.id===te?{...at,...Q}:at)}:{...He,messages:[...He.messages,{...Q,id:te,time:new Date().toLocaleTimeString()}]}:He)),_e&&Q.role&&re&&xl.addMessage(re,{role:Q.role,content:Q.content||Q.text||"",thinking:Q.thinking||null,metadata_json:Q.toolCallsMeta?JSON.stringify(Q.toolCallsMeta):null}).catch(fe=>console.warn("   :",fe))},[re]),Et=v.useCallback(()=>{const Q=Jn();le(te=>[{id:Q,title:" ",messages:[]},...te]),R(Q),K("chat"),xl.create({session_id:Q,title:" "}).catch(te=>console.warn("   :",te))},[]),de=v.useCallback((Q,te)=>{le(_e=>_e.map(fe=>fe.id===Q?{...fe,title:te}:fe))},[]),Ye=v.useCallback(async Q=>{try{await xl.delete(Q)}catch(te){console.error("  :",te)}le(te=>te.filter(fe=>fe.id!==Q)),Q===re&&le(te=>(te.length>0?R(te[0].id):setTimeout(()=>Et(),0),te))},[re,Et]),We=v.useMemo(()=>({config:s,setConfig:o,knowledgeBases:x,setKnowledgeBases:k,currentKbId:E,setCurrentKbId:O,currentKb:J,currentFiles:me,addFilesToKb:w,updateFileStatusInKb:B,updateKbConfig:ue,removeFileFromKb:j,agents:A,setAgents:q,addAgent:_,updateAgent:be,deleteAgent:Ie,currentAgent:G,currentAgentId:X,setCurrentAgentId:L,sessions:Z,setSessions:le,currentSessionId:re,setCurrentSessionId:R,currentMessages:ee,addMessage:lt,createNewSession:Et,renameSession:de,deleteSession:Ye,currentView:F,setCurrentView:K,apiKeys:d,addApiKey:Ne,deleteApiKey:Fe,mcpServers:f,addMcpServer:Le,deleteMcpServer:Oe,reorderMcpServer:Qe,moveMcpServer:Ue,searchProviders:y,DEFAULT_TOOL_PRESET:M}),[s,x,E,J,me,A,G,X,Z,re,ee,F,d,f,y,w,B,ue,j,_,be,Ie,lt,Et,de,Ye,Ne,Fe,Le,Oe,Qe,Ue]);return r.createElement(Sp.Provider,{value:We},t)}const La=()=>v.useContext(Sp);var ux={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Se=(t,a)=>{const s=v.forwardRef(({color:o="currentColor",size:c=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:g="",children:f,...h},y)=>v.createElement("svg",{ref:y,...ux,width:c,height:c,stroke:o,strokeWidth:d?Number(u)*24/Number(c):u,className:["lucide",`lucide-${dx(t)}`,g].join(" "),...h},[...a.map(([x,k])=>v.createElement(x,k)),...Array.isArray(f)?f:[f]]));return s.displayName=`${t}`,s};const Ll=Se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const mx=Se("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const gx=Se("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);const Qc=Se("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const px=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Nl=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Cp=Se("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const Xr=Se("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Pt=Se("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const ur=Se("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const ct=Se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Jc=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const fx=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Cl=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const _p=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Tp=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Tc=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Tn=Se("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const Ct=Se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const hx=Se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const bt=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const yx=Se("FolderUp",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m9 13 3-3 3 3",key:"1pxg3c"}]]);const xx=Se("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const zc=Se("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const Qt=Se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Yc=Se("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const sg=Se("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const Ar=Se("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const bx=Se("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);const zp=Se("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const _l=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const jt=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const og=Se("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);const Sa=Se("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const ig=Se("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const Ft=Se("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Pp=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const vx=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Ex=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const xn=Se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const kx=Se("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const Ca=Se("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const wx=Se("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const Pc=Se("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);const zn=Se("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);const Zt=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Fn=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Nx=Se("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);const Ip=Se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const po=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Sx=Se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const Sl=Se("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const fo=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Cx=Se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const Lp=Se("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);const dr=Se("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const _x=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const Tx=Se("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);const Mp=Se("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);const Rp=Se("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);const Bn=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Xc=Se("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const Ml=Se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Ap=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Dp=Se("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Xn=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Pn=Se("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Op=v.createContext(),zx={success:ct,error:Ll,warning:mx,info:jt},cg={success:"border-l-green-500 bg-green-50 dark:bg-green-900/20",error:"border-l-red-500 bg-red-50 dark:bg-red-900/20",warning:"border-l-amber-500 bg-amber-50 dark:bg-amber-900/20",info:"border-l-blue-500 bg-blue-50 dark:bg-blue-900/20",confirm:"border-l-gray-400 bg-white dark:bg-gray-800"},ug={success:"text-green-500",error:"text-red-500",warning:"text-amber-500",info:"text-blue-500",confirm:"text-gray-500"};let Px=0;function Ix({toast:t,onRemove:a}){const s=zx[t.type]||jt,o=v.useRef(null);return r.createElement("div",{className:`relative flex items-start gap-3 px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 border-l-4 shadow-lg backdrop-blur-sm min-w-[320px] max-w-[420px] animate-toastIn ${cg[t.type]||cg.info}`},r.createElement(s,{size:18,className:`shrink-0 mt-0.5 ${ug[t.type]||ug.info}`}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("p",{className:"text-sm text-gray-900 dark:text-gray-100 font-medium"},t.message),t.type==="confirm"&&r.createElement("div",{className:"flex items-center gap-2 mt-2.5"},r.createElement("button",{onClick:()=>{t.onCancel?.(),a(t.id)},className:"px-3 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},""),r.createElement("button",{onClick:()=>{t.onConfirm?.(),a(t.id)},className:"px-3 py-1 text-xs font-medium text-white bg-red-500 rounded-lg hover:bg-red-600 transition-colors"},t.confirmLabel||""))),r.createElement("button",{onClick:()=>a(t.id),className:"shrink-0 p-0.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},r.createElement(Xn,{size:14})),t.type!=="confirm"&&t.duration>0&&r.createElement("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 rounded-b-xl overflow-hidden"},r.createElement("div",{ref:o,className:"h-full bg-current opacity-20 animate-shrinkWidth",style:{animationDuration:`${t.duration}ms`}})))}function Lx({toasts:t,onRemove:a}){return Ol.createPortal(r.createElement("div",{className:"fixed bottom-6 right-6 z-[200] flex flex-col-reverse gap-2 pointer-events-none"},t.slice(0,5).map(s=>r.createElement("div",{key:s.id,className:"pointer-events-auto"},r.createElement(Ix,{toast:s,onRemove:a})))),document.body)}function Mx({children:t}){const[a,s]=v.useState([]),o=v.useCallback(g=>{s(f=>f.filter(h=>h.id!==g))},[]),c=v.useCallback((g,f,h={})=>{const y=++Px,x=h.duration??(g==="confirm"?0:3e3),k={id:y,type:g,message:f,duration:x,...h};return s(E=>[k,...E]),x>0&&setTimeout(()=>o(y),x),y},[o]),u=v.useCallback((g,f="success")=>c(f,g),[c]);u.success=(g,f)=>c("success",g,f),u.error=(g,f)=>c("error",g,f),u.warning=(g,f)=>c("warning",g,f),u.info=(g,f)=>c("info",g,f);const d=v.useCallback((g,f,h={})=>c("confirm",g,{onConfirm:f,onCancel:h.onCancel,confirmLabel:h.confirmLabel||"",duration:0}),[c]);return r.createElement(Op.Provider,{value:{toast:u,confirm:d}},t,r.createElement(Lx,{toasts:a,onRemove:o}))}const pr=()=>v.useContext(Op);function Rx(){const{toast:t}=pr(),{config:a,setConfig:s,apiKeys:o,addApiKey:c,deleteApiKey:u,mcpServers:d,addMcpServer:g,deleteMcpServer:f,reorderMcpServer:h,moveMcpServer:y,searchProviders:x,agents:k,updateAgent:E}=La(),[O,M]=v.useState("general"),[S,C]=v.useState("llm"),[N,A]=v.useState({...a});v.useEffect(()=>{A(P=>({...P,...a}))},[a]);const[q,X]=v.useState("OpenAI"),[L,Z]=v.useState(""),[le,re]=v.useState(""),[R,F]=v.useState(""),[K,ye]=v.useState("sse"),[ae,ee]=v.useState(""),[J,me]=v.useState(null),[G,ue]=v.useState(null),[w,j]=v.useState(null),[B,_]=v.useState([]),[be,Ie]=v.useState(!1),[Ne,Fe]=v.useState([]),[Le,Oe]=v.useState(!1),[Qe,Ue]=v.useState(""),[lt,Et]=v.useState({}),[de,Ye]=v.useState({}),[We,Q]=v.useState([]),[te,_e]=v.useState({name:"",db_type:"postgresql",host:"localhost",port:5432,database:"",username:"",password:""}),[fe,He]=v.useState({}),[Ve,at]=v.useState({}),[ut,T]=v.useState(null),[I,U]=v.useState(""),ne=async()=>{Oe(!0),Ue("");try{const P=await Ot.getOllamaModels();P?.models&&Fe(P.models),P?.error&&Ue(P.error)}catch{Ue("    .")}finally{Oe(!1)}};v.useEffect(()=>{(async()=>{Ie(!0);try{const[ie,Y]=await Promise.all([Ot.getConfig(),Ot.getApiKeys()]);ie&&j(ie),Y?.keys&&_(Y.keys);const ve=await Ot.getDbConnections();ve?.connections&&Q(ve.connections)}catch(ie){console.error("Failed to load backend config:",ie)}finally{Ie(!1)}})(),ne()},[]);const he=async P=>{Et(Y=>({...Y,[P]:"testing"})),Ye(Y=>({...Y,[P]:""}));const ie=await wp.testService(P);ie.status==="connected"?(Et(Y=>({...Y,[P]:"success"})),Ye(Y=>({...Y,[P]:ie.detail}))):(Et(Y=>({...Y,[P]:"error"})),Ye(Y=>({...Y,[P]:ie.detail}))),setTimeout(()=>{Et(Y=>({...Y,[P]:"idle"}))},5e3)},Me=()=>{s(N),t.success(" .")},je=async()=>{if(L.trim()){c(q,L);try{await Ot.saveApiKey(q,L);const P=await Ot.getApiKeys();P?.keys&&_(P.keys)}catch(P){console.error("Failed to save API key to backend:",P)}Z("")}},et=async(P,ie)=>{u(P);try{await Ot.deleteApiKey(ie);const Lt=await Ot.getApiKeys();Lt?.keys&&_(Lt.keys)}catch(Lt){console.error("Failed to delete API key from backend:",Lt)}const Y=ie.toLowerCase(),ot={openai:["gpt-","o1-","text-davinci"],anthropic:["claude"],"google gemini":["gemini","palm"],google:["gemini","palm"],groq:[]}[Y]||[],Je=Lt=>{if(!Lt||!ot.length)return!1;const In=Lt.toLowerCase();return ot.some(Aa=>In.startsWith(Aa))},wt=Lt=>{if(Y!=="groq")return!1;const In=(Lt||"").toLowerCase();return In.includes("versatile")||In.includes("instant")||In.endsWith("32768")},dn=Lt=>Je(Lt)||wt(Lt);k.forEach(Lt=>{dn(Lt.model)&&E(Lt.id,{model:""})}),dn(a.llm)&&s({...a,llm:"llama3.1"})},Ke=()=>{le.trim()&&(K==="stdio"&&!ae.trim()||K!=="stdio"&&!R.trim()||(g({name:le,url:K==="stdio"?"":R,type:K,command:K==="stdio"?ae:""}),re(""),F(""),ee("")))},It=async()=>{if(!(!te.name.trim()||!te.database.trim()))try{await Ot.addDbConnection(te);const P=await Ot.getDbConnections();P?.connections&&Q(P.connections),_e({name:"",db_type:"postgresql",host:"localhost",port:5432,database:"",username:"",password:""})}catch(P){console.error("Failed to add DB connection:",P)}},ft=async P=>{try{await Ot.deleteDbConnection(P),Q(ie=>ie.filter(Y=>Y.id!==P))}catch(ie){console.error("Failed to delete DB connection:",ie)}},Xe=async P=>{He(Y=>({...Y,[P]:"testing"}));const ie=await Ot.testDbConnection(P);He(Y=>({...Y,[P]:ie.status==="connected"?"success":"error"})),at(Y=>({...Y,[P]:ie.detail})),setTimeout(()=>He(Y=>({...Y,[P]:"idle"})),5e3)},kt=(P,ie)=>{me(ie),P.dataTransfer.effectAllowed="move"},dt=(P,ie)=>{P.preventDefault(),P.dataTransfer.dropEffect="move"},nt=(P,ie)=>{P.preventDefault(),!(J===null||J===ie)&&(y(J,ie),me(null))},st=[{id:"general",label:" ",icon:wx},{id:"model",label:" ",icon:Tn},{id:"graph",label:"Graph DB",icon:Cx},{id:"cache",label:" / ",icon:Pn},{id:"search",label:" ",icon:Qt},{id:"api",label:"API  ",icon:og},{id:"database",label:"",icon:Ct},{id:"mcp",label:"MCP ",icon:zn},{id:"system",label:" ",icon:jt}];return r.createElement("div",{className:"flex h-[700px] w-full bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200"},r.createElement("aside",{className:"w-64 bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col p-4 shrink-0"},r.createElement("h3",{className:"text-xs font-bold text-gray-400 uppercase mb-4 px-2 tracking-wider"},"Settings"),r.createElement("nav",{className:"space-y-1"},st.map(P=>r.createElement("div",{key:P.id},r.createElement("button",{onClick:()=>M(P.id),className:`w-full flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg transition-colors ${O===P.id?"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-400 shadow-sm border border-gray-100 dark:border-gray-600":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-200"}`},r.createElement(P.icon,{size:18,className:O===P.id?"text-gray-600":"text-gray-400"})," ",P.label),P.id==="model"&&O==="model"&&r.createElement("div",{className:"ml-9 mt-1 space-y-1 border-l-2 border-gray-200 pl-2"},[{id:"llm",label:"LLM "},{id:"embedding",label:" "},{id:"multimodal",label:" "}].map(ie=>r.createElement("button",{key:ie.id,onClick:()=>C(ie.id),className:`block w-full text-left px-3 py-1.5 text-xs rounded transition-colors ${S===ie.id?"text-gray-600 font-bold bg-gray-50":"text-gray-500 hover:text-gray-800"}`},ie.label))))))),r.createElement("main",{className:"flex-1 flex flex-col min-w-0"},r.createElement("header",{className:"px-8 py-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-white dark:bg-gray-900 shrink-0"},r.createElement("div",null,r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white"},st.find(P=>P.id===O)?.label),r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"   .")),r.createElement("button",{onClick:Me,className:"flex items-center gap-2 px-5 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-sm font-bold transition shadow-sm"},r.createElement(Ip,{size:16})," ")),r.createElement("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar"},O==="general"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 mb-2"}," "),r.createElement("div",{className:"w-full p-2.5 border rounded-lg text-sm bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 font-medium cursor-not-allowed flex items-center justify-between border-gray-200 dark:border-gray-700"},r.createElement("span",null," (Korean)"),r.createElement("span",{className:"text-xs px-2 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-gray-600 dark:text-gray-400"},"")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1.5"},"     ."))),O==="model"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},S==="llm"&&(()=>{const ie=[{id:"openai",name:"OpenAI",color:"green",models:[{name:"gpt-4o",desc:" ,  "},{name:"gpt-4o-mini",desc:"   "},{name:"gpt-4-turbo",desc:"128K "},{name:"gpt-3.5-turbo",desc:" ,  "}]},{id:"anthropic",name:"Anthropic",color:"orange",models:[{name:"claude-sonnet-4-5-20250929",desc:"Claude 4.5 Sonnet"},{name:"claude-opus-4-6",desc:"Claude Opus 4.6,  "},{name:"claude-haiku-4-5-20251001",desc:"Claude 4.5 Haiku,  "}]},{id:"google gemini",name:"Google Gemini",color:"gray",models:[{name:"gemini-2.0-flash",desc:" Gemini,  "},{name:"gemini-2.0-pro",desc:"  Gemini"},{name:"gemini-1.5-flash",desc:"100  "}]},{id:"groq",name:"Groq",color:"red",models:[{name:"llama-3.3-70b-versatile",desc:"Llama 3.3 70B, "},{name:"llama-3.1-8b-instant",desc:"Llama 3.1 8B,  "},{name:"mixtral-8x7b-32768",desc:"Mixtral MoE, 32K "}]}].filter(Je=>o.some(wt=>wt.provider.toLowerCase()===Je.id)||B.some(wt=>wt.provider===Je.id)),Y={gemma3:{desc:"Google  ,  ",caps:["tools","vlm"]},gemma2:{desc:"Google ,   ",caps:[]},"llama3.3":{desc:"Meta 70B,  ",caps:["tools"]},"llama3.2-vision":{desc:"Meta  ",caps:["vlm"]},"llama3.2":{desc:"Meta  ",caps:[]},"llama3.1":{desc:"Meta 128K , ",caps:["tools","long"]},llama3:{desc:"Meta   ",caps:[]},"mistral-small":{desc:"Mistral , Tool Calling",caps:["tools"]},"mistral-large":{desc:"Mistral  ",caps:["tools","long"]},mistral:{desc:"Mistral 7B,  ",caps:[]},mixtral:{desc:"Mistral MoE,  ",caps:[]},"qwen2.5-coder":{desc:"Alibaba  ",caps:["tools","code"]},"qwen2.5":{desc:"Alibaba ,  ",caps:["tools","long"]},qwen2:{desc:"Alibaba ,  ",caps:["tools"]},phi4:{desc:"MS  ,  ",caps:["tools"]},phi3:{desc:"MS  ,  ",caps:[]},"deepseek-r1":{desc:"DeepSeek   ",caps:["code","math"]},"deepseek-coder":{desc:"DeepSeek  ",caps:["code"]},deepseek:{desc:"/  ",caps:["code","math"]},codellama:{desc:"Meta   ",caps:["code"]},"command-r":{desc:"Cohere RAG  ",caps:["tools","long"]},solar:{desc:",  ",caps:[]},exaone:{desc:"LG AI   ",caps:[]},llava:{desc:"  ",caps:["vlm"]},bakllava:{desc:"BakLLaVA  ",caps:["vlm"]},moondream:{desc:"  ",caps:["vlm"]},aya:{desc:"Cohere  ",caps:[]},granite:{desc:"IBM  ",caps:["tools"]},vicuna:{desc:"LMSys  ",caps:[]}},ve={tools:{label:"Tool Calling",color:"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-300"},vlm:{label:"Vision",color:"bg-purple-50 text-purple-600 dark:bg-purple-900/30 dark:text-purple-300"},code:{label:"Code",color:"bg-amber-50 text-amber-600 dark:bg-amber-900/30 dark:text-amber-300"},math:{label:"Math",color:"bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-300"},long:{label:"128K+",color:"bg-teal-50 text-teal-600 dark:bg-teal-900/30 dark:text-teal-300"}},ot=Je=>{const wt=Je.toLowerCase();for(const[dn,Lt]of Object.entries(Y))if(wt.includes(dn))return Lt;return null};return r.createElement(r.Fragment,null,r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 flex gap-3 text-sm text-gray-800 dark:text-gray-300 mb-6"},r.createElement(jt,{size:20,className:"shrink-0"}),r.createElement("div",null," ( )    LLM .",r.createElement("br",null),r.createElement("span",{className:"text-xs text-gray-500"},"        ."))),r.createElement("section",null,r.createElement("div",{className:"flex justify-between items-center mb-2"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(Sl,{size:14})," Ollama  "),r.createElement("button",{onClick:ne,disabled:Le,className:"text-xs text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300 font-bold flex items-center gap-1"},r.createElement(Fn,{size:12,className:Le?"animate-spin":""})," ",Le?" ...":"")),Qe&&r.createElement("div",{className:"text-xs text-red-500 mb-2 flex items-center gap-1"},r.createElement(jt,{size:12})," ",Qe),Ne.length>0?r.createElement("div",{className:"space-y-2"},Ne.map(Je=>{const wt=ot(Je.name);return r.createElement("div",{key:Je.name,onClick:()=>A({...N,llm:Je.name}),className:`flex items-center justify-between p-3 rounded-xl border-2 cursor-pointer transition-all ${N.llm===Je.name?"border-green-400 bg-green-50/50 dark:bg-green-900/20 shadow-sm":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold ${N.llm===Je.name?"bg-green-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`},r.createElement(Tn,{size:16})),r.createElement("div",null,r.createElement("div",{className:"flex items-center gap-2 flex-wrap"},r.createElement("span",{className:`font-bold text-sm ${N.llm===Je.name?"text-gray-900 dark:text-gray-300":"text-gray-800 dark:text-gray-200"}`},Je.name),wt?.desc&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500"},wt.desc)),r.createElement("div",{className:"flex items-center gap-1.5 mt-0.5 flex-wrap"},r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-900/30 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-400 font-medium"},""),Je.is_korean&&r.createElement("span",{className:"text-[10px] bg-green-50 dark:bg-green-800/30 px-1.5 py-0.5 rounded text-green-500 dark:text-green-300 font-bold"},""),wt?.caps?.map(dn=>ve[dn]&&r.createElement("span",{key:dn,className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${ve[dn].color}`},ve[dn].label)),Je.parameter_size&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},Je.parameter_size),Je.family&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},Je.family),Je.quantization&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},Je.quantization)))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},Je.size_gb," GB"),N.llm===Je.name&&r.createElement(ct,{size:18,className:"text-green-500"})))})):r.createElement("div",{className:"p-6 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-center"},Le?r.createElement("div",{className:"flex flex-col items-center gap-2"},r.createElement(Fn,{size:20,className:"animate-spin text-green-300"}),r.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-400"},"Ollama   ...")):r.createElement("div",{className:"flex flex-col items-center gap-2"},r.createElement(Tn,{size:20,className:"text-gray-400"}),r.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-400"},"Ollama  "),r.createElement("span",{className:"text-xs text-gray-400 dark:text-gray-500"},"Ollama    ")))),r.createElement("section",{className:"mt-6"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2 flex items-center gap-2"},r.createElement(Qt,{size:14}),"   (API)"),ie.length>0?r.createElement("div",{className:"space-y-4"},ie.map(Je=>r.createElement("div",{key:Je.id},r.createElement("div",{className:"flex items-center gap-2 mb-2"},r.createElement("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-400 uppercase"},Je.name),r.createElement("span",{className:"text-[10px] bg-green-50 dark:bg-green-800/30 text-green-600 dark:text-green-300 px-1.5 py-0.5 rounded flex items-center gap-1"},r.createElement(ct,{size:8}),"  ")),r.createElement("div",{className:"space-y-1.5"},Je.models.map(wt=>r.createElement("div",{key:wt.name,onClick:()=>A({...N,llm:wt.name}),className:`flex items-center justify-between p-3 rounded-xl border-2 cursor-pointer transition-all ${N.llm===wt.name?"border-purple-500 bg-purple-50/50 dark:bg-purple-900/30 shadow-sm":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold ${N.llm===wt.name?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`},r.createElement(Qt,{size:14})),r.createElement("div",null,r.createElement("div",{className:`font-bold text-sm ${N.llm===wt.name?"text-purple-900 dark:text-purple-300":"text-gray-800 dark:text-gray-200"}`},wt.name),r.createElement("div",{className:"flex items-center gap-2 mt-0.5"},r.createElement("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-medium ${Je.color==="green"?"bg-green-50 dark:bg-green-800/30 text-green-500 dark:text-green-300":Je.color==="orange"?"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400":Je.color==="red"?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-gray-100 dark:bg-gray-900/30 text-gray-600 dark:text-gray-400"}`},Je.name),r.createElement("span",{className:"text-[10px] text-gray-500 dark:text-gray-400"},wt.desc)))),N.llm===wt.name&&r.createElement(ct,{size:18,className:"text-purple-600"}))))))):r.createElement("div",{className:"p-4 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-center"},r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"  API  "),r.createElement("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1"},"API    OpenAI, Anthropic        ."))),r.createElement("section",{className:"mt-4"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Ollama  URL"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.ollama_base_url||(be?" ...":"http://localhost:11434")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1.5 flex items-center gap-1"},r.createElement(jt,{size:12}),"   .env OLLAMA_BASE_URL .")))})(),S==="embedding"&&r.createElement(r.Fragment,null,r.createElement("div",{className:"bg-green-50 dark:bg-green-800/20 border border-green-50 dark:border-green-700 rounded-xl p-4 flex gap-3 text-sm text-green-700 dark:text-green-200 mb-6"},r.createElement(jt,{size:20,className:"shrink-0"}),r.createElement("div",null,"   .   .env EMBEDDING_MODEL  .")),r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"  "),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.embedding_model||(be?" ...":"BAAI/bge-m3"))),r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Rerank  "),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("button",{onClick:()=>A({...N,useRerank:!N.useRerank}),className:`w-12 h-6 rounded-full transition-colors relative ${N.useRerank?"bg-gray-600":"bg-gray-300"}`},r.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform ${N.useRerank?"left-7":"left-1"}`})),r.createElement("span",{className:"text-sm text-gray-600 dark:text-gray-400"},N.useRerank?" (  )":"   ( )")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"Rerank          ."))),S==="multimodal"&&(()=>{const P=["llava","bakllava","minicpm-v","moondream","llama3.2-vision","granite3.2-vision"],ie=Ne.filter(Y=>P.some(ve=>Y.name.toLowerCase().includes(ve)));return r.createElement(r.Fragment,null,r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("div",null,r.createElement("h3",{className:"font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(_l,{size:18}),"  "),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"   Vision  .")),r.createElement("button",{onClick:()=>A({...N,enableMultimodal:!N.enableMultimodal}),className:`w-12 h-6 rounded-full transition-colors relative ${N.enableMultimodal?"bg-gray-600":"bg-gray-300"}`},r.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform shadow-sm ${N.enableMultimodal?"left-7":"left-1"}`}))),r.createElement("section",{className:`space-y-6 transition-all ${N.enableMultimodal?"opacity-100":"opacity-50 pointer-events-none"}`},r.createElement("div",null,r.createElement("div",{className:"flex justify-between items-center mb-2"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200"},"Vision  "),r.createElement("button",{onClick:ne,disabled:Le,className:"text-xs text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300 font-bold flex items-center gap-1"},r.createElement(Fn,{size:12,className:Le?"animate-spin":""})," ")),ie.length>0?r.createElement("div",{className:"space-y-2"},ie.map(Y=>r.createElement("div",{key:Y.name,onClick:()=>A({...N,vlm:Y.name}),className:`flex items-center justify-between p-3 rounded-xl border-2 cursor-pointer transition-all ${N.vlm===Y.name?"border-purple-500 bg-purple-50/50 dark:bg-purple-900/30 shadow-sm":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${N.vlm===Y.name?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`},r.createElement(_l,{size:16})),r.createElement("div",null,r.createElement("div",{className:`font-bold text-sm ${N.vlm===Y.name?"text-purple-900 dark:text-purple-300":"text-gray-800 dark:text-gray-200"}`},Y.name),r.createElement("div",{className:"flex items-center gap-2 mt-0.5"},Y.parameter_size&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},Y.parameter_size),Y.family&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},Y.family)))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},Y.size_gb," GB"),N.vlm===Y.name&&r.createElement(ct,{size:18,className:"text-purple-600"}))))):r.createElement("div",{className:"p-6 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-center"},r.createElement("div",{className:"flex flex-col items-center gap-2"},r.createElement(_l,{size:20,className:"text-gray-400"}),r.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-400"},"Vision  "),r.createElement("span",{className:"text-xs text-gray-400 dark:text-gray-500"},"Ollama vision  "),r.createElement("code",{className:"text-xs bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded font-mono text-gray-600 dark:text-gray-400 mt-1"},"ollama pull llava"))),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 flex items-center gap-1"},r.createElement(jt,{size:12})," llava, bakllava, minicpm-v, moondream  vision   .")),r.createElement("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-1"},r.createElement(Ar,{size:14}),"  "),r.createElement("div",{className:"grid grid-cols-3 gap-3 mb-4"},[{id:"local",label:" ",desc:"   "},{id:"minio",label:"MinIO",desc:"S3   "},{id:"s3",label:"AWS S3",desc:"Amazon  "}].map(Y=>r.createElement("div",{key:Y.id,onClick:()=>A({...N,storageType:Y.id}),className:`p-3 rounded-xl border-2 cursor-pointer transition-all text-center ${N.storageType===Y.id?"border-green-400 bg-green-50/50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`},r.createElement("div",{className:`text-sm font-bold ${N.storageType===Y.id?"text-gray-900 dark:text-gray-300":"text-gray-700 dark:text-gray-300"}`},Y.label),r.createElement("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-0.5"},Y.desc)))),N.storageType==="local"&&r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"}," "),r.createElement("input",{type:"text",value:N.storagePath||"./uploads",onChange:Y=>A({...N,storagePath:Y.target.value}),className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 bg-white dark:bg-gray-700 dark:text-gray-200 font-mono"}),r.createElement("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-1"},"    ")),(N.storageType==="minio"||N.storageType==="s3")&&r.createElement("div",{className:"space-y-3"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"},N.storageType==="minio"?"MinIO Endpoint":"S3 Region"),r.createElement("input",{type:"text",value:N.storageType==="minio"?N.minioEndpoint||"":N.s3Region||"ap-northeast-2",onChange:Y=>A({...N,...N.storageType==="minio"?{minioEndpoint:Y.target.value}:{s3Region:Y.target.value}}),placeholder:N.storageType==="minio"?"http://localhost:9000":"ap-northeast-2",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 bg-white dark:bg-gray-700 dark:text-gray-200 font-mono"})),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"},"Bucket "),r.createElement("input",{type:"text",value:N.bucketName||"",onChange:Y=>A({...N,bucketName:Y.target.value}),placeholder:"my-rag-bucket",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 bg-white dark:bg-gray-700 dark:text-gray-200 font-mono"})),r.createElement("p",{className:"text-[10px] text-gray-400 dark:text-gray-500"},N.storageType==="minio"?"MinIO Access/Secret Key API    .":"AWS   API    .")))))})()),O==="graph"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-purple-50 border border-purple-100 rounded-xl p-4 text-sm text-purple-900 flex gap-3"},r.createElement(Ca,{size:24,className:"shrink-0 text-purple-600 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"Graph RAG (Neo4j)"),r.createElement("p",{className:"text-xs text-purple-800/80 mt-1 leading-relaxed"},"          .",r.createElement("br",null),"   (.env) ."))),r.createElement("section",{className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Connection URI"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.neo4j_url||(be?" ...":"  "))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Username"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.neo4j_username||"-")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1"},r.createElement(jt,{size:12}),"     .env  NEO4J_URL, NEO4J_USERNAME, NEO4J_PASSWORD .")),r.createElement("div",{className:"flex items-center justify-end gap-3"},lt.neo4j==="success"&&r.createElement("span",{className:"text-sm text-green-500 flex items-center gap-1"},r.createElement(ct,{size:14})," ",de.neo4j),lt.neo4j==="error"&&r.createElement("span",{className:"text-sm text-red-600 flex items-center gap-1 max-w-xs truncate"},de.neo4j),r.createElement("button",{onClick:()=>he("neo4j"),disabled:lt.neo4j==="testing",className:`px-4 py-2 rounded-lg text-sm font-bold transition flex items-center gap-2 ${lt.neo4j==="success"?"bg-green-50 text-green-600":lt.neo4j==="error"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`},r.createElement(Fn,{size:14,className:lt.neo4j==="testing"?"animate-spin":""})," ",lt.neo4j==="testing"?" ...":" "))),O==="cache"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-yellow-50 border border-yellow-100 rounded-xl p-4 text-sm text-yellow-900 flex gap-3"},r.createElement(Pn,{size:24,className:"shrink-0 text-yellow-600 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"Redis (Memory & Cache)"),r.createElement("p",{className:"text-xs text-yellow-800/80 mt-1 leading-relaxed"},"  (Memory),    (Cache)  Redis ."))),r.createElement("section",{className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Connection URL"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.redis_url||(be?" ...":"  "))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"}," "),r.createElement("div",{className:"grid grid-cols-2 gap-4"},r.createElement("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"},r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1"}," "),r.createElement("div",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},w?.cache_enabled?"":"")),r.createElement("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"},r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1"}," TTL"),r.createElement("div",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},w?.cache_ttl_seconds||"-","")))),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1"},r.createElement(jt,{size:12}),"     .env  REDIS_URL .")),r.createElement("div",{className:"flex items-center justify-end gap-3"},lt.redis==="success"&&r.createElement("span",{className:"text-sm text-green-500 flex items-center gap-1"},r.createElement(ct,{size:14})," ",de.redis),lt.redis==="error"&&r.createElement("span",{className:"text-sm text-red-600 flex items-center gap-1 max-w-xs truncate"},de.redis),r.createElement("button",{onClick:()=>he("redis"),disabled:lt.redis==="testing",className:`px-4 py-2 rounded-lg text-sm font-bold transition flex items-center gap-2 ${lt.redis==="success"?"bg-green-50 text-green-600":lt.redis==="error"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`},r.createElement(Fn,{size:14,className:lt.redis==="testing"?"animate-spin":""})," ",lt.redis==="testing"?" ...":" "))),O==="search"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 text-sm text-gray-900 dark:text-gray-300 flex gap-3"},r.createElement(Xr,{size:24,className:"shrink-0 text-gray-600 dark:text-gray-400 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"RAG  "),r.createElement("p",{className:"text-xs text-gray-800/80 dark:text-gray-400/80 mt-1 leading-relaxed"},"    .",r.createElement("br",null)," ,  ,     ."))),r.createElement("section",null,r.createElement("div",{className:"flex justify-between items-center mb-2"},r.createElement("label",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},"   (Top K)"),r.createElement("span",{className:"text-sm font-bold text-gray-600 bg-gray-50 dark:bg-gray-900/30 px-2 py-0.5 rounded"},N.searchTopK||5,"")),r.createElement("input",{type:"range",min:"3",max:"10",value:N.searchTopK||5,onChange:P=>A({...N,searchTopK:Number(P.target.value)}),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg accent-green-500 cursor-pointer"}),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"        .")),r.createElement("section",{className:"space-y-3"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200"}," "),r.createElement("div",{className:"space-y-2"},r.createElement("div",{onClick:()=>A({...N,searchMode:"hybrid"}),className:`p-4 rounded-lg border-2 cursor-pointer transition ${N.searchMode==="hybrid"?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("span",{className:"text-2xl"},""),r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},"  ()"),N.searchMode==="hybrid"&&r.createElement("span",{className:"ml-auto text-xs px-2 py-0.5 bg-green-500 text-white rounded-full"},"")),r.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 ml-10"},"  +    (RRF)    "),N.searchMode==="hybrid"&&r.createElement("div",{className:"mt-4 ml-10 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 space-y-3"},r.createElement("div",{className:"flex justify-between items-center"},r.createElement("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300"},"Dense : Sparse "),r.createElement("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-300 px-2 py-1 rounded"},Math.round((N.denseWeight||.5)*100),"% : ",Math.round((1-(N.denseWeight||.5))*100),"%")),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap"},""),r.createElement("input",{type:"range",min:"0",max:"1",step:"0.05",value:N.denseWeight||.5,onChange:P=>A({...N,denseWeight:parseFloat(P.target.value)}),className:"w-full h-2 bg-gradient-to-r from-green-300 via-gray-400 to-purple-400 rounded-lg appearance-none cursor-pointer",onClick:P=>P.stopPropagation()}),r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap"},"")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},(N.denseWeight||.5)>=.7?"  :     ":(N.denseWeight||.5)<=.3?"  :      ":"  :    "))),r.createElement("div",{onClick:()=>A({...N,searchMode:"dense"}),className:`p-4 rounded-lg border-2 cursor-pointer transition ${N.searchMode==="dense"?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("span",{className:"text-2xl"},""),r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},"  (Dense Vector)"),N.searchMode==="dense"&&r.createElement("span",{className:"ml-auto text-xs px-2 py-0.5 bg-green-500 text-white rounded-full"},"")),r.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 ml-10"},"  ,    (  )")),r.createElement("div",{onClick:()=>A({...N,searchMode:"sparse"}),className:`p-4 rounded-lg border-2 cursor-pointer transition ${N.searchMode==="sparse"?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("span",{className:"text-2xl"},""),r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},"  (BM25)"),N.searchMode==="sparse"&&r.createElement("span",{className:"ml-auto text-xs px-2 py-0.5 bg-green-500 text-white rounded-full"},"")),r.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 ml-10"},"  ,  /API   ")))),r.createElement("section",{className:"space-y-3"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200"},"  (CLIP)"),r.createElement("div",{onClick:()=>A({...N,useMultimodalSearch:!N.useMultimodalSearch}),className:`p-4 rounded-lg border-2 cursor-pointer transition ${N.useMultimodalSearch?"border-purple-500 bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-700 hover:border-purple-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("span",{className:"text-2xl"},""),r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},"  "),N.useMultimodalSearch&&r.createElement("span",{className:"ml-auto text-xs px-2 py-0.5 bg-purple-600 text-white rounded-full"},"")),r.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 ml-10"},"CLIP    . PDF ,      ."))),r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Vector DB (Qdrant)"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.qdrant_url||(be?" ...":"http://localhost:6333")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1.5 flex items-center gap-1"},r.createElement(jt,{size:12}),"   .env QDRANT_URL .")),r.createElement("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6"},r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 text-sm text-gray-900 dark:text-gray-300 flex gap-3 mb-6"},r.createElement(Xr,{size:24,className:"shrink-0 text-gray-600 dark:text-gray-400 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"  "),r.createElement("p",{className:"text-xs text-gray-800/80 dark:text-gray-400/80 mt-1 leading-relaxed"},"     . DuckDuckGo   ,",r.createElement("br",null)," API       (   )."))),r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-3"},"  "),r.createElement("div",{className:"grid grid-cols-2 gap-3"},x.map(P=>{const ie=!P.needsKey||B.some(ve=>ve.provider===P.id),Y=N.activeSearchProviderId===P.id;return r.createElement("div",{key:P.id,onClick:()=>A({...N,activeSearchProviderId:P.id}),className:`relative p-4 rounded-xl cursor-pointer border-2 transition-all ${Y?"border-green-400 bg-green-50/50 dark:bg-green-900/20 shadow-sm":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement(Qt,{className:Y?"text-green-500 shrink-0":"text-gray-400 shrink-0",size:20}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:`font-bold text-sm ${Y?"text-gray-900 dark:text-gray-300":"text-gray-700 dark:text-gray-300"}`},P.name),!P.needsKey&&r.createElement("span",{className:"text-[10px] bg-green-50 dark:bg-green-800/30 text-green-600 dark:text-green-300 px-1.5 py-0.5 rounded font-bold"},"FREE")),r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},P.description),P.needsKey&&r.createElement("div",{className:"mt-1.5"},ie?r.createElement("span",{className:"text-[10px] text-green-500 dark:text-green-300 flex items-center gap-1"},r.createElement(ct,{size:10})," API  "):r.createElement("span",{className:"text-[10px] text-orange-500 dark:text-orange-400 flex items-center gap-1"},r.createElement(og,{size:10})," API   (API   )"))),Y&&r.createElement(ct,{size:18,className:"text-green-500 shrink-0"})))}))))),O==="api"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-100 dark:border-orange-800 rounded-xl p-4 text-sm text-orange-800 dark:text-orange-300 flex gap-2"},r.createElement(jt,{size:18,className:"shrink-0 mt-0.5"}),r.createElement("span",null,"   API  .   +  .")),r.createElement("section",null,r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2 mb-3"},r.createElement(Qt,{size:16,className:"text-gray-500"}),"   "),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3"},"    . DuckDuckGo     ."),r.createElement("div",{className:"space-y-2"},[{id:"brave",name:"Brave Search",free:" 2,000/",url:"https://brave.com/search/api/",desc:"Brave   API"},{id:"tavily",name:"Tavily AI",free:" 1,000/",url:"https://tavily.com/",desc:"AI   "},{id:"serper",name:"Google Serper",free:" 2,500",url:"https://serper.dev/",desc:"Google   API"}].map(P=>{const ie=o.find(ot=>ot.provider.toLowerCase()===P.id),Y=B.some(ot=>ot.provider===P.id),ve=N.activeSearchProviderId===P.id;return r.createElement("div",{key:P.id,className:`p-4 border-2 rounded-xl transition-all ${ve?"border-gray-300 dark:border-gray-700 bg-gray-50/30 dark:bg-gray-900/10":"border-gray-200 dark:border-gray-700"}`},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200"},P.name),r.createElement("span",{className:"text-[10px] bg-green-50 dark:bg-green-800/30 text-green-600 dark:text-green-300 px-1.5 py-0.5 rounded font-medium"},P.free),ve&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-400 px-1.5 py-0.5 rounded font-bold"},"  ")),r.createElement("div",{className:"flex items-center gap-2"},ie&&Y&&r.createElement("span",{className:"text-[10px] text-green-500 dark:text-green-300 flex items-center gap-1"},r.createElement(ct,{size:10})," "),r.createElement("a",{href:P.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-600 dark:text-gray-400 hover:underline flex items-center gap-1"},r.createElement(ig,{size:10}),"  "))),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2"},P.desc),r.createElement("div",{className:"flex gap-2"},r.createElement("input",{type:"password",placeholder:ie?"":`${P.name} API  `,value:q===P.name?L:"",onFocus:()=>X(P.name),onChange:ot=>{X(P.name),Z(ot.target.value)},className:"flex-1 p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 font-mono"}),ie?r.createElement("div",{className:"flex gap-1"},r.createElement("button",{onClick:()=>{X(P.name),q===P.name&&L.trim()&&je()},className:"px-3 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs font-bold transition",title:" "},""),r.createElement("button",{onClick:()=>et(ie.id,ie.provider),className:"px-3 py-2 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-lg text-xs font-bold transition"},"")):r.createElement("button",{onClick:()=>{X(P.name),q===P.name&&L.trim()&&je()},className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs font-bold transition"},"")))}),r.createElement("div",{className:"p-3 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex items-center gap-3"},r.createElement("div",{className:"w-8 h-8 rounded-lg bg-green-50 dark:bg-green-800/30 flex items-center justify-center"},r.createElement(Qt,{size:16,className:"text-green-500 dark:text-green-300"})),r.createElement("div",null,r.createElement("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300"},"DuckDuckGo"),r.createElement("span",{className:"ml-2 text-[10px] bg-green-50 dark:bg-green-800/30 text-green-600 dark:text-green-300 px-1.5 py-0.5 rounded font-bold"},"FREE"),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},"API     ."))))),r.createElement("section",null,r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2 mb-3"},r.createElement(Tn,{size:16,className:"text-purple-500"})," LLM  ( )"),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3"},"Ollama     LLM    API  ."),r.createElement("div",{className:"space-y-2"},[{id:"openai",name:"OpenAI",desc:"GPT-4o, GPT-4, GPT-3.5 ",url:"https://platform.openai.com/api-keys"},{id:"anthropic",name:"Anthropic",desc:"Claude 4.5, Claude 4 ",url:"https://console.anthropic.com/settings/keys"},{id:"google gemini",name:"Google Gemini",desc:"Gemini Pro, Gemini Ultra ",url:"https://aistudio.google.com/app/apikey"},{id:"groq",name:"Groq",desc:"  (Llama, Mixtral )",url:"https://console.groq.com/keys"}].map(P=>{const ie=o.find(ve=>ve.provider.toLowerCase()===P.id),Y=B.some(ve=>ve.provider===P.id);return r.createElement("div",{key:P.id,className:"flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-xl bg-white dark:bg-gray-800"},r.createElement("div",{className:"w-8 h-8 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center shrink-0"},r.createElement(Tn,{size:14,className:"text-purple-600 dark:text-purple-400"})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200"},P.name),ie&&Y&&r.createElement("span",{className:"text-[10px] text-green-500 dark:text-green-300 flex items-center gap-1"},r.createElement(ct,{size:10})," "),ie&&!Y&&r.createElement("span",{className:"text-[10px] text-orange-500 flex items-center gap-1"},r.createElement(jt,{size:10})," ")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},P.desc)),r.createElement("div",{className:"flex items-center gap-2 shrink-0"},r.createElement("a",{href:P.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-600 dark:text-gray-400 hover:underline"},r.createElement(ig,{size:12})),ie?r.createElement("button",{onClick:()=>et(ie.id,ie.provider),className:"text-gray-400 hover:text-red-500 transition"},r.createElement(Bn,{size:14})):r.createElement("button",{onClick:()=>{X(P.name),ue(P.id)},className:"text-xs px-2.5 py-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-bold transition"},"+ ")))})),G&&["openai","anthropic","google gemini","groq"].includes(G)&&r.createElement("div",{className:"mt-3 p-4 border border-gray-200 dark:border-gray-800 rounded-xl bg-gray-50/50 dark:bg-gray-900/10"},r.createElement("div",{className:"flex gap-2 items-center mb-2"},r.createElement("span",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},G==="openai"?"OpenAI":G==="anthropic"?"Anthropic":G==="google gemini"?"Google Gemini":"Groq"," API  "),r.createElement("button",{onClick:()=>ue(null),className:"text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},"")),r.createElement("div",{className:"flex gap-2"},r.createElement("input",{type:"password",placeholder:"API  ",value:L,onChange:P=>{X(G==="openai"?"OpenAI":G==="anthropic"?"Anthropic":G==="google gemini"?"Google Gemini":"Groq"),Z(P.target.value)},className:"flex-1 p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 font-mono"}),r.createElement("button",{onClick:()=>{je(),ue(null)},className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs font-bold transition"},"")))),r.createElement("section",null,r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2 mb-3"},r.createElement(Ar,{size:16,className:"text-teal-500"}),"  "),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3"},"MinIO  AWS S3      ."),r.createElement("div",{className:"space-y-2"},[{id:"minio",name:"MinIO",desc:"Access Key / Secret Key",fields:["Access Key","Secret Key"]},{id:"aws",name:"AWS S3",desc:"Access Key ID / Secret Access Key",fields:["Access Key ID","Secret Access Key"]}].map(P=>{const ie=o.find(ot=>ot.provider.toLowerCase()===P.id),Y=B.some(ot=>ot.provider===P.id),ve=N.storageType===(P.id==="aws"?"s3":P.id);return r.createElement("div",{key:P.id,className:`p-3 border-2 rounded-xl transition-all ${ve?"border-teal-300 dark:border-teal-700 bg-teal-50/30 dark:bg-teal-900/10":"border-gray-200 dark:border-gray-700"}`},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement(Ar,{size:14,className:"text-teal-600 dark:text-teal-400"}),r.createElement("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200"},P.name),ve&&r.createElement("span",{className:"text-[10px] bg-teal-100 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 px-1.5 py-0.5 rounded font-bold"},"  "),ie&&Y&&r.createElement("span",{className:"text-[10px] text-green-500 dark:text-green-300 flex items-center gap-1"},r.createElement(ct,{size:10})," ")),r.createElement("div",{className:"flex items-center gap-2"},ie?r.createElement("button",{onClick:()=>et(ie.id,ie.provider),className:"text-gray-400 hover:text-red-500 transition"},r.createElement(Bn,{size:14})):r.createElement("button",{onClick:()=>{X(P.name),ue(P.id)},className:"text-xs px-2.5 py-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-bold transition"},"+ "))),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},P.desc))})),G&&["minio","aws"].includes(G)&&r.createElement("div",{className:"mt-3 p-4 border border-teal-200 dark:border-teal-800 rounded-xl bg-teal-50/50 dark:bg-teal-900/10"},r.createElement("div",{className:"flex gap-2 items-center mb-2"},r.createElement("span",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},G==="minio"?"MinIO":"AWS S3","  "),r.createElement("button",{onClick:()=>ue(null),className:"text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},"")),r.createElement("div",{className:"flex gap-2"},r.createElement("input",{type:"password",placeholder:G==="minio"?"Access Key:Secret Key ":"Access Key ID:Secret Access Key ",value:L,onChange:P=>{X(G==="minio"?"MinIO":"AWS"),Z(P.target.value)},className:"flex-1 p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-teal-500 font-mono"}),r.createElement("button",{onClick:()=>{je(),ue(null)},className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-lg text-xs font-bold transition"},"")),r.createElement("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2"},"Access Key Secret Key (:)  .")))),O==="database"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 text-sm text-gray-900 dark:text-gray-200 flex gap-3"},r.createElement(Ct,{size:24,className:"shrink-0 text-gray-600 dark:text-gray-400 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"   (Text-to-SQL)"),r.createElement("p",{className:"text-xs text-gray-800/80 dark:text-gray-300/80 mt-1 leading-relaxed"},"     SQL    .   ",r.createElement("span",{className:"font-bold"},"SELECT  "),",  (INSERT/UPDATE/DELETE) ."))),r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(Zt,{size:14}),"   "),r.createElement("div",{className:"grid grid-cols-2 gap-3"},r.createElement("input",{placeholder:"  (:  DB)",value:te.name,onChange:P=>_e({...te,name:P.target.value}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"}),r.createElement("select",{value:te.db_type,onChange:P=>_e({...te,db_type:P.target.value,port:P.target.value==="mysql"?3306:5432}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"},r.createElement("option",{value:"postgresql"},"PostgreSQL"),r.createElement("option",{value:"mysql"},"MySQL"),r.createElement("option",{value:"sqlite"},"SQLite")),te.db_type!=="sqlite"&&r.createElement(r.Fragment,null,r.createElement("input",{placeholder:" (: localhost)",value:te.host,onChange:P=>_e({...te,host:P.target.value}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"}),r.createElement("input",{placeholder:"",type:"number",value:te.port,onChange:P=>_e({...te,port:parseInt(P.target.value)||0}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"}),r.createElement("input",{placeholder:"",value:te.username,onChange:P=>_e({...te,username:P.target.value}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"}),r.createElement("input",{placeholder:"",type:"password",value:te.password,onChange:P=>_e({...te,password:P.target.value}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"})),r.createElement("input",{placeholder:te.db_type==="sqlite"?"  (: /data/mydb.sqlite)":"",value:te.database,onChange:P=>_e({...te,database:P.target.value}),className:"col-span-2 p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"})),r.createElement("button",{onClick:It,disabled:!te.name.trim()||!te.database.trim(),className:"px-4 py-2 bg-green-500 text-white rounded-lg text-sm font-bold hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition"},r.createElement(Zt,{size:14}),"  ")),r.createElement("section",{className:"space-y-3"},r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(Sl,{size:14}),"  "),We.length===0?r.createElement("div",{className:"text-center py-8 text-gray-400"},r.createElement(Ct,{size:32,className:"mx-auto mb-2 opacity-30"}),r.createElement("p",{className:"text-sm"},"   ."),r.createElement("p",{className:"text-xs mt-1"},"   DB .")):We.map(P=>r.createElement("div",{key:P.id,className:"border border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-800 hover:border-gray-300 transition overflow-hidden"},r.createElement("div",{className:"flex items-center justify-between p-4"},r.createElement("div",{className:"min-w-0 flex-1"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:`inline-block w-2 h-2 rounded-full ${fe[P.id]==="success"?"bg-green-400":fe[P.id]==="error"?"bg-red-500":"bg-gray-300"}`}),r.createElement("span",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},P.name),r.createElement("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold uppercase ${P.db_type==="postgresql"?"bg-gray-100 text-gray-700 dark:bg-gray-900 dark:text-gray-300":P.db_type==="mysql"?"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`},P.db_type),P.schema_metadata&&r.createElement("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-green-50 text-green-600 dark:bg-green-900/30 dark:text-green-400"},"")),r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono mt-1 truncate"},P.db_type==="sqlite"?P.database:`${P.host}:${P.port}/${P.database}`),fe[P.id]==="success"&&r.createElement("div",{className:"text-xs text-green-500 mt-1 flex items-center gap-1"},r.createElement(ct,{size:10}),"  "),fe[P.id]==="error"&&r.createElement("div",{className:"text-xs text-red-600 mt-1 truncate max-w-[300px]"},Ve[P.id])),r.createElement("div",{className:"flex items-center gap-2 shrink-0 ml-3"},r.createElement("button",{onClick:()=>{ut===P.id?T(null):(T(P.id),U(P.schema_metadata||""))},className:`px-3 py-1.5 border rounded-lg text-xs font-bold flex items-center gap-1.5 transition ${ut===P.id?"bg-green-50 dark:bg-green-900/20 text-green-600 border-green-200 dark:border-green-800":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"}`},r.createElement(bt,{size:12})," "),r.createElement("button",{onClick:()=>Xe(P.id),className:"px-3 py-1.5 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-xs font-bold hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center gap-1.5 transition"},r.createElement(Fn,{size:12,className:fe[P.id]==="testing"?"animate-spin":""})," "),r.createElement("button",{onClick:()=>ft(P.id),className:"px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 border border-red-100 dark:border-red-800 rounded-lg text-xs font-bold hover:bg-red-100 dark:hover:bg-red-900/40 flex items-center gap-1.5 transition"},r.createElement(Bn,{size:12})," "))),ut===P.id&&r.createElement("div",{className:"border-t border-gray-200 dark:border-gray-600 p-4 bg-white dark:bg-gray-700/50"},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement("label",{className:"text-xs font-bold text-gray-600 dark:text-gray-300"}," "),r.createElement("span",{className:"text-[10px] text-gray-400"},"/   T2SQL  ")),r.createElement("textarea",{value:I,onChange:ie=>U(ie.target.value),placeholder:`:
- orders :   (order_id: , customer_name: , total_amount: )
- products :   (product_id: , price: , stock: )`,className:"w-full p-3 border border-gray-200 dark:border-gray-600 rounded-lg text-xs font-mono bg-gray-50 dark:bg-gray-800 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 resize-none",rows:5}),r.createElement("div",{className:"flex justify-end gap-2 mt-2"},r.createElement("button",{onClick:()=>T(null),className:"px-3 py-1.5 text-xs text-gray-500 hover:text-gray-700 transition"},""),r.createElement("button",{onClick:async()=>{(await Ot.updateDbMetadata(P.id,I)).error||(Q(Y=>Y.map(ve=>ve.id===P.id?{...ve,schema_metadata:I}:ve)),T(null))},className:"px-4 py-1.5 bg-green-500 text-white rounded-lg text-xs font-bold hover:bg-green-600 transition"},"")))))),r.createElement("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4"},r.createElement("h5",{className:"text-xs font-bold text-gray-600 dark:text-gray-400 mb-2"}," "),r.createElement("ol",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1 list-decimal list-inside"},r.createElement("li",null,"    ."),r.createElement("li",null,r.createElement("span",{className:"font-bold"},""),"   ."),r.createElement("li",null,"  ",r.createElement("span",{className:"inline-flex items-center gap-1 font-bold"},r.createElement(Ct,{size:10}),"SQL"),"   DB ."),r.createElement("li",null,"  AI SQL  .")))),O==="mcp"&&r.createElement("div",{className:"space-y-6 max-w-2xl"},r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 text-sm text-gray-800 dark:text-gray-300 flex gap-3"},r.createElement(zn,{size:20,className:"shrink-0 text-gray-600 dark:text-gray-400 mt-0.5"}),r.createElement("div",null,r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("h4",{className:"font-bold"},"MCP (Model Context Protocol)"),r.createElement("span",{className:"px-2 py-0.5 bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-[10px] font-bold rounded-full"},"Beta")),r.createElement("p",{className:"text-xs text-gray-700/80 dark:text-gray-400/80 leading-relaxed"},"MCP   AI  ( , , API )   .",r.createElement("br",null),"SSE/Streamable HTTP  , stdio    ."))),r.createElement("section",null,r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2"},r.createElement(Zt,{size:14}),"  MCP  "),r.createElement("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-xl bg-gray-50/50 dark:bg-gray-800/50 space-y-3"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-2"}," "),r.createElement("div",{className:"grid grid-cols-3 gap-2"},[{id:"sse",label:"SSE",desc:"Server-Sent Events"},{id:"streamable-http",label:"Streamable HTTP",desc:"HTTP "},{id:"stdio",label:"stdio",desc:" "}].map(P=>r.createElement("div",{key:P.id,onClick:()=>ye(P.id),className:`p-2.5 rounded-lg border-2 cursor-pointer transition-all text-center ${K===P.id?"border-green-400 bg-green-50/50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`},r.createElement("div",{className:`text-xs font-bold ${K===P.id,"text-gray-700 dark:text-gray-300"}`},P.label),r.createElement("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-0.5"},P.desc))))),r.createElement("div",{className:"grid grid-cols-2 gap-3"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"}," "),r.createElement("input",{type:"text",value:le,onChange:P=>re(P.target.value),placeholder:": Filesystem",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400"})),r.createElement("div",null,K==="stdio"?r.createElement(r.Fragment,null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"}," "),r.createElement("input",{type:"text",value:ae,onChange:P=>ee(P.target.value),placeholder:": npx -y @modelcontextprotocol/server-filesystem",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 font-mono text-xs"})):r.createElement(r.Fragment,null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"},"Endpoint URL"),r.createElement("input",{type:"text",value:R,onChange:P=>F(P.target.value),placeholder:"http://localhost:3001/mcp",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 font-mono text-xs"})))),r.createElement("button",{onClick:Ke,disabled:!le.trim()||(K==="stdio"?!ae.trim():!R.trim()),className:"w-full py-2.5 bg-green-500 hover:bg-green-600 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg text-sm font-bold transition flex items-center justify-center gap-2"},r.createElement(zn,{size:14}),"  "))),r.createElement("section",null,r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(Sl,{size:14}),"   (",d.length,")"),d.length>1&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 flex items-center gap-1"},r.createElement(sg,{size:10}),"     ")),d.length>0?r.createElement("div",{className:"space-y-2"},d.map((P,ie)=>r.createElement("div",{key:P.id,draggable:!0,onDragStart:Y=>kt(Y,ie),onDragOver:Y=>dt(Y),onDrop:Y=>nt(Y,ie),className:`p-3 rounded-xl group hover:border-gray-300 dark:hover:border-gray-600 transition-colors ${ie===0?"border-2 border-gray-300 dark:border-gray-700 bg-gray-50/30 dark:bg-gray-900/10":"border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}`},r.createElement("div",{className:"flex justify-between items-start"},r.createElement("div",{className:"flex gap-2 items-start flex-1 min-w-0"},r.createElement("div",{className:`w-6 h-6 rounded-md flex items-center justify-center text-[10px] font-bold shrink-0 mt-0.5 ${ie===0?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`},ie+1),r.createElement("div",{className:"cursor-move text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400 mt-0.5"},r.createElement(sg,{size:16})),r.createElement("div",{className:`p-2 rounded-lg shrink-0 ${P.status==="connected"?"bg-green-50 dark:bg-green-800/30 text-green-500 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500"}`},r.createElement(Sl,{size:18})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"font-bold text-sm text-gray-800 dark:text-gray-200 flex items-center gap-2 flex-wrap"},P.name,r.createElement("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-medium ${P.type==="stdio"?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400":"bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-400"}`},P.type),ie===0&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-400 px-1.5 py-0.5 rounded font-bold"},"")),r.createElement("div",{className:"flex items-center gap-2 mt-1"},r.createElement("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${P.status==="connected"?"bg-green-400":"bg-gray-400"}`}),r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},P.status==="connected"?"":"  ")),P.url&&r.createElement("div",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-mono mt-1 truncate"},P.url),P.command&&r.createElement("div",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-mono mt-1 truncate"},"$ ",P.command))),r.createElement("div",{className:"flex items-center gap-1 shrink-0"},r.createElement("div",{className:"flex flex-col gap-0.5 opacity-0 group-hover:opacity-100 transition"},r.createElement("button",{onClick:()=>h(ie,"up"),disabled:ie===0,className:"p-0.5 rounded hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition",title:" "},r.createElement(Cp,{size:12})),r.createElement("button",{onClick:()=>h(ie,"down"),disabled:ie===d.length-1,className:"p-0.5 rounded hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition",title:" "},r.createElement(Qc,{size:12}))),r.createElement("button",{onClick:()=>f(P.id),className:"text-gray-300 dark:text-gray-600 hover:text-red-500 dark:hover:text-red-400 transition p-1 opacity-0 group-hover:opacity-100"},r.createElement(Bn,{size:15}))))))):r.createElement("div",{className:"p-8 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-center"},r.createElement(zn,{size:24,className:"text-gray-300 dark:text-gray-600 mx-auto mb-2"}),r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"}," MCP  "),r.createElement("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1"},"  MCP  .")),d.length>0&&r.createElement("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-2 flex items-center gap-1"},r.createElement(jt,{size:10})," 1   .    .")),r.createElement("section",{className:"border-t border-gray-200 dark:border-gray-700 pt-4"},r.createElement("details",{className:"group"},r.createElement("summary",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 cursor-pointer flex items-center gap-1 hover:text-gray-700 dark:hover:text-gray-300"},r.createElement(jt,{size:12})," MCP  "),r.createElement("div",{className:"mt-3 space-y-2 text-xs text-gray-500 dark:text-gray-400"},r.createElement("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},r.createElement("div",{className:"font-bold text-gray-700 dark:text-gray-300 mb-1"},"Filesystem (stdio)"),r.createElement("code",{className:"text-[10px] font-mono bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded block"},"npx -y @modelcontextprotocol/server-filesystem /path/to/dir")),r.createElement("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},r.createElement("div",{className:"font-bold text-gray-700 dark:text-gray-300 mb-1"},"GitHub (stdio)"),r.createElement("code",{className:"text-[10px] font-mono bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded block"},"npx -y @modelcontextprotocol/server-github")),r.createElement("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},r.createElement("div",{className:"font-bold text-gray-700 dark:text-gray-300 mb-1"},"Custom API (SSE)"),r.createElement("code",{className:"text-[10px] font-mono bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded block"},"http://localhost:3001/mcp/sse")))))),O==="system"&&r.createElement(Dx,{testStatus:lt,handleTestConnection:he,testDetail:de}))))}function Ax({icon:t,label:a,serviceName:s,testStatus:o,testDetail:c,onTest:u}){const d=o[s]||"idle",g=c[s]||"",f=()=>d==="testing"?r.createElement("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded flex items-center gap-1"},r.createElement(Fn,{size:12,className:"animate-spin"}),"  ..."):d==="success"?r.createElement("span",{className:"text-xs bg-green-50 text-green-600 px-2 py-1 rounded"},"Connected"):d==="error"?r.createElement("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded",title:g},"Disconnected"):r.createElement("span",{className:"text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded cursor-pointer hover:bg-gray-200",onClick:()=>u(s)},"");return r.createElement("div",{className:"flex justify-between items-center p-3 border rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},r.createElement("span",{className:"text-sm font-medium flex items-center gap-2"},r.createElement(t,{size:14})," ",a),f())}function Dx({testStatus:t,handleTestConnection:a,testDetail:s}){const o=[{icon:Ct,label:"Qdrant Vector DB",serviceName:"qdrant"},{icon:Tn,label:"Ollama Inference",serviceName:"ollama"},{icon:Ca,label:"Neo4j Graph DB",serviceName:"neo4j"},{icon:Pn,label:"Redis Cache",serviceName:"redis"}],c=()=>{o.forEach(u=>a(u.serviceName))};return r.createElement("div",{className:"space-y-6 max-w-2xl"},r.createElement("div",{className:"bg-gray-900 text-white rounded-xl p-6 shadow-lg"},r.createElement("div",{className:"flex items-center gap-3 mb-4"},r.createElement("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center font-bold text-xl"},"R"),r.createElement("div",null,r.createElement("h3",{className:"font-bold text-lg"},"RAG AI"),r.createElement("p",{className:"text-xs text-gray-400"},"Enterprise RAG Solution"))),r.createElement("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-700 pt-4"},r.createElement("div",null,r.createElement("span",{className:"text-gray-500 block text-xs mb-1"},"Version"),r.createElement("span",{className:"font-mono"},"v1.0.0 (Beta)")),r.createElement("div",null,r.createElement("span",{className:"text-gray-500 block text-xs mb-1"},"Status"),r.createElement("span",{className:"text-green-300 flex items-center gap-1"},r.createElement("div",{className:"w-2 h-2 bg-green-300 rounded-full"})," Online")))),r.createElement("section",null,r.createElement("div",{className:"flex justify-between items-center mb-3"},r.createElement("h4",{className:"font-bold text-gray-800 text-sm"}," "),r.createElement("button",{onClick:c,className:"text-xs text-gray-600 hover:text-gray-800 font-bold flex items-center gap-1"},r.createElement(Fn,{size:12}),"  ")),r.createElement("div",{className:"space-y-2"},o.map(u=>r.createElement(Ax,{key:u.serviceName,icon:u.icon,label:u.label,serviceName:u.serviceName,testStatus:t,testDetail:s,onTest:a})))))}function ao({isOpen:t,onClose:a,title:s,children:o,size:c="md"}){const u=v.useRef(null),d={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-5xl","3xl":"max-w-7xl",full:"max-w-[95vw] h-[95vh]"};return v.useEffect(()=>{const g=f=>f.key==="Escape"&&a();return t&&(document.body.style.overflow="hidden",window.addEventListener("keydown",g)),()=>{document.body.style.overflow="unset",window.removeEventListener("keydown",g)}},[t,a]),t?Ol.createPortal(r.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6"},r.createElement("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity animate-in fade-in duration-200",onClick:a}),r.createElement("div",{ref:u,className:`relative w-full ${d[c]||d.md} bg-white dark:bg-gray-900 rounded-2xl shadow-2xl flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-200 border border-gray-200 dark:border-gray-700 overflow-hidden`},r.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-b dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50"},r.createElement("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100"},s),r.createElement("button",{onClick:a,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition"},r.createElement(Xn,{size:20}))),r.createElement("div",{className:"flex-1 overflow-auto relative bg-white dark:bg-gray-900"},o))),document.body):null}function Ox(t){if(!t)return"";const a=Date.now()-new Date(t).getTime(),s=Math.floor(a/6e4);if(s<1)return" ";if(s<60)return`${s} `;const o=Math.floor(s/60);return o<24?`${o} `:`${Math.floor(o/24)} `}function jx({isOpen:t,onClose:a,sessions:s,knowledgeBases:o,agents:c,onAction:u}){const[d,g]=v.useState(""),[f,h]=v.useState(0),y=v.useRef(null),x=v.useRef(null);v.useEffect(()=>{t&&(g(""),h(0),setTimeout(()=>y.current?.focus(),50))},[t]);const k=v.useMemo(()=>{const S=[];return S.push({category:" ",icon:Zt,label:"  ",action:"new-chat"}),S.push({category:" ",icon:Ml,label:"  ",action:"navigate:/knowledge"}),S.push({category:" ",icon:Qt,label:"  ",action:"toggle-web"}),S.push({category:" ",icon:ur,label:"Deep Think ",action:"toggle-deep-think"}),S.push({category:" ",icon:Ct,label:"SQL  ",action:"toggle-sql"}),(s||[]).forEach(C=>{S.push({category:" ",icon:xn,label:C.title||" ",sublabel:Ox(C.updatedAt||C.createdAt),action:`session:${C.id}`})}),(o||[]).forEach(C=>{S.push({category:" ",icon:Ct,label:C.name,sublabel:`${C.files?.length||0} `,action:"navigate:/knowledge"})}),(c||[]).filter(C=>!C.agentType||C.agentType==="custom").forEach(C=>{S.push({category:"",icon:Pt,label:C.name,sublabel:C.model,action:`agent:${C.id}`})}),S.push({category:" ",icon:zp,label:" ",action:"navigate:/home"}),S.push({category:" ",icon:xn,label:"",action:"navigate:/chat"}),S.push({category:" ",icon:Ct,label:" ",action:"navigate:/knowledge"}),S.push({category:" ",icon:Pt,label:" ",action:"navigate:/agent"}),S.push({category:" ",icon:Yc,label:"",action:"navigate:/training"}),S.push({category:" ",icon:Xr,label:"",action:"navigate:/guide"}),S.push({category:" ",icon:fo,label:" ",action:"open-settings"}),S},[s,o,c]),E=v.useMemo(()=>{if(!d.trim())return k;const S=d.toLowerCase();return k.filter(C=>C.label.toLowerCase().includes(S)||C.category.toLowerCase().includes(S)||C.sublabel&&C.sublabel.toLowerCase().includes(S))},[d,k]);if(v.useEffect(()=>{h(0)},[d]),v.useEffect(()=>{if(!t)return;const S=C=>{C.key==="ArrowDown"?(C.preventDefault(),h(N=>Math.min(N+1,E.length-1))):C.key==="ArrowUp"?(C.preventDefault(),h(N=>Math.max(N-1,0))):C.key==="Enter"&&E[f]?(C.preventDefault(),u(E[f].action),a()):C.key==="Escape"&&(C.preventDefault(),a())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,E,f,u,a]),v.useEffect(()=>{x.current&&x.current.querySelector(`[data-idx="${f}"]`)?.scrollIntoView({block:"nearest"})},[f]),!t)return null;const O=[];let M=null;return E.forEach((S,C)=>{S.category!==M&&(O.push({type:"header",label:S.category}),M=S.category),O.push({type:"item",...S,flatIdx:C})}),Ol.createPortal(r.createElement("div",{className:"fixed inset-0 z-[150] flex items-start justify-center pt-[18vh] animate-fadeIn",onClick:a},r.createElement("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"}),r.createElement("div",{className:"relative w-full max-w-xl bg-white dark:bg-gray-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden animate-scaleIn",onClick:S=>S.stopPropagation()},r.createElement("div",{className:"flex items-center gap-3 px-5 py-4 border-b border-gray-200 dark:border-gray-700"},r.createElement(po,{size:18,className:"text-gray-400 shrink-0"}),r.createElement("input",{ref:y,type:"text",value:d,onChange:S=>g(S.target.value),placeholder:" ...",className:"flex-1 bg-transparent text-base text-gray-900 dark:text-gray-100 outline-none placeholder:text-gray-400"}),r.createElement("kbd",{className:"hidden sm:inline text-[10px] text-gray-400 bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded border border-gray-200 dark:border-gray-700 font-mono"},"ESC")),r.createElement("div",{ref:x,className:"max-h-[50vh] overflow-y-auto custom-scrollbar py-2"},E.length===0?r.createElement("div",{className:"px-5 py-8 text-center text-sm text-gray-400"},"  "):O.map((S,C)=>{if(S.type==="header")return r.createElement("div",{key:`h-${S.label}`,className:"px-4 pt-3 pb-1 text-[10px] text-gray-400 dark:text-gray-500 font-bold uppercase tracking-wider"},S.label);const N=S.icon,A=S.flatIdx===f;return r.createElement("button",{key:`${S.action}-${S.flatIdx}`,"data-idx":S.flatIdx,onClick:()=>{u(S.action),a()},onMouseEnter:()=>h(S.flatIdx),className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${A?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement(N,{size:16,className:A?"text-green-500":"text-gray-400"}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("span",{className:"text-sm font-medium truncate block"},S.label),S.sublabel&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500"},S.sublabel)))})),r.createElement("div",{className:"flex items-center gap-4 px-4 py-2.5 border-t border-gray-200 dark:border-gray-700 text-[10px] text-gray-400"},r.createElement("span",{className:"flex items-center gap-1"},r.createElement(Cp,{size:10}),r.createElement(Qc,{size:10})," "),r.createElement("span",null," "),r.createElement("span",null,"esc ")))),document.body)}const Fx=[{category:"",shortcuts:[{keys:["Ctrl","K"],desc:" "},{keys:["Ctrl","N"],desc:" "},{keys:["?"],desc:" "}]},{category:"",shortcuts:[{keys:["Enter"],desc:" "},{keys:["Shift","Enter"],desc:""},{keys:["Esc"],desc:"  /  "}]},{category:" ",shortcuts:[{keys:["Ctrl","Shift","W"],desc:"  ON/OFF"},{keys:["Ctrl","Shift","D"],desc:"Deep Think ON/OFF"},{keys:["Ctrl","Shift","S"],desc:"SQL  ON/OFF"}]},{category:"",shortcuts:[{keys:["Alt","1"],desc:""},{keys:["Alt","2"],desc:""},{keys:["Alt","3"],desc:" "},{keys:["Alt","4"],desc:""},{keys:["Alt","5"],desc:""},{keys:["Alt","6"],desc:""}]}];function $x({children:t}){return r.createElement("kbd",{className:"inline-flex items-center justify-center min-w-[24px] h-6 px-1.5 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded text-[11px] font-mono font-medium text-gray-600 dark:text-gray-300 shadow-sm"},t)}function Bx({isOpen:t,onClose:a}){return t?Ol.createPortal(r.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center animate-fadeIn",onClick:a},r.createElement("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"}),r.createElement("div",{className:"relative w-full max-w-lg bg-white dark:bg-gray-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden animate-scaleIn",onClick:s=>s.stopPropagation()},r.createElement("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-sm font-bold text-gray-900 dark:text-gray-100"}," "),r.createElement("button",{onClick:a,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},r.createElement(Xn,{size:16}))),r.createElement("div",{className:"p-5 grid grid-cols-2 gap-6 max-h-[60vh] overflow-y-auto custom-scrollbar"},Fx.map(s=>r.createElement("div",{key:s.category},r.createElement("h3",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-bold uppercase tracking-wider mb-3"},s.category),r.createElement("div",{className:"space-y-2.5"},s.shortcuts.map((o,c)=>r.createElement("div",{key:c,className:"flex items-center justify-between gap-3"},r.createElement("span",{className:"text-xs text-gray-600 dark:text-gray-400"},o.desc),r.createElement("div",{className:"flex items-center gap-1 shrink-0"},o.keys.map((u,d)=>r.createElement(r.Fragment,{key:d},d>0&&r.createElement("span",{className:"text-[9px] text-gray-300 dark:text-gray-600"},"+"),r.createElement($x,null,u)))))))))),r.createElement("div",{className:"px-5 py-3 border-t border-gray-200 dark:border-gray-700 text-[10px] text-gray-400 text-center"},"    "))),document.body):null}function Ux(){const{user:t,logout:a,isAuthenticated:s}=jl(),{sessions:o,currentSessionId:c,setCurrentSessionId:u,createNewSession:d,renameSession:g,deleteSession:f,knowledgeBases:h,agents:y,config:x,setConfig:k}=La(),{confirm:E}=pr(),[O,M]=v.useState(null),[S,C]=v.useState(!1),[N,A]=v.useState(!1),[q,X]=v.useState(null),[L,Z]=v.useState(""),[le,re]=v.useState(!1),[R,F]=v.useState(!1),K=Dr(),ye=gr();v.useEffect(()=>{const w=["/home","/chat","/knowledge","/agent","/training","/guide"],j=B=>{const _=B.target.tagName,be=_==="INPUT"||_==="TEXTAREA"||B.target.isContentEditable;if((B.metaKey||B.ctrlKey)&&B.key==="k"){B.preventDefault(),C(Ie=>!Ie);return}if((B.metaKey||B.ctrlKey)&&B.key==="n"&&!B.shiftKey){B.preventDefault(),d(),K("/chat");return}if((B.metaKey||B.ctrlKey)&&B.shiftKey){if(B.key==="W"||B.key==="w"){B.preventDefault(),k({...x,useWebSearch:!x.useWebSearch});return}if(B.key==="D"||B.key==="d"){B.preventDefault(),k({...x,useDeepThink:!x.useDeepThink});return}if(B.key==="S"||B.key==="s"){B.preventDefault(),k({...x,useSql:!x.useSql});return}}if(B.altKey&&B.key>="1"&&B.key<="6"){B.preventDefault(),K(w[parseInt(B.key)-1]);return}!be&&B.key==="?"&&!B.ctrlKey&&!B.metaKey&&(B.preventDefault(),A(Ie=>!Ie))};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[x,K,d,k]);const ae=w=>{w==="new-chat"?(d(),K("/chat")):w.startsWith("navigate:")?K(w.split(":")[1]):w.startsWith("session:")?(u(w.split(":")[1]),K("/chat")):w.startsWith("agent:")?K("/chat"):w==="open-settings"?M("settings"):w==="toggle-web"?k({...x,useWebSearch:!x.useWebSearch}):w==="toggle-deep-think"?k({...x,useDeepThink:!x.useDeepThink}):w==="toggle-sql"&&k({...x,useSql:!x.useSql})};if(!s)return r.createElement(Sc,{to:"/login",replace:!0});const ee=w=>{X(w.id),Z(w.title)},J=()=>{q&&L.trim()&&g(q,L),X(null)},me=()=>{X(null)},G=w=>ye.pathname.includes(w),ue=G("/chat");return r.createElement("div",{className:"flex flex-col h-screen bg-gray-50 overflow-hidden font-sans"},R&&r.createElement("div",{className:"fixed inset-0 z-[100] bg-gray-50/95 flex flex-col items-center justify-center border-4 border-green-400 border-dashed m-6 rounded-2xl animate-in fade-in duration-300 pointer-events-none"},r.createElement("div",{className:"w-24 h-24 bg-green-400 rounded-2xl flex items-center justify-center shadow-lg animate-bounce"},r.createElement(Ml,{size:40,className:"text-white"})),r.createElement("h2",{className:"text-2xl font-bold text-gray-900 mt-6 mb-2"},"  "),r.createElement("p",{className:"text-gray-600"},"  ...")),r.createElement("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6 shrink-0 z-20 animate-slideDown"},r.createElement("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-all hover:scale-[1.02]",onClick:()=>K("/home")},r.createElement("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center shadow-sm hover:scale-110 transition-transform"},r.createElement(dr,{size:22,className:"text-white"})),r.createElement("div",null,r.createElement("h1",{className:"text-xl font-bold text-gray-900"},"RAG AI"),r.createElement("p",{className:"text-[10px] text-gray-500 -mt-0.5"},"Powered by Claude"))),r.createElement("nav",{className:"flex items-center gap-2"},r.createElement(Yr,{icon:zp,label:"",active:G("/home"),onClick:()=>K("/home")}),r.createElement(Yr,{icon:xn,label:"",active:G("/chat"),onClick:()=>{!ue&&o.length>0&&u(o[0].id),K("/chat")},badge:o.length>0?o.length:null}),r.createElement(Yr,{icon:Ct,label:" ",active:G("/knowledge"),onClick:()=>K("/knowledge")}),r.createElement(Yr,{icon:Pt,label:"",active:G("/agent"),onClick:()=>K("/agent")}),r.createElement(Yr,{icon:Yc,label:"",active:G("/training")||G("/finetuning"),onClick:()=>K("/training")}),r.createElement(Yr,{icon:Xr,label:"",active:G("/guide"),onClick:()=>K("/guide")}),r.createElement(Yr,{icon:fo,label:"",active:!1,onClick:()=>M("settings")})),r.createElement("div",{className:"flex items-center gap-3"},!ue&&r.createElement("button",{onClick:()=>{d(),K("/chat")},className:"flex items-center gap-2 px-4 py-2 bg-green-400 hover:bg-green-500 text-white rounded-lg font-medium text-sm transition-all hover:scale-105 active:scale-95 shadow-sm"},r.createElement(Zt,{size:16}),r.createElement("span",null," ")),r.createElement("div",{className:"flex items-center gap-2.5 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors cursor-pointer group"},r.createElement("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white font-bold text-sm shadow-sm group-hover:scale-110 transition-transform"},t?.name?.[0].toUpperCase()||"U"),r.createElement("div",{className:"hidden md:block"},r.createElement("div",{className:"text-sm font-semibold text-gray-900"},t?.name||"User"),r.createElement("div",{className:"text-xs text-gray-500"},t?.email?.split("@")[0]||"user")),r.createElement("button",{onClick:w=>{w.stopPropagation(),a()},className:"ml-2 p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg hover:scale-110 active:scale-95 transition-all",title:""},r.createElement(vx,{size:16}))))),r.createElement("div",{className:"flex flex-1 overflow-hidden"},ue&&r.createElement("aside",{className:`bg-white border-r border-gray-200 flex flex-col shrink-0 transition-all duration-300 ${le?"w-0":"w-[280px]"} overflow-hidden`},r.createElement("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement(xn,{size:18,className:"text-gray-500"}),r.createElement("h2",{className:"font-semibold text-gray-900"}," "),r.createElement("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full font-medium"},o.length)),r.createElement("button",{onClick:()=>re(!le),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all hover:scale-110"},r.createElement(fx,{size:16}))),r.createElement("div",{className:"p-3 border-b border-gray-200"},r.createElement("button",{onClick:()=>{d()},className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-green-400 hover:bg-green-500 text-white rounded-lg font-medium text-sm transition-all hover:scale-[1.02] active:scale-95 shadow-sm"},r.createElement(Zt,{size:18}),r.createElement("span",null," "))),r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-3 py-2 space-y-1"},o.length===0?r.createElement("div",{className:"text-center py-12 text-gray-500"},r.createElement(xn,{size:32,className:"mx-auto mb-2 opacity-50"}),r.createElement("p",{className:"text-sm"}," ")):o.map((w,j)=>r.createElement("div",{key:w.id,className:`relative group animate-slideUp animate-stagger-${Math.min(j%4+1,4)}`},q===w.id?r.createElement("div",{className:"flex items-center gap-1.5 px-3 py-2.5 bg-gray-50 rounded-lg border border-gray-300"},r.createElement("input",{type:"text",value:L,onChange:B=>Z(B.target.value),className:"flex-1 bg-white border border-gray-300 text-gray-900 text-sm outline-none min-w-0 px-2 py-1 rounded focus:ring-2 focus:ring-green-400 transition-all",autoFocus:!0,onKeyDown:B=>B.key==="Enter"&&J()}),r.createElement("button",{onClick:J,className:"p-1 text-green-500 hover:text-green-600 hover:scale-110 transition-all"},r.createElement(ct,{size:16})),r.createElement("button",{onClick:me,className:"p-1 text-gray-400 hover:text-gray-600 hover:scale-110 transition-all"},r.createElement(Xn,{size:16}))):r.createElement("button",{onClick:()=>u(w.id),className:`relative w-full flex items-center gap-2.5 px-3 py-2.5 rounded-lg text-sm transition-all group/btn ${c===w.id?"bg-gray-50 text-gray-700 font-medium border border-gray-200":"text-gray-700 hover:bg-gray-100 hover:scale-[1.02]"}`},r.createElement(xn,{size:16,className:`${c===w.id?"text-gray-600":"text-gray-400"} transition-all`}),r.createElement("span",{className:"truncate flex-1 text-left"},w.title),r.createElement("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 hidden group-hover:flex items-center gap-0.5 bg-white border border-gray-200 rounded-md p-0.5 shadow-sm"},r.createElement("div",{onClick:B=>{B.stopPropagation(),ee(w)},className:"p-1.5 hover:text-gray-600 hover:bg-gray-50 rounded transition-all hover:scale-110 cursor-pointer"},r.createElement(bt,{size:13})),r.createElement("div",{onClick:B=>{B.stopPropagation(),E("  ?",()=>f(w.id),{confirmLabel:""})},className:"p-1.5 hover:text-red-600 hover:bg-red-50 rounded transition-all hover:scale-110 cursor-pointer"},r.createElement(Bn,{size:13})))))))),ue&&le&&r.createElement("button",{onClick:()=>re(!1),className:"absolute left-0 top-20 bg-white border border-gray-200 rounded-r-lg p-2 hover:bg-gray-50 transition-all hover:scale-110 z-10 shadow-sm"},r.createElement(Cl,{size:16,className:"text-gray-600"})),r.createElement("main",{className:"flex-1 flex flex-col bg-white relative min-w-0 overflow-hidden"},r.createElement(vy,null))),r.createElement(ao,{isOpen:O==="settings",onClose:()=>M(null),title:"System Settings",size:"3xl"},r.createElement(Rx,null)),r.createElement(Bx,{isOpen:N,onClose:()=>A(!1)}),r.createElement(jx,{isOpen:S,onClose:()=>C(!1),sessions:o,knowledgeBases:h,agents:y,onAction:ae}))}function Yr({icon:t,label:a,active:s,onClick:o,badge:c}){return r.createElement("button",{onClick:o,className:`relative flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all hover:scale-105 active:scale-95 ${s?"bg-green-50 text-green-600 shadow-sm":"text-gray-600 hover:bg-gray-100"}`},r.createElement(t,{size:18,className:`${s?"text-green-500":"text-gray-400"} transition-transform`}),r.createElement("span",{className:"hidden md:inline"},a),c!=null&&r.createElement("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold rounded-full w-5 h-5 flex items-center justify-center shadow-sm animate-pulse"},c))}function Hx(){const t=Dr(),{user:a}=jl(),{agents:s,knowledgeBases:o,sessions:c,createNewSession:u,setCurrentSessionId:d,config:g}=La(),[f,h]=v.useState({}),[y,x]=v.useState(!0);v.useEffect(()=>{(async()=>{x(!0);const A=["neo4j","redis","qdrant","ollama"],q={};await Promise.all(A.map(async X=>{try{const L=await wp.testService(X);q[X]=L.status==="connected"}catch{q[X]=!1}})),h(q),x(!1)})()},[]);const k=o.reduce((N,A)=>N+(A.files?.length||0),0),E=Object.values(f).filter(Boolean).length,O=()=>{u(),t("/chat")},M=new Date().getHours(),S=M<12?" ":M<18?" ":" ",C=a?.name||"User";return r.createElement("div",{className:"h-full overflow-y-auto bg-gray-50 custom-scrollbar"},r.createElement("div",{className:"max-w-7xl mx-auto px-8 py-10 space-y-10"},r.createElement("section",{className:"animate-slideDown"},r.createElement("div",{className:"flex items-end justify-between mb-8"},r.createElement("div",null,r.createElement("h1",{className:"text-3xl font-bold text-gray-900"},S,", ",r.createElement("span",{className:"text-gray-600"},C)),r.createElement("p",{className:"text-base text-gray-600 mt-2"},"RAG AI     .")),r.createElement("button",{onClick:O,className:"ripple-container flex items-center gap-2.5 px-6 py-3 bg-green-500 hover:bg-green-600 active:scale-95 text-white text-sm font-semibold rounded-lg shadow-sm hover:shadow-md transition-all"},r.createElement(Zt,{size:18,className:"group-hover:rotate-90 transition-transform duration-300"}),"  ")),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5"},r.createElement("button",{onClick:O,className:"group relative p-7 bg-white rounded-lg text-left border border-gray-200 hover:border-gray-400 hover-lift animate-slideUp animate-stagger-1"},r.createElement("div",{className:"w-12 h-12 bg-gray-50 text-gray-600 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"},r.createElement(xn,{size:24,className:"group-hover:rotate-6 transition-transform"})),r.createElement("div",{className:"font-bold text-lg text-gray-900"},"RAG  "),r.createElement("div",{className:"text-sm text-gray-600 mt-1.5 leading-relaxed"},"   AI "),r.createElement(Nl,{size:16,className:"absolute bottom-6 right-6 text-gray-300 group-hover:text-gray-500 group-hover:translate-x-1 transition-all"})),r.createElement("button",{onClick:()=>t("/knowledge"),className:"group relative p-7 bg-white rounded-lg text-left border border-gray-200 hover:border-purple-400 hover-lift animate-slideUp animate-stagger-2"},r.createElement("div",{className:"w-12 h-12 bg-purple-50 text-purple-600 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"},r.createElement(Ct,{size:24,className:"group-hover:rotate-6 transition-transform"})),r.createElement("div",{className:"font-bold text-lg text-gray-900"}," "),r.createElement("div",{className:"text-sm text-gray-600 mt-1.5 leading-relaxed"},"     "),r.createElement(Nl,{size:16,className:"absolute bottom-6 right-6 text-gray-300 group-hover:text-purple-500 group-hover:translate-x-1 transition-all"})),r.createElement("button",{onClick:()=>t("/agent"),className:"group relative p-7 bg-white rounded-lg text-left border border-gray-200 hover:border-gray-400 hover-lift animate-slideUp animate-stagger-3"},r.createElement("div",{className:"w-12 h-12 bg-gray-50 text-gray-600 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"},r.createElement(Pt,{size:24,className:"group-hover:rotate-6 transition-transform"})),r.createElement("div",{className:"font-bold text-lg text-gray-900"}," "),r.createElement("div",{className:"text-sm text-gray-600 mt-1.5 leading-relaxed"},"AI    "),r.createElement(Nl,{size:16,className:"absolute bottom-6 right-6 text-gray-300 group-hover:text-gray-500 group-hover:translate-x-1 transition-all"})))),r.createElement("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-fadeIn"},r.createElement("div",{className:"lg:col-span-2 grid grid-cols-2 sm:grid-cols-4 gap-4"},[{label:"",value:s.length,icon:Pt,color:"text-gray-600",bg:"bg-gray-50"},{label:" ",value:o.length,icon:Ct,color:"text-purple-600",bg:"bg-purple-50"},{label:"",value:k,icon:Xr,color:"text-green-500",bg:"bg-green-50"},{label:"",value:c.length,icon:xn,color:"text-orange-600",bg:"bg-orange-50"}].map((N,A)=>r.createElement("div",{key:A,className:`bg-white p-5 rounded-lg border border-gray-200 hover:border-gray-300 hover-lift cursor-pointer animate-scaleIn animate-stagger-${A+1}`},r.createElement("div",{className:`w-10 h-10 ${N.bg} ${N.color} rounded-lg flex items-center justify-center mb-3 hover:scale-110 transition-transform`},r.createElement(N.icon,{size:20})),r.createElement("div",{className:"text-3xl font-bold text-gray-900 tracking-tight"},N.value),r.createElement("div",{className:"text-xs font-semibold text-gray-500 mt-1"},N.label)))),r.createElement("div",{className:"bg-white rounded-lg border border-gray-200 p-5 animate-scaleIn"},r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-600 uppercase tracking-wider"}," "),!y&&r.createElement("span",{className:`text-xs font-semibold px-2.5 py-1 rounded-full animate-scaleIn ${E===4?"bg-green-50 text-green-600":E>=2?"bg-yellow-50 text-yellow-700":"bg-red-50 text-red-700"}`},E,"/4 ")),r.createElement("div",{className:"space-y-2.5"},[{key:"ollama",label:"Ollama",desc:"LLM ",icon:Tn},{key:"qdrant",label:"Qdrant",desc:" ",icon:Ct},{key:"neo4j",label:"Neo4j",desc:" ",icon:Qt},{key:"redis",label:"Redis",desc:"",icon:Pn}].map((N,A)=>r.createElement("div",{key:N.key,className:`flex items-center gap-3.5 px-3 py-2.5 rounded-lg hover:bg-gray-50 transition-all cursor-pointer animate-slideUp animate-stagger-${A+1}`},r.createElement("div",{className:`relative w-2.5 h-2.5 rounded-full shrink-0 ${y?"bg-gray-300 animate-pulse":f[N.key]?"bg-green-400":"bg-red-400"}`},!y&&f[N.key]&&r.createElement("span",{className:"absolute inset-0 rounded-full bg-green-400 animate-ping opacity-30"})),r.createElement(N.icon,{size:16,className:"text-gray-500 shrink-0 hover:scale-110 transition-transform"}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("span",{className:"text-sm font-semibold text-gray-800"},N.label),r.createElement("span",{className:"text-xs text-gray-500 ml-2"},N.desc)),!y&&r.createElement("span",{className:`text-xs font-semibold transition-colors ${f[N.key]?"text-green-500":"text-red-500"}`},f[N.key]?"ON":"OFF")))))),(k===0||c.length<=1)&&r.createElement("section",{className:"bg-green-500 rounded-lg p-8 text-white animate-slideUp"},r.createElement("div",{className:"flex items-center gap-2.5 mb-2"},r.createElement(Xr,{size:18,className:"animate-float"}),r.createElement("span",{className:"text-sm font-semibold text-gray-100 uppercase tracking-wider"}," ")),r.createElement("h3",{className:"text-xl font-bold mb-5"},"3 RAG AI "),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},[{step:1,title:" ",desc:"  PDF, DOCX  ",done:k>0,path:"/knowledge"},{step:2,title:" ",desc:"AI    ",done:s.length>1,path:"/agent"},{step:3,title:" ",desc:"     ",done:c.length>1,action:O}].map((N,A)=>r.createElement("button",{key:N.step,onClick:()=>N.action?N.action():t(N.path),className:`bg-white/20 hover:bg-white/30 active:scale-95 rounded-lg p-5 text-left transition-all group hover-lift animate-scaleIn animate-stagger-${A+1}`},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("span",{className:`w-7 h-7 rounded-full text-sm font-bold flex items-center justify-center transition-all group-hover:scale-110 ${N.done?"bg-white text-green-600":"bg-white/40 text-white"}`},N.done?r.createElement(ct,{size:16}):N.step),r.createElement(Nl,{size:16,className:"text-gray-200 group-hover:translate-x-2 transition-transform"})),r.createElement("div",{className:"font-bold text-base"},N.title),r.createElement("div",{className:"text-sm text-gray-100 mt-1.5"},N.desc))))),r.createElement("section",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 animate-fadeIn"},r.createElement("div",{className:"lg:col-span-3"},r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("h3",{className:"text-base font-bold text-gray-800 flex items-center gap-2.5"},r.createElement(xn,{size:18,className:"text-gray-500"}),"  "),c.length>5&&r.createElement("button",{onClick:()=>t("/chat"),className:"text-sm text-gray-600 hover:text-gray-700 font-semibold flex items-center gap-1 transition-all hover:gap-2"},"  ",r.createElement(Cl,{size:14}))),r.createElement("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden animate-scaleIn"},c.length===0?r.createElement("div",{className:"py-16 text-center"},r.createElement(xn,{size:36,className:"mx-auto mb-3 text-gray-300 animate-float"}),r.createElement("p",{className:"text-base text-gray-500"},"  "),r.createElement("button",{onClick:O,className:"mt-4 text-sm text-gray-600 hover:text-gray-700 font-semibold transition-all hover:scale-105"},"   ")):r.createElement("div",{className:"divide-y divide-gray-100"},c.slice(0,5).map((N,A)=>r.createElement("button",{key:N.id,onClick:()=>{d(N.id),t("/chat")},className:`w-full px-5 py-4 hover:bg-gray-50 flex items-center gap-4 transition-all text-left group animate-slideUp animate-stagger-${Math.min(A+1,4)}`},r.createElement("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500 group-hover:bg-gray-50 group-hover:text-gray-600 group-hover:scale-110 transition-all shrink-0"},r.createElement(xn,{size:18})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-[15px] font-semibold text-gray-900 truncate group-hover:text-gray-600 transition-colors"},N.title),r.createElement("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1.5"},r.createElement("span",null,N.messages.length," "))),r.createElement(Cl,{size:16,className:"text-gray-300 group-hover:text-gray-500 group-hover:translate-x-1 transition-all shrink-0"})))))),r.createElement("div",{className:"lg:col-span-2"},r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("h3",{className:"text-base font-bold text-gray-800 flex items-center gap-2.5"},r.createElement(Pt,{size:18,className:"text-gray-500"})," "),r.createElement("button",{onClick:()=>t("/agent"),className:"text-sm text-gray-600 hover:text-gray-700 font-semibold flex items-center gap-1 transition-all hover:gap-2"}," ",r.createElement(Cl,{size:14}))),r.createElement("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden animate-scaleIn"},s.length===0?r.createElement("div",{className:"py-16 text-center"},r.createElement(Pt,{size:36,className:"mx-auto mb-3 text-gray-300 animate-float"}),r.createElement("p",{className:"text-base text-gray-500"}," ")):r.createElement("div",{className:"divide-y divide-gray-100"},s.slice(0,4).map((N,A)=>{const q=["bg-gray-600","bg-purple-600","bg-green-500","bg-orange-600"],X=N.id.charCodeAt(N.id.length-1)%q.length;return r.createElement("div",{key:N.id,className:`px-5 py-4 flex items-center gap-3.5 hover:bg-gray-50 transition-all cursor-pointer animate-slideUp animate-stagger-${Math.min(A+1,4)}`},r.createElement("div",{className:`w-10 h-10 rounded-lg ${q[X]} flex items-center justify-center text-white text-sm font-bold shrink-0 hover:scale-110 transition-transform`},N.name[0]),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-[15px] font-semibold text-gray-900 truncate"},N.name),r.createElement("div",{className:"text-xs text-gray-500 truncate mt-1"},N.model||g.llm||"default")))}))))),r.createElement("section",{className:"pb-6 animate-fadeIn"},r.createElement("h3",{className:"text-base font-bold text-gray-800 mb-4 flex items-center gap-2.5"},r.createElement(Pn,{size:18,className:"text-yellow-600 animate-pulse"}),"  "),r.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},[{icon:Ct,label:"RAG ",desc:" +  ",color:"text-purple-600",bg:"bg-purple-50"},{icon:Qt,label:" ",desc:"DuckDuckGo / Brave / Tavily",color:"text-gray-600",bg:"bg-gray-50"},{icon:Ar,label:"Text-to-SQL",desc:" DB ",color:"text-orange-600",bg:"bg-orange-50"},{icon:ur,label:"Deep Think",desc:"   ",color:"text-gray-600",bg:"bg-gray-50"}].map((N,A)=>r.createElement("div",{key:A,className:`bg-white border border-gray-200 rounded-lg p-5 hover:border-gray-300 hover-lift cursor-pointer animate-scaleIn animate-stagger-${A+1}`},r.createElement("div",{className:`w-10 h-10 ${N.bg} ${N.color} rounded-lg flex items-center justify-center mb-3 hover:scale-110 hover:rotate-6 transition-all`},r.createElement(N.icon,{size:20})),r.createElement("div",{className:"text-sm font-bold text-gray-900"},N.label),r.createElement("div",{className:"text-xs text-gray-600 mt-1"},N.desc)))))))}function qx(t,a){const s={};return(t[t.length-1]===""?[...t,""]:t).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}const Vx=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Wx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Kx={};function dg(t,a){return(Kx.jsx?Wx:Vx).test(t)}const Gx=/[ \t\n\f\r]/g;function Qx(t){return typeof t=="object"?t.type==="text"?mg(t.value):!1:mg(t)}function mg(t){return t.replace(Gx,"")===""}class Fl{constructor(a,s,o){this.normal=s,this.property=a,o&&(this.space=o)}}Fl.prototype.normal={};Fl.prototype.property={};Fl.prototype.space=void 0;function jp(t,a){const s={},o={};for(const c of t)Object.assign(s,c.property),Object.assign(o,c.normal);return new Fl(s,o,a)}function Ic(t){return t.toLowerCase()}class un{constructor(a,s){this.attribute=s,this.property=a}}un.prototype.attribute="";un.prototype.booleanish=!1;un.prototype.boolean=!1;un.prototype.commaOrSpaceSeparated=!1;un.prototype.commaSeparated=!1;un.prototype.defined=!1;un.prototype.mustUseProperty=!1;un.prototype.number=!1;un.prototype.overloadedBoolean=!1;un.prototype.property="";un.prototype.spaceSeparated=!1;un.prototype.space=void 0;let Jx=0;const qe=Zr(),Rt=Zr(),Lc=Zr(),ge=Zr(),gt=Zr(),_a=Zr(),yn=Zr();function Zr(){return 2**++Jx}const Mc=Object.freeze(Object.defineProperty({__proto__:null,boolean:qe,booleanish:Rt,commaOrSpaceSeparated:yn,commaSeparated:_a,number:ge,overloadedBoolean:Lc,spaceSeparated:gt},Symbol.toStringTag,{value:"Module"})),ic=Object.keys(Mc);class Zc extends un{constructor(a,s,o,c){let u=-1;if(super(a,s),gg(this,"space",c),typeof o=="number")for(;++u<ic.length;){const d=ic[u];gg(this,ic[u],(o&Mc[d])===Mc[d])}}}Zc.prototype.defined=!0;function gg(t,a,s){s&&(t[a]=s)}function Ma(t){const a={},s={};for(const[o,c]of Object.entries(t.properties)){const u=new Zc(o,t.transform(t.attributes||{},o),c,t.space);t.mustUseProperty&&t.mustUseProperty.includes(o)&&(u.mustUseProperty=!0),a[o]=u,s[Ic(o)]=o,s[Ic(u.attribute)]=o}return new Fl(a,s,t.space)}const Fp=Ma({properties:{ariaActiveDescendant:null,ariaAtomic:Rt,ariaAutoComplete:null,ariaBusy:Rt,ariaChecked:Rt,ariaColCount:ge,ariaColIndex:ge,ariaColSpan:ge,ariaControls:gt,ariaCurrent:null,ariaDescribedBy:gt,ariaDetails:null,ariaDisabled:Rt,ariaDropEffect:gt,ariaErrorMessage:null,ariaExpanded:Rt,ariaFlowTo:gt,ariaGrabbed:Rt,ariaHasPopup:null,ariaHidden:Rt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:gt,ariaLevel:ge,ariaLive:null,ariaModal:Rt,ariaMultiLine:Rt,ariaMultiSelectable:Rt,ariaOrientation:null,ariaOwns:gt,ariaPlaceholder:null,ariaPosInSet:ge,ariaPressed:Rt,ariaReadOnly:Rt,ariaRelevant:null,ariaRequired:Rt,ariaRoleDescription:gt,ariaRowCount:ge,ariaRowIndex:ge,ariaRowSpan:ge,ariaSelected:Rt,ariaSetSize:ge,ariaSort:null,ariaValueMax:ge,ariaValueMin:ge,ariaValueNow:ge,ariaValueText:null,role:null},transform(t,a){return a==="role"?a:"aria-"+a.slice(4).toLowerCase()}});function $p(t,a){return a in t?t[a]:a}function Bp(t,a){return $p(t,a.toLowerCase())}const Yx=Ma({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_a,acceptCharset:gt,accessKey:gt,action:null,allow:null,allowFullScreen:qe,allowPaymentRequest:qe,allowUserMedia:qe,alt:null,as:null,async:qe,autoCapitalize:null,autoComplete:gt,autoFocus:qe,autoPlay:qe,blocking:gt,capture:null,charSet:null,checked:qe,cite:null,className:gt,cols:ge,colSpan:null,content:null,contentEditable:Rt,controls:qe,controlsList:gt,coords:ge|_a,crossOrigin:null,data:null,dateTime:null,decoding:null,default:qe,defer:qe,dir:null,dirName:null,disabled:qe,download:Lc,draggable:Rt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:qe,formTarget:null,headers:gt,height:ge,hidden:Lc,high:ge,href:null,hrefLang:null,htmlFor:gt,httpEquiv:gt,id:null,imageSizes:null,imageSrcSet:null,inert:qe,inputMode:null,integrity:null,is:null,isMap:qe,itemId:null,itemProp:gt,itemRef:gt,itemScope:qe,itemType:gt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:qe,low:ge,manifest:null,max:null,maxLength:ge,media:null,method:null,min:null,minLength:ge,multiple:qe,muted:qe,name:null,nonce:null,noModule:qe,noValidate:qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:qe,optimum:ge,pattern:null,ping:gt,placeholder:null,playsInline:qe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:qe,referrerPolicy:null,rel:gt,required:qe,reversed:qe,rows:ge,rowSpan:ge,sandbox:gt,scope:null,scoped:qe,seamless:qe,selected:qe,shadowRootClonable:qe,shadowRootDelegatesFocus:qe,shadowRootMode:null,shape:null,size:ge,sizes:null,slot:null,span:ge,spellCheck:Rt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ge,step:null,style:null,tabIndex:ge,target:null,title:null,translate:null,type:null,typeMustMatch:qe,useMap:null,value:Rt,width:ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:gt,axis:null,background:null,bgColor:null,border:ge,borderColor:null,bottomMargin:ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:qe,declare:qe,event:null,face:null,frame:null,frameBorder:null,hSpace:ge,leftMargin:ge,link:null,longDesc:null,lowSrc:null,marginHeight:ge,marginWidth:ge,noResize:qe,noHref:qe,noShade:qe,noWrap:qe,object:null,profile:null,prompt:null,rev:null,rightMargin:ge,rules:null,scheme:null,scrolling:Rt,standby:null,summary:null,text:null,topMargin:ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:qe,disableRemotePlayback:qe,prefix:null,property:null,results:ge,security:null,unselectable:null},space:"html",transform:Bp}),Xx=Ma({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:yn,accentHeight:ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ge,amplitude:ge,arabicForm:null,ascent:ge,attributeName:null,attributeType:null,azimuth:ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ge,by:null,calcMode:null,capHeight:ge,className:gt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ge,diffuseConstant:ge,direction:null,display:null,dur:null,divisor:ge,dominantBaseline:null,download:qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:ge,enableBackground:null,end:null,event:null,exponent:ge,externalResourcesRequired:null,fill:null,fillOpacity:ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_a,g2:_a,glyphName:_a,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ge,horizOriginX:ge,horizOriginY:ge,id:null,ideographic:ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ge,k:ge,k1:ge,k2:ge,k3:ge,k4:ge,kernelMatrix:yn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ge,overlineThickness:ge,paintOrder:null,panose1:null,path:null,pathLength:ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:gt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ge,pointsAtY:ge,pointsAtZ:ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:yn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:yn,rev:yn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:yn,requiredFeatures:yn,requiredFonts:yn,requiredFormats:yn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ge,specularExponent:ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ge,strikethroughThickness:ge,string:null,stroke:null,strokeDashArray:yn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ge,strokeOpacity:ge,strokeWidth:null,style:null,surfaceScale:ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:yn,tabIndex:ge,tableValues:null,target:null,targetX:ge,targetY:ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:yn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ge,underlineThickness:ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ge,values:null,vAlphabetic:ge,vMathematical:ge,vectorEffect:null,vHanging:ge,vIdeographic:ge,version:null,vertAdvY:ge,vertOriginX:ge,vertOriginY:ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:$p}),Up=Ma({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,a){return"xlink:"+a.slice(5).toLowerCase()}}),Hp=Ma({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Bp}),qp=Ma({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,a){return"xml:"+a.slice(3).toLowerCase()}}),Zx={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},eb=/[A-Z]/g,pg=/-[a-z]/g,tb=/^data[-\w.:]+$/i;function nb(t,a){const s=Ic(a);let o=a,c=un;if(s in t.normal)return t.property[t.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&tb.test(a)){if(a.charAt(4)==="-"){const u=a.slice(5).replace(pg,ab);o="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=a.slice(4);if(!pg.test(u)){let d=u.replace(eb,rb);d.charAt(0)!=="-"&&(d="-"+d),a="data"+d}}c=Zc}return new c(o,a)}function rb(t){return"-"+t.toLowerCase()}function ab(t){return t.charAt(1).toUpperCase()}const lb=jp([Fp,Yx,Up,Hp,qp],"html"),eu=jp([Fp,Xx,Up,Hp,qp],"svg");function sb(t){return t.join(" ").trim()}var wa={},cc,fg;function ob(){if(fg)return cc;fg=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,a=/\n/g,s=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,c=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,g=/^\s+|\s+$/g,f=`
`,h="/",y="*",x="",k="comment",E="declaration";function O(S,C){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];C=C||{};var N=1,A=1;function q(ae){var ee=ae.match(a);ee&&(N+=ee.length);var J=ae.lastIndexOf(f);A=~J?ae.length-J:A+ae.length}function X(){var ae={line:N,column:A};return function(ee){return ee.position=new L(ae),re(),ee}}function L(ae){this.start=ae,this.end={line:N,column:A},this.source=C.source}L.prototype.content=S;function Z(ae){var ee=new Error(C.source+":"+N+":"+A+": "+ae);if(ee.reason=ae,ee.filename=C.source,ee.line=N,ee.column=A,ee.source=S,!C.silent)throw ee}function le(ae){var ee=ae.exec(S);if(ee){var J=ee[0];return q(J),S=S.slice(J.length),ee}}function re(){le(s)}function R(ae){var ee;for(ae=ae||[];ee=F();)ee!==!1&&ae.push(ee);return ae}function F(){var ae=X();if(!(h!=S.charAt(0)||y!=S.charAt(1))){for(var ee=2;x!=S.charAt(ee)&&(y!=S.charAt(ee)||h!=S.charAt(ee+1));)++ee;if(ee+=2,x===S.charAt(ee-1))return Z("End of comment missing");var J=S.slice(2,ee-2);return A+=2,q(J),S=S.slice(ee),A+=2,ae({type:k,comment:J})}}function K(){var ae=X(),ee=le(o);if(ee){if(F(),!le(c))return Z("property missing ':'");var J=le(u),me=ae({type:E,property:M(ee[0].replace(t,x)),value:J?M(J[0].replace(t,x)):x});return le(d),me}}function ye(){var ae=[];R(ae);for(var ee;ee=K();)ee!==!1&&(ae.push(ee),R(ae));return ae}return re(),ye()}function M(S){return S?S.replace(g,x):x}return cc=O,cc}var hg;function ib(){if(hg)return wa;hg=1;var t=wa&&wa.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(wa,"__esModule",{value:!0}),wa.default=s;const a=t(ob());function s(o,c){let u=null;if(!o||typeof o!="string")return u;const d=(0,a.default)(o),g=typeof c=="function";return d.forEach(f=>{if(f.type!=="declaration")return;const{property:h,value:y}=f;g?c(h,y,f):y&&(u=u||{},u[h]=y)}),u}return wa}var bl={},yg;function cb(){if(yg)return bl;yg=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,a=/-([a-z])/g,s=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,c=/^-(ms)-/,u=function(h){return!h||s.test(h)||t.test(h)},d=function(h,y){return y.toUpperCase()},g=function(h,y){return"".concat(y,"-")},f=function(h,y){return y===void 0&&(y={}),u(h)?h:(h=h.toLowerCase(),y.reactCompat?h=h.replace(c,g):h=h.replace(o,g),h.replace(a,d))};return bl.camelCase=f,bl}var vl,xg;function ub(){if(xg)return vl;xg=1;var t=vl&&vl.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},a=t(ib()),s=cb();function o(c,u){var d={};return!c||typeof c!="string"||(0,a.default)(c,function(g,f){g&&f&&(d[(0,s.camelCase)(g,u)]=f)}),d}return o.default=o,vl=o,vl}var db=ub();const mb=co(db),Vp=Wp("end"),tu=Wp("start");function Wp(t){return a;function a(s){const o=s&&s.position&&s.position[t]||{};if(typeof o.line=="number"&&o.line>0&&typeof o.column=="number"&&o.column>0)return{line:o.line,column:o.column,offset:typeof o.offset=="number"&&o.offset>-1?o.offset:void 0}}}function gb(t){const a=tu(t),s=Vp(t);if(a&&s)return{start:a,end:s}}function Tl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?bg(t.position):"start"in t||"end"in t?bg(t):"line"in t||"column"in t?Rc(t):""}function Rc(t){return vg(t&&t.line)+":"+vg(t&&t.column)}function bg(t){return Rc(t&&t.start)+"-"+Rc(t&&t.end)}function vg(t){return t&&typeof t=="number"?t:1}class Jt extends Error{constructor(a,s,o){super(),typeof s=="string"&&(o=s,s=void 0);let c="",u={},d=!1;if(s&&("line"in s&&"column"in s?u={place:s}:"start"in s&&"end"in s?u={place:s}:"type"in s?u={ancestors:[s],place:s.position}:u={...s}),typeof a=="string"?c=a:!u.cause&&a&&(d=!0,c=a.message,u.cause=a),!u.ruleId&&!u.source&&typeof o=="string"){const f=o.indexOf(":");f===-1?u.ruleId=o:(u.source=o.slice(0,f),u.ruleId=o.slice(f+1))}if(!u.place&&u.ancestors&&u.ancestors){const f=u.ancestors[u.ancestors.length-1];f&&(u.place=f.position)}const g=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=g?g.column:void 0,this.fatal=void 0,this.file="",this.message=c,this.line=g?g.line:void 0,this.name=Tl(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=d&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Jt.prototype.file="";Jt.prototype.name="";Jt.prototype.reason="";Jt.prototype.message="";Jt.prototype.stack="";Jt.prototype.column=void 0;Jt.prototype.line=void 0;Jt.prototype.ancestors=void 0;Jt.prototype.cause=void 0;Jt.prototype.fatal=void 0;Jt.prototype.place=void 0;Jt.prototype.ruleId=void 0;Jt.prototype.source=void 0;const nu={}.hasOwnProperty,pb=new Map,fb=/[A-Z]/g,hb=new Set(["table","tbody","thead","tfoot","tr"]),yb=new Set(["td","th"]),Kp="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xb(t,a){if(!a||a.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const s=a.filePath||void 0;let o;if(a.development){if(typeof a.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");o=Cb(s,a.jsxDEV)}else{if(typeof a.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof a.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");o=Sb(s,a.jsx,a.jsxs)}const c={Fragment:a.Fragment,ancestors:[],components:a.components||{},create:o,elementAttributeNameCase:a.elementAttributeNameCase||"react",evaluater:a.createEvaluater?a.createEvaluater():void 0,filePath:s,ignoreInvalidStyle:a.ignoreInvalidStyle||!1,passKeys:a.passKeys!==!1,passNode:a.passNode||!1,schema:a.space==="svg"?eu:lb,stylePropertyNameCase:a.stylePropertyNameCase||"dom",tableCellAlignToStyle:a.tableCellAlignToStyle!==!1},u=Gp(c,t,void 0);return u&&typeof u!="string"?u:c.create(t,c.Fragment,{children:u||void 0},void 0)}function Gp(t,a,s){if(a.type==="element")return bb(t,a,s);if(a.type==="mdxFlowExpression"||a.type==="mdxTextExpression")return vb(t,a);if(a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement")return kb(t,a,s);if(a.type==="mdxjsEsm")return Eb(t,a);if(a.type==="root")return wb(t,a,s);if(a.type==="text")return Nb(t,a)}function bb(t,a,s){const o=t.schema;let c=o;a.tagName.toLowerCase()==="svg"&&o.space==="html"&&(c=eu,t.schema=c),t.ancestors.push(a);const u=Jp(t,a.tagName,!1),d=_b(t,a);let g=au(t,a);return hb.has(a.tagName)&&(g=g.filter(function(f){return typeof f=="string"?!Qx(f):!0})),Qp(t,d,u,a),ru(d,g),t.ancestors.pop(),t.schema=o,t.create(a,u,d,s)}function vb(t,a){if(a.data&&a.data.estree&&t.evaluater){const o=a.data.estree.body[0];return o.type,t.evaluater.evaluateExpression(o.expression)}Rl(t,a.position)}function Eb(t,a){if(a.data&&a.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(a.data.estree);Rl(t,a.position)}function kb(t,a,s){const o=t.schema;let c=o;a.name==="svg"&&o.space==="html"&&(c=eu,t.schema=c),t.ancestors.push(a);const u=a.name===null?t.Fragment:Jp(t,a.name,!0),d=Tb(t,a),g=au(t,a);return Qp(t,d,u,a),ru(d,g),t.ancestors.pop(),t.schema=o,t.create(a,u,d,s)}function wb(t,a,s){const o={};return ru(o,au(t,a)),t.create(a,t.Fragment,o,s)}function Nb(t,a){return a.value}function Qp(t,a,s,o){typeof s!="string"&&s!==t.Fragment&&t.passNode&&(a.node=o)}function ru(t,a){if(a.length>0){const s=a.length>1?a:a[0];s&&(t.children=s)}}function Sb(t,a,s){return o;function o(c,u,d,g){const h=Array.isArray(d.children)?s:a;return g?h(u,d,g):h(u,d)}}function Cb(t,a){return s;function s(o,c,u,d){const g=Array.isArray(u.children),f=tu(o);return a(c,u,d,g,{columnNumber:f?f.column-1:void 0,fileName:t,lineNumber:f?f.line:void 0},void 0)}}function _b(t,a){const s={};let o,c;for(c in a.properties)if(c!=="children"&&nu.call(a.properties,c)){const u=zb(t,c,a.properties[c]);if(u){const[d,g]=u;t.tableCellAlignToStyle&&d==="align"&&typeof g=="string"&&yb.has(a.tagName)?o=g:s[d]=g}}if(o){const u=s.style||(s.style={});u[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=o}return s}function Tb(t,a){const s={};for(const o of a.attributes)if(o.type==="mdxJsxExpressionAttribute")if(o.data&&o.data.estree&&t.evaluater){const u=o.data.estree.body[0];u.type;const d=u.expression;d.type;const g=d.properties[0];g.type,Object.assign(s,t.evaluater.evaluateExpression(g.argument))}else Rl(t,a.position);else{const c=o.name;let u;if(o.value&&typeof o.value=="object")if(o.value.data&&o.value.data.estree&&t.evaluater){const g=o.value.data.estree.body[0];g.type,u=t.evaluater.evaluateExpression(g.expression)}else Rl(t,a.position);else u=o.value===null?!0:o.value;s[c]=u}return s}function au(t,a){const s=[];let o=-1;const c=t.passKeys?new Map:pb;for(;++o<a.children.length;){const u=a.children[o];let d;if(t.passKeys){const f=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(f){const h=c.get(f)||0;d=f+"-"+h,c.set(f,h+1)}}const g=Gp(t,u,d);g!==void 0&&s.push(g)}return s}function zb(t,a,s){const o=nb(t.schema,a);if(!(s==null||typeof s=="number"&&Number.isNaN(s))){if(Array.isArray(s)&&(s=o.commaSeparated?qx(s):sb(s)),o.property==="style"){let c=typeof s=="object"?s:Pb(t,String(s));return t.stylePropertyNameCase==="css"&&(c=Ib(c)),["style",c]}return[t.elementAttributeNameCase==="react"&&o.space?Zx[o.property]||o.property:o.attribute,s]}}function Pb(t,a){try{return mb(a,{reactCompat:!0})}catch(s){if(t.ignoreInvalidStyle)return{};const o=s,c=new Jt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw c.file=t.filePath||void 0,c.url=Kp+"#cannot-parse-style-attribute",c}}function Jp(t,a,s){let o;if(!s)o={type:"Literal",value:a};else if(a.includes(".")){const c=a.split(".");let u=-1,d;for(;++u<c.length;){const g=dg(c[u])?{type:"Identifier",name:c[u]}:{type:"Literal",value:c[u]};d=d?{type:"MemberExpression",object:d,property:g,computed:!!(u&&g.type==="Literal"),optional:!1}:g}o=d}else o=dg(a)&&!/^[a-z]/.test(a)?{type:"Identifier",name:a}:{type:"Literal",value:a};if(o.type==="Literal"){const c=o.value;return nu.call(t.components,c)?t.components[c]:c}if(t.evaluater)return t.evaluater.evaluateExpression(o);Rl(t)}function Rl(t,a){const s=new Jt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:a,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=Kp+"#cannot-handle-mdx-estrees-without-createevaluater",s}function Ib(t){const a={};let s;for(s in t)nu.call(t,s)&&(a[Lb(s)]=t[s]);return a}function Lb(t){let a=t.replace(fb,Mb);return a.slice(0,3)==="ms-"&&(a="-"+a),a}function Mb(t){return"-"+t.toLowerCase()}const uc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]};var dc={exports:{}},El={};var Eg;function Rb(){if(Eg)return El;Eg=1;var t=Bc(),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(g,f,h){var y,x={},k=null,E=null;h!==void 0&&(k=""+h),f.key!==void 0&&(k=""+f.key),f.ref!==void 0&&(E=f.ref);for(y in f)o.call(f,y)&&!u.hasOwnProperty(y)&&(x[y]=f[y]);if(g&&g.defaultProps)for(y in f=g.defaultProps,f)x[y]===void 0&&(x[y]=f[y]);return{$$typeof:a,type:g,key:k,ref:E,props:x,_owner:c.current}}return El.Fragment=s,El.jsx=d,El.jsxs=d,El}var kg;function Ab(){return kg||(kg=1,dc.exports=Rb()),dc.exports}var mc=Ab();const Db={};function Ob(t,a){const s=Db,o=typeof s.includeImageAlt=="boolean"?s.includeImageAlt:!0,c=typeof s.includeHtml=="boolean"?s.includeHtml:!0;return Yp(t,o,c)}function Yp(t,a,s){if(jb(t)){if("value"in t)return t.type==="html"&&!s?"":t.value;if(a&&"alt"in t&&t.alt)return t.alt;if("children"in t)return wg(t.children,a,s)}return Array.isArray(t)?wg(t,a,s):""}function wg(t,a,s){const o=[];let c=-1;for(;++c<t.length;)o[c]=Yp(t[c],a,s);return o.join("")}function jb(t){return!!(t&&typeof t=="object")}const Ng=document.createElement("i");function lu(t){const a="&"+t+";";Ng.innerHTML=a;const s=Ng.textContent;return s.charCodeAt(s.length-1)===59&&t!=="semi"||s===a?!1:s}function Zn(t,a,s,o){const c=t.length;let u=0,d;if(a<0?a=-a>c?0:c+a:a=a>c?c:a,s=s>0?s:0,o.length<1e4)d=Array.from(o),d.unshift(a,s),t.splice(...d);else for(s&&t.splice(a,s);u<o.length;)d=o.slice(u,u+1e4),d.unshift(a,0),t.splice(...d),u+=1e4,a+=1e4}function _n(t,a){return t.length>0?(Zn(t,t.length,0,a),t):a}const Sg={}.hasOwnProperty;function Fb(t){const a={};let s=-1;for(;++s<t.length;)$b(a,t[s]);return a}function $b(t,a){let s;for(s in a){const c=(Sg.call(t,s)?t[s]:void 0)||(t[s]={}),u=a[s];let d;if(u)for(d in u){Sg.call(c,d)||(c[d]=[]);const g=u[d];Bb(c[d],Array.isArray(g)?g:g?[g]:[])}}}function Bb(t,a){let s=-1;const o=[];for(;++s<a.length;)(a[s].add==="after"?t:o).push(a[s]);Zn(t,0,0,o)}function Xp(t,a){const s=Number.parseInt(t,a);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(s&65535)===65535||(s&65535)===65534||s>1114111?"":String.fromCodePoint(s)}function Ta(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Yn=Or(/[A-Za-z]/),bn=Or(/[\dA-Za-z]/),Ub=Or(/[#-'*+\--9=?A-Z^-~]/);function Ac(t){return t!==null&&(t<32||t===127)}const Dc=Or(/\d/),Hb=Or(/[\dA-Fa-f]/),qb=Or(/[!-/:-@[-`{-~]/);function Be(t){return t!==null&&t<-2}function cn(t){return t!==null&&(t<0||t===32)}function rt(t){return t===-2||t===-1||t===32}const Vb=Or(new RegExp("\\p{P}|\\p{S}","u")),Wb=Or(/\s/);function Or(t){return a;function a(s){return s!==null&&s>-1&&t.test(String.fromCharCode(s))}}function Ra(t){const a=[];let s=-1,o=0,c=0;for(;++s<t.length;){const u=t.charCodeAt(s);let d="";if(u===37&&bn(t.charCodeAt(s+1))&&bn(t.charCodeAt(s+2)))c=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(d=String.fromCharCode(u));else if(u>55295&&u<57344){const g=t.charCodeAt(s+1);u<56320&&g>56319&&g<57344?(d=String.fromCharCode(u,g),c=1):d=""}else d=String.fromCharCode(u);d&&(a.push(t.slice(o,s),encodeURIComponent(d)),o=s+c+1,d=""),c&&(s+=c,c=0)}return a.join("")+t.slice(o)}function pt(t,a,s,o){const c=o?o-1:Number.POSITIVE_INFINITY;let u=0;return d;function d(f){return rt(f)?(t.enter(s),g(f)):a(f)}function g(f){return rt(f)&&u++<c?(t.consume(f),g):(t.exit(s),a(f))}}const Kb={tokenize:Gb};function Gb(t){const a=t.attempt(this.parser.constructs.contentInitial,o,c);let s;return a;function o(g){if(g===null){t.consume(g);return}return t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),pt(t,a,"linePrefix")}function c(g){return t.enter("paragraph"),u(g)}function u(g){const f=t.enter("chunkText",{contentType:"text",previous:s});return s&&(s.next=f),s=f,d(g)}function d(g){if(g===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(g);return}return Be(g)?(t.consume(g),t.exit("chunkText"),u):(t.consume(g),d)}}const Qb={tokenize:Jb},Cg={tokenize:Yb};function Jb(t){const a=this,s=[];let o=0,c,u,d;return g;function g(A){if(o<s.length){const q=s[o];return a.containerState=q[1],t.attempt(q[0].continuation,f,h)(A)}return h(A)}function f(A){if(o++,a.containerState._closeFlow){a.containerState._closeFlow=void 0,c&&N();const q=a.events.length;let X=q,L;for(;X--;)if(a.events[X][0]==="exit"&&a.events[X][1].type==="chunkFlow"){L=a.events[X][1].end;break}C(o);let Z=q;for(;Z<a.events.length;)a.events[Z][1].end={...L},Z++;return Zn(a.events,X+1,0,a.events.slice(q)),a.events.length=Z,h(A)}return g(A)}function h(A){if(o===s.length){if(!c)return k(A);if(c.currentConstruct&&c.currentConstruct.concrete)return O(A);a.interrupt=!!(c.currentConstruct&&!c._gfmTableDynamicInterruptHack)}return a.containerState={},t.check(Cg,y,x)(A)}function y(A){return c&&N(),C(o),k(A)}function x(A){return a.parser.lazy[a.now().line]=o!==s.length,d=a.now().offset,O(A)}function k(A){return a.containerState={},t.attempt(Cg,E,O)(A)}function E(A){return o++,s.push([a.currentConstruct,a.containerState]),k(A)}function O(A){if(A===null){c&&N(),C(0),t.consume(A);return}return c=c||a.parser.flow(a.now()),t.enter("chunkFlow",{_tokenizer:c,contentType:"flow",previous:u}),M(A)}function M(A){if(A===null){S(t.exit("chunkFlow"),!0),C(0),t.consume(A);return}return Be(A)?(t.consume(A),S(t.exit("chunkFlow")),o=0,a.interrupt=void 0,g):(t.consume(A),M)}function S(A,q){const X=a.sliceStream(A);if(q&&X.push(null),A.previous=u,u&&(u.next=A),u=A,c.defineSkip(A.start),c.write(X),a.parser.lazy[A.start.line]){let L=c.events.length;for(;L--;)if(c.events[L][1].start.offset<d&&(!c.events[L][1].end||c.events[L][1].end.offset>d))return;const Z=a.events.length;let le=Z,re,R;for(;le--;)if(a.events[le][0]==="exit"&&a.events[le][1].type==="chunkFlow"){if(re){R=a.events[le][1].end;break}re=!0}for(C(o),L=Z;L<a.events.length;)a.events[L][1].end={...R},L++;Zn(a.events,le+1,0,a.events.slice(Z)),a.events.length=L}}function C(A){let q=s.length;for(;q-- >A;){const X=s[q];a.containerState=X[1],X[0].exit.call(a,t)}s.length=A}function N(){c.write([null]),u=void 0,c=void 0,a.containerState._closeFlow=void 0}}function Yb(t,a,s){return pt(t,t.attempt(this.parser.constructs.document,a,s),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function _g(t){if(t===null||cn(t)||Wb(t))return 1;if(Vb(t))return 2}function su(t,a,s){const o=[];let c=-1;for(;++c<t.length;){const u=t[c].resolveAll;u&&!o.includes(u)&&(a=u(a,s),o.push(u))}return a}const Oc={name:"attention",resolveAll:Xb,tokenize:Zb};function Xb(t,a){let s=-1,o,c,u,d,g,f,h,y;for(;++s<t.length;)if(t[s][0]==="enter"&&t[s][1].type==="attentionSequence"&&t[s][1]._close){for(o=s;o--;)if(t[o][0]==="exit"&&t[o][1].type==="attentionSequence"&&t[o][1]._open&&a.sliceSerialize(t[o][1]).charCodeAt(0)===a.sliceSerialize(t[s][1]).charCodeAt(0)){if((t[o][1]._close||t[s][1]._open)&&(t[s][1].end.offset-t[s][1].start.offset)%3&&!((t[o][1].end.offset-t[o][1].start.offset+t[s][1].end.offset-t[s][1].start.offset)%3))continue;f=t[o][1].end.offset-t[o][1].start.offset>1&&t[s][1].end.offset-t[s][1].start.offset>1?2:1;const x={...t[o][1].end},k={...t[s][1].start};Tg(x,-f),Tg(k,f),d={type:f>1?"strongSequence":"emphasisSequence",start:x,end:{...t[o][1].end}},g={type:f>1?"strongSequence":"emphasisSequence",start:{...t[s][1].start},end:k},u={type:f>1?"strongText":"emphasisText",start:{...t[o][1].end},end:{...t[s][1].start}},c={type:f>1?"strong":"emphasis",start:{...d.start},end:{...g.end}},t[o][1].end={...d.start},t[s][1].start={...g.end},h=[],t[o][1].end.offset-t[o][1].start.offset&&(h=_n(h,[["enter",t[o][1],a],["exit",t[o][1],a]])),h=_n(h,[["enter",c,a],["enter",d,a],["exit",d,a],["enter",u,a]]),h=_n(h,su(a.parser.constructs.insideSpan.null,t.slice(o+1,s),a)),h=_n(h,[["exit",u,a],["enter",g,a],["exit",g,a],["exit",c,a]]),t[s][1].end.offset-t[s][1].start.offset?(y=2,h=_n(h,[["enter",t[s][1],a],["exit",t[s][1],a]])):y=0,Zn(t,o-1,s-o+3,h),s=o+h.length-y-2;break}}for(s=-1;++s<t.length;)t[s][1].type==="attentionSequence"&&(t[s][1].type="data");return t}function Zb(t,a){const s=this.parser.constructs.attentionMarkers.null,o=this.previous,c=_g(o);let u;return d;function d(f){return u=f,t.enter("attentionSequence"),g(f)}function g(f){if(f===u)return t.consume(f),g;const h=t.exit("attentionSequence"),y=_g(f),x=!y||y===2&&c||s.includes(f),k=!c||c===2&&y||s.includes(o);return h._open=!!(u===42?x:x&&(c||!k)),h._close=!!(u===42?k:k&&(y||!x)),a(f)}}function Tg(t,a){t.column+=a,t.offset+=a,t._bufferIndex+=a}const e1={name:"autolink",tokenize:t1};function t1(t,a,s){let o=0;return c;function c(E){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),u}function u(E){return Yn(E)?(t.consume(E),d):E===64?s(E):h(E)}function d(E){return E===43||E===45||E===46||bn(E)?(o=1,g(E)):h(E)}function g(E){return E===58?(t.consume(E),o=0,f):(E===43||E===45||E===46||bn(E))&&o++<32?(t.consume(E),g):(o=0,h(E))}function f(E){return E===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),a):E===null||E===32||E===60||Ac(E)?s(E):(t.consume(E),f)}function h(E){return E===64?(t.consume(E),y):Ub(E)?(t.consume(E),h):s(E)}function y(E){return bn(E)?x(E):s(E)}function x(E){return E===46?(t.consume(E),o=0,y):E===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),a):k(E)}function k(E){if((E===45||bn(E))&&o++<63){const O=E===45?k:x;return t.consume(E),O}return s(E)}}const ho={partial:!0,tokenize:n1};function n1(t,a,s){return o;function o(u){return rt(u)?pt(t,c,"linePrefix")(u):c(u)}function c(u){return u===null||Be(u)?a(u):s(u)}}const Zp={continuation:{tokenize:a1},exit:l1,name:"blockQuote",tokenize:r1};function r1(t,a,s){const o=this;return c;function c(d){if(d===62){const g=o.containerState;return g.open||(t.enter("blockQuote",{_container:!0}),g.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(d),t.exit("blockQuoteMarker"),u}return s(d)}function u(d){return rt(d)?(t.enter("blockQuotePrefixWhitespace"),t.consume(d),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),a):(t.exit("blockQuotePrefix"),a(d))}}function a1(t,a,s){const o=this;return c;function c(d){return rt(d)?pt(t,u,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):u(d)}function u(d){return t.attempt(Zp,a,s)(d)}}function l1(t){t.exit("blockQuote")}const e0={name:"characterEscape",tokenize:s1};function s1(t,a,s){return o;function o(u){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(u),t.exit("escapeMarker"),c}function c(u){return qb(u)?(t.enter("characterEscapeValue"),t.consume(u),t.exit("characterEscapeValue"),t.exit("characterEscape"),a):s(u)}}const t0={name:"characterReference",tokenize:o1};function o1(t,a,s){const o=this;let c=0,u,d;return g;function g(x){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(x),t.exit("characterReferenceMarker"),f}function f(x){return x===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(x),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),u=31,d=bn,y(x))}function h(x){return x===88||x===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(x),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),u=6,d=Hb,y):(t.enter("characterReferenceValue"),u=7,d=Dc,y(x))}function y(x){if(x===59&&c){const k=t.exit("characterReferenceValue");return d===bn&&!lu(o.sliceSerialize(k))?s(x):(t.enter("characterReferenceMarker"),t.consume(x),t.exit("characterReferenceMarker"),t.exit("characterReference"),a)}return d(x)&&c++<u?(t.consume(x),y):s(x)}}const zg={partial:!0,tokenize:c1},Pg={concrete:!0,name:"codeFenced",tokenize:i1};function i1(t,a,s){const o=this,c={partial:!0,tokenize:X};let u=0,d=0,g;return f;function f(L){return h(L)}function h(L){const Z=o.events[o.events.length-1];return u=Z&&Z[1].type==="linePrefix"?Z[2].sliceSerialize(Z[1],!0).length:0,g=L,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y(L)}function y(L){return L===g?(d++,t.consume(L),y):d<3?s(L):(t.exit("codeFencedFenceSequence"),rt(L)?pt(t,x,"whitespace")(L):x(L))}function x(L){return L===null||Be(L)?(t.exit("codeFencedFence"),o.interrupt?a(L):t.check(zg,M,q)(L)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),k(L))}function k(L){return L===null||Be(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),x(L)):rt(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),pt(t,E,"whitespace")(L)):L===96&&L===g?s(L):(t.consume(L),k)}function E(L){return L===null||Be(L)?x(L):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),O(L))}function O(L){return L===null||Be(L)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),x(L)):L===96&&L===g?s(L):(t.consume(L),O)}function M(L){return t.attempt(c,q,S)(L)}function S(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),C}function C(L){return u>0&&rt(L)?pt(t,N,"linePrefix",u+1)(L):N(L)}function N(L){return L===null||Be(L)?t.check(zg,M,q)(L):(t.enter("codeFlowValue"),A(L))}function A(L){return L===null||Be(L)?(t.exit("codeFlowValue"),N(L)):(t.consume(L),A)}function q(L){return t.exit("codeFenced"),a(L)}function X(L,Z,le){let re=0;return R;function R(ee){return L.enter("lineEnding"),L.consume(ee),L.exit("lineEnding"),F}function F(ee){return L.enter("codeFencedFence"),rt(ee)?pt(L,K,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):K(ee)}function K(ee){return ee===g?(L.enter("codeFencedFenceSequence"),ye(ee)):le(ee)}function ye(ee){return ee===g?(re++,L.consume(ee),ye):re>=d?(L.exit("codeFencedFenceSequence"),rt(ee)?pt(L,ae,"whitespace")(ee):ae(ee)):le(ee)}function ae(ee){return ee===null||Be(ee)?(L.exit("codeFencedFence"),Z(ee)):le(ee)}}}function c1(t,a,s){const o=this;return c;function c(d){return d===null?s(d):(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),u)}function u(d){return o.parser.lazy[o.now().line]?s(d):a(d)}}const gc={name:"codeIndented",tokenize:d1},u1={partial:!0,tokenize:m1};function d1(t,a,s){const o=this;return c;function c(h){return t.enter("codeIndented"),pt(t,u,"linePrefix",5)(h)}function u(h){const y=o.events[o.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?d(h):s(h)}function d(h){return h===null?f(h):Be(h)?t.attempt(u1,d,f)(h):(t.enter("codeFlowValue"),g(h))}function g(h){return h===null||Be(h)?(t.exit("codeFlowValue"),d(h)):(t.consume(h),g)}function f(h){return t.exit("codeIndented"),a(h)}}function m1(t,a,s){const o=this;return c;function c(d){return o.parser.lazy[o.now().line]?s(d):Be(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c):pt(t,u,"linePrefix",5)(d)}function u(d){const g=o.events[o.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?a(d):Be(d)?c(d):s(d)}}const g1={name:"codeText",previous:f1,resolve:p1,tokenize:h1};function p1(t){let a=t.length-4,s=3,o,c;if((t[s][1].type==="lineEnding"||t[s][1].type==="space")&&(t[a][1].type==="lineEnding"||t[a][1].type==="space")){for(o=s;++o<a;)if(t[o][1].type==="codeTextData"){t[s][1].type="codeTextPadding",t[a][1].type="codeTextPadding",s+=2,a-=2;break}}for(o=s-1,a++;++o<=a;)c===void 0?o!==a&&t[o][1].type!=="lineEnding"&&(c=o):(o===a||t[o][1].type==="lineEnding")&&(t[c][1].type="codeTextData",o!==c+2&&(t[c][1].end=t[o-1][1].end,t.splice(c+2,o-c-2),a-=o-c-2,o=c+2),c=void 0);return t}function f1(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function h1(t,a,s){let o=0,c,u;return d;function d(x){return t.enter("codeText"),t.enter("codeTextSequence"),g(x)}function g(x){return x===96?(t.consume(x),o++,g):(t.exit("codeTextSequence"),f(x))}function f(x){return x===null?s(x):x===32?(t.enter("space"),t.consume(x),t.exit("space"),f):x===96?(u=t.enter("codeTextSequence"),c=0,y(x)):Be(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),f):(t.enter("codeTextData"),h(x))}function h(x){return x===null||x===32||x===96||Be(x)?(t.exit("codeTextData"),f(x)):(t.consume(x),h)}function y(x){return x===96?(t.consume(x),c++,y):c===o?(t.exit("codeTextSequence"),t.exit("codeText"),a(x)):(u.type="codeTextData",h(x))}}class y1{constructor(a){this.left=a?[...a]:[],this.right=[]}get(a){if(a<0||a>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+a+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return a<this.left.length?this.left[a]:this.right[this.right.length-a+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(a,s){const o=s??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(a,o):a>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-a+this.left.length).reverse():this.left.slice(a).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(a,s,o){const c=s||0;this.setCursor(Math.trunc(a));const u=this.right.splice(this.right.length-c,Number.POSITIVE_INFINITY);return o&&kl(this.left,o),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(a){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(a)}pushMany(a){this.setCursor(Number.POSITIVE_INFINITY),kl(this.left,a)}unshift(a){this.setCursor(0),this.right.push(a)}unshiftMany(a){this.setCursor(0),kl(this.right,a.reverse())}setCursor(a){if(!(a===this.left.length||a>this.left.length&&this.right.length===0||a<0&&this.left.length===0))if(a<this.left.length){const s=this.left.splice(a,Number.POSITIVE_INFINITY);kl(this.right,s.reverse())}else{const s=this.right.splice(this.left.length+this.right.length-a,Number.POSITIVE_INFINITY);kl(this.left,s.reverse())}}}function kl(t,a){let s=0;if(a.length<1e4)t.push(...a);else for(;s<a.length;)t.push(...a.slice(s,s+1e4)),s+=1e4}function n0(t){const a={};let s=-1,o,c,u,d,g,f,h;const y=new y1(t);for(;++s<y.length;){for(;s in a;)s=a[s];if(o=y.get(s),s&&o[1].type==="chunkFlow"&&y.get(s-1)[1].type==="listItemPrefix"&&(f=o[1]._tokenizer.events,u=0,u<f.length&&f[u][1].type==="lineEndingBlank"&&(u+=2),u<f.length&&f[u][1].type==="content"))for(;++u<f.length&&f[u][1].type!=="content";)f[u][1].type==="chunkText"&&(f[u][1]._isInFirstContentOfListItem=!0,u++);if(o[0]==="enter")o[1].contentType&&(Object.assign(a,x1(y,s)),s=a[s],h=!0);else if(o[1]._container){for(u=s,c=void 0;u--;)if(d=y.get(u),d[1].type==="lineEnding"||d[1].type==="lineEndingBlank")d[0]==="enter"&&(c&&(y.get(c)[1].type="lineEndingBlank"),d[1].type="lineEnding",c=u);else if(!(d[1].type==="linePrefix"||d[1].type==="listItemIndent"))break;c&&(o[1].end={...y.get(c)[1].start},g=y.slice(c,s),g.unshift(o),y.splice(c,s-c+1,g))}}return Zn(t,0,Number.POSITIVE_INFINITY,y.slice(0)),!h}function x1(t,a){const s=t.get(a)[1],o=t.get(a)[2];let c=a-1;const u=[];let d=s._tokenizer;d||(d=o.parser[s.contentType](s.start),s._contentTypeTextTrailing&&(d._contentTypeTextTrailing=!0));const g=d.events,f=[],h={};let y,x,k=-1,E=s,O=0,M=0;const S=[M];for(;E;){for(;t.get(++c)[1]!==E;);u.push(c),E._tokenizer||(y=o.sliceStream(E),E.next||y.push(null),x&&d.defineSkip(E.start),E._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(y),E._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),x=E,E=E.next}for(E=s;++k<g.length;)g[k][0]==="exit"&&g[k-1][0]==="enter"&&g[k][1].type===g[k-1][1].type&&g[k][1].start.line!==g[k][1].end.line&&(M=k+1,S.push(M),E._tokenizer=void 0,E.previous=void 0,E=E.next);for(d.events=[],E?(E._tokenizer=void 0,E.previous=void 0):S.pop(),k=S.length;k--;){const C=g.slice(S[k],S[k+1]),N=u.pop();f.push([N,N+C.length-1]),t.splice(N,2,C)}for(f.reverse(),k=-1;++k<f.length;)h[O+f[k][0]]=O+f[k][1],O+=f[k][1]-f[k][0]-1;return h}const b1={resolve:E1,tokenize:k1},v1={partial:!0,tokenize:w1};function E1(t){return n0(t),t}function k1(t,a){let s;return o;function o(g){return t.enter("content"),s=t.enter("chunkContent",{contentType:"content"}),c(g)}function c(g){return g===null?u(g):Be(g)?t.check(v1,d,u)(g):(t.consume(g),c)}function u(g){return t.exit("chunkContent"),t.exit("content"),a(g)}function d(g){return t.consume(g),t.exit("chunkContent"),s.next=t.enter("chunkContent",{contentType:"content",previous:s}),s=s.next,c}}function w1(t,a,s){const o=this;return c;function c(d){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),pt(t,u,"linePrefix")}function u(d){if(d===null||Be(d))return s(d);const g=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?a(d):t.interrupt(o.parser.constructs.flow,s,a)(d)}}function r0(t,a,s,o,c,u,d,g,f){const h=f||Number.POSITIVE_INFINITY;let y=0;return x;function x(C){return C===60?(t.enter(o),t.enter(c),t.enter(u),t.consume(C),t.exit(u),k):C===null||C===32||C===41||Ac(C)?s(C):(t.enter(o),t.enter(d),t.enter(g),t.enter("chunkString",{contentType:"string"}),M(C))}function k(C){return C===62?(t.enter(u),t.consume(C),t.exit(u),t.exit(c),t.exit(o),a):(t.enter(g),t.enter("chunkString",{contentType:"string"}),E(C))}function E(C){return C===62?(t.exit("chunkString"),t.exit(g),k(C)):C===null||C===60||Be(C)?s(C):(t.consume(C),C===92?O:E)}function O(C){return C===60||C===62||C===92?(t.consume(C),E):E(C)}function M(C){return!y&&(C===null||C===41||cn(C))?(t.exit("chunkString"),t.exit(g),t.exit(d),t.exit(o),a(C)):y<h&&C===40?(t.consume(C),y++,M):C===41?(t.consume(C),y--,M):C===null||C===32||C===40||Ac(C)?s(C):(t.consume(C),C===92?S:M)}function S(C){return C===40||C===41||C===92?(t.consume(C),M):M(C)}}function a0(t,a,s,o,c,u){const d=this;let g=0,f;return h;function h(E){return t.enter(o),t.enter(c),t.consume(E),t.exit(c),t.enter(u),y}function y(E){return g>999||E===null||E===91||E===93&&!f||E===94&&!g&&"_hiddenFootnoteSupport"in d.parser.constructs?s(E):E===93?(t.exit(u),t.enter(c),t.consume(E),t.exit(c),t.exit(o),a):Be(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),x(E))}function x(E){return E===null||E===91||E===93||Be(E)||g++>999?(t.exit("chunkString"),y(E)):(t.consume(E),f||(f=!rt(E)),E===92?k:x)}function k(E){return E===91||E===92||E===93?(t.consume(E),g++,x):x(E)}}function l0(t,a,s,o,c,u){let d;return g;function g(k){return k===34||k===39||k===40?(t.enter(o),t.enter(c),t.consume(k),t.exit(c),d=k===40?41:k,f):s(k)}function f(k){return k===d?(t.enter(c),t.consume(k),t.exit(c),t.exit(o),a):(t.enter(u),h(k))}function h(k){return k===d?(t.exit(u),f(d)):k===null?s(k):Be(k)?(t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),pt(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===d||k===null||Be(k)?(t.exit("chunkString"),h(k)):(t.consume(k),k===92?x:y)}function x(k){return k===d||k===92?(t.consume(k),y):y(k)}}function zl(t,a){let s;return o;function o(c){return Be(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),s=!0,o):rt(c)?pt(t,o,s?"linePrefix":"lineSuffix")(c):a(c)}}const N1={name:"definition",tokenize:C1},S1={partial:!0,tokenize:_1};function C1(t,a,s){const o=this;let c;return u;function u(E){return t.enter("definition"),d(E)}function d(E){return a0.call(o,t,g,s,"definitionLabel","definitionLabelMarker","definitionLabelString")(E)}function g(E){return c=Ta(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),E===58?(t.enter("definitionMarker"),t.consume(E),t.exit("definitionMarker"),f):s(E)}function f(E){return cn(E)?zl(t,h)(E):h(E)}function h(E){return r0(t,y,s,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(E)}function y(E){return t.attempt(S1,x,x)(E)}function x(E){return rt(E)?pt(t,k,"whitespace")(E):k(E)}function k(E){return E===null||Be(E)?(t.exit("definition"),o.parser.defined.push(c),a(E)):s(E)}}function _1(t,a,s){return o;function o(g){return cn(g)?zl(t,c)(g):s(g)}function c(g){return l0(t,u,s,"definitionTitle","definitionTitleMarker","definitionTitleString")(g)}function u(g){return rt(g)?pt(t,d,"whitespace")(g):d(g)}function d(g){return g===null||Be(g)?a(g):s(g)}}const T1={name:"hardBreakEscape",tokenize:z1};function z1(t,a,s){return o;function o(u){return t.enter("hardBreakEscape"),t.consume(u),c}function c(u){return Be(u)?(t.exit("hardBreakEscape"),a(u)):s(u)}}const P1={name:"headingAtx",resolve:I1,tokenize:L1};function I1(t,a){let s=t.length-2,o=3,c,u;return t[o][1].type==="whitespace"&&(o+=2),s-2>o&&t[s][1].type==="whitespace"&&(s-=2),t[s][1].type==="atxHeadingSequence"&&(o===s-1||s-4>o&&t[s-2][1].type==="whitespace")&&(s-=o+1===s?2:4),s>o&&(c={type:"atxHeadingText",start:t[o][1].start,end:t[s][1].end},u={type:"chunkText",start:t[o][1].start,end:t[s][1].end,contentType:"text"},Zn(t,o,s-o+1,[["enter",c,a],["enter",u,a],["exit",u,a],["exit",c,a]])),t}function L1(t,a,s){let o=0;return c;function c(y){return t.enter("atxHeading"),u(y)}function u(y){return t.enter("atxHeadingSequence"),d(y)}function d(y){return y===35&&o++<6?(t.consume(y),d):y===null||cn(y)?(t.exit("atxHeadingSequence"),g(y)):s(y)}function g(y){return y===35?(t.enter("atxHeadingSequence"),f(y)):y===null||Be(y)?(t.exit("atxHeading"),a(y)):rt(y)?pt(t,g,"whitespace")(y):(t.enter("atxHeadingText"),h(y))}function f(y){return y===35?(t.consume(y),f):(t.exit("atxHeadingSequence"),g(y))}function h(y){return y===null||y===35||cn(y)?(t.exit("atxHeadingText"),g(y)):(t.consume(y),h)}}const M1=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ig=["pre","script","style","textarea"],R1={concrete:!0,name:"htmlFlow",resolveTo:O1,tokenize:j1},A1={partial:!0,tokenize:$1},D1={partial:!0,tokenize:F1};function O1(t){let a=t.length;for(;a--&&!(t[a][0]==="enter"&&t[a][1].type==="htmlFlow"););return a>1&&t[a-2][1].type==="linePrefix"&&(t[a][1].start=t[a-2][1].start,t[a+1][1].start=t[a-2][1].start,t.splice(a-2,2)),t}function j1(t,a,s){const o=this;let c,u,d,g,f;return h;function h(_){return y(_)}function y(_){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(_),x}function x(_){return _===33?(t.consume(_),k):_===47?(t.consume(_),u=!0,M):_===63?(t.consume(_),c=3,o.interrupt?a:w):Yn(_)?(t.consume(_),d=String.fromCharCode(_),S):s(_)}function k(_){return _===45?(t.consume(_),c=2,E):_===91?(t.consume(_),c=5,g=0,O):Yn(_)?(t.consume(_),c=4,o.interrupt?a:w):s(_)}function E(_){return _===45?(t.consume(_),o.interrupt?a:w):s(_)}function O(_){const be="CDATA[";return _===be.charCodeAt(g++)?(t.consume(_),g===be.length?o.interrupt?a:K:O):s(_)}function M(_){return Yn(_)?(t.consume(_),d=String.fromCharCode(_),S):s(_)}function S(_){if(_===null||_===47||_===62||cn(_)){const be=_===47,Ie=d.toLowerCase();return!be&&!u&&Ig.includes(Ie)?(c=1,o.interrupt?a(_):K(_)):M1.includes(d.toLowerCase())?(c=6,be?(t.consume(_),C):o.interrupt?a(_):K(_)):(c=7,o.interrupt&&!o.parser.lazy[o.now().line]?s(_):u?N(_):A(_))}return _===45||bn(_)?(t.consume(_),d+=String.fromCharCode(_),S):s(_)}function C(_){return _===62?(t.consume(_),o.interrupt?a:K):s(_)}function N(_){return rt(_)?(t.consume(_),N):R(_)}function A(_){return _===47?(t.consume(_),R):_===58||_===95||Yn(_)?(t.consume(_),q):rt(_)?(t.consume(_),A):R(_)}function q(_){return _===45||_===46||_===58||_===95||bn(_)?(t.consume(_),q):X(_)}function X(_){return _===61?(t.consume(_),L):rt(_)?(t.consume(_),X):A(_)}function L(_){return _===null||_===60||_===61||_===62||_===96?s(_):_===34||_===39?(t.consume(_),f=_,Z):rt(_)?(t.consume(_),L):le(_)}function Z(_){return _===f?(t.consume(_),f=null,re):_===null||Be(_)?s(_):(t.consume(_),Z)}function le(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||cn(_)?X(_):(t.consume(_),le)}function re(_){return _===47||_===62||rt(_)?A(_):s(_)}function R(_){return _===62?(t.consume(_),F):s(_)}function F(_){return _===null||Be(_)?K(_):rt(_)?(t.consume(_),F):s(_)}function K(_){return _===45&&c===2?(t.consume(_),J):_===60&&c===1?(t.consume(_),me):_===62&&c===4?(t.consume(_),j):_===63&&c===3?(t.consume(_),w):_===93&&c===5?(t.consume(_),ue):Be(_)&&(c===6||c===7)?(t.exit("htmlFlowData"),t.check(A1,B,ye)(_)):_===null||Be(_)?(t.exit("htmlFlowData"),ye(_)):(t.consume(_),K)}function ye(_){return t.check(D1,ae,B)(_)}function ae(_){return t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),ee}function ee(_){return _===null||Be(_)?ye(_):(t.enter("htmlFlowData"),K(_))}function J(_){return _===45?(t.consume(_),w):K(_)}function me(_){return _===47?(t.consume(_),d="",G):K(_)}function G(_){if(_===62){const be=d.toLowerCase();return Ig.includes(be)?(t.consume(_),j):K(_)}return Yn(_)&&d.length<8?(t.consume(_),d+=String.fromCharCode(_),G):K(_)}function ue(_){return _===93?(t.consume(_),w):K(_)}function w(_){return _===62?(t.consume(_),j):_===45&&c===2?(t.consume(_),w):K(_)}function j(_){return _===null||Be(_)?(t.exit("htmlFlowData"),B(_)):(t.consume(_),j)}function B(_){return t.exit("htmlFlow"),a(_)}}function F1(t,a,s){const o=this;return c;function c(d){return Be(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),u):s(d)}function u(d){return o.parser.lazy[o.now().line]?s(d):a(d)}}function $1(t,a,s){return o;function o(c){return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),t.attempt(ho,a,s)}}const B1={name:"htmlText",tokenize:U1};function U1(t,a,s){const o=this;let c,u,d;return g;function g(w){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(w),f}function f(w){return w===33?(t.consume(w),h):w===47?(t.consume(w),X):w===63?(t.consume(w),A):Yn(w)?(t.consume(w),le):s(w)}function h(w){return w===45?(t.consume(w),y):w===91?(t.consume(w),u=0,O):Yn(w)?(t.consume(w),N):s(w)}function y(w){return w===45?(t.consume(w),E):s(w)}function x(w){return w===null?s(w):w===45?(t.consume(w),k):Be(w)?(d=x,me(w)):(t.consume(w),x)}function k(w){return w===45?(t.consume(w),E):x(w)}function E(w){return w===62?J(w):w===45?k(w):x(w)}function O(w){const j="CDATA[";return w===j.charCodeAt(u++)?(t.consume(w),u===j.length?M:O):s(w)}function M(w){return w===null?s(w):w===93?(t.consume(w),S):Be(w)?(d=M,me(w)):(t.consume(w),M)}function S(w){return w===93?(t.consume(w),C):M(w)}function C(w){return w===62?J(w):w===93?(t.consume(w),C):M(w)}function N(w){return w===null||w===62?J(w):Be(w)?(d=N,me(w)):(t.consume(w),N)}function A(w){return w===null?s(w):w===63?(t.consume(w),q):Be(w)?(d=A,me(w)):(t.consume(w),A)}function q(w){return w===62?J(w):A(w)}function X(w){return Yn(w)?(t.consume(w),L):s(w)}function L(w){return w===45||bn(w)?(t.consume(w),L):Z(w)}function Z(w){return Be(w)?(d=Z,me(w)):rt(w)?(t.consume(w),Z):J(w)}function le(w){return w===45||bn(w)?(t.consume(w),le):w===47||w===62||cn(w)?re(w):s(w)}function re(w){return w===47?(t.consume(w),J):w===58||w===95||Yn(w)?(t.consume(w),R):Be(w)?(d=re,me(w)):rt(w)?(t.consume(w),re):J(w)}function R(w){return w===45||w===46||w===58||w===95||bn(w)?(t.consume(w),R):F(w)}function F(w){return w===61?(t.consume(w),K):Be(w)?(d=F,me(w)):rt(w)?(t.consume(w),F):re(w)}function K(w){return w===null||w===60||w===61||w===62||w===96?s(w):w===34||w===39?(t.consume(w),c=w,ye):Be(w)?(d=K,me(w)):rt(w)?(t.consume(w),K):(t.consume(w),ae)}function ye(w){return w===c?(t.consume(w),c=void 0,ee):w===null?s(w):Be(w)?(d=ye,me(w)):(t.consume(w),ye)}function ae(w){return w===null||w===34||w===39||w===60||w===61||w===96?s(w):w===47||w===62||cn(w)?re(w):(t.consume(w),ae)}function ee(w){return w===47||w===62||cn(w)?re(w):s(w)}function J(w){return w===62?(t.consume(w),t.exit("htmlTextData"),t.exit("htmlText"),a):s(w)}function me(w){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),G}function G(w){return rt(w)?pt(t,ue,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):ue(w)}function ue(w){return t.enter("htmlTextData"),d(w)}}const ou={name:"labelEnd",resolveAll:W1,resolveTo:K1,tokenize:G1},H1={tokenize:Q1},q1={tokenize:J1},V1={tokenize:Y1};function W1(t){let a=-1;const s=[];for(;++a<t.length;){const o=t[a][1];if(s.push(t[a]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const c=o.type==="labelImage"?4:2;o.type="data",a+=c}}return t.length!==s.length&&Zn(t,0,t.length,s),t}function K1(t,a){let s=t.length,o=0,c,u,d,g;for(;s--;)if(c=t[s][1],u){if(c.type==="link"||c.type==="labelLink"&&c._inactive)break;t[s][0]==="enter"&&c.type==="labelLink"&&(c._inactive=!0)}else if(d){if(t[s][0]==="enter"&&(c.type==="labelImage"||c.type==="labelLink")&&!c._balanced&&(u=s,c.type!=="labelLink")){o=2;break}}else c.type==="labelEnd"&&(d=s);const f={type:t[u][1].type==="labelLink"?"link":"image",start:{...t[u][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[u][1].start},end:{...t[d][1].end}},y={type:"labelText",start:{...t[u+o+2][1].end},end:{...t[d-2][1].start}};return g=[["enter",f,a],["enter",h,a]],g=_n(g,t.slice(u+1,u+o+3)),g=_n(g,[["enter",y,a]]),g=_n(g,su(a.parser.constructs.insideSpan.null,t.slice(u+o+4,d-3),a)),g=_n(g,[["exit",y,a],t[d-2],t[d-1],["exit",h,a]]),g=_n(g,t.slice(d+1)),g=_n(g,[["exit",f,a]]),Zn(t,u,t.length,g),t}function G1(t,a,s){const o=this;let c=o.events.length,u,d;for(;c--;)if((o.events[c][1].type==="labelImage"||o.events[c][1].type==="labelLink")&&!o.events[c][1]._balanced){u=o.events[c][1];break}return g;function g(k){return u?u._inactive?x(k):(d=o.parser.defined.includes(Ta(o.sliceSerialize({start:u.end,end:o.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(k),t.exit("labelMarker"),t.exit("labelEnd"),f):s(k)}function f(k){return k===40?t.attempt(H1,y,d?y:x)(k):k===91?t.attempt(q1,y,d?h:x)(k):d?y(k):x(k)}function h(k){return t.attempt(V1,y,x)(k)}function y(k){return a(k)}function x(k){return u._balanced=!0,s(k)}}function Q1(t,a,s){return o;function o(x){return t.enter("resource"),t.enter("resourceMarker"),t.consume(x),t.exit("resourceMarker"),c}function c(x){return cn(x)?zl(t,u)(x):u(x)}function u(x){return x===41?y(x):r0(t,d,g,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function d(x){return cn(x)?zl(t,f)(x):y(x)}function g(x){return s(x)}function f(x){return x===34||x===39||x===40?l0(t,h,s,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):y(x)}function h(x){return cn(x)?zl(t,y)(x):y(x)}function y(x){return x===41?(t.enter("resourceMarker"),t.consume(x),t.exit("resourceMarker"),t.exit("resource"),a):s(x)}}function J1(t,a,s){const o=this;return c;function c(g){return a0.call(o,t,u,d,"reference","referenceMarker","referenceString")(g)}function u(g){return o.parser.defined.includes(Ta(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?a(g):s(g)}function d(g){return s(g)}}function Y1(t,a,s){return o;function o(u){return t.enter("reference"),t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),c}function c(u){return u===93?(t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),t.exit("reference"),a):s(u)}}const X1={name:"labelStartImage",resolveAll:ou.resolveAll,tokenize:Z1};function Z1(t,a,s){const o=this;return c;function c(g){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(g),t.exit("labelImageMarker"),u}function u(g){return g===91?(t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelImage"),d):s(g)}function d(g){return g===94&&"_hiddenFootnoteSupport"in o.parser.constructs?s(g):a(g)}}const ev={name:"labelStartLink",resolveAll:ou.resolveAll,tokenize:tv};function tv(t,a,s){const o=this;return c;function c(d){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelLink"),u}function u(d){return d===94&&"_hiddenFootnoteSupport"in o.parser.constructs?s(d):a(d)}}const pc={name:"lineEnding",tokenize:nv};function nv(t,a){return s;function s(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),pt(t,a,"linePrefix")}}const lo={name:"thematicBreak",tokenize:rv};function rv(t,a,s){let o=0,c;return u;function u(h){return t.enter("thematicBreak"),d(h)}function d(h){return c=h,g(h)}function g(h){return h===c?(t.enter("thematicBreakSequence"),f(h)):o>=3&&(h===null||Be(h))?(t.exit("thematicBreak"),a(h)):s(h)}function f(h){return h===c?(t.consume(h),o++,f):(t.exit("thematicBreakSequence"),rt(h)?pt(t,g,"whitespace")(h):g(h))}}const sn={continuation:{tokenize:ov},exit:cv,name:"list",tokenize:sv},av={partial:!0,tokenize:uv},lv={partial:!0,tokenize:iv};function sv(t,a,s){const o=this,c=o.events[o.events.length-1];let u=c&&c[1].type==="linePrefix"?c[2].sliceSerialize(c[1],!0).length:0,d=0;return g;function g(E){const O=o.containerState.type||(E===42||E===43||E===45?"listUnordered":"listOrdered");if(O==="listUnordered"?!o.containerState.marker||E===o.containerState.marker:Dc(E)){if(o.containerState.type||(o.containerState.type=O,t.enter(O,{_container:!0})),O==="listUnordered")return t.enter("listItemPrefix"),E===42||E===45?t.check(lo,s,h)(E):h(E);if(!o.interrupt||E===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(E)}return s(E)}function f(E){return Dc(E)&&++d<10?(t.consume(E),f):(!o.interrupt||d<2)&&(o.containerState.marker?E===o.containerState.marker:E===41||E===46)?(t.exit("listItemValue"),h(E)):s(E)}function h(E){return t.enter("listItemMarker"),t.consume(E),t.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||E,t.check(ho,o.interrupt?s:y,t.attempt(av,k,x))}function y(E){return o.containerState.initialBlankLine=!0,u++,k(E)}function x(E){return rt(E)?(t.enter("listItemPrefixWhitespace"),t.consume(E),t.exit("listItemPrefixWhitespace"),k):s(E)}function k(E){return o.containerState.size=u+o.sliceSerialize(t.exit("listItemPrefix"),!0).length,a(E)}}function ov(t,a,s){const o=this;return o.containerState._closeFlow=void 0,t.check(ho,c,u);function c(g){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,pt(t,a,"listItemIndent",o.containerState.size+1)(g)}function u(g){return o.containerState.furtherBlankLines||!rt(g)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,d(g)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,t.attempt(lv,a,d)(g))}function d(g){return o.containerState._closeFlow=!0,o.interrupt=void 0,pt(t,t.attempt(sn,a,s),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g)}}function iv(t,a,s){const o=this;return pt(t,c,"listItemIndent",o.containerState.size+1);function c(u){const d=o.events[o.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===o.containerState.size?a(u):s(u)}}function cv(t){t.exit(this.containerState.type)}function uv(t,a,s){const o=this;return pt(t,c,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function c(u){const d=o.events[o.events.length-1];return!rt(u)&&d&&d[1].type==="listItemPrefixWhitespace"?a(u):s(u)}}const Lg={name:"setextUnderline",resolveTo:dv,tokenize:mv};function dv(t,a){let s=t.length,o,c,u;for(;s--;)if(t[s][0]==="enter"){if(t[s][1].type==="content"){o=s;break}t[s][1].type==="paragraph"&&(c=s)}else t[s][1].type==="content"&&t.splice(s,1),!u&&t[s][1].type==="definition"&&(u=s);const d={type:"setextHeading",start:{...t[o][1].start},end:{...t[t.length-1][1].end}};return t[c][1].type="setextHeadingText",u?(t.splice(c,0,["enter",d,a]),t.splice(u+1,0,["exit",t[o][1],a]),t[o][1].end={...t[u][1].end}):t[o][1]=d,t.push(["exit",d,a]),t}function mv(t,a,s){const o=this;let c;return u;function u(h){let y=o.events.length,x;for(;y--;)if(o.events[y][1].type!=="lineEnding"&&o.events[y][1].type!=="linePrefix"&&o.events[y][1].type!=="content"){x=o.events[y][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||x)?(t.enter("setextHeadingLine"),c=h,d(h)):s(h)}function d(h){return t.enter("setextHeadingLineSequence"),g(h)}function g(h){return h===c?(t.consume(h),g):(t.exit("setextHeadingLineSequence"),rt(h)?pt(t,f,"lineSuffix")(h):f(h))}function f(h){return h===null||Be(h)?(t.exit("setextHeadingLine"),a(h)):s(h)}}const gv={tokenize:pv};function pv(t){const a=this,s=t.attempt(ho,o,t.attempt(this.parser.constructs.flowInitial,c,pt(t,t.attempt(this.parser.constructs.flow,c,t.attempt(b1,c)),"linePrefix")));return s;function o(u){if(u===null){t.consume(u);return}return t.enter("lineEndingBlank"),t.consume(u),t.exit("lineEndingBlank"),a.currentConstruct=void 0,s}function c(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a.currentConstruct=void 0,s}}const fv={resolveAll:o0()},hv=s0("string"),yv=s0("text");function s0(t){return{resolveAll:o0(t==="text"?xv:void 0),tokenize:a};function a(s){const o=this,c=this.parser.constructs[t],u=s.attempt(c,d,g);return d;function d(y){return h(y)?u(y):g(y)}function g(y){if(y===null){s.consume(y);return}return s.enter("data"),s.consume(y),f}function f(y){return h(y)?(s.exit("data"),u(y)):(s.consume(y),f)}function h(y){if(y===null)return!0;const x=c[y];let k=-1;if(x)for(;++k<x.length;){const E=x[k];if(!E.previous||E.previous.call(o,o.previous))return!0}return!1}}}function o0(t){return a;function a(s,o){let c=-1,u;for(;++c<=s.length;)u===void 0?s[c]&&s[c][1].type==="data"&&(u=c,c++):(!s[c]||s[c][1].type!=="data")&&(c!==u+2&&(s[u][1].end=s[c-1][1].end,s.splice(u+2,c-u-2),c=u+2),u=void 0);return t?t(s,o):s}}function xv(t,a){let s=0;for(;++s<=t.length;)if((s===t.length||t[s][1].type==="lineEnding")&&t[s-1][1].type==="data"){const o=t[s-1][1],c=a.sliceStream(o);let u=c.length,d=-1,g=0,f;for(;u--;){const h=c[u];if(typeof h=="string"){for(d=h.length;h.charCodeAt(d-1)===32;)g++,d--;if(d)break;d=-1}else if(h===-2)f=!0,g++;else if(h!==-1){u++;break}}if(a._contentTypeTextTrailing&&s===t.length&&(g=0),g){const h={type:s===t.length||f||g<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?d:o.start._bufferIndex+d,_index:o.start._index+u,line:o.end.line,column:o.end.column-g,offset:o.end.offset-g},end:{...o.end}};o.end={...h.start},o.start.offset===o.end.offset?Object.assign(o,h):(t.splice(s,0,["enter",h,a],["exit",h,a]),s+=2)}s++}return t}const bv={42:sn,43:sn,45:sn,48:sn,49:sn,50:sn,51:sn,52:sn,53:sn,54:sn,55:sn,56:sn,57:sn,62:Zp},vv={91:N1},Ev={[-2]:gc,[-1]:gc,32:gc},kv={35:P1,42:lo,45:[Lg,lo],60:R1,61:Lg,95:lo,96:Pg,126:Pg},wv={38:t0,92:e0},Nv={[-5]:pc,[-4]:pc,[-3]:pc,33:X1,38:t0,42:Oc,60:[e1,B1],91:ev,92:[T1,e0],93:ou,95:Oc,96:g1},Sv={null:[Oc,fv]},Cv={null:[42,95]},_v={null:[]},Tv=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Cv,contentInitial:vv,disable:_v,document:bv,flow:kv,flowInitial:Ev,insideSpan:Sv,string:wv,text:Nv},Symbol.toStringTag,{value:"Module"}));function zv(t,a,s){let o={_bufferIndex:-1,_index:0,line:s&&s.line||1,column:s&&s.column||1,offset:s&&s.offset||0};const c={},u=[];let d=[],g=[];const f={attempt:Z(X),check:Z(L),consume:N,enter:A,exit:q,interrupt:Z(L,{interrupt:!0})},h={code:null,containerState:{},defineSkip:M,events:[],now:O,parser:t,previous:null,sliceSerialize:k,sliceStream:E,write:x};let y=a.tokenize.call(h,f);return a.resolveAll&&u.push(a),h;function x(F){return d=_n(d,F),S(),d[d.length-1]!==null?[]:(le(a,0),h.events=su(u,h.events,h),h.events)}function k(F,K){return Iv(E(F),K)}function E(F){return Pv(d,F)}function O(){const{_bufferIndex:F,_index:K,line:ye,column:ae,offset:ee}=o;return{_bufferIndex:F,_index:K,line:ye,column:ae,offset:ee}}function M(F){c[F.line]=F.column,R()}function S(){let F;for(;o._index<d.length;){const K=d[o._index];if(typeof K=="string")for(F=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===F&&o._bufferIndex<K.length;)C(K.charCodeAt(o._bufferIndex));else C(K)}}function C(F){y=y(F)}function N(F){Be(F)?(o.line++,o.column=1,o.offset+=F===-3?2:1,R()):F!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===d[o._index].length&&(o._bufferIndex=-1,o._index++)),h.previous=F}function A(F,K){const ye=K||{};return ye.type=F,ye.start=O(),h.events.push(["enter",ye,h]),g.push(ye),ye}function q(F){const K=g.pop();return K.end=O(),h.events.push(["exit",K,h]),K}function X(F,K){le(F,K.from)}function L(F,K){K.restore()}function Z(F,K){return ye;function ye(ae,ee,J){let me,G,ue,w;return Array.isArray(ae)?B(ae):"tokenize"in ae?B([ae]):j(ae);function j(Ne){return Fe;function Fe(Le){const Oe=Le!==null&&Ne[Le],Qe=Le!==null&&Ne.null,Ue=[...Array.isArray(Oe)?Oe:Oe?[Oe]:[],...Array.isArray(Qe)?Qe:Qe?[Qe]:[]];return B(Ue)(Le)}}function B(Ne){return me=Ne,G=0,Ne.length===0?J:_(Ne[G])}function _(Ne){return Fe;function Fe(Le){return w=re(),ue=Ne,Ne.partial||(h.currentConstruct=Ne),Ne.name&&h.parser.constructs.disable.null.includes(Ne.name)?Ie():Ne.tokenize.call(K?Object.assign(Object.create(h),K):h,f,be,Ie)(Le)}}function be(Ne){return F(ue,w),ee}function Ie(Ne){return w.restore(),++G<me.length?_(me[G]):J}}}function le(F,K){F.resolveAll&&!u.includes(F)&&u.push(F),F.resolve&&Zn(h.events,K,h.events.length-K,F.resolve(h.events.slice(K),h)),F.resolveTo&&(h.events=F.resolveTo(h.events,h))}function re(){const F=O(),K=h.previous,ye=h.currentConstruct,ae=h.events.length,ee=Array.from(g);return{from:ae,restore:J};function J(){o=F,h.previous=K,h.currentConstruct=ye,h.events.length=ae,g=ee,R()}}function R(){o.line in c&&o.column<2&&(o.column=c[o.line],o.offset+=c[o.line]-1)}}function Pv(t,a){const s=a.start._index,o=a.start._bufferIndex,c=a.end._index,u=a.end._bufferIndex;let d;if(s===c)d=[t[s].slice(o,u)];else{if(d=t.slice(s,c),o>-1){const g=d[0];typeof g=="string"?d[0]=g.slice(o):d.shift()}u>0&&d.push(t[c].slice(0,u))}return d}function Iv(t,a){let s=-1;const o=[];let c;for(;++s<t.length;){const u=t[s];let d;if(typeof u=="string")d=u;else switch(u){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=a?" ":"	";break}case-1:{if(!a&&c)continue;d=" ";break}default:d=String.fromCharCode(u)}c=u===-2,o.push(d)}return o.join("")}function Lv(t){const o={constructs:Fb([Tv,...(t||{}).extensions||[]]),content:c(Kb),defined:[],document:c(Qb),flow:c(gv),lazy:{},string:c(hv),text:c(yv)};return o;function c(u){return d;function d(g){return zv(o,u,g)}}}function Mv(t){for(;!n0(t););return t}const Mg=/[\0\t\n\r]/g;function Rv(){let t=1,a="",s=!0,o;return c;function c(u,d,g){const f=[];let h,y,x,k,E;for(u=a+(typeof u=="string"?u.toString():new TextDecoder(d||void 0).decode(u)),x=0,a="",s&&(u.charCodeAt(0)===65279&&x++,s=void 0);x<u.length;){if(Mg.lastIndex=x,h=Mg.exec(u),k=h&&h.index!==void 0?h.index:u.length,E=u.charCodeAt(k),!h){a=u.slice(x);break}if(E===10&&x===k&&o)f.push(-3),o=void 0;else switch(o&&(f.push(-5),o=void 0),x<k&&(f.push(u.slice(x,k)),t+=k-x),E){case 0:{f.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,f.push(-2);t++<y;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:o=!0,t=1}x=k+1}return g&&(o&&f.push(-5),a&&f.push(a),f.push(null)),f}}const Av=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Dv(t){return t.replace(Av,Ov)}function Ov(t,a,s){if(a)return a;if(s.charCodeAt(0)===35){const c=s.charCodeAt(1),u=c===120||c===88;return Xp(s.slice(u?2:1),u?16:10)}return lu(s)||t}const i0={}.hasOwnProperty;function jv(t,a,s){return typeof a!="string"&&(s=a,a=void 0),Fv(s)(Mv(Lv(s).document().write(Rv()(t,a,!0))))}function Fv(t){const a={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(_e),autolinkProtocol:re,autolinkEmail:re,atxHeading:u(Ye),blockQuote:u(Qe),characterEscape:re,characterReference:re,codeFenced:u(Ue),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:u(Ue,d),codeText:u(lt,d),codeTextData:re,data:re,codeFlowValue:re,definition:u(Et),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:u(de),hardBreakEscape:u(We),hardBreakTrailing:u(We),htmlFlow:u(Q,d),htmlFlowData:re,htmlText:u(Q,d),htmlTextData:re,image:u(te),label:d,link:u(_e),listItem:u(He),listItemValue:k,listOrdered:u(fe,x),listUnordered:u(fe),paragraph:u(Ve),reference:_,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:u(Ye),strong:u(at),thematicBreak:u(T)},exit:{atxHeading:f(),atxHeadingSequence:X,autolink:f(),autolinkEmail:Oe,autolinkProtocol:Le,blockQuote:f(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:Ie,characterReferenceMarkerNumeric:Ie,characterReferenceValue:Ne,characterReference:Fe,codeFenced:f(S),codeFencedFence:M,codeFencedFenceInfo:E,codeFencedFenceMeta:O,codeFlowValue:R,codeIndented:f(C),codeText:f(ee),codeTextData:R,data:R,definition:f(),definitionDestinationString:q,definitionLabelString:N,definitionTitleString:A,emphasis:f(),hardBreakEscape:f(K),hardBreakTrailing:f(K),htmlFlow:f(ye),htmlFlowData:R,htmlText:f(ae),htmlTextData:R,image:f(me),label:ue,labelText:G,lineEnding:F,link:f(J),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:be,resourceDestinationString:w,resourceTitleString:j,resource:B,setextHeading:f(le),setextHeadingLineSequence:Z,setextHeadingText:L,strong:f(),thematicBreak:f()}};c0(a,(t||{}).mdastExtensions||[]);const s={};return o;function o(I){let U={type:"root",children:[]};const ne={stack:[U],tokenStack:[],config:a,enter:g,exit:h,buffer:d,resume:y,data:s},he=[];let Me=-1;for(;++Me<I.length;)if(I[Me][1].type==="listOrdered"||I[Me][1].type==="listUnordered")if(I[Me][0]==="enter")he.push(Me);else{const je=he.pop();Me=c(I,je,Me)}for(Me=-1;++Me<I.length;){const je=a[I[Me][0]];i0.call(je,I[Me][1].type)&&je[I[Me][1].type].call(Object.assign({sliceSerialize:I[Me][2].sliceSerialize},ne),I[Me][1])}if(ne.tokenStack.length>0){const je=ne.tokenStack[ne.tokenStack.length-1];(je[1]||Rg).call(ne,void 0,je[0])}for(U.position={start:Rr(I.length>0?I[0][1].start:{line:1,column:1,offset:0}),end:Rr(I.length>0?I[I.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<a.transforms.length;)U=a.transforms[Me](U)||U;return U}function c(I,U,ne){let he=U-1,Me=-1,je=!1,et,Ke,It,ft;for(;++he<=ne;){const Xe=I[he];switch(Xe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Xe[0]==="enter"?Me++:Me--,ft=void 0;break}case"lineEndingBlank":{Xe[0]==="enter"&&(et&&!ft&&!Me&&!It&&(It=he),ft=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ft=void 0}if(!Me&&Xe[0]==="enter"&&Xe[1].type==="listItemPrefix"||Me===-1&&Xe[0]==="exit"&&(Xe[1].type==="listUnordered"||Xe[1].type==="listOrdered")){if(et){let kt=he;for(Ke=void 0;kt--;){const dt=I[kt];if(dt[1].type==="lineEnding"||dt[1].type==="lineEndingBlank"){if(dt[0]==="exit")continue;Ke&&(I[Ke][1].type="lineEndingBlank",je=!0),dt[1].type="lineEnding",Ke=kt}else if(!(dt[1].type==="linePrefix"||dt[1].type==="blockQuotePrefix"||dt[1].type==="blockQuotePrefixWhitespace"||dt[1].type==="blockQuoteMarker"||dt[1].type==="listItemIndent"))break}It&&(!Ke||It<Ke)&&(et._spread=!0),et.end=Object.assign({},Ke?I[Ke][1].start:Xe[1].end),I.splice(Ke||he,0,["exit",et,Xe[2]]),he++,ne++}if(Xe[1].type==="listItemPrefix"){const kt={type:"listItem",_spread:!1,start:Object.assign({},Xe[1].start),end:void 0};et=kt,I.splice(he,0,["enter",kt,Xe[2]]),he++,ne++,It=void 0,ft=!0}}}return I[U][1]._spread=je,ne}function u(I,U){return ne;function ne(he){g.call(this,I(he),he),U&&U.call(this,he)}}function d(){this.stack.push({type:"fragment",children:[]})}function g(I,U,ne){this.stack[this.stack.length-1].children.push(I),this.stack.push(I),this.tokenStack.push([U,ne||void 0]),I.position={start:Rr(U.start),end:void 0}}function f(I){return U;function U(ne){I&&I.call(this,ne),h.call(this,ne)}}function h(I,U){const ne=this.stack.pop(),he=this.tokenStack.pop();if(he)he[0].type!==I.type&&(U?U.call(this,I,he[0]):(he[1]||Rg).call(this,I,he[0]));else throw new Error("Cannot close `"+I.type+"` ("+Tl({start:I.start,end:I.end})+"): its not open");ne.position.end=Rr(I.end)}function y(){return Ob(this.stack.pop())}function x(){this.data.expectingFirstListItemValue=!0}function k(I){if(this.data.expectingFirstListItemValue){const U=this.stack[this.stack.length-2];U.start=Number.parseInt(this.sliceSerialize(I),10),this.data.expectingFirstListItemValue=void 0}}function E(){const I=this.resume(),U=this.stack[this.stack.length-1];U.lang=I}function O(){const I=this.resume(),U=this.stack[this.stack.length-1];U.meta=I}function M(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const I=this.resume(),U=this.stack[this.stack.length-1];U.value=I.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const I=this.resume(),U=this.stack[this.stack.length-1];U.value=I.replace(/(\r?\n|\r)$/g,"")}function N(I){const U=this.resume(),ne=this.stack[this.stack.length-1];ne.label=U,ne.identifier=Ta(this.sliceSerialize(I)).toLowerCase()}function A(){const I=this.resume(),U=this.stack[this.stack.length-1];U.title=I}function q(){const I=this.resume(),U=this.stack[this.stack.length-1];U.url=I}function X(I){const U=this.stack[this.stack.length-1];if(!U.depth){const ne=this.sliceSerialize(I).length;U.depth=ne}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function Z(I){const U=this.stack[this.stack.length-1];U.depth=this.sliceSerialize(I).codePointAt(0)===61?1:2}function le(){this.data.setextHeadingSlurpLineEnding=void 0}function re(I){const ne=this.stack[this.stack.length-1].children;let he=ne[ne.length-1];(!he||he.type!=="text")&&(he=ut(),he.position={start:Rr(I.start),end:void 0},ne.push(he)),this.stack.push(he)}function R(I){const U=this.stack.pop();U.value+=this.sliceSerialize(I),U.position.end=Rr(I.end)}function F(I){const U=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ne=U.children[U.children.length-1];ne.position.end=Rr(I.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&a.canContainEols.includes(U.type)&&(re.call(this,I),R.call(this,I))}function K(){this.data.atHardBreak=!0}function ye(){const I=this.resume(),U=this.stack[this.stack.length-1];U.value=I}function ae(){const I=this.resume(),U=this.stack[this.stack.length-1];U.value=I}function ee(){const I=this.resume(),U=this.stack[this.stack.length-1];U.value=I}function J(){const I=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";I.type+="Reference",I.referenceType=U,delete I.url,delete I.title}else delete I.identifier,delete I.label;this.data.referenceType=void 0}function me(){const I=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";I.type+="Reference",I.referenceType=U,delete I.url,delete I.title}else delete I.identifier,delete I.label;this.data.referenceType=void 0}function G(I){const U=this.sliceSerialize(I),ne=this.stack[this.stack.length-2];ne.label=Dv(U),ne.identifier=Ta(U).toLowerCase()}function ue(){const I=this.stack[this.stack.length-1],U=this.resume(),ne=this.stack[this.stack.length-1];if(this.data.inReference=!0,ne.type==="link"){const he=I.children;ne.children=he}else ne.alt=U}function w(){const I=this.resume(),U=this.stack[this.stack.length-1];U.url=I}function j(){const I=this.resume(),U=this.stack[this.stack.length-1];U.title=I}function B(){this.data.inReference=void 0}function _(){this.data.referenceType="collapsed"}function be(I){const U=this.resume(),ne=this.stack[this.stack.length-1];ne.label=U,ne.identifier=Ta(this.sliceSerialize(I)).toLowerCase(),this.data.referenceType="full"}function Ie(I){this.data.characterReferenceType=I.type}function Ne(I){const U=this.sliceSerialize(I),ne=this.data.characterReferenceType;let he;ne?(he=Xp(U,ne==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):he=lu(U);const Me=this.stack[this.stack.length-1];Me.value+=he}function Fe(I){const U=this.stack.pop();U.position.end=Rr(I.end)}function Le(I){R.call(this,I);const U=this.stack[this.stack.length-1];U.url=this.sliceSerialize(I)}function Oe(I){R.call(this,I);const U=this.stack[this.stack.length-1];U.url="mailto:"+this.sliceSerialize(I)}function Qe(){return{type:"blockquote",children:[]}}function Ue(){return{type:"code",lang:null,meta:null,value:""}}function lt(){return{type:"inlineCode",value:""}}function Et(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function de(){return{type:"emphasis",children:[]}}function Ye(){return{type:"heading",depth:0,children:[]}}function We(){return{type:"break"}}function Q(){return{type:"html",value:""}}function te(){return{type:"image",title:null,url:"",alt:null}}function _e(){return{type:"link",title:null,url:"",children:[]}}function fe(I){return{type:"list",ordered:I.type==="listOrdered",start:null,spread:I._spread,children:[]}}function He(I){return{type:"listItem",spread:I._spread,checked:null,children:[]}}function Ve(){return{type:"paragraph",children:[]}}function at(){return{type:"strong",children:[]}}function ut(){return{type:"text",value:""}}function T(){return{type:"thematicBreak"}}}function Rr(t){return{line:t.line,column:t.column,offset:t.offset}}function c0(t,a){let s=-1;for(;++s<a.length;){const o=a[s];Array.isArray(o)?c0(t,o):$v(t,o)}}function $v(t,a){let s;for(s in a)if(i0.call(a,s))switch(s){case"canContainEols":{const o=a[s];o&&t[s].push(...o);break}case"transforms":{const o=a[s];o&&t[s].push(...o);break}case"enter":case"exit":{const o=a[s];o&&Object.assign(t[s],o);break}}}function Rg(t,a){throw t?new Error("Cannot close `"+t.type+"` ("+Tl({start:t.start,end:t.end})+"): a different token (`"+a.type+"`, "+Tl({start:a.start,end:a.end})+") is open"):new Error("Cannot close document, a token (`"+a.type+"`, "+Tl({start:a.start,end:a.end})+") is still open")}function Bv(t){const a=this;a.parser=s;function s(o){return jv(o,{...a.data("settings"),...t,extensions:a.data("micromarkExtensions")||[],mdastExtensions:a.data("fromMarkdownExtensions")||[]})}}function Uv(t,a){const s={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(a),!0)};return t.patch(a,s),t.applyData(a,s)}function Hv(t,a){const s={type:"element",tagName:"br",properties:{},children:[]};return t.patch(a,s),[t.applyData(a,s),{type:"text",value:`
`}]}function qv(t,a){const s=a.value?a.value+`
`:"",o={},c=a.lang?a.lang.split(/\s+/):[];c.length>0&&(o.className=["language-"+c[0]]);let u={type:"element",tagName:"code",properties:o,children:[{type:"text",value:s}]};return a.meta&&(u.data={meta:a.meta}),t.patch(a,u),u=t.applyData(a,u),u={type:"element",tagName:"pre",properties:{},children:[u]},t.patch(a,u),u}function Vv(t,a){const s={type:"element",tagName:"del",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function Wv(t,a){const s={type:"element",tagName:"em",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function Kv(t,a){const s=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",o=String(a.identifier).toUpperCase(),c=Ra(o.toLowerCase()),u=t.footnoteOrder.indexOf(o);let d,g=t.footnoteCounts.get(o);g===void 0?(g=0,t.footnoteOrder.push(o),d=t.footnoteOrder.length):d=u+1,g+=1,t.footnoteCounts.set(o,g);const f={type:"element",tagName:"a",properties:{href:"#"+s+"fn-"+c,id:s+"fnref-"+c+(g>1?"-"+g:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(d)}]};t.patch(a,f);const h={type:"element",tagName:"sup",properties:{},children:[f]};return t.patch(a,h),t.applyData(a,h)}function Gv(t,a){const s={type:"element",tagName:"h"+a.depth,properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function Qv(t,a){if(t.options.allowDangerousHtml){const s={type:"raw",value:a.value};return t.patch(a,s),t.applyData(a,s)}}function u0(t,a){const s=a.referenceType;let o="]";if(s==="collapsed"?o+="[]":s==="full"&&(o+="["+(a.label||a.identifier)+"]"),a.type==="imageReference")return[{type:"text",value:"!["+a.alt+o}];const c=t.all(a),u=c[0];u&&u.type==="text"?u.value="["+u.value:c.unshift({type:"text",value:"["});const d=c[c.length-1];return d&&d.type==="text"?d.value+=o:c.push({type:"text",value:o}),c}function Jv(t,a){const s=String(a.identifier).toUpperCase(),o=t.definitionById.get(s);if(!o)return u0(t,a);const c={src:Ra(o.url||""),alt:a.alt};o.title!==null&&o.title!==void 0&&(c.title=o.title);const u={type:"element",tagName:"img",properties:c,children:[]};return t.patch(a,u),t.applyData(a,u)}function Yv(t,a){const s={src:Ra(a.url)};a.alt!==null&&a.alt!==void 0&&(s.alt=a.alt),a.title!==null&&a.title!==void 0&&(s.title=a.title);const o={type:"element",tagName:"img",properties:s,children:[]};return t.patch(a,o),t.applyData(a,o)}function Xv(t,a){const s={type:"text",value:a.value.replace(/\r?\n|\r/g," ")};t.patch(a,s);const o={type:"element",tagName:"code",properties:{},children:[s]};return t.patch(a,o),t.applyData(a,o)}function Zv(t,a){const s=String(a.identifier).toUpperCase(),o=t.definitionById.get(s);if(!o)return u0(t,a);const c={href:Ra(o.url||"")};o.title!==null&&o.title!==void 0&&(c.title=o.title);const u={type:"element",tagName:"a",properties:c,children:t.all(a)};return t.patch(a,u),t.applyData(a,u)}function eE(t,a){const s={href:Ra(a.url)};a.title!==null&&a.title!==void 0&&(s.title=a.title);const o={type:"element",tagName:"a",properties:s,children:t.all(a)};return t.patch(a,o),t.applyData(a,o)}function tE(t,a,s){const o=t.all(a),c=s?nE(s):d0(a),u={},d=[];if(typeof a.checked=="boolean"){const y=o[0];let x;y&&y.type==="element"&&y.tagName==="p"?x=y:(x={type:"element",tagName:"p",properties:{},children:[]},o.unshift(x)),x.children.length>0&&x.children.unshift({type:"text",value:" "}),x.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:a.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let g=-1;for(;++g<o.length;){const y=o[g];(c||g!==0||y.type!=="element"||y.tagName!=="p")&&d.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!c?d.push(...y.children):d.push(y)}const f=o[o.length-1];f&&(c||f.type!=="element"||f.tagName!=="p")&&d.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:u,children:d};return t.patch(a,h),t.applyData(a,h)}function nE(t){let a=!1;if(t.type==="list"){a=t.spread||!1;const s=t.children;let o=-1;for(;!a&&++o<s.length;)a=d0(s[o])}return a}function d0(t){const a=t.spread;return a??t.children.length>1}function rE(t,a){const s={},o=t.all(a);let c=-1;for(typeof a.start=="number"&&a.start!==1&&(s.start=a.start);++c<o.length;){const d=o[c];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){s.className=["contains-task-list"];break}}const u={type:"element",tagName:a.ordered?"ol":"ul",properties:s,children:t.wrap(o,!0)};return t.patch(a,u),t.applyData(a,u)}function aE(t,a){const s={type:"element",tagName:"p",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function lE(t,a){const s={type:"root",children:t.wrap(t.all(a))};return t.patch(a,s),t.applyData(a,s)}function sE(t,a){const s={type:"element",tagName:"strong",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function oE(t,a){const s=t.all(a),o=s.shift(),c=[];if(o){const d={type:"element",tagName:"thead",properties:{},children:t.wrap([o],!0)};t.patch(a.children[0],d),c.push(d)}if(s.length>0){const d={type:"element",tagName:"tbody",properties:{},children:t.wrap(s,!0)},g=tu(a.children[1]),f=Vp(a.children[a.children.length-1]);g&&f&&(d.position={start:g,end:f}),c.push(d)}const u={type:"element",tagName:"table",properties:{},children:t.wrap(c,!0)};return t.patch(a,u),t.applyData(a,u)}function iE(t,a,s){const o=s?s.children:void 0,u=(o?o.indexOf(a):1)===0?"th":"td",d=s&&s.type==="table"?s.align:void 0,g=d?d.length:a.children.length;let f=-1;const h=[];for(;++f<g;){const x=a.children[f],k={},E=d?d[f]:void 0;E&&(k.align=E);let O={type:"element",tagName:u,properties:k,children:[]};x&&(O.children=t.all(x),t.patch(x,O),O=t.applyData(x,O)),h.push(O)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(a,y),t.applyData(a,y)}function cE(t,a){const s={type:"element",tagName:"td",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}const Ag=9,Dg=32;function uE(t){const a=String(t),s=/\r?\n|\r/g;let o=s.exec(a),c=0;const u=[];for(;o;)u.push(Og(a.slice(c,o.index),c>0,!0),o[0]),c=o.index+o[0].length,o=s.exec(a);return u.push(Og(a.slice(c),c>0,!1)),u.join("")}function Og(t,a,s){let o=0,c=t.length;if(a){let u=t.codePointAt(o);for(;u===Ag||u===Dg;)o++,u=t.codePointAt(o)}if(s){let u=t.codePointAt(c-1);for(;u===Ag||u===Dg;)c--,u=t.codePointAt(c-1)}return c>o?t.slice(o,c):""}function dE(t,a){const s={type:"text",value:uE(String(a.value))};return t.patch(a,s),t.applyData(a,s)}function mE(t,a){const s={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(a,s),t.applyData(a,s)}const gE={blockquote:Uv,break:Hv,code:qv,delete:Vv,emphasis:Wv,footnoteReference:Kv,heading:Gv,html:Qv,imageReference:Jv,image:Yv,inlineCode:Xv,linkReference:Zv,link:eE,listItem:tE,list:rE,paragraph:aE,root:lE,strong:sE,table:oE,tableCell:cE,tableRow:iE,text:dE,thematicBreak:mE,toml:Ys,yaml:Ys,definition:Ys,footnoteDefinition:Ys};function Ys(){}const m0=-1,yo=0,Pl=1,oo=2,iu=3,cu=4,uu=5,du=6,g0=7,p0=8,jg=typeof self=="object"?self:globalThis,pE=(t,a)=>{const s=(c,u)=>(t.set(u,c),c),o=c=>{if(t.has(c))return t.get(c);const[u,d]=a[c];switch(u){case yo:case m0:return s(d,c);case Pl:{const g=s([],c);for(const f of d)g.push(o(f));return g}case oo:{const g=s({},c);for(const[f,h]of d)g[o(f)]=o(h);return g}case iu:return s(new Date(d),c);case cu:{const{source:g,flags:f}=d;return s(new RegExp(g,f),c)}case uu:{const g=s(new Map,c);for(const[f,h]of d)g.set(o(f),o(h));return g}case du:{const g=s(new Set,c);for(const f of d)g.add(o(f));return g}case g0:{const{name:g,message:f}=d;return s(new jg[g](f),c)}case p0:return s(BigInt(d),c);case"BigInt":return s(Object(BigInt(d)),c);case"ArrayBuffer":return s(new Uint8Array(d).buffer,d);case"DataView":{const{buffer:g}=new Uint8Array(d);return s(new DataView(g),d)}}return s(new jg[u](d),c)};return o},Fg=t=>pE(new Map,t)(0),Na="",{toString:fE}={},{keys:hE}=Object,wl=t=>{const a=typeof t;if(a!=="object"||!t)return[yo,a];const s=fE.call(t).slice(8,-1);switch(s){case"Array":return[Pl,Na];case"Object":return[oo,Na];case"Date":return[iu,Na];case"RegExp":return[cu,Na];case"Map":return[uu,Na];case"Set":return[du,Na];case"DataView":return[Pl,s]}return s.includes("Array")?[Pl,s]:s.includes("Error")?[g0,s]:[oo,s]},Xs=([t,a])=>t===yo&&(a==="function"||a==="symbol"),yE=(t,a,s,o)=>{const c=(d,g)=>{const f=o.push(d)-1;return s.set(g,f),f},u=d=>{if(s.has(d))return s.get(d);let[g,f]=wl(d);switch(g){case yo:{let y=d;switch(f){case"bigint":g=p0,y=d.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+f);y=null;break;case"undefined":return c([m0],d)}return c([g,y],d)}case Pl:{if(f){let k=d;return f==="DataView"?k=new Uint8Array(d.buffer):f==="ArrayBuffer"&&(k=new Uint8Array(d)),c([f,[...k]],d)}const y=[],x=c([g,y],d);for(const k of d)y.push(u(k));return x}case oo:{if(f)switch(f){case"BigInt":return c([f,d.toString()],d);case"Boolean":case"Number":case"String":return c([f,d.valueOf()],d)}if(a&&"toJSON"in d)return u(d.toJSON());const y=[],x=c([g,y],d);for(const k of hE(d))(t||!Xs(wl(d[k])))&&y.push([u(k),u(d[k])]);return x}case iu:return c([g,d.toISOString()],d);case cu:{const{source:y,flags:x}=d;return c([g,{source:y,flags:x}],d)}case uu:{const y=[],x=c([g,y],d);for(const[k,E]of d)(t||!(Xs(wl(k))||Xs(wl(E))))&&y.push([u(k),u(E)]);return x}case du:{const y=[],x=c([g,y],d);for(const k of d)(t||!Xs(wl(k)))&&y.push(u(k));return x}}const{message:h}=d;return c([g,{name:f,message:h}],d)};return u},$g=(t,{json:a,lossy:s}={})=>{const o=[];return yE(!(a||s),!!a,new Map,o)(t),o},io=typeof structuredClone=="function"?(t,a)=>a&&("json"in a||"lossy"in a)?Fg($g(t,a)):structuredClone(t):(t,a)=>Fg($g(t,a));function xE(t,a){const s=[{type:"text",value:""}];return a>1&&s.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(a)}]}),s}function bE(t,a){return"Back to reference "+(t+1)+(a>1?"-"+a:"")}function vE(t){const a=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",s=t.options.footnoteBackContent||xE,o=t.options.footnoteBackLabel||bE,c=t.options.footnoteLabel||"Footnotes",u=t.options.footnoteLabelTagName||"h2",d=t.options.footnoteLabelProperties||{className:["sr-only"]},g=[];let f=-1;for(;++f<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[f]);if(!h)continue;const y=t.all(h),x=String(h.identifier).toUpperCase(),k=Ra(x.toLowerCase());let E=0;const O=[],M=t.footnoteCounts.get(x);for(;M!==void 0&&++E<=M;){O.length>0&&O.push({type:"text",value:" "});let N=typeof s=="string"?s:s(f,E);typeof N=="string"&&(N={type:"text",value:N}),O.push({type:"element",tagName:"a",properties:{href:"#"+a+"fnref-"+k+(E>1?"-"+E:""),dataFootnoteBackref:"",ariaLabel:typeof o=="string"?o:o(f,E),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const S=y[y.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const N=S.children[S.children.length-1];N&&N.type==="text"?N.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...O)}else y.push(...O);const C={type:"element",tagName:"li",properties:{id:a+"fn-"+k},children:t.wrap(y,!0)};t.patch(h,C),g.push(C)}if(g.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...io(d),id:"footnote-label"},children:[{type:"text",value:c}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(g,!0)},{type:"text",value:`
`}]}}const f0=(function(t){if(t==null)return NE;if(typeof t=="function")return xo(t);if(typeof t=="object")return Array.isArray(t)?EE(t):kE(t);if(typeof t=="string")return wE(t);throw new Error("Expected function, string, or object as test")});function EE(t){const a=[];let s=-1;for(;++s<t.length;)a[s]=f0(t[s]);return xo(o);function o(...c){let u=-1;for(;++u<a.length;)if(a[u].apply(this,c))return!0;return!1}}function kE(t){const a=t;return xo(s);function s(o){const c=o;let u;for(u in t)if(c[u]!==a[u])return!1;return!0}}function wE(t){return xo(a);function a(s){return s&&s.type===t}}function xo(t){return a;function a(s,o,c){return!!(SE(s)&&t.call(this,s,typeof o=="number"?o:void 0,c||void 0))}}function NE(){return!0}function SE(t){return t!==null&&typeof t=="object"&&"type"in t}const h0=[],CE=!0,Bg=!1,_E="skip";function TE(t,a,s,o){let c;typeof a=="function"&&typeof s!="function"?(o=s,s=a):c=a;const u=f0(c),d=o?-1:1;g(t,void 0,[])();function g(f,h,y){const x=f&&typeof f=="object"?f:{};if(typeof x.type=="string"){const E=typeof x.tagName=="string"?x.tagName:typeof x.name=="string"?x.name:void 0;Object.defineProperty(k,"name",{value:"node ("+(f.type+(E?"<"+E+">":""))+")"})}return k;function k(){let E=h0,O,M,S;if((!a||u(f,h,y[y.length-1]||void 0))&&(E=zE(s(f,y)),E[0]===Bg))return E;if("children"in f&&f.children){const C=f;if(C.children&&E[0]!==_E)for(M=(o?C.children.length:-1)+d,S=y.concat(C);M>-1&&M<C.children.length;){const N=C.children[M];if(O=g(N,M,S)(),O[0]===Bg)return O;M=typeof O[1]=="number"?O[1]:M+d}}return E}}}function zE(t){return Array.isArray(t)?t:typeof t=="number"?[CE,t]:t==null?h0:[t]}function y0(t,a,s,o){let c,u,d;typeof a=="function"&&typeof s!="function"?(u=void 0,d=a,c=s):(u=a,d=s,c=o),TE(t,u,g,c);function g(f,h){const y=h[h.length-1],x=y?y.children.indexOf(f):void 0;return d(f,x,y)}}const jc={}.hasOwnProperty,PE={};function IE(t,a){const s=a||PE,o=new Map,c=new Map,u=new Map,d={...gE,...s.handlers},g={all:h,applyData:ME,definitionById:o,footnoteById:c,footnoteCounts:u,footnoteOrder:[],handlers:d,one:f,options:s,patch:LE,wrap:AE};return y0(t,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const x=y.type==="definition"?o:c,k=String(y.identifier).toUpperCase();x.has(k)||x.set(k,y)}}),g;function f(y,x){const k=y.type,E=g.handlers[k];if(jc.call(g.handlers,k)&&E)return E(g,y,x);if(g.options.passThrough&&g.options.passThrough.includes(k)){if("children"in y){const{children:M,...S}=y,C=io(S);return C.children=g.all(y),C}return io(y)}return(g.options.unknownHandler||RE)(g,y,x)}function h(y){const x=[];if("children"in y){const k=y.children;let E=-1;for(;++E<k.length;){const O=g.one(k[E],y);if(O){if(E&&k[E-1].type==="break"&&(!Array.isArray(O)&&O.type==="text"&&(O.value=Ug(O.value)),!Array.isArray(O)&&O.type==="element")){const M=O.children[0];M&&M.type==="text"&&(M.value=Ug(M.value))}Array.isArray(O)?x.push(...O):x.push(O)}}}return x}}function LE(t,a){t.position&&(a.position=gb(t))}function ME(t,a){let s=a;if(t&&t.data){const o=t.data.hName,c=t.data.hChildren,u=t.data.hProperties;if(typeof o=="string")if(s.type==="element")s.tagName=o;else{const d="children"in s?s.children:[s];s={type:"element",tagName:o,properties:{},children:d}}s.type==="element"&&u&&Object.assign(s.properties,io(u)),"children"in s&&s.children&&c!==null&&c!==void 0&&(s.children=c)}return s}function RE(t,a){const s=a.data||{},o="value"in a&&!(jc.call(s,"hProperties")||jc.call(s,"hChildren"))?{type:"text",value:a.value}:{type:"element",tagName:"div",properties:{},children:t.all(a)};return t.patch(a,o),t.applyData(a,o)}function AE(t,a){const s=[];let o=-1;for(a&&s.push({type:"text",value:`
`});++o<t.length;)o&&s.push({type:"text",value:`
`}),s.push(t[o]);return a&&t.length>0&&s.push({type:"text",value:`
`}),s}function Ug(t){let a=0,s=t.charCodeAt(a);for(;s===9||s===32;)a++,s=t.charCodeAt(a);return t.slice(a)}function Hg(t,a){const s=IE(t,a),o=s.one(t,void 0),c=vE(s),u=Array.isArray(o)?{type:"root",children:o}:o||{type:"root",children:[]};return c&&u.children.push({type:"text",value:`
`},c),u}function DE(t,a){return t&&"run"in t?async function(s,o){const c=Hg(s,{file:o,...a});await t.run(c,o)}:function(s,o){return Hg(s,{file:o,...t||a})}}function qg(t){if(t)throw t}var fc,Vg;function OE(){if(Vg)return fc;Vg=1;var t=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,c=function(h){return typeof Array.isArray=="function"?Array.isArray(h):a.call(h)==="[object Array]"},u=function(h){if(!h||a.call(h)!=="[object Object]")return!1;var y=t.call(h,"constructor"),x=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!y&&!x)return!1;var k;for(k in h);return typeof k>"u"||t.call(h,k)},d=function(h,y){s&&y.name==="__proto__"?s(h,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):h[y.name]=y.newValue},g=function(h,y){if(y==="__proto__")if(t.call(h,y)){if(o)return o(h,y).value}else return;return h[y]};return fc=function f(){var h,y,x,k,E,O,M=arguments[0],S=1,C=arguments.length,N=!1;for(typeof M=="boolean"&&(N=M,M=arguments[1]||{},S=2),(M==null||typeof M!="object"&&typeof M!="function")&&(M={});S<C;++S)if(h=arguments[S],h!=null)for(y in h)x=g(M,y),k=g(h,y),M!==k&&(N&&k&&(u(k)||(E=c(k)))?(E?(E=!1,O=x&&c(x)?x:[]):O=x&&u(x)?x:{},d(M,{name:y,newValue:f(N,O,k)})):typeof k<"u"&&d(M,{name:y,newValue:k}));return M},fc}var jE=OE();const hc=co(jE);function Fc(t){if(typeof t!="object"||t===null)return!1;const a=Object.getPrototypeOf(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function FE(){const t=[],a={run:s,use:o};return a;function s(...c){let u=-1;const d=c.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);g(null,...c);function g(f,...h){const y=t[++u];let x=-1;if(f){d(f);return}for(;++x<c.length;)(h[x]===null||h[x]===void 0)&&(h[x]=c[x]);c=h,y?$E(y,g)(...h):d(null,...h)}}function o(c){if(typeof c!="function")throw new TypeError("Expected `middelware` to be a function, not "+c);return t.push(c),a}}function $E(t,a){let s;return o;function o(...d){const g=t.length>d.length;let f;g&&d.push(c);try{f=t.apply(this,d)}catch(h){const y=h;if(g&&s)throw y;return c(y)}g||(f&&f.then&&typeof f.then=="function"?f.then(u,c):f instanceof Error?c(f):u(f))}function c(d,...g){s||(s=!0,a(d,...g))}function u(d){c(null,d)}}const Qn={basename:BE,dirname:UE,extname:HE,join:qE,sep:"/"};function BE(t,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');$l(t);let s=0,o=-1,c=t.length,u;if(a===void 0||a.length===0||a.length>t.length){for(;c--;)if(t.codePointAt(c)===47){if(u){s=c+1;break}}else o<0&&(u=!0,o=c+1);return o<0?"":t.slice(s,o)}if(a===t)return"";let d=-1,g=a.length-1;for(;c--;)if(t.codePointAt(c)===47){if(u){s=c+1;break}}else d<0&&(u=!0,d=c+1),g>-1&&(t.codePointAt(c)===a.codePointAt(g--)?g<0&&(o=c):(g=-1,o=d));return s===o?o=d:o<0&&(o=t.length),t.slice(s,o)}function UE(t){if($l(t),t.length===0)return".";let a=-1,s=t.length,o;for(;--s;)if(t.codePointAt(s)===47){if(o){a=s;break}}else o||(o=!0);return a<0?t.codePointAt(0)===47?"/":".":a===1&&t.codePointAt(0)===47?"//":t.slice(0,a)}function HE(t){$l(t);let a=t.length,s=-1,o=0,c=-1,u=0,d;for(;a--;){const g=t.codePointAt(a);if(g===47){if(d){o=a+1;break}continue}s<0&&(d=!0,s=a+1),g===46?c<0?c=a:u!==1&&(u=1):c>-1&&(u=-1)}return c<0||s<0||u===0||u===1&&c===s-1&&c===o+1?"":t.slice(c,s)}function qE(...t){let a=-1,s;for(;++a<t.length;)$l(t[a]),t[a]&&(s=s===void 0?t[a]:s+"/"+t[a]);return s===void 0?".":VE(s)}function VE(t){$l(t);const a=t.codePointAt(0)===47;let s=WE(t,!a);return s.length===0&&!a&&(s="."),s.length>0&&t.codePointAt(t.length-1)===47&&(s+="/"),a?"/"+s:s}function WE(t,a){let s="",o=0,c=-1,u=0,d=-1,g,f;for(;++d<=t.length;){if(d<t.length)g=t.codePointAt(d);else{if(g===47)break;g=47}if(g===47){if(!(c===d-1||u===1))if(c!==d-1&&u===2){if(s.length<2||o!==2||s.codePointAt(s.length-1)!==46||s.codePointAt(s.length-2)!==46){if(s.length>2){if(f=s.lastIndexOf("/"),f!==s.length-1){f<0?(s="",o=0):(s=s.slice(0,f),o=s.length-1-s.lastIndexOf("/")),c=d,u=0;continue}}else if(s.length>0){s="",o=0,c=d,u=0;continue}}a&&(s=s.length>0?s+"/..":"..",o=2)}else s.length>0?s+="/"+t.slice(c+1,d):s=t.slice(c+1,d),o=d-c-1;c=d,u=0}else g===46&&u>-1?u++:u=-1}return s}function $l(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const KE={cwd:GE};function GE(){return"/"}function $c(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function QE(t){if(typeof t=="string")t=new URL(t);else if(!$c(t)){const a=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw a.code="ERR_INVALID_ARG_TYPE",a}if(t.protocol!=="file:"){const a=new TypeError("The URL must be of scheme file");throw a.code="ERR_INVALID_URL_SCHEME",a}return JE(t)}function JE(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const a=t.pathname;let s=-1;for(;++s<a.length;)if(a.codePointAt(s)===37&&a.codePointAt(s+1)===50){const o=a.codePointAt(s+2);if(o===70||o===102){const c=new TypeError("File URL path must not include encoded / characters");throw c.code="ERR_INVALID_FILE_URL_PATH",c}}return decodeURIComponent(a)}const yc=["history","path","basename","stem","extname","dirname"];class x0{constructor(a){let s;a?$c(a)?s={path:a}:typeof a=="string"||YE(a)?s={value:a}:s=a:s={},this.cwd="cwd"in s?"":KE.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<yc.length;){const u=yc[o];u in s&&s[u]!==void 0&&s[u]!==null&&(this[u]=u==="history"?[...s[u]]:s[u])}let c;for(c in s)yc.includes(c)||(this[c]=s[c])}get basename(){return typeof this.path=="string"?Qn.basename(this.path):void 0}set basename(a){bc(a,"basename"),xc(a,"basename"),this.path=Qn.join(this.dirname||"",a)}get dirname(){return typeof this.path=="string"?Qn.dirname(this.path):void 0}set dirname(a){Wg(this.basename,"dirname"),this.path=Qn.join(a||"",this.basename)}get extname(){return typeof this.path=="string"?Qn.extname(this.path):void 0}set extname(a){if(xc(a,"extname"),Wg(this.dirname,"extname"),a){if(a.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(a.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qn.join(this.dirname,this.stem+(a||""))}get path(){return this.history[this.history.length-1]}set path(a){$c(a)&&(a=QE(a)),bc(a,"path"),this.path!==a&&this.history.push(a)}get stem(){return typeof this.path=="string"?Qn.basename(this.path,this.extname):void 0}set stem(a){bc(a,"stem"),xc(a,"stem"),this.path=Qn.join(this.dirname||"",a+(this.extname||""))}fail(a,s,o){const c=this.message(a,s,o);throw c.fatal=!0,c}info(a,s,o){const c=this.message(a,s,o);return c.fatal=void 0,c}message(a,s,o){const c=new Jt(a,s,o);return this.path&&(c.name=this.path+":"+c.name,c.file=this.path),c.fatal=!1,this.messages.push(c),c}toString(a){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(a||void 0).decode(this.value)}}function xc(t,a){if(t&&t.includes(Qn.sep))throw new Error("`"+a+"` cannot be a path: did not expect `"+Qn.sep+"`")}function bc(t,a){if(!t)throw new Error("`"+a+"` cannot be empty")}function Wg(t,a){if(!t)throw new Error("Setting `"+a+"` requires `path` to be set too")}function YE(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const XE=(function(t){const o=this.constructor.prototype,c=o[t],u=function(){return c.apply(u,arguments)};return Object.setPrototypeOf(u,o),u}),ZE={}.hasOwnProperty;class mu extends XE{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=FE()}copy(){const a=new mu;let s=-1;for(;++s<this.attachers.length;){const o=this.attachers[s];a.use(...o)}return a.data(hc(!0,{},this.namespace)),a}data(a,s){return typeof a=="string"?arguments.length===2?(kc("data",this.frozen),this.namespace[a]=s,this):ZE.call(this.namespace,a)&&this.namespace[a]||void 0:a?(kc("data",this.frozen),this.namespace=a,this):this.namespace}freeze(){if(this.frozen)return this;const a=this;for(;++this.freezeIndex<this.attachers.length;){const[s,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const c=s.call(a,...o);typeof c=="function"&&this.transformers.use(c)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(a){this.freeze();const s=Zs(a),o=this.parser||this.Parser;return vc("parse",o),o(String(s),s)}process(a,s){const o=this;return this.freeze(),vc("process",this.parser||this.Parser),Ec("process",this.compiler||this.Compiler),s?c(void 0,s):new Promise(c);function c(u,d){const g=Zs(a),f=o.parse(g);o.run(f,g,function(y,x,k){if(y||!x||!k)return h(y);const E=x,O=o.stringify(E,k);nk(O)?k.value=O:k.result=O,h(y,k)});function h(y,x){y||!x?d(y):u?u(x):s(void 0,x)}}}processSync(a){let s=!1,o;return this.freeze(),vc("processSync",this.parser||this.Parser),Ec("processSync",this.compiler||this.Compiler),this.process(a,c),Gg("processSync","process",s),o;function c(u,d){s=!0,qg(u),o=d}}run(a,s,o){Kg(a),this.freeze();const c=this.transformers;return!o&&typeof s=="function"&&(o=s,s=void 0),o?u(void 0,o):new Promise(u);function u(d,g){const f=Zs(s);c.run(a,f,h);function h(y,x,k){const E=x||a;y?g(y):d?d(E):o(void 0,E,k)}}}runSync(a,s){let o=!1,c;return this.run(a,s,u),Gg("runSync","run",o),c;function u(d,g){qg(d),c=g,o=!0}}stringify(a,s){this.freeze();const o=Zs(s),c=this.compiler||this.Compiler;return Ec("stringify",c),Kg(a),c(a,o)}use(a,...s){const o=this.attachers,c=this.namespace;if(kc("use",this.frozen),a!=null)if(typeof a=="function")f(a,s);else if(typeof a=="object")Array.isArray(a)?g(a):d(a);else throw new TypeError("Expected usable value, not `"+a+"`");return this;function u(h){if(typeof h=="function")f(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[y,...x]=h;f(y,x)}else d(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function d(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");g(h.plugins),h.settings&&(c.settings=hc(!0,c.settings,h.settings))}function g(h){let y=-1;if(h!=null)if(Array.isArray(h))for(;++y<h.length;){const x=h[y];u(x)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function f(h,y){let x=-1,k=-1;for(;++x<o.length;)if(o[x][0]===h){k=x;break}if(k===-1)o.push([h,...y]);else if(y.length>0){let[E,...O]=y;const M=o[k][1];Fc(M)&&Fc(E)&&(E=hc(!0,M,E)),o[k]=[h,E,...O]}}}}const ek=new mu().freeze();function vc(t,a){if(typeof a!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Ec(t,a){if(typeof a!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function kc(t,a){if(a)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Kg(t){if(!Fc(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Gg(t,a,s){if(!s)throw new Error("`"+t+"` finished async. Use `"+a+"` instead")}function Zs(t){return tk(t)?t:new x0(t)}function tk(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function nk(t){return typeof t=="string"||rk(t)}function rk(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const ak="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Qg=[],Jg={allowDangerousHtml:!0},lk=/^(https?|ircs?|mailto|xmpp)$/i,sk=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ok(t){const a=ik(t),s=ck(t);return uk(a.runSync(a.parse(s),s),t)}function ik(t){const a=t.rehypePlugins||Qg,s=t.remarkPlugins||Qg,o=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Jg}:Jg;return ek().use(Bv).use(s).use(DE,o).use(a)}function ck(t){const a=t.children||"",s=new x0;return typeof a=="string"&&(s.value=a),s}function uk(t,a){const s=a.allowedElements,o=a.allowElement,c=a.components,u=a.disallowedElements,d=a.skipHtml,g=a.unwrapDisallowed,f=a.urlTransform||dk;for(const y of sk)Object.hasOwn(a,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+ak+y.id,void 0);return a.className&&(t={type:"element",tagName:"div",properties:{className:a.className},children:t.type==="root"?t.children:[t]}),y0(t,h),xb(t,{Fragment:mc.Fragment,components:c,ignoreInvalidStyle:!0,jsx:mc.jsx,jsxs:mc.jsxs,passKeys:!0,passNode:!0});function h(y,x,k){if(y.type==="raw"&&k&&typeof x=="number")return d?k.children.splice(x,1):k.children[x]={type:"text",value:y.value},x;if(y.type==="element"){let E;for(E in uc)if(Object.hasOwn(uc,E)&&Object.hasOwn(y.properties,E)){const O=y.properties[E],M=uc[E];(M===null||M.includes(y.tagName))&&(y.properties[E]=f(String(O||""),E,y))}}if(y.type==="element"){let E=s?!s.includes(y.tagName):u?u.includes(y.tagName):!1;if(!E&&o&&typeof x=="number"&&(E=!o(y,x,k)),E&&k&&typeof x=="number")return g&&y.children?k.children.splice(x,1,...y.children):k.children.splice(x,1),x}}}function dk(t){const a=t.indexOf(":"),s=t.indexOf("?"),o=t.indexOf("#"),c=t.indexOf("/");return a===-1||c!==-1&&a>c||s!==-1&&a>s||o!==-1&&a>o||lk.test(t.slice(0,a))?t:""}const mk={supervisor:{icon:ur,color:"purple",label:""},rag:{icon:bt,color:"blue",label:"RAG"},web_search:{icon:Qt,color:"cyan",label:""},t2sql:{icon:Ct,color:"amber",label:"SQL"},mcp:{icon:zn,color:"indigo",label:"MCP"},process:{icon:Xc,color:"orange",label:""},synthesizer:{icon:dr,color:"green",label:""}},Yg={purple:{active:"bg-purple-50 border-purple-400 text-purple-700",done:"bg-purple-50 border-purple-300 text-purple-600",glow:"rgba(168,85,247,0.35)"},blue:{active:"bg-blue-50 border-blue-400 text-blue-700",done:"bg-blue-50 border-blue-300 text-blue-600",glow:"rgba(59,130,246,0.35)"},cyan:{active:"bg-cyan-50 border-cyan-400 text-cyan-700",done:"bg-cyan-50 border-cyan-300 text-cyan-600",glow:"rgba(6,182,212,0.35)"},amber:{active:"bg-amber-50 border-amber-400 text-amber-700",done:"bg-amber-50 border-amber-300 text-amber-600",glow:"rgba(245,158,11,0.35)"},indigo:{active:"bg-indigo-50 border-indigo-400 text-indigo-700",done:"bg-indigo-50 border-indigo-300 text-indigo-600",glow:"rgba(99,102,241,0.35)"},orange:{active:"bg-orange-50 border-orange-400 text-orange-700",done:"bg-orange-50 border-orange-300 text-orange-600",glow:"rgba(249,115,22,0.35)"},green:{active:"bg-green-50 border-green-400 text-green-700",done:"bg-green-50 border-green-300 text-green-600",glow:"rgba(74,222,128,0.35)"}};function gk({agentKey:t,status:a,durationMs:s}){const o=mk[t]||{icon:dr,color:"green",label:t},c=o.icon,u=Yg[o.color]||Yg.green,d=a==="pending",g=a==="active",f=a==="done",h=d?"bg-gray-50 border-gray-200 text-gray-400 border-dashed":g?`${u.active} border-solid`:`${u.done} border-solid`;return r.createElement("div",{className:`flex flex-col items-center gap-1 px-3 py-2 rounded-lg border-2 min-w-[72px] transition-all duration-300 ${h}`,style:g?{"--glow-color":u.glow}:void 0},r.createElement("div",{className:`relative ${g?"animate-pulseGlow":""}`,style:g?{"--glow-color":u.glow}:void 0},g?r.createElement(Ft,{size:18,className:"animate-spin"}):f?r.createElement(ct,{size:18}):r.createElement(c,{size:18})),r.createElement("span",{className:"text-[10px] font-bold whitespace-nowrap"},o.label),f&&s>0&&r.createElement("span",{className:"text-[9px] opacity-60"},s>=1e3?`${(s/1e3).toFixed(1)}s`:`${s}ms`))}function pk({active:t}){return r.createElement("div",{className:"flex items-center px-0.5 relative"},r.createElement("div",{className:`w-6 h-0.5 ${t?"bg-green-400":"bg-gray-300"} transition-colors duration-300 relative`},t&&r.createElement("div",{className:"absolute top-1/2 -translate-y-1/2 w-1.5 h-1.5 rounded-full bg-green-500 animate-travelDot"})),r.createElement("div",{className:`w-0 h-0 border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent border-l-[5px] ${t?"border-l-green-400":"border-l-gray-300"} transition-colors duration-300`}))}function fk({agents:t,activeAgent:a,completedMap:s}){if(!t||t.length===0)return null;const o=c=>s?.[c]!==void 0?"done":a===c?"active":"pending";return r.createElement("div",{className:"flex items-center gap-0 overflow-x-auto py-2 px-1 mb-2 animate-fadeIn"},t.map((c,u)=>{const d=o(c),g=t[u+1],f=d==="done"&&g&&(o(g)==="active"||o(g)==="done");return r.createElement(r.Fragment,{key:c},r.createElement(gk,{agentKey:c,status:d,durationMs:s?.[c]||0}),u<t.length-1&&r.createElement(pk,{active:f}))}))}function hk({message:t,onSend:a}){const s=v.useMemo(()=>{const o=t.toolCallsMeta?.map(h=>h.name)||[],c=t.toolCallsMeta?.intent||[],u=!!t.generatedSql,d=!!t.tableData,g=o.includes("vector_retrieval")||c.includes("rag"),f=o.includes("web_search")||c.includes("web_search");return u||d?["   ","  ","   "]:f&&g?["   "," "," "]:f?["   "," ","  "]:g?["   ","  "," "]:["  "," ",""]},[t.toolCallsMeta,t.generatedSql,t.tableData]);return r.createElement("div",{className:"flex flex-wrap gap-2 mt-3 animate-fadeIn"},s.map((o,c)=>r.createElement("button",{key:c,onClick:()=>a(o),className:"text-xs px-3 py-1.5 rounded-full border border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400 hover:border-green-400 hover:text-green-600 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-all hover:scale-105 active:scale-95 animate-slideUp",style:{animationDelay:`${c*.1}s`,animationFillMode:"both"}},o)))}function yk({source:t,anchorRect:a,onClose:s}){const o=v.useRef(null);if(v.useEffect(()=>{const d=f=>{o.current&&!o.current.contains(f.target)&&s()},g=f=>{f.key==="Escape"&&s()};return document.addEventListener("mousedown",d),document.addEventListener("keydown",g),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("keydown",g)}},[s]),!t||!a)return null;const c=a.bottom+8,u=Math.max(8,Math.min(a.left,window.innerWidth-340));return Ol.createPortal(r.createElement("div",{ref:o,style:{position:"fixed",top:c,left:u,zIndex:200},className:"w-80 bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden animate-scaleIn"},r.createElement("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-gray-800"},r.createElement("div",{className:"flex items-center gap-2 min-w-0"},r.createElement("div",{className:"p-1.5 bg-blue-50 dark:bg-blue-900/30 rounded-lg shrink-0"},r.createElement(bt,{size:14,className:"text-blue-500"})),r.createElement("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-100 truncate"},t.filename)),r.createElement("button",{onClick:s,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors shrink-0"},r.createElement(Xn,{size:14}))),r.createElement("div",{className:"px-4 py-3"},r.createElement("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 rounded-lg p-3 max-h-32 overflow-y-auto custom-scrollbar border border-gray-100 dark:border-gray-700 leading-relaxed italic"},'"',t.chunk_text,'"')),r.createElement("div",{className:"px-4 py-2.5 border-t border-gray-100 dark:border-gray-800 flex items-center gap-3 text-[10px] text-gray-400"},t.score>0&&r.createElement("span",{className:"flex items-center gap-1"},r.createElement("span",{className:"font-bold"},":")," ",(t.score*100).toFixed(0),"%"),r.createElement("span",{className:"flex items-center gap-1"},r.createElement("span",{className:"font-bold"},":")," [",t.id,"]"))),document.body)}function xk({num:t,source:a,onClick:s}){return r.createElement("button",{onClick:s,className:"inline-flex items-center justify-center min-w-[20px] h-5 px-1 mx-0.5 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-[10px] font-bold rounded border border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900/50 hover:border-blue-300 dark:hover:border-blue-700 transition-all cursor-pointer align-baseline leading-none",title:a?.filename||` ${t}`},t)}const Xg={agent:"bg-green-50 text-green-700 border-green-200 hover:bg-green-100",kb:"bg-emerald-50 text-emerald-700 border-emerald-200 hover:bg-emerald-100",rag:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100",web:"bg-green-50 text-green-700 border-green-200 hover:bg-green-100",sql:"bg-amber-50 text-amber-700 border-amber-200 hover:bg-amber-100",mcp:"bg-indigo-50 text-indigo-700 border-indigo-200 hover:bg-indigo-100"},b0={rag:{label:"RAG",icon:bt,desc:"  "},web_search:{label:"Web",icon:Qt,desc:"  "},sql:{label:"SQL",icon:Ar,desc:" "},mcp:{label:"MCP",icon:zn,desc:"  "}},v0=({agentId:t,size:a=11,className:s=""})=>{switch(t){case"agent-general":return r.createElement(dr,{size:a,className:s});case"agent-rag":return r.createElement(bt,{size:a,className:s});default:return r.createElement(Pt,{size:a,className:s})}};function wc({icon:t,label:a,colorKey:s,onRemove:o}){return r.createElement("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-[11px] font-semibold border transition-colors ${Xg[s]||Xg.agent}`},r.createElement(t,{size:11}),r.createElement("span",{className:"max-w-[80px] truncate"},a),o&&r.createElement("button",{onClick:c=>{c.stopPropagation(),o()},className:"ml-0.5 opacity-50 hover:opacity-100 transition-opacity"},r.createElement(Xn,{size:9})))}function bk({isOpen:t,onClose:a,pickerRef:s,agents:o,currentAgent:c,config:u,onAgentChange:d,effectiveSources:g,onToggleSource:f,knowledgeBases:h,selectedKbIds:y,onToggleKb:x,mcpServers:k,activeMcpIds:E,onToggleMcp:O,dbConnections:M,selectedDbConnectionId:S,onSelectDb:C}){if(!t)return null;const N=["rag","web_search","sql","mcp"],A=o.filter(q=>!q.agentType||q.agentType==="custom");return r.createElement("div",{ref:s,className:"absolute bottom-full left-0 mb-2 w-72 bg-white border border-gray-200 rounded-xl shadow-2xl z-40 overflow-hidden",onClick:q=>q.stopPropagation()},r.createElement("div",{className:"px-3 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 border-b border-gray-100 flex items-center gap-1.5"},r.createElement(Pt,{size:10})," "),r.createElement("div",{className:"max-h-32 overflow-y-auto custom-scrollbar p-1"},r.createElement("button",{onClick:()=>{d(null)},className:`w-full text-left px-3 py-2 rounded-lg flex items-center gap-2.5 transition text-xs ${c?"hover:bg-gray-50":"bg-gray-50 font-bold"}`},r.createElement("div",{className:`w-5 h-5 rounded-md flex items-center justify-center ${c?"bg-gray-100 text-gray-400":"bg-gray-200 text-gray-600"}`},r.createElement(Pt,{size:11})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("span",{className:"truncate"}," ( )")),!c&&r.createElement(ct,{size:11,className:"text-green-500 shrink-0"})),A.map(q=>r.createElement("button",{key:q.id,onClick:()=>{d(q.id)},className:`w-full text-left px-3 py-2 rounded-lg flex items-center gap-2.5 transition text-xs ${c?.id===q.id?"bg-green-50 font-bold":"hover:bg-gray-50"}`},r.createElement("div",{className:`w-5 h-5 rounded-md flex items-center justify-center ${c?.id===q.id?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`},r.createElement(v0,{agentId:q.id,size:11})),r.createElement("div",{className:"flex-1 min-w-0 flex items-center gap-1.5"},r.createElement("span",{className:"truncate"},q.name),r.createElement("span",{className:"text-[9px] text-gray-400 font-mono"},q.model||u.llm)),c?.id===q.id&&r.createElement(ct,{size:11,className:"text-green-500 shrink-0"})))),r.createElement("div",{className:"px-3 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 border-t border-b border-gray-100 flex items-center gap-1.5"},r.createElement(bt,{size:10}),"  "),r.createElement("div",{className:"p-1"},N.map(q=>{const X=b0[q],L=X.icon,Z=g[q];return r.createElement("button",{key:q,onClick:()=>f(q),className:"w-full text-left px-3 py-2 rounded-lg flex items-center gap-2.5 hover:bg-gray-50 transition text-xs"},r.createElement("div",{className:`w-4 h-4 border-2 rounded flex items-center justify-center transition ${Z?"bg-green-400 border-green-400":"border-gray-300"}`},Z&&r.createElement(ct,{size:10,className:"text-white"})),r.createElement(L,{size:12,className:Z?"text-gray-700":"text-gray-400"}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("span",{className:Z?"font-bold text-gray-800":"text-gray-500"},X.label),r.createElement("span",{className:"text-[10px] text-gray-400 ml-1.5"}," ",X.desc)))})),h.length>0&&r.createElement(r.Fragment,null,r.createElement("div",{className:"px-3 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 border-t border-b border-gray-100 flex items-center gap-1.5"},r.createElement(Ct,{size:10}),"  "),r.createElement("div",{className:"max-h-32 overflow-y-auto custom-scrollbar p-1"},h.map(q=>{const X=y.includes(q.id);return r.createElement("button",{key:q.id,onClick:()=>x(q.id),className:"w-full text-left px-3 py-2 rounded-lg flex items-center gap-2.5 hover:bg-gray-50 transition text-xs"},r.createElement("div",{className:`w-4 h-4 border-2 rounded flex items-center justify-center transition ${X?"bg-green-400 border-green-400":"border-gray-300"}`},X&&r.createElement(ct,{size:10,className:"text-white"})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("span",{className:X?"font-bold text-gray-800":"text-gray-500"},q.name),r.createElement("span",{className:"text-[10px] text-gray-400 ml-1.5"},"(",q.files?.length||0," )")))}))),g.sql&&M.length>0&&r.createElement(r.Fragment,null,r.createElement("div",{className:"px-3 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 border-t border-b border-gray-100 flex items-center gap-1.5"},r.createElement(Ar,{size:10})," "),r.createElement("div",{className:"max-h-32 overflow-y-auto custom-scrollbar p-1"},M.map(q=>r.createElement("button",{key:q.id,onClick:()=>C(q.id===S?null:q.id),className:`w-full text-left px-3 py-2 rounded-lg flex items-center gap-2.5 hover:bg-gray-50 transition text-xs ${S===q.id?"bg-amber-50":""}`},r.createElement("div",{className:`w-4 h-4 border-2 rounded-full flex items-center justify-center transition ${S===q.id?"bg-amber-400 border-amber-400":"border-gray-300"}`},S===q.id&&r.createElement("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("span",{className:S===q.id?"font-bold text-gray-800":"text-gray-500"},q.name),r.createElement("span",{className:"text-[10px] text-gray-400 ml-1.5"},q.db_type,q.db_type!=="sqlite"?`  ${q.host}:${q.port}`:"")))))),g.mcp&&k.length>0&&r.createElement(r.Fragment,null,r.createElement("div",{className:"px-3 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 border-t border-b border-gray-100 flex items-center gap-1.5"},r.createElement(zn,{size:10})," MCP "),r.createElement("div",{className:"max-h-32 overflow-y-auto custom-scrollbar p-1"},k.map(q=>{const X=E.includes(q.id);return r.createElement("button",{key:q.id,onClick:()=>O(q.id),className:"w-full text-left px-3 py-2 rounded-lg flex items-center gap-2.5 hover:bg-gray-50 transition text-xs"},r.createElement("div",{className:`w-4 h-4 border-2 rounded flex items-center justify-center transition ${X?"bg-green-400 border-green-400":"border-gray-300"}`},X&&r.createElement(ct,{size:10,className:"text-white"})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("span",{className:X?"font-bold text-gray-800":"text-gray-500"},q.name),r.createElement("span",{className:"text-[10px] text-gray-400 ml-1.5"},q.status)))}))))}function vk({agents:t,currentAgent:a,config:s,onAgentChange:o,effectiveSources:c,agentDefaults:u,sourceOverrides:d,onToggleSource:g,knowledgeBases:f,selectedKbIds:h,onToggleKb:y,mcpServers:x,activeMcpIds:k,onToggleMcp:E,dbConnections:O,selectedDbConnectionId:M,onSelectDb:S}){const[C,N]=v.useState(!1),A=v.useRef(null),q=v.useRef(null);v.useEffect(()=>{if(!C)return;const L=Z=>{A.current&&!A.current.contains(Z.target)&&q.current&&!q.current.contains(Z.target)&&N(!1)};return window.addEventListener("click",L),()=>window.removeEventListener("click",L)},[C]);const X=["rag","web_search","sql","mcp"];return r.createElement("div",{className:"relative flex flex-wrap items-center gap-1.5"},a&&r.createElement(wc,{icon:({size:L,className:Z})=>r.createElement(v0,{agentId:a.id,size:L,className:Z}),label:a.name,colorKey:"agent",onRemove:()=>o(null)}),h.map(L=>{const Z=f.find(le=>le.id===L);return Z?r.createElement(wc,{key:`kb-${L}`,icon:Ct,label:Z.name,colorKey:"kb",onRemove:()=>y(L)}):null}),X.map(L=>{if(!c[L])return null;const Z=b0[L],le={rag:"rag",web_search:"web",sql:"sql",mcp:"mcp"};return r.createElement(wc,{key:`src-${L}`,icon:Z.icon,label:Z.label,colorKey:le[L],onRemove:()=>{g(L),L==="sql"&&S(null)}})}),r.createElement("button",{ref:q,onClick:L=>{L.stopPropagation(),N(!C)},className:`inline-flex items-center justify-center w-7 h-7 rounded-lg border transition-all ${C?"bg-green-50 border-green-300 text-green-600":"bg-gray-50 border-gray-200 text-gray-400 hover:border-gray-300 hover:text-gray-600 hover:bg-gray-100"}`,title:" "},r.createElement(Zt,{size:14})),r.createElement(bk,{isOpen:C,onClose:()=>N(!1),pickerRef:A,agents:t,currentAgent:a,config:s,onAgentChange:o,effectiveSources:c,onToggleSource:g,knowledgeBases:f,selectedKbIds:h,onToggleKb:y,mcpServers:x,activeMcpIds:k,onToggleMcp:E,dbConnections:O,selectedDbConnectionId:M,onSelectDb:S}))}function Ek({children:t,...a}){const[s,o]=v.useState(!1),c=v.useRef(null),u=()=>{const d=c.current?.textContent||"";navigator.clipboard.writeText(d),o(!0),setTimeout(()=>o(!1),2e3)};return r.createElement("div",{className:"relative group/code"},r.createElement("pre",{ref:c,...a},t),r.createElement("button",{onClick:u,className:"absolute top-2 right-2 p-1.5 rounded-lg bg-gray-700/80 text-gray-300 hover:bg-gray-600 hover:text-white opacity-0 group-hover/code:opacity-100 transition-all text-[10px] flex items-center gap-1"},s?r.createElement(r.Fragment,null,r.createElement(ct,{size:12})," "):r.createElement(r.Fragment,null,r.createElement(Tc,{size:12})," ")))}const kk=({agentId:t,size:a=12,className:s=""})=>{switch(t){case"agent-general":return r.createElement(dr,{size:a,className:s});case"agent-rag":return r.createElement(bt,{size:a,className:s});default:return r.createElement(Pt,{size:a,className:s})}};function wk(){const{currentMessages:t,addMessage:a,renameSession:s,config:o,setConfig:c,agents:u,currentAgent:d,setCurrentAgentId:g,knowledgeBases:f,currentKbId:h,mcpServers:y,setSessions:x,currentSessionId:k,sessions:E,DEFAULT_TOOL_PRESET:O}=La(),[M,S]=v.useState(""),[C,N]=v.useState(!1),[A,q]=v.useState([]),[X,L]=v.useState(!1),Z=v.useRef(new Map),le=v.useCallback(T=>(Z.current.has(T)||Z.current.set(T,URL.createObjectURL(T)),Z.current.get(T)),[]);v.useEffect(()=>{const T=new Set(A);for(const[I,U]of Z.current)T.has(I)||(URL.revokeObjectURL(U),Z.current.delete(I));return()=>{for(const I of Z.current.values())URL.revokeObjectURL(I);Z.current.clear()}},[A]);const[re,R]=v.useState({}),[F,K]=v.useState([]),[ye,ae]=v.useState([h]),[ee,J]=v.useState(null),[me,G]=v.useState([]),ue=d?.defaultTools||O||{sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},w=v.useMemo(()=>({rag:re.rag??ue.sources?.rag??!0,web_search:re.web_search??ue.sources?.web_search??!1,mcp:re.mcp??ue.sources?.mcp??!1,sql:re.sql??ue.sources?.sql??!1}),[re,ue]),B=v.useMemo(()=>Object.values(w).filter(Boolean).length,[w])>=2;v.useEffect(()=>{o.useWebSearch!==void 0&&R(T=>({...T,web_search:!!o.useWebSearch}))},[o.useWebSearch]),v.useEffect(()=>{o.useSql!==void 0&&R(T=>({...T,sql:!!o.useSql}))},[o.useSql]);const[_,be]=v.useState(null),[Ie,Ne]=v.useState(!1),Fe=v.useRef(!0),Le=v.useRef(null),Oe=v.useRef(null),Qe=v.useRef(null),Ue=v.useRef(null),lt=T=>{ae(I=>I.includes(T)?I.filter(U=>U!==T):[...I,T])};v.useEffect(()=>{(async()=>{try{const I=await Ot.getDbConnections();I?.connections&&G(I.connections)}catch{}})()},[]),v.useEffect(()=>{const T=f.map(I=>I.id);ae(I=>{const U=I.filter(ne=>T.includes(ne));return U.length>0?U:T.includes(h)?[h]:T.length>0?[T[0]]:I})},[h,f]),v.useEffect(()=>{Ue.current&&(Ue.current.abort(),Ue.current=null),N(!1),L(!1)},[k]),v.useEffect(()=>()=>{Ue.current&&(Ue.current.abort(),Ue.current=null)},[]),v.useEffect(()=>{Fe.current&&Oe.current?.scrollTo({top:Oe.current.scrollHeight,behavior:"smooth"})},[t,C]);const Et=v.useCallback(()=>{const T=Oe.current;if(!T)return;const U=T.scrollHeight-T.scrollTop-T.clientHeight<150;Fe.current=U,Ne(!U&&t.length>0)},[t.length]),de=v.useCallback(()=>{Oe.current?.scrollTo({top:Oe.current.scrollHeight,behavior:"smooth"}),Ne(!1)},[]),Ye=v.useCallback(()=>{const T=Qe.current;T&&(T.style.height="auto",T.style.height=Math.min(T.scrollHeight,192)+"px")},[]);v.useEffect(()=>{Ye()},[M,Ye]);const We=T=>{if(T.target.files&&T.target.files.length>0){const I=Array.from(T.target.files);q(U=>[...U,...I])}T.target.value=""},Q=T=>{K(I=>I.includes(T)?I.filter(U=>U!==T):[...I,T])},te=v.useCallback(T=>{g(T),R({}),K([]),J(null)},[g]),_e=v.useCallback(T=>{R(I=>{const U=ue.sources?.[T]??!1,he=!(I[T]??U);if(he===U){const{[T]:Me,...je}=I;return je}return{...I,[T]:he}})},[ue]),fe=async(T=null)=>{const I=T||M;if(!I.trim()&&A.length===0)return;if(w.sql&&!ee){a({role:"assistant",text:"SQL      .  DB ."});return}Ue.current&&Ue.current.abort(),Ue.current=new AbortController;const U=k,ne=[".txt",".md",".csv"],he=[".jpg",".jpeg",".png",".gif",".webp",".bmp"];let Me=[],je=[];const et=[...A];if(et.length>0){L(!0);try{const nt=et.map(async P=>{const ie=P.name.substring(P.name.lastIndexOf(".")).toLowerCase();if(he.includes(ie))return new Promise(Y=>{const ve=new FileReader;ve.onload=ot=>{const Je=ot.target.result.split(",")[1];Y({filename:P.name,type:"image",data:Je})},ve.onerror=()=>{console.error(`  : ${P.name}`),Y({filename:P.name,type:"error"})},ve.readAsDataURL(P)});if(ne.includes(ie))return new Promise(Y=>{const ve=new FileReader;ve.onload=ot=>Y({filename:P.name,type:"text",text:ot.target.result}),ve.onerror=()=>{console.error(`  : ${P.name}`),Y({filename:P.name,type:"text",text:""})},ve.readAsText(P)});try{return{...await ax(P),type:"document"}}catch(Y){return console.error(`  : ${P.name}`,Y),{filename:P.name,type:"document",text:""}}}),st=await Promise.all(nt);Me=st.filter(P=>P.type==="text"||P.type==="document"),je=st.filter(P=>P.type==="image"&&P.data).map(P=>P.data)}catch(nt){console.error("   :",nt)}finally{L(!1)}}je.length>5;let Ke=I;const It=Me.filter(nt=>nt.text?.trim());if(It.length>0){const nt=It.map(st=>`[ : ${st.filename}]
${st.text}`).join(`

`);Ke=It.length>0&&I.trim()?`${I}

---
${nt}`:nt||I}if(je.length>0&&!I.trim()&&It.length===0&&(Ke="   ."),!T){const nt=E.find(st=>st.id===k);if(nt&&nt.messages.length===0){const st=I.length>30?I.slice(0,30)+"...":I;s(k,st)}a({role:"user",text:I,attachments:et.map(st=>({name:st.name}))}),S(""),q([])}N(!0);const ft=Jn();let Xe="";a({id:ft,role:"assistant",text:"",thinking:B?"Smart Mode:    ...":null,thinkingTime:0,sources:[]});const dt=Date.now();try{const nt=t.filter(P=>P.text).slice(-10).map(P=>({role:P.role,content:P.text})),st={query:Ke,model:d?.model||o.llm,kb_ids:w.rag?ye:[],use_rag:w.rag,web_search:w.web_search,use_deep_think:B,active_mcp_ids:w.mcp?F:[],system_prompt:d?.systemPrompt||null,history:nt,top_k:o.searchTopK||null,use_rerank:o.useRerank||!1,search_provider:o.activeSearchProviderId||null,search_mode:o.searchMode||"hybrid",dense_weight:o.denseWeight??.5,use_multimodal_search:o.useMultimodalSearch||!1,images:je,use_sql:w.sql,db_connection_id:w.sql?ee:null};await rx(st,P=>{if(!Ue.current?.signal.aborted){if(P.type==="thinking")x(ie=>ie.map(Y=>Y.id===U?{...Y,messages:Y.messages.map(ve=>ve.id===ft?{...ve,thinking:P.thinking,activeAgent:P.active_agent||ve.activeAgent}:ve)}:Y));else if(P.type==="pipeline_plan")x(ie=>ie.map(Y=>Y.id===U?{...Y,messages:Y.messages.map(ve=>ve.id===ft?{...ve,pipelineAgents:P.agents,completedAgents:{}}:ve)}:Y));else if(P.type==="agent_status"&&P.status==="done")x(ie=>ie.map(Y=>Y.id===U?{...Y,messages:Y.messages.map(ve=>ve.id===ft?{...ve,completedAgents:{...ve.completedAgents||{},[P.agent]:P.duration_ms||0}}:ve)}:Y));else if(P.type==="agent_status"&&P.status==="active")x(ie=>ie.map(Y=>Y.id===U?{...Y,messages:Y.messages.map(ve=>ve.id===ft?{...ve,activeAgent:P.agent}:ve)}:Y));else if(P.type==="sql")x(ie=>ie.map(Y=>Y.id===U?{...Y,messages:Y.messages.map(ve=>ve.id===ft?{...ve,generatedSql:P.sql}:ve)}:Y));else if(P.type==="table"){const ie=((Date.now()-dt)/1e3).toFixed(1);x(Y=>Y.map(ve=>ve.id===U?{...ve,messages:ve.messages.map(ot=>ot.id===ft?{...ot,tableData:{columns:P.columns,rows:P.rows,total:P.total},thinkingTime:ie}:ot)}:ve))}else if(P.type==="tool_calls_meta")x(ie=>ie.map(Y=>Y.id===U?{...Y,messages:Y.messages.map(ve=>ve.id===ft?{...ve,toolCallsMeta:P.tool_calls}:ve)}:Y));else if(P.type==="sources")x(ie=>ie.map(Y=>Y.id===U?{...Y,messages:Y.messages.map(ve=>ve.id===ft?{...ve,sources:P.sources}:ve)}:Y));else if(P.type==="content"){Xe+=P.content;const ie=((Date.now()-dt)/1e3).toFixed(1);x(Y=>Y.map(ve=>ve.id===U?{...ve,messages:ve.messages.map(ot=>ot.id===ft?{...ot,text:Xe,thinkingTime:ie}:ot)}:ve))}}},()=>{N(!1),Ue.current=null},Ue.current)}catch(nt){console.error("  :",nt),N(!1);const st=nt.message||"    .";a({id:Jn(),role:"assistant",text:` ${st}`,thinking:"",thinkingTime:0,sources:[]})}},He=()=>{Ue.current&&(Ue.current.abort(),Ue.current=null,N(!1))},Ve=(T,I)=>{if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(T).catch(()=>{const U=document.createElement("textarea");U.value=T,U.style.position="fixed",U.style.opacity="0",document.body.appendChild(U),U.select(),document.execCommand("copy"),document.body.removeChild(U)});else{const U=document.createElement("textarea");U.value=T,U.style.position="fixed",U.style.opacity="0",document.body.appendChild(U),U.select(),document.execCommand("copy"),document.body.removeChild(U)}be(I),setTimeout(()=>be(null),1500)},at=async(T,I)=>{const U=t;if(T<0||T>=U.length)return;const ne=U[T],he=T>0?U[T-1]:null;if(!he||ne.role!=="assistant")return;const Me=[...U];Me[T]={...Me[T],feedback:{is_positive:I}},x(je=>je.map(et=>et.id===k?{...et,messages:Me}:et));try{await _c.create({session_id:k,message_index:T,user_message:he.text||"",ai_message:ne.text||"",is_positive:I,agent_id:d?.id,model_name:d?.model||o.llm,kb_ids:JSON.stringify(ye),used_web_search:w.web_search,used_deep_think:B,tool_calls_json:ne.toolCallsMeta?JSON.stringify(ne.toolCallsMeta):null})}catch(je){console.error("  :",je)}},ut=v.useMemo(()=>{const T=[];w.sql&&(T.push("   "),T.push("  ")),d?.systemPrompt&&T.push(`${d.name}   `);const I=f.find(ne=>ye.includes(ne.id))?.name;I&&(T.push(`"${I}"  `),T.push(`"${I}"   `)),w.web_search&&T.push("  ");const U=["  ","  "," "];for(;T.length<3;)T.push(U[T.length]);return T.slice(0,3)},[w,d,f,ye]);return r.createElement("div",{className:"flex-1 flex flex-col min-h-0 relative bg-gray-50"},r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar scroll-smooth relative",ref:Oe,onScroll:Et},t.length===0?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-500 gap-6 px-4"},r.createElement("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-600 shadow-lg rounded-2xl flex items-center justify-center"},r.createElement(kk,{agentId:d?.id,size:36,className:"text-white"})),r.createElement("div",{className:"text-center max-w-lg"},r.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-2"},d?.name||"AI"," "),r.createElement("p",{className:"text-sm text-gray-600 leading-relaxed"},d?.description||"    .")),r.createElement("div",{className:"flex flex-wrap justify-center gap-2 max-w-xl"},ut.map(T=>r.createElement("button",{key:T,onClick:()=>{S(T),Qe.current?.focus()},className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-xs text-gray-700 hover:bg-gray-50 hover:border-green-300 hover:text-green-500 transition-all font-medium shadow-sm"},T)))):r.createElement("div",{className:"max-w-4xl mx-auto px-4 md:px-8 py-6 space-y-1"},t.map((T,I)=>r.createElement(Nk,{key:T.id,msg:{...T,onFeedback:T.role==="assistant"?U=>at(I,U):null},isLast:I===t.length-1,isStreaming:C&&I===t.length-1&&T.role==="assistant",copiedId:_,onCopy:Ve,onRegenerate:()=>fe(T.role==="assistant"&&I>0?t[I-1].text:null)})),!C&&t.length>0&&t[t.length-1].role==="assistant"&&t[t.length-1].text&&r.createElement("div",{className:"max-w-[80%] ml-11"},r.createElement(hk,{message:t[t.length-1],onSend:T=>fe(T)})),C&&t.length>0&&t[t.length-1].role==="user"&&r.createElement("div",{className:"flex items-start gap-3 py-4"},r.createElement("div",{className:"w-8 h-8 rounded-full flex items-center justify-center shrink-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700"},r.createElement(Pt,{size:16,className:"text-gray-600 dark:text-gray-400"})),r.createElement("div",{className:"flex items-center gap-2 pt-2"},r.createElement("div",{className:"flex gap-1"},r.createElement("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),r.createElement("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),r.createElement("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})),r.createElement("span",{className:"text-xs text-gray-400 ml-1"},"  ..."))))),Ie&&r.createElement("button",{onClick:de,className:"absolute bottom-20 left-1/2 -translate-x-1/2 flex items-center gap-1.5 px-3 py-1.5 bg-gray-800 dark:bg-gray-200 text-white dark:text-gray-800 text-xs font-medium rounded-full shadow-lg hover:bg-gray-700 dark:hover:bg-gray-300 transition-all animate-slideUp z-10"},r.createElement(Qc,{size:14}),"  "),r.createElement("div",{className:"border-t border-gray-200 bg-white px-4 py-3"},r.createElement("div",{className:"max-w-4xl mx-auto relative"},C&&r.createElement("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 z-20"},r.createElement("button",{onClick:He,className:"flex items-center gap-2 px-4 py-2 bg-white border border-red-300 shadow-md rounded-full text-sm text-red-600 hover:bg-red-50 font-medium transition-colors"},r.createElement(Tx,{size:14}),"  ")),r.createElement("div",{className:"bg-white border border-gray-300 rounded-2xl shadow-sm focus-within:ring-2 focus-within:ring-green-400 focus-within:border-green-400 transition-all flex flex-col relative"},r.createElement("div",{className:"px-3 pt-2.5 flex flex-wrap items-center gap-1.5"},r.createElement(vk,{agents:u,currentAgent:d,config:o,onAgentChange:te,effectiveSources:w,agentDefaults:ue,sourceOverrides:re,onToggleSource:_e,knowledgeBases:f,selectedKbIds:ye,onToggleKb:lt,mcpServers:y,activeMcpIds:F,onToggleMcp:Q,dbConnections:me,selectedDbConnectionId:ee,onSelectDb:J}),A.map((T,I)=>{const U=T.name.substring(T.name.lastIndexOf(".")).toLowerCase(),ne=[".jpg",".jpeg",".png",".gif",".webp",".bmp"].includes(U);return r.createElement("div",{key:I,className:"flex items-center gap-1.5 px-2 py-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-[11px] font-medium text-gray-700 dark:text-gray-300 shadow-sm"},ne?r.createElement("img",{src:le(T),alt:T.name,className:"w-6 h-6 object-cover rounded"}):r.createElement(Pc,{size:10,className:"text-gray-400"}),r.createElement("span",{className:"max-w-[100px] truncate"},T.name),r.createElement("button",{onClick:()=>q(he=>he.filter((Me,je)=>je!==I)),className:"text-gray-400 hover:text-red-500 ml-0.5"},r.createElement(Xn,{size:10})))})),r.createElement("textarea",{ref:Qe,value:M,onChange:T=>S(T.target.value),onKeyDown:T=>T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),fe()),placeholder:`${d?.name||"AI"}  ...`,className:"w-full bg-transparent border-none outline-none resize-none px-4 py-2 text-sm custom-scrollbar leading-relaxed min-h-[44px] max-h-48 dark:text-gray-100 dark:placeholder-gray-500",rows:1}),r.createElement("div",{className:"flex items-center justify-between px-2 pb-2 pt-0.5"},r.createElement("div",{className:"flex items-center gap-0.5"},r.createElement("input",{type:"file",multiple:!0,accept:".pdf,.docx,.doc,.txt,.md,.pptx,.xlsx,.csv",className:"hidden",ref:Le,onChange:We}),r.createElement("button",{onClick:()=>Le.current?.click(),className:"p-2 text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-300 rounded-xl transition",title:" "},r.createElement(Pc,{size:18}))),r.createElement("button",{onClick:()=>fe(),disabled:!M.trim()&&A.length===0||C||X,className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all font-bold text-sm ${(M.trim()||A.length>0)&&!C&&!X?"bg-green-500 text-white hover:bg-green-600 shadow-sm hover:shadow":"bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed"}`},X?r.createElement(Ft,{size:16,className:"animate-spin"}):C?r.createElement(Ft,{size:16,className:"animate-spin"}):r.createElement(Sx,{size:16,fill:"currentColor"}),r.createElement("span",{className:"hidden sm:inline"},X?" ":"")))),r.createElement("p",{className:"text-center text-[10px] text-gray-400 dark:text-gray-500 mt-1.5"},"AI can make mistakes. Check important info."))))}function Nk({msg:t,isLast:a,isStreaming:s,copiedId:o,onCopy:c,onRegenerate:u}){const d=t.role==="user",g=o===t.id,f=t.text&&t.text.trim().length>0,h=f&&t.thinking,[y,x]=v.useState(null),[k,E]=v.useState(!1),O=v.useCallback(S=>t.sources?.length?r.Children.map(S,C=>{if(typeof C=="string"){const N=[];let A=0;const q=/\[(\d+)\]/g;let X;for(;(X=q.exec(C))!==null;){const L=parseInt(X[1]),Z=t.sources.find(le=>le.id===L);Z&&(X.index>A&&N.push(C.slice(A,X.index)),N.push(r.createElement(xk,{key:`c${L}-${X.index}`,num:L,source:Z,onClick:le=>{const re=le.currentTarget.getBoundingClientRect();x({source:Z,anchorRect:re})}})),A=q.lastIndex)}if(N.length>0)return A<C.length&&N.push(C.slice(A)),N}return C}):S,[t.sources]),M=v.useMemo(()=>{const S={pre:Ek};if(t.sources?.length){const C=N=>({children:A,node:q,...X})=>r.createElement(N,{...X},O(A));Object.assign(S,{p:C("p"),li:C("li"),td:C("td"),strong:C("strong"),em:C("em")})}return S},[t.sources,O]);return r.createElement("div",{className:`flex ${d?"justify-end":"justify-start"} group py-3`},r.createElement("div",{className:`flex max-w-[80%] ${d?"flex-row-reverse":"flex-row"} items-start gap-3`},r.createElement("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${d?"bg-gray-600":"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700"}`},d?r.createElement(Ap,{size:16,className:"text-white"}):r.createElement(Pt,{size:16,className:"text-gray-600 dark:text-gray-400"})),r.createElement("div",{className:"flex flex-col gap-1.5 min-w-0"},r.createElement("div",{className:`flex items-center gap-2 ${d?"flex-row-reverse":"flex-row"}`},r.createElement("span",{className:"text-[11px] font-bold text-gray-500 dark:text-gray-400"},d?"You":"AI"),t.time&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500"},t.time),t.thinkingTime>0&&!d&&f&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500"},t.thinkingTime,"s")),!d&&t.toolCallsMeta&&t.toolCallsMeta.length>0&&r.createElement("div",{className:"flex flex-wrap items-center gap-1.5"},t.toolCallsMeta.map((S,C)=>{const A={vector_retrieval:{icon:"",label:"RAG ",bg:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-300 border-purple-200 dark:border-purple-800"},web_search:{icon:"",label:" ",bg:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-300 border-green-200 dark:border-green-800"},mcp_tools:{icon:"",label:"MCP",bg:"bg-cyan-50 dark:bg-cyan-900/20 text-cyan-600 dark:text-cyan-300 border-cyan-200 dark:border-cyan-800"},sql_query:{icon:"",label:"SQL",bg:"bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-300 border-amber-200 dark:border-amber-800"},process:{icon:"",label:" ",bg:"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-300 border-orange-200 dark:border-orange-800"}}[S.name]||{icon:"",label:S.name||"",bg:"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-700"},q=S.duration_ms?(S.duration_ms/1e3).toFixed(1):null;return r.createElement("span",{key:C,className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-[10px] font-semibold border ${A.bg}`},r.createElement("span",null,A.icon)," ",A.label,q&&r.createElement("span",{className:"opacity-50"},q,"s"))})),t.pipelineAgents?.length>0&&r.createElement(fk,{agents:t.pipelineAgents,activeAgent:t.activeAgent,completedMap:t.completedAgents||{}}),t.thinking&&r.createElement("div",{className:`text-xs text-gray-500 dark:text-gray-400 italic p-3 rounded-xl border ${h?"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700":"bg-gray-50/50 dark:bg-gray-900/20 border-gray-100 dark:border-gray-900"}`},r.createElement("div",{className:`flex items-center gap-2 font-bold text-[11px] ${h?"cursor-pointer select-none":"mb-1.5"}`,onClick:()=>h&&E(!k)},h?r.createElement(r.Fragment,null,r.createElement(ct,{size:11,className:"text-green-400"})," ",r.createElement("span",{className:"text-gray-500"}," ")):r.createElement(r.Fragment,null,r.createElement(Ft,{size:11,className:"animate-spin text-green-400"})," ",r.createElement("span",{className:"text-gray-500"}," ...")),t.activeAgent&&r.createElement("span",{className:`text-[9px] px-1.5 py-0.5 rounded font-bold border not-italic ${{supervisor:"bg-purple-50 text-purple-600 border-purple-200",rag:"bg-blue-50 text-blue-600 border-blue-200",web_search:"bg-cyan-50 text-cyan-600 border-cyan-200",t2sql:"bg-amber-50 text-amber-600 border-amber-200",mcp:"bg-indigo-50 text-indigo-600 border-indigo-200",process:"bg-orange-50 text-orange-600 border-orange-200",synthesizer:"bg-green-50 text-green-600 border-green-200"}[t.activeAgent]||"bg-gray-50 text-gray-600 border-gray-200"}`},{supervisor:"Supervisor",rag:"RAG",web_search:"Web Search",t2sql:"T2SQL",mcp:"MCP",process:"Process",synthesizer:"Synthesizer"}[t.activeAgent]||t.activeAgent),h&&r.createElement("span",{className:"ml-auto p-0.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition"},k?r.createElement(_p,{size:12}):r.createElement(Jc,{size:12}))),r.createElement("div",{className:`pl-4 border-l-2 border-gray-200 dark:border-gray-600 leading-relaxed custom-scrollbar transition-all duration-300 overflow-hidden ${h?k?"max-h-[300px] overflow-y-auto mt-1.5":"max-h-0":"max-h-32 overflow-y-auto mt-1.5"}`},t.thinking)),t.generatedSql&&r.createElement("div",{className:"bg-gray-900 dark:bg-gray-950 rounded-xl p-3 border border-gray-700"},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement("span",{className:"text-[10px] font-bold text-orange-400 uppercase tracking-wider"},"Generated SQL"),r.createElement("button",{onClick:()=>navigator.clipboard.writeText(t.generatedSql),className:"text-gray-500 hover:text-gray-300 transition",title:"SQL "},r.createElement(Tc,{size:11}))),r.createElement("pre",{className:"text-xs text-green-300 font-mono whitespace-pre-wrap leading-relaxed overflow-x-auto"},t.generatedSql)),t.tableData&&r.createElement("div",{className:"overflow-x-auto rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("table",{className:"w-full text-xs"},r.createElement("thead",null,r.createElement("tr",{className:"bg-gray-100 dark:bg-gray-800"},t.tableData.columns.map((S,C)=>r.createElement("th",{key:C,className:"px-3 py-2 text-left font-bold text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700"},S)))),r.createElement("tbody",null,t.tableData.rows.map((S,C)=>r.createElement("tr",{key:C,className:C%2===0?"bg-white dark:bg-gray-900":"bg-gray-50 dark:bg-gray-800/50"},S.map((N,A)=>r.createElement("td",{key:A,className:"px-3 py-2 text-gray-800 dark:text-gray-200 border-b border-gray-100 dark:border-gray-800"},N==null?r.createElement("span",{className:"text-gray-400 italic"},"NULL"):String(N))))))),r.createElement("div",{className:"px-3 py-1.5 text-[10px] text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700"}," ",t.tableData.total,"")),f&&r.createElement("div",{className:`px-4 py-3 rounded-2xl text-sm leading-relaxed break-words relative group/bubble ${d?"bg-green-500 text-white rounded-tr-sm":"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 border border-gray-200 dark:border-gray-700 rounded-tl-sm"}`},d?r.createElement("div",{className:"whitespace-pre-wrap"},t.text):r.createElement("div",{className:"markdown-body prose prose-sm dark:prose-invert max-w-none prose-pre:bg-gray-900 prose-pre:text-gray-100 prose-code:text-gray-600 dark:prose-code:text-gray-400 prose-code:before:content-none prose-code:after:content-none prose-code:font-mono prose-code:text-xs"},r.createElement(ok,{components:M},t.text)),s&&!d&&r.createElement("span",{className:"inline-block w-0.5 h-4 bg-gray-500 animate-pulse ml-0.5 align-text-bottom"}),!d&&!s&&r.createElement("div",{className:"absolute -bottom-8 left-0 flex items-center gap-1 opacity-0 group-hover/bubble:opacity-100 mobile-always-show transition-opacity"},r.createElement("button",{onClick:()=>c(t.text,t.id),className:`p-1.5 rounded-lg transition text-xs flex items-center gap-1 ${g?"text-green-400 bg-green-50 dark:bg-green-800/30":"text-gray-400 hover:text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:""},g?r.createElement(r.Fragment,null,r.createElement(ct,{size:12})," "):r.createElement(Tc,{size:12})),r.createElement("button",{onClick:u,className:"p-1.5 text-gray-400 hover:text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-900/30 rounded-lg transition",title:""},r.createElement(Nx,{size:12})),r.createElement("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),r.createElement("button",{onClick:()=>t.onFeedback&&t.onFeedback(!0),className:`p-1.5 rounded-lg transition ${t.feedback?.is_positive===!0?"text-green-500 bg-green-50 dark:bg-green-800/30":"text-gray-400 hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-800/30"}`,title:""},r.createElement(Rp,{size:12})),r.createElement("button",{onClick:()=>t.onFeedback&&t.onFeedback(!1),className:`p-1.5 rounded-lg transition ${t.feedback?.is_positive===!1?"text-red-600 bg-red-50 dark:bg-red-900/30":"text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:""},r.createElement(Mp,{size:12})))),!d&&!s&&t.sources?.length>0&&r.createElement("div",{className:"flex flex-wrap items-center gap-1.5 mt-1"},r.createElement("span",{className:"text-[10px] text-gray-400 font-medium"},":"),t.sources.map(S=>r.createElement("button",{key:S.id,onClick:C=>{const N=C.currentTarget.getBoundingClientRect();x({source:S,anchorRect:N})},className:"inline-flex items-center gap-1 text-[10px] px-1.5 py-0.5 bg-gray-50 dark:bg-gray-800 text-gray-500 dark:text-gray-400 rounded border border-gray-200 dark:border-gray-700 hover:border-blue-300 hover:text-blue-600 dark:hover:border-blue-700 dark:hover:text-blue-400 transition-colors"},r.createElement(bt,{size:10}),r.createElement("span",{className:"max-w-[120px] truncate"},S.filename)))),y&&r.createElement(yk,{source:y.source,anchorRect:y.anchorRect,onClose:()=>x(null)}),t.attachments&&t.attachments.length>0&&r.createElement("div",{className:`flex flex-wrap gap-1.5 ${d?"justify-end":"justify-start"}`},t.attachments.map((S,C)=>r.createElement("div",{key:C,className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-lg text-[11px] text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600"},r.createElement(Pc,{size:10,className:"text-gray-400"})," ",S.name))))))}function Sk({isOpen:t,onClose:a,onSave:s,initialData:o=null}){const{toast:c}=pr(),u={sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},[d,g]=v.useState({name:"",description:"",model:"llama3.1",systemPrompt:"",published:!0,defaultTools:{sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}}}),[f,h]=v.useState([]),[y,x]=v.useState(!1);v.useEffect(()=>{if(!t)return;(async()=>{x(!0);try{const S=await Ot.getAvailableModels();S?.models&&S.models.length>0&&h(S.models)}catch(S){console.error("   :",S)}finally{x(!1)}})()},[t]);const k=o&&o.agentType&&o.agentType!=="custom";if(v.useEffect(()=>{if(t)if(o){let M=o.defaultTools||{...u};if("sources"in M){if("smartMode"in M){const{smartMode:S,...C}=M;M=C}}else{const{deep_think:S,smartMode:C,...N}=M;M={sources:N}}g({name:o.name,description:o.description||"",model:o.model||"llama3.1",systemPrompt:o.systemPrompt||"",published:o.published,defaultTools:M})}else g({name:"",description:"",model:"llama3.1",systemPrompt:"",published:!0,defaultTools:{sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}}})},[o,t]),!t)return null;const E=()=>{if(!d.name.trim())return c.warning("  .");s(d),a()},O={ollama:"  (Ollama)",openai:" OpenAI",anthropic:" Anthropic",google:" Google AI",groq:" Groq"};return r.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200"},r.createElement("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-2xl overflow-hidden m-4 flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-200"},r.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-b bg-gray-50/50"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("div",{className:"p-2 bg-gray-100 text-gray-600 rounded-lg"},r.createElement(Pt,{size:20})),r.createElement("h3",{className:"text-lg font-bold text-gray-800"},o?" ":"  ")),r.createElement("button",{onClick:a,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition"},r.createElement(Xn,{size:20}))),r.createElement("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar"},r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2 flex items-center gap-2"},r.createElement(jt,{size:16,className:"text-gray-500"}),"  "),k&&r.createElement("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3 text-xs text-purple-700"},r.createElement("span",{className:"font-bold"}," "),"  : ",{supervisor:"",rag:"RAG ",web_search:" ",t2sql:"T2SQL",mcp:"MCP ",process:""}[o.agentType]||o.agentType,".     ."),r.createElement("div",{className:"grid grid-cols-1 gap-4"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-700 mb-1.5"}," ",r.createElement("span",{className:"text-red-500"},"*")),r.createElement("input",{type:"text",value:d.name,onChange:M=>g({...d,name:M.target.value}),placeholder:":   ",className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-green-400 outline-none text-sm",autoFocus:!0})),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-700 mb-1.5"},""),r.createElement("textarea",{value:d.description,onChange:M=>g({...d,description:M.target.value}),placeholder:"    .",className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-green-400 outline-none text-sm resize-none h-20"})))),r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2 flex items-center gap-2"},r.createElement(Tn,{size:16,className:"text-gray-500"}),"  "),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-700 mb-1.5"},"LLM "),r.createElement("div",{className:"relative"},y?r.createElement("div",{className:"w-full p-2.5 border rounded-lg bg-gray-50 flex items-center gap-2 text-sm text-gray-500"},r.createElement(Ft,{size:16,className:"animate-spin"}),r.createElement("span",null,"   ...")):f.length>0?r.createElement("select",{value:d.model,onChange:M=>g({...d,model:M.target.value}),className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-green-400 outline-none bg-white text-sm"},(()=>{const M=f.reduce((S,C)=>{const N=C.provider||"ollama";return S[N]||(S[N]=[]),S[N].push(C),S},{});return Object.entries(M).map(([S,C])=>r.createElement("optgroup",{key:S,label:O[S]||S},C.map(N=>r.createElement("option",{key:N.name,value:N.name},N.display_name||N.name))))})()):r.createElement("div",{className:"w-full p-2.5 border border-yellow-300 bg-yellow-50 rounded-lg text-sm text-gray-700"}," Ollama    . Ollama    .")),r.createElement("p",{className:"text-xs text-gray-500 mt-1"},"  API  :  API     "))),r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2 flex items-center gap-2"},r.createElement(bt,{size:16,className:"text-gray-500"}),"  "),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-700 mb-1.5"}," "),r.createElement("textarea",{value:d.systemPrompt,onChange:M=>g({...d,systemPrompt:M.target.value}),placeholder:"    . (:    .)",className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-green-400 outline-none text-sm resize-none h-32"}))),r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2 flex items-center gap-2"},r.createElement(Lp,{size:16,className:"text-gray-500"}),"   "),r.createElement("p",{className:"text-xs text-gray-500"},"       ."),r.createElement("div",{className:"grid grid-cols-2 gap-3"},[{key:"rag",label:"RAG",desc:"   ",icon:bt,color:"blue"},{key:"web_search",label:" ",desc:"  ",icon:Qt,color:"green"},{key:"mcp",label:"MCP",desc:" MCP  ",icon:zn,color:"indigo"},{key:"sql",label:"SQL",desc:"  ",icon:Ar,color:"amber"}].map(M=>{const S=M.icon,C=d.defaultTools?.sources?.[M.key]??!1,N={blue:C?"bg-blue-50 border-blue-200":"",green:C?"bg-green-50 border-green-200":"",indigo:C?"bg-indigo-50 border-indigo-200":"",amber:C?"bg-amber-50 border-amber-200":""};return r.createElement("label",{key:M.key,className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition hover:shadow-sm ${N[M.color]||"border-gray-200"}`},r.createElement("input",{type:"checkbox",checked:C,onChange:()=>g({...d,defaultTools:{...d.defaultTools,sources:{...d.defaultTools?.sources,[M.key]:!C}}}),className:"mt-0.5 accent-green-500"}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-800"},r.createElement(S,{size:13})," ",M.label),r.createElement("div",{className:"text-[10px] text-gray-500 mt-0.5"},M.desc)))})))),r.createElement("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-3"},r.createElement("button",{onClick:a,className:"px-5 py-2.5 text-sm font-bold text-gray-600 hover:bg-gray-200 bg-white border border-gray-300 rounded-xl transition"},""),r.createElement("button",{onClick:E,className:"px-5 py-2.5 text-sm font-bold text-white bg-green-500 hover:bg-green-600 rounded-xl shadow-lg transition flex items-center gap-2"},r.createElement(Ip,{size:16})," "))))}const Zg={supervisor:ur,rag:bt,web_search:Qt,t2sql:Ct,mcp:zn,process:Xc,custom:Pt},Ck={supervisor:"",rag:"RAG",web_search:"",t2sql:"SQL",mcp:"MCP",process:"",custom:""},ep={supervisor:"bg-purple-50 border-purple-100 text-purple-600",rag:"bg-blue-50 border-blue-100 text-blue-600",web_search:"bg-cyan-50 border-cyan-100 text-cyan-600",t2sql:"bg-amber-50 border-amber-100 text-amber-600",mcp:"bg-indigo-50 border-indigo-100 text-indigo-600",process:"bg-orange-50 border-orange-100 text-orange-600",custom:"bg-green-50 border-green-100 text-green-600"},tp={supervisor:"bg-purple-100 text-purple-700 border-purple-200",rag:"bg-blue-100 text-blue-700 border-blue-200",web_search:"bg-cyan-100 text-cyan-700 border-cyan-200",t2sql:"bg-amber-100 text-amber-700 border-amber-200",mcp:"bg-indigo-100 text-indigo-700 border-indigo-200",process:"bg-orange-100 text-orange-700 border-orange-200",custom:"bg-green-100 text-green-700 border-green-200"};function _k(){const{agents:t,addAgent:a,updateAgent:s,deleteAgent:o}=La(),{toast:c,confirm:u}=pr(),[d,g]=v.useState(""),[f,h]=v.useState(!1),[y,x]=v.useState(null),[k,E]=v.useState(null),O=["agent-general","agent-rag","system-supervisor","system-rag","system-web","system-sql","system-mcp","system-process"];v.useEffect(()=>{const R=()=>E(null);return window.addEventListener("click",R),()=>window.removeEventListener("click",R)},[]);const M=t.filter(R=>R.name.toLowerCase().includes(d.toLowerCase())),S=M.filter(R=>O.includes(R.id)||R.agentType&&R.agentType!=="custom"),C=M.filter(R=>!O.includes(R.id)&&(!R.agentType||R.agentType==="custom")),N=()=>{x(null),h(!0)},A=(R,F)=>{R.stopPropagation(),x(F),h(!0),E(null)},q=(R,F)=>{if(R.stopPropagation(),O.includes(F)){c.warning("    .");return}u("   ?",()=>o(F),{confirmLabel:""})},X=(R,F)=>{R.stopPropagation(),s(F.id,{published:!F.published}),E(null)},L=R=>{y?s(y.id,R):a({id:Jn(),agentType:"custom",...R,updated_at:new Date().toLocaleDateString()})},Z=R=>{if(R.agentType&&Zg[R.agentType])return Zg[R.agentType];switch(R.id){case"agent-general":return dr;case"agent-rag":return bt;default:return Pt}},le=R=>R.agentType&&ep[R.agentType]?ep[R.agentType]:O.includes(R.id)?"bg-green-50 border-green-100 text-green-600":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200 text-gray-600",re=({agent:R,isSystem:F})=>{const K=Z(R),ye=le(R),ae=R.agentType||"custom",ee=tp[ae]||tp.custom,J=Ck[ae]||ae;return r.createElement("div",{className:"group bg-white border border-gray-200 rounded-2xl p-5 hover:shadow-xl hover:border-gray-300 transition-all duration-300 relative flex flex-col"},r.createElement("div",{className:"flex justify-between items-start mb-3"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`w-12 h-12 rounded-2xl border flex items-center justify-center shadow-sm ${ye}`},r.createElement(K,{size:24})),r.createElement("div",null,r.createElement("h3",{className:"font-bold text-gray-800 line-clamp-1 flex items-center gap-1.5",title:R.name},R.name,F&&r.createElement(Pp,{size:12,className:"text-gray-400",title:" "})),r.createElement("div",{className:"flex items-center gap-1.5 mt-1"},ae!=="custom"&&r.createElement("span",{className:`inline-flex items-center gap-1 text-[10px] font-bold px-2 py-0.5 rounded border ${ee}`},J),r.createElement("span",{className:"inline-flex items-center gap-1 bg-gray-100 text-gray-600 text-[10px] font-bold px-2 py-0.5 rounded border border-gray-200"},r.createElement(Tn,{size:10})," ",R.model||"")))),r.createElement("div",{className:"relative"},r.createElement("button",{onClick:me=>{me.stopPropagation(),E(k===R.id?null:R.id)},className:"p-1.5 text-gray-400 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition"},r.createElement(kx,{size:20})),k===R.id&&r.createElement("div",{className:"absolute right-0 top-8 w-32 bg-white border border-gray-200 rounded-xl shadow-xl z-20 overflow-hidden animate-in fade-in zoom-in-95 duration-100"},r.createElement("button",{onClick:me=>A(me,R),className:"w-full text-left px-4 py-2.5 text-xs font-medium text-gray-700 hover:bg-gray-50 flex items-center gap-2"},r.createElement(_x,{size:14})," "),r.createElement("button",{onClick:me=>X(me,R),className:"w-full text-left px-4 py-2.5 text-xs font-medium text-gray-700 hover:bg-gray-50 flex items-center gap-2"},R.published?r.createElement(r.Fragment,null,r.createElement(Dp,{size:14}),"  "):r.createElement(r.Fragment,null,r.createElement(ct,{size:14})," ")),!F&&r.createElement("button",{onClick:me=>q(me,R.id),className:"w-full text-left px-4 py-2.5 text-xs font-medium text-red-600 hover:bg-red-50 flex items-center gap-2 border-t border-gray-50"},r.createElement(Bn,{size:14})," ")))),r.createElement("div",{className:"mb-3"},r.createElement("p",{className:"text-xs text-gray-500 line-clamp-2 leading-relaxed"},R.description||" .")),R.defaultTools?.sources&&Object.values(R.defaultTools.sources).some(me=>me)&&r.createElement("div",{className:"flex flex-wrap items-center gap-1 mb-3"},R.defaultTools.sources?.rag&&r.createElement("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold bg-blue-50 text-blue-600 border border-blue-200"},r.createElement(bt,{size:9})," RAG"),R.defaultTools.sources?.web_search&&r.createElement("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold bg-green-50 text-green-600 border border-green-200"},r.createElement(Qt,{size:9})," Web"),R.defaultTools.sources?.mcp&&r.createElement("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold bg-indigo-50 text-indigo-600 border border-indigo-200"},r.createElement(zn,{size:9})," MCP"),R.defaultTools.sources?.sql&&r.createElement("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold bg-amber-50 text-amber-600 border border-amber-200"},r.createElement(Ar,{size:9})," SQL")),R.systemPrompt?r.createElement("div",{className:"mb-3 bg-gray-50 rounded-lg p-2.5 border border-gray-100"},r.createElement("div",{className:"flex items-center gap-1 mb-1"},r.createElement(xn,{size:10,className:"text-gray-400"}),r.createElement("span",{className:"text-[10px] font-bold text-gray-400 uppercase"}," ")),r.createElement("p",{className:"text-[11px] text-gray-600 line-clamp-2 leading-relaxed italic"},'"',R.systemPrompt,'"')):r.createElement("div",{className:"mb-3 bg-gray-50 rounded-lg p-2.5 border border-dashed border-gray-200"},r.createElement("p",{className:"text-[11px] text-gray-400 text-center"},"  ")),r.createElement("div",{className:"pt-3 border-t border-gray-100 flex items-center justify-between text-xs mt-auto"},r.createElement("div",{className:"text-gray-400 flex items-center gap-1"},r.createElement(Tp,{size:12})," ",R.updated_at),r.createElement("div",null,R.published?r.createElement("span",{className:"flex items-center gap-1 text-green-500 font-bold bg-green-50 px-2 py-1 rounded-full"},r.createElement(ct,{size:10})," "):r.createElement("span",{className:"flex items-center gap-1 text-gray-500 font-bold bg-gray-100 px-2 py-1 rounded-full"},""))))};return r.createElement("div",{className:"h-full flex flex-col p-6 bg-gray-50/50"},r.createElement("div",{className:"flex justify-between items-start mb-8"},r.createElement("div",null,r.createElement("h2",{className:"text-2xl font-bold text-gray-800"}," "),r.createElement("p",{className:"text-sm text-gray-500 mt-1"},"    .")),r.createElement("button",{onClick:N,className:"flex items-center gap-2 px-5 py-2.5 bg-green-500 text-white rounded-xl hover:bg-green-600 transition shadow-lg shadow-green-100 font-bold text-sm"},r.createElement(Zt,{size:18})," ",r.createElement("span",null," "))),r.createElement("div",{className:"mb-6 relative max-w-md"},r.createElement(po,{size:18,className:"absolute left-3 top-3 text-gray-400"}),r.createElement("input",{type:"text",placeholder:"  ...",value:d,onChange:R=>g(R.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-400 outline-none bg-white shadow-sm transition"})),M.length===0?r.createElement("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 gap-4"},r.createElement("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center"},r.createElement(Pt,{size:40,className:"text-gray-300"})),r.createElement("p",null,"  .")):r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar pb-4 space-y-8"},S.length>0&&r.createElement("div",null,r.createElement("div",{className:"flex items-center gap-2 mb-4"},r.createElement(ur,{size:16,className:"text-purple-500"}),r.createElement("h3",{className:"text-sm font-bold text-gray-700"}," "),r.createElement("span",{className:"text-[10px] text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full font-medium"},S.length,"")),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5"},S.map(R=>r.createElement(re,{key:R.id,agent:R,isSystem:!0})))),C.length>0&&r.createElement("div",null,r.createElement("div",{className:"flex items-center gap-2 mb-4"},r.createElement(Pt,{size:16,className:"text-green-500"}),r.createElement("h3",{className:"text-sm font-bold text-gray-700"}," "),r.createElement("span",{className:"text-[10px] text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full font-medium"},C.length,"")),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5"},C.map(R=>r.createElement(re,{key:R.id,agent:R,isSystem:!1}))))),r.createElement(Sk,{isOpen:f,onClose:()=>h(!1),onSave:L,initialData:y}))}function Tk({kbId:t}){const[a,s]=v.useState([]),[o,c]=v.useState(!0),[u,d]=v.useState(null),[g,f]=v.useState([]),[h,y]=v.useState(!1),[x,k]=v.useState(!1),[E,O]=v.useState(""),[M,S]=v.useState(null),[C,N]=v.useState(0),[A,q]=v.useState(null),[X,L]=v.useState(null),Z=v.useRef(null),[le,re]=v.useState(null);v.useEffect(()=>{let J=!1;return(async()=>{c(!0);const G=await on.getFilesList(t);J||(s(G.files||[]),c(!1))})(),()=>{J=!0}},[t]);const R=v.useCallback(async(J=null,me=null,G=null,ue=!1)=>{ue?k(!0):y(!0),L(null);try{const w=await on.getChunks(t,J,20,me||null,G||null);f(ue?j=>[...j,...w.chunks]:w.chunks),N(w.total),S(w.next_offset)}catch(w){L(w.message||"   .")}finally{y(!1),k(!1)}},[t]);v.useEffect(()=>{R(null,E||null,u)},[u,R]);const F=J=>{O(J),Z.current&&clearTimeout(Z.current),Z.current=setTimeout(()=>{R(null,J,u)},400)},K=()=>{M&&!x&&R(M,E||null,u,!0)},ye=J=>{d(J===u?null:J),O(""),q(null)},ae=a.reduce((J,me)=>J+me.chunk_count,0),ee=u?a.find(J=>J.source===u)?.filename||"unknown":null;return r.createElement("div",{className:"h-full flex bg-gray-50"},r.createElement("div",{className:"w-72 border-r border-gray-200 bg-white flex flex-col shrink-0"},r.createElement("div",{className:"h-14 border-b border-gray-200 flex items-center px-5 gap-3 shrink-0 bg-gray-50"},r.createElement("div",{className:"p-2 rounded-lg bg-gray-600"},r.createElement(xx,{size:16,className:"text-white"})),r.createElement("span",{className:"text-sm font-bold text-gray-900"}," "),r.createElement("span",{className:"ml-auto text-xs text-gray-600 font-semibold bg-gray-100 px-2.5 py-1 rounded-full"},a.length)),r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar"},o?r.createElement("div",{className:"flex items-center justify-center py-8"},r.createElement(Ft,{size:20,className:"animate-spin text-green-200"})):a.length===0?r.createElement("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400"},r.createElement(bt,{size:24,className:"mb-2 text-gray-300"}),r.createElement("p",{className:"text-xs"},"  ")):r.createElement("div",{className:"p-3 space-y-1"},r.createElement("button",{onClick:()=>ye(null),className:`group w-full text-left px-4 py-3 rounded-lg text-sm transition-all ${u===null?"bg-green-500 text-white font-semibold shadow-sm":"text-gray-700 hover:bg-gray-50 font-medium"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`p-1.5 rounded-lg transition-all ${u===null?"bg-gray-500":"bg-gray-100 group-hover:bg-gray-200"}`},r.createElement(Sa,{size:14,className:u===null?"text-white":"text-gray-600"})),r.createElement("span",{className:"truncate"}," "),r.createElement("span",{className:`ml-auto text-xs px-2 py-0.5 rounded-full font-semibold transition-all ${u===null?"bg-green-400 text-white":"bg-gray-100 text-gray-600 group-hover:bg-gray-200"}`},ae))),a.map(J=>r.createElement("button",{key:J.source,onClick:()=>ye(J.source),className:`group w-full text-left px-4 py-3 rounded-lg text-sm transition-all ${u===J.source?"bg-purple-600 text-white font-semibold shadow-sm":"text-gray-700 hover:bg-gray-50 font-medium"}`,title:J.source},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`p-1.5 rounded-lg transition-all ${u===J.source?"bg-purple-500":"bg-gray-100 group-hover:bg-gray-200"}`},r.createElement(bt,{size:14,className:u===J.source?"text-white":"text-gray-600"})),r.createElement("span",{className:"truncate flex-1"},J.filename),r.createElement("span",{className:`shrink-0 text-xs px-2 py-0.5 rounded-full font-semibold transition-all ${u===J.source?"bg-purple-500 text-white":"bg-gray-100 text-gray-600 group-hover:bg-gray-200"}`},J.chunk_count))))))),r.createElement("div",{className:"flex-1 flex flex-col min-w-0"},r.createElement("div",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-6 bg-white shrink-0"},r.createElement("div",{className:"flex items-center gap-3 min-w-0"},u&&r.createElement("button",{onClick:()=>ye(null),className:"shrink-0 flex items-center gap-2 text-sm font-semibold text-white bg-purple-600 hover:bg-purple-700 px-3 py-2 rounded-lg transition-colors shadow-sm"},r.createElement(bt,{size:13}),r.createElement("span",{className:"max-w-[120px] truncate"},ee),r.createElement(Xn,{size:13})),r.createElement("div",{className:"relative w-64"},r.createElement(po,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.createElement("input",{type:"text",placeholder:" ...",value:E,onChange:J=>F(J.target.value),className:"w-full pl-10 pr-4 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400 outline-none bg-white"})),E&&r.createElement("button",{onClick:()=>{O(""),R(null,null,u)},className:"text-sm text-gray-600 hover:text-gray-900 font-semibold transition-colors"},"")),r.createElement("span",{className:"text-sm font-semibold text-gray-900 bg-gray-100 px-4 py-2 rounded-full flex items-center gap-2"},r.createElement(Sa,{size:14,className:"text-gray-600"})," ",C,"")),r.createElement("div",{className:"flex-1 overflow-y-auto p-3 custom-scrollbar"},h?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-400"},r.createElement(Ft,{size:28,className:"animate-spin text-green-300 mb-3"}),r.createElement("p",{className:"text-sm font-bold"},"   ...")):X?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-400"},r.createElement(Ll,{size:28,className:"text-red-400 mb-3"}),r.createElement("p",{className:"text-sm font-bold mb-1"}," "),r.createElement("p",{className:"text-xs"},X),r.createElement("button",{onClick:()=>R(null,null,u),className:"mt-3 px-3 py-1.5 bg-green-500 text-white rounded-lg text-xs font-bold hover:bg-green-600 transition"}," ")):g.length===0?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-400"},r.createElement("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mb-3"},r.createElement(Sa,{size:28,className:"text-orange-300"})),r.createElement("h3",{className:"text-base font-bold text-gray-500"},E?"  ":u?"   ":"  "),r.createElement("p",{className:"text-xs mt-1 text-center text-gray-400"},E?"  .":"   .")):r.createElement("div",{className:"space-y-1.5"},g.map(J=>{const me=A===J.id,G=J.content_type==="image",ue=J.text.length>200?J.text.slice(0,200)+"...":J.text,w=J.source?J.source.split("/").pop().split("\\").pop():"unknown",j=J.thumbnail_path||null,B=J.image_path||null;return r.createElement("div",{key:J.id,className:`group bg-white border rounded-lg transition-all cursor-pointer ${me?"border-gray-400 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onClick:()=>q(me?null:J.id)},r.createElement("div",{className:"flex items-center gap-3 px-4 py-3.5"},r.createElement("span",{className:`shrink-0 w-11 h-11 rounded-lg flex items-center justify-center text-sm font-bold shadow-sm transition-all ${G?"bg-pink-600 text-white":"bg-green-500 text-white"}`},G?r.createElement(_l,{size:18}):`#${J.chunk_index}`),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center gap-2 flex-wrap"},!u&&r.createElement(r.Fragment,null,r.createElement("div",{className:`p-1 rounded-lg ${G?"bg-pink-50":"bg-gray-50"}`},G?r.createElement(_l,{size:13,className:"text-pink-600 shrink-0"}):r.createElement(bt,{size:13,className:"text-gray-600 shrink-0"})),r.createElement("span",{className:"text-xs font-semibold text-gray-700 truncate"},w)),G&&r.createElement("span",{className:"text-xs font-semibold bg-pink-600 text-white px-2.5 py-1 rounded-full"},"IMAGE"),J.score!=null&&r.createElement("span",{className:"text-xs font-semibold bg-green-500 text-white px-2.5 py-1 rounded-full"},J.score)),!me&&!G&&r.createElement("p",{className:"text-sm text-gray-700 mt-1.5 line-clamp-2 leading-relaxed"},ue),!me&&G&&J.caption&&r.createElement("p",{className:"text-sm text-gray-700 mt-1.5 line-clamp-1 leading-relaxed italic"},J.caption)),r.createElement("div",{className:`shrink-0 transition-all ${me?"text-gray-600":"text-gray-400 group-hover:text-gray-500"}`},me?r.createElement(_p,{size:16}):r.createElement(Jc,{size:16}))),me&&r.createElement("div",{className:"px-4 pb-4 space-y-3"},G?r.createElement(r.Fragment,null,j&&r.createElement("div",{className:"relative group/img"},r.createElement("img",{src:j,alt:w,className:"w-full max-w-lg mx-auto rounded-lg border-2 border-gray-200 cursor-pointer hover:border-gray-500 transition-all shadow-sm",onClick:_=>{_.stopPropagation(),re(B)}}),r.createElement("button",{onClick:_=>{_.stopPropagation(),re(B)},className:"absolute top-3 right-3 p-2.5 bg-green-500 hover:bg-green-600 text-white rounded-lg opacity-0 group-hover/img:opacity-100 transition-all shadow-sm",title:"  "},r.createElement(hx,{size:16}))),r.createElement("div",{className:"bg-pink-50 rounded-lg p-4 space-y-2 text-sm border border-pink-200"},J.caption&&r.createElement("div",{className:"flex gap-2"},r.createElement("span",{className:"font-semibold text-pink-700 shrink-0"},":"),r.createElement("span",{className:"text-gray-700 italic"},J.caption)),J.ocr_text&&r.createElement("div",{className:"flex gap-2"},r.createElement("span",{className:"font-semibold text-pink-700 shrink-0"},":"),r.createElement("span",{className:"text-gray-700"},J.ocr_text)),J.image_dimensions&&r.createElement("div",{className:"flex gap-2"},r.createElement("span",{className:"font-semibold text-pink-700 shrink-0"},":"),r.createElement("span",{className:"text-gray-700"},J.image_dimensions)))):r.createElement("div",{className:"bg-gray-50 rounded-lg p-4 text-sm text-gray-700 leading-relaxed whitespace-pre-wrap font-mono border border-gray-200 max-h-96 overflow-y-auto custom-scrollbar"},J.text),r.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-600 flex-wrap"},r.createElement("span",{className:"flex items-center gap-1.5 bg-gray-100 px-2.5 py-1 rounded-lg"},r.createElement(bx,{size:11})," ",J.id.slice(0,12),"..."),!u&&J.source&&r.createElement("button",{onClick:_=>{_.stopPropagation(),ye(J.source)},className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded-lg font-semibold transition-colors"},"  "),J.metadata?.uploaded_at&&r.createElement("span",{className:"bg-gray-100 px-2.5 py-1 rounded-lg"},": ",J.metadata.uploaded_at),!G&&r.createElement("span",{className:"bg-gray-100 px-2.5 py-1 rounded-lg"},": ",J.text.length,""))))}),M&&!E&&r.createElement("div",{className:"flex justify-center py-3"},r.createElement("button",{onClick:J=>{J.stopPropagation(),K()},disabled:x,className:"px-5 py-2 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-xl text-xs font-bold transition disabled:opacity-50 flex items-center gap-2"},x?r.createElement(r.Fragment,null,r.createElement(Ft,{size:13,className:"animate-spin"}),"  ..."):r.createElement(r.Fragment,null,"  (",g.length,"/",C,")")))))),le&&r.createElement("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-8",onClick:()=>re(null)},r.createElement("button",{onClick:()=>re(null),className:"absolute top-6 right-6 p-4 bg-white/10 hover:bg-white/20 text-white rounded-full transition-colors shadow-lg"},r.createElement(Xn,{size:28})),r.createElement("img",{src:le,alt:"Full size",className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",onClick:J=>J.stopPropagation()})))}function zk(){const{knowledgeBases:t,currentKbId:a,setCurrentKbId:s,addFilesToKb:o,updateFileStatusInKb:c,updateKbConfig:u,setKnowledgeBases:d,removeFileFromKb:g}=La(),{toast:f,confirm:h}=pr(),[y,x]=v.useState("list"),[k,E]=v.useState("files"),[O,M]=v.useState(!1),[S,C]=v.useState(""),[N,A]=v.useState(!1),[q,X]=v.useState(!1),[L,Z]=v.useState({name:"",description:"",chunkingMethod:"fixed",chunkSize:512,chunkOverlap:50,semanticThreshold:.75,externalServiceId:""}),[le,re]=v.useState({}),[R,F]=v.useState([]),K=v.useRef(null),ye=v.useRef(null),ae=t.find(de=>de.id===a),ee=ae?.files||[];v.useEffect(()=>{const de=async()=>{const Ye={};for(const We of t)try{const Q=await on.getStats(We.id);Q&&(Ye[We.id]=Q)}catch{}re(Ye)};t.length>0&&de()},[t.length,y]);const[J,me]=v.useState(null),[G,ue]=v.useState(!1),w=async de=>{me({fileId:de.id,fileName:de.name,source:de.source||de.name})},j=async()=>{if(J){ue(!0);try{await on.deleteFileChunks(a,J.source)}catch(de){console.warn("VDB chunk deletion failed:",de.message)}g(J.fileId),me(null),ue(!1)}},B=de=>{s(de),x("detail"),E("files")},_=de=>{de.preventDefault(),M(!0)},be=()=>M(!1),Ie=de=>{de.preventDefault(),M(!1),Ne(Array.from(de.dataTransfer.files))},Ne=async de=>{const Ye=de.map(We=>({id:Jn(),name:We.name,size:(We.size/1024).toFixed(1)+" KB",type:We.type||"Unknown",status:"uploading",progress:0,rawFile:We}));o(Ye);for(const We of Ye)try{c(We.id,"processing"),await kp(We.rawFile,a),c(We.id,"ready")}catch(Q){console.error("Upload Error:",Q);const te=Q?.message||" .";c(We.id,"error",te)}},Fe=async()=>{const de=await sx.list();F((de.services||[]).filter(Ye=>Ye.service_type==="qdrant"))},Le=()=>{Z({name:"",description:"",chunkingMethod:"fixed",chunkSize:512,chunkOverlap:50,semanticThreshold:.75,externalServiceId:""}),Fe(),X(!0)},Oe=()=>{ae&&(Z({name:ae.name,description:ae.description,chunkingMethod:ae.chunkingMethod||ae.config?.chunkingMethod||"fixed",chunkSize:ae.chunkSize||ae.config?.chunkSize||512,chunkOverlap:ae.chunkOverlap||ae.config?.chunkOverlap||50,semanticThreshold:ae.semanticThreshold||ae.config?.semanticThreshold||.75,externalServiceId:ae.externalServiceId||""}),Fe(),A(!0))},Qe=async de=>{if(!L.name.trim())return f.warning(" .");const Ye={name:L.name,description:L.description,config:{chunkingMethod:L.chunkingMethod,chunkSize:L.chunkSize,chunkOverlap:L.chunkOverlap,semanticThreshold:L.semanticThreshold},externalServiceId:L.externalServiceId||""};if(de){const We=Jn();try{await on.createBase({kb_id:We,name:L.name,description:L.description,chunk_size:L.chunkSize,chunk_overlap:L.chunkOverlap,chunking_method:L.chunkingMethod,semantic_threshold:L.semanticThreshold,external_service_id:L.externalServiceId||null})}catch(Q){console.error("KB create API failed:",Q)}d(Q=>[...Q,{id:We,files:[],created_at:new Date().toLocaleDateString(),...Ye}]),X(!1)}else{try{await on.updateBase(a,{name:L.name,description:L.description,chunk_size:L.chunkSize,chunk_overlap:L.chunkOverlap,chunking_method:L.chunkingMethod,semantic_threshold:L.semanticThreshold,external_service_id:L.externalServiceId||null})}catch(We){console.error("KB update API failed:",We)}d(We=>We.map(Q=>Q.id===a?{...Q,...Ye}:Q)),A(!1)}},Ue=()=>{if(t.length<=1)return f.warning("   .");h("?",()=>{const de=t.filter(Ye=>Ye.id!==a);d(de),s(de[0].id),x("list"),A(!1)},{confirmLabel:""})},lt=()=>r.createElement(Lk,{kbId:a}),Et=()=>r.createElement("div",{className:"space-y-5"},r.createElement("div",{className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5"},""),r.createElement("input",{type:"text",value:L.name,onChange:de=>Z({...L,name:de.target.value}),className:"w-full p-2.5 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 focus:border-green-400 bg-white",placeholder:"  "})),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5"},""),r.createElement("textarea",{value:L.description,onChange:de=>Z({...L,description:de.target.value}),className:"w-full p-2.5 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 focus:border-green-400 bg-white resize-none h-20",placeholder:"  "}))),r.createElement("div",{className:"border-t border-gray-200 pt-5 space-y-4"},r.createElement("label",{className:"block text-sm font-bold text-gray-900 flex items-center gap-2"},r.createElement(Lp,{size:15}),"  "),r.createElement("div",{className:"grid grid-cols-2 gap-3"},r.createElement("div",{onClick:()=>Z({...L,chunkingMethod:"fixed"}),className:`p-4 border-2 rounded-lg cursor-pointer transition-all flex flex-col items-center gap-2 text-center ${L.chunkingMethod==="fixed"?"border-green-400 bg-green-50":"border-gray-300 hover:border-gray-400 bg-white"}`},r.createElement("div",{className:`p-2 rounded-lg ${L.chunkingMethod==="fixed"?"bg-gray-100 text-gray-600":"bg-gray-100 text-gray-500"}`},r.createElement(gx,{size:18})),r.createElement("div",null,r.createElement("div",{className:"font-bold text-sm text-gray-900"}," "),r.createElement("div",{className:"text-[10px] text-gray-500"},"Fixed Size"))),r.createElement("div",{onClick:()=>Z({...L,chunkingMethod:"semantic"}),className:`p-4 border-2 rounded-lg cursor-pointer transition-all flex flex-col items-center gap-2 text-center ${L.chunkingMethod==="semantic"?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-gray-400 bg-white"}`},r.createElement("div",{className:`p-2 rounded-lg ${L.chunkingMethod==="semantic"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-500"}`},r.createElement(ur,{size:18})),r.createElement("div",null,r.createElement("div",{className:"font-bold text-sm text-gray-900"}," "),r.createElement("div",{className:"text-[10px] text-gray-500"},"Semantic")))),r.createElement("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4"},L.chunkingMethod==="fixed"?r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement("div",{className:"flex justify-between mb-1.5"},r.createElement("label",{className:"text-xs font-semibold text-gray-700"},"Chunk Size (Token)"),r.createElement("span",{className:"text-xs font-mono bg-gray-50 text-gray-700 px-2 py-0.5 rounded border border-gray-200"},L.chunkSize)),r.createElement("input",{type:"range",min:"128",max:"2048",step:"128",value:L.chunkSize,onChange:de=>Z({...L,chunkSize:Number(de.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-green-500"})),r.createElement("div",null,r.createElement("div",{className:"flex justify-between mb-1.5"},r.createElement("label",{className:"text-xs font-semibold text-gray-700"},"Chunk Overlap"),r.createElement("span",{className:"text-xs font-mono bg-gray-50 text-gray-700 px-2 py-0.5 rounded border border-gray-200"},L.chunkOverlap)),r.createElement("input",{type:"range",min:"0",max:"200",step:"10",value:L.chunkOverlap,onChange:de=>Z({...L,chunkOverlap:Number(de.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-green-500"}))):r.createElement("div",null,r.createElement("div",{className:"flex gap-2 bg-purple-50 border border-purple-200 p-3 rounded-lg text-xs text-purple-900 mb-3"},r.createElement(jt,{size:14,className:"shrink-0 mt-0.5"}),r.createElement("p",null,r.createElement("strong",null," ?"),r.createElement("br",null),"       .      .")),r.createElement("div",null,r.createElement("div",{className:"flex justify-between mb-1.5"},r.createElement("label",{className:"text-xs font-semibold text-gray-700"},"Similarity Threshold"),r.createElement("span",{className:"text-xs font-mono bg-purple-50 text-purple-700 px-2 py-0.5 rounded border border-purple-200"},L.semanticThreshold)),r.createElement("input",{type:"range",min:"0.1",max:"0.95",step:"0.05",value:L.semanticThreshold,onChange:de=>Z({...L,semanticThreshold:Number(de.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-purple-600"}),r.createElement("p",{className:"text-[10px] text-gray-500 mt-1 text-right"},"    .")))),r.createElement("div",{className:"flex items-center gap-2 text-xs text-amber-800 bg-amber-50 border border-amber-200 p-2.5 rounded-lg"},r.createElement(jt,{size:13,className:"shrink-0"}),r.createElement("span",null,"     ."))),R.length>0&&r.createElement("div",{className:"border-t border-gray-200 pt-5 space-y-3"},r.createElement("label",{className:"block text-sm font-bold text-gray-900 flex items-center gap-2"},r.createElement(Sl,{size:15}),"  DB "),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5"},"Qdrant "),r.createElement("select",{value:L.externalServiceId,onChange:de=>Z({...L,externalServiceId:de.target.value}),className:"w-full p-2.5 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 focus:border-green-400 bg-white cursor-pointer"},r.createElement("option",{value:""}," ( Qdrant)"),R.map(de=>r.createElement("option",{key:de.service_id,value:de.service_id},de.name," (",de.url,")"))),r.createElement("p",{className:"text-[10px] text-gray-500 mt-1"},"   Qdrant  ."))));return y==="list"?r.createElement("div",{className:"h-full flex flex-col p-8 bg-gray-50 overflow-y-auto custom-scrollbar"},r.createElement("div",{className:"flex justify-between items-end mb-8"},r.createElement("div",null,r.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-2"}," "),r.createElement("p",{className:"text-gray-600"},"AI     .")),r.createElement("button",{onClick:Le,className:"flex items-center gap-2 px-5 py-3 bg-green-500 hover:bg-green-600 text-white rounded-lg font-semibold transition-colors shadow-sm"},r.createElement(Zt,{size:20}),r.createElement("span",null,"  "))),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5"},t.map((de,Ye)=>r.createElement("div",{key:de.id,onClick:()=>B(de.id),className:`group bg-white border border-gray-200 rounded-xl p-5 hover:shadow-lg hover:border-green-200 hover-lift cursor-pointer flex flex-col h-56 animate-scaleIn animate-stagger-${Math.min(Ye%4+1,4)}`},r.createElement("div",{className:"flex items-start justify-between mb-4"},r.createElement("div",{className:"p-3 bg-green-50 text-green-500 rounded-lg group-hover:bg-green-50 group-hover:scale-110 transition-all"},r.createElement(Ct,{size:22,className:"group-hover:rotate-6 transition-transform"})),de.config?.chunkingMethod==="semantic"&&r.createElement("span",{className:"text-[10px] font-semibold px-2 py-1 bg-purple-50 text-purple-700 rounded-full border border-purple-200 animate-fadeIn"},"Semantic")),r.createElement("h3",{className:"text-base font-bold text-gray-900 mb-2 group-hover:text-green-500 transition-colors"},de.name),r.createElement("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4 flex-1"},de.description||" ."),r.createElement("div",{className:"pt-3 border-t border-gray-100 flex items-center justify-between text-xs text-gray-500"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("span",{className:"flex items-center gap-1 hover:text-gray-600 transition-colors"},r.createElement(bt,{size:11})," ",le[de.id]?.file_count??de.files.length),r.createElement("span",{className:"flex items-center gap-1 hover:text-purple-600 transition-colors"},r.createElement(Sa,{size:11})," ",le[de.id]?.chunk_count??""),r.createElement("span",{className:"flex items-center gap-1 hover:text-green-500 transition-colors"},r.createElement(Ca,{size:11})," ",le[de.id]?.graph_node_count??""))))),r.createElement("button",{onClick:Le,className:"group border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center text-gray-400 hover:border-green-300 hover:text-green-500 hover:bg-green-50 hover-lift h-56 gap-3 animate-scaleIn"},r.createElement("div",{className:"p-3 bg-gray-100 group-hover:bg-green-50 rounded-full group-hover:scale-110 transition-all"},r.createElement(Zt,{size:24,className:"group-hover:rotate-90 transition-transform"})),r.createElement("span",{className:"font-semibold"},"  "))),r.createElement(ao,{isOpen:q,onClose:()=>X(!1),title:"   "},r.createElement("div",{className:"p-6"},Et(),r.createElement("div",{className:"mt-8 flex justify-end gap-3"},r.createElement("button",{onClick:()=>X(!1),className:"px-5 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},""),r.createElement("button",{onClick:()=>Qe(!0),className:"px-5 py-2.5 text-sm font-semibold text-white bg-green-500 hover:bg-green-600 rounded-lg transition-colors shadow-sm"},""))))):r.createElement("div",{className:"h-full flex flex-col p-6 bg-gray-50"},r.createElement("div",{className:"flex justify-between items-center mb-5"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("button",{onClick:()=>x("list"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-600 transition-colors shadow-sm"},r.createElement(px,{size:20})),r.createElement("div",null,r.createElement("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2"},ae?.name,r.createElement("span",{className:"text-xs font-medium text-purple-700 bg-purple-50 px-2.5 py-1 rounded-full border border-purple-200"},ae?.config?.chunkingMethod==="semantic"?"Semantic":"Fixed")),r.createElement("div",{className:"flex items-center gap-3 mt-1"},r.createElement("p",{className:"text-sm text-gray-600"},ae?.description||" ."),le[a]&&r.createElement("span",{className:"flex items-center gap-3 text-xs text-gray-500 ml-2 border-l pl-3 border-gray-300"},r.createElement("span",{className:"flex items-center gap-1"},r.createElement(Sa,{size:10})," ",le[a].chunk_count),r.createElement("span",{className:"flex items-center gap-1"},r.createElement(Ca,{size:10})," ",le[a].graph_node_count),r.createElement("span",{className:"flex items-center gap-1"},r.createElement(zc,{size:10})," ",le[a].graph_edge_count))))),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:"flex bg-gray-100 p-1 rounded-lg border border-gray-200"},r.createElement("button",{onClick:()=>E("files"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${k==="files"?"bg-white text-gray-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`},r.createElement(bt,{size:15})," "),r.createElement("button",{onClick:()=>E("chunks"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${k==="chunks"?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`},r.createElement(Sa,{size:15})," "),r.createElement("button",{onClick:()=>E("graph"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${k==="graph"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`},r.createElement(Ca,{size:15})," ")),r.createElement("button",{onClick:Oe,className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium shadow-sm"},r.createElement(fo,{size:15})," ",r.createElement("span",null,"")))),r.createElement("div",{className:"flex-1 bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col overflow-hidden"},k==="files"?r.createElement(r.Fragment,null,r.createElement("div",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-5 bg-gray-50"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("input",{type:"file",multiple:!0,className:"hidden",ref:K,onChange:de=>Ne(Array.from(de.target.files))}),r.createElement("input",{type:"file",multiple:!0,webkitdirectory:"",className:"hidden",ref:ye,onChange:de=>Ne(Array.from(de.target.files))}),r.createElement("button",{onClick:()=>K.current?.click(),className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-sm font-medium transition-colors shadow-sm"},r.createElement(Ml,{size:15}),"  "),r.createElement("button",{onClick:()=>ye.current?.click(),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 rounded-lg text-sm font-medium transition-colors shadow-sm"},r.createElement(yx,{size:15}),"  ")),r.createElement("div",{className:"relative w-64"},r.createElement(po,{size:15,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.createElement("input",{type:"text",placeholder:" ...",value:S,onChange:de=>C(de.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400 outline-none bg-white"}))),r.createElement("div",{className:`flex-1 overflow-y-auto p-4 transition-colors ${O?"bg-gray-50":"bg-white"}`,onDragOver:_,onDragLeave:be,onDrop:Ie},ee.length===0?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 border-2 border-dashed border-gray-300 rounded-xl m-4"},r.createElement("div",{className:"w-20 h-20 bg-gray-50 rounded-xl flex items-center justify-center mb-4"},r.createElement(Ml,{size:36,className:"text-gray-500"})),r.createElement("h3",{className:"text-base font-bold text-gray-700 mb-2"}," "),r.createElement("p",{className:"text-sm text-center text-gray-500 mb-1"},"PDF, DOCX, TXT, MD, PPTX, XLSX, JPG, PNG "),r.createElement("p",{className:"text-sm text-center text-gray-500"},"    "),r.createElement("p",{className:"text-xs text-gray-400 mt-3"}," 500MB")):r.createElement("div",{className:"grid grid-cols-1 gap-2"},ee.filter(de=>de.name.toLowerCase().includes(S.toLowerCase())).map((de,Ye)=>{const We=de.type==="image"||/\.(jpg|jpeg|png|gif|webp)$/i.test(de.name),Q=de.thumbnail_path||null;return r.createElement("div",{key:de.id,className:`group flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-md hover:border-gray-300 hover-lift transition-all animate-slideUp animate-stagger-${Math.min(Ye%4+1,4)}`},r.createElement("div",{className:"flex items-center gap-3"},We&&Q?r.createElement("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0 border-2 border-gray-200 group-hover:border-pink-400 transition-colors"},r.createElement("img",{src:Q,alt:de.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),r.createElement("div",{className:"absolute inset-0 bg-pink-500/10 opacity-0 group-hover:opacity-100 transition-opacity"})):r.createElement("div",{className:`p-2.5 rounded-lg ${We?"bg-pink-50 text-pink-600":"bg-red-50 text-red-600"} group-hover:scale-110 transition-transform`},r.createElement(bt,{size:18})),r.createElement("div",null,r.createElement("div",{className:"font-semibold text-gray-900 text-sm flex items-center gap-2"},de.name,We&&r.createElement("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-pink-100 text-pink-700 rounded-full"},"IMAGE")),r.createElement("div",{className:"text-xs text-gray-500 mt-0.5 flex items-center gap-2"},r.createElement("span",null,de.size),r.createElement("span",{className:"w-1 h-1 bg-gray-300 rounded-full"}),r.createElement("span",{className:"capitalize"},de.type)))),r.createElement("div",{className:"flex items-center gap-3"},de.status==="ready"&&r.createElement("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-green-600 bg-green-50 px-2.5 py-1 rounded-full border border-green-100"},r.createElement(ct,{size:11})," "),de.status==="uploading"&&r.createElement("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-amber-700 bg-amber-50 px-2.5 py-1 rounded-full border border-amber-200"},r.createElement(Ft,{size:11,className:"animate-spin"}),"  "),de.status==="processing"&&r.createElement("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-gray-700 bg-gray-50 px-2.5 py-1 rounded-full border border-gray-200"},r.createElement(Ft,{size:11,className:"animate-spin"}),"  "),de.status==="error"&&r.createElement("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-red-700 bg-red-50 px-2.5 py-1 rounded-full border border-red-200 cursor-help",title:de.errorMessage||" "},r.createElement(Ll,{size:11})," "),r.createElement("button",{onClick:()=>w(de),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg hover:scale-110 active:scale-95 transition-all opacity-0 group-hover:opacity-100"},r.createElement(Bn,{size:16}))))})))):k==="chunks"?r.createElement(Tk,{kbId:a}):r.createElement(lt,null)),r.createElement(ao,{isOpen:N,onClose:()=>A(!1),title:"  "},r.createElement("div",{className:"p-6"},Et(),r.createElement("div",{className:"mt-8 flex justify-between items-center"},r.createElement("button",{onClick:Ue,className:"text-red-600 text-sm font-semibold hover:text-red-700 hover:bg-red-50 px-3 py-2 rounded-lg transition-colors flex items-center gap-1.5"},r.createElement(Bn,{size:14})," "),r.createElement("div",{className:"flex gap-3"},r.createElement("button",{onClick:()=>A(!1),className:"px-5 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},""),r.createElement("button",{onClick:()=>Qe(!1),className:"px-5 py-2.5 text-sm font-semibold text-white bg-green-500 hover:bg-green-600 rounded-lg transition-colors shadow-sm"},""))))),r.createElement(ao,{isOpen:!!J,onClose:()=>!G&&me(null),title:"  "},r.createElement("div",{className:"p-6"},r.createElement("div",{className:"flex items-center gap-3 mb-4 p-4 bg-red-50 border border-red-200 rounded-lg"},r.createElement("div",{className:"p-2.5 bg-red-100 rounded-lg"},r.createElement(Ll,{size:24,className:"text-red-600"})),r.createElement("div",null,r.createElement("p",{className:"text-sm font-semibold text-red-900"},"    "),r.createElement("p",{className:"text-xs text-red-700 mt-0.5"}," DB     ."))),r.createElement("p",{className:"text-sm text-gray-700 mb-2"},"  ?"),r.createElement("p",{className:"text-sm font-semibold text-gray-900 bg-gray-100 px-3 py-2.5 rounded-lg mb-4 flex items-center gap-2 border border-gray-300"},r.createElement(bt,{size:14,className:"text-gray-600"}),J?.fileName),r.createElement("div",{className:"flex justify-end gap-3"},r.createElement("button",{onClick:()=>me(null),disabled:G,className:"px-4 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50"},""),r.createElement("button",{onClick:j,disabled:G,className:"px-4 py-2.5 text-sm font-semibold text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors disabled:opacity-50 shadow-sm flex items-center gap-2"},G?r.createElement(r.Fragment,null,r.createElement(Ft,{size:14,className:"animate-spin"}),"  ..."):r.createElement(r.Fragment,null,r.createElement(Bn,{size:14}),"  "))))))}const eo={Location:"#10B981",Vehicle:"#3B82F6",Person:"#F59E0B",Entity:"#8B5CF6",Concept:"#06B6D4",Place:"#10B981",Event:"#EF4444",Organization:"#EC4899",Document:"#6366F1",System:"#F97316",Unknown:"#9CA3AF"},to="#6B7280",Pk=["Entity","Concept","Person","Place","Event","Organization","Document"],Ik=["RELATION","INCLUDES","INVOLVES","CAUSES","RELATED_TO","HAS","PART_OF"];function Lk({kbId:t}){const{toast:a,confirm:s}=pr(),o=v.useRef(null),[c,u]=v.useState({nodes:[],edges:[]}),[d,g]=v.useState(!0),[f,h]=v.useState(null),[y,x]=v.useState({}),[k,E]=v.useState(null),[O,M]=v.useState(null),[S,C]=v.useState(1),[N,A]=v.useState({x:0,y:0}),[q,X]=v.useState(!1),L=v.useRef({x:0,y:0}),Z=v.useRef(null),le=v.useRef({}),[re,R]=v.useState(null),[F,K]=v.useState(null),[ye,ae]=v.useState(!1),[ee,J]=v.useState({label:"Entity",name:"",properties:{}}),[me,G]=v.useState(null),[ue,w]=v.useState(null),[j,B]=v.useState("RELATION"),[_,be]=v.useState(!1),[Ie,Ne]=v.useState(""),[Fe,Le]=v.useState(""),[Oe,Qe]=v.useState(""),Ue=v.useCallback(async()=>{g(!0),h(null);try{const T=await on.getGraph(t);if(T.error)h(T.error),u({nodes:[],edges:[]});else{u(T);const I={},U=400,ne=300,he=Math.min(250,T.nodes.length*30);T.nodes.forEach((Me,je)=>{const et=2*Math.PI*je/T.nodes.length;le.current[Me.id]?I[Me.id]=le.current[Me.id]:I[Me.id]={x:U+he*Math.cos(et)+(Math.random()-.5)*20,y:ne+he*Math.sin(et)+(Math.random()-.5)*20,vx:0,vy:0}}),le.current=I,x({...I})}}catch(T){h(T.message||"    .")}finally{g(!1)}},[t]);v.useEffect(()=>{Ue()},[Ue]),v.useEffect(()=>{if(c.nodes.length===0)return;let T=0;const I=300,U=()=>{if(T>=I)return;T++;const ne=le.current,he=c.nodes,Me=c.edges,je=400,et=300;he.forEach(Ke=>{if(!ne[Ke.id])return;let It=0,ft=0;he.forEach(Xe=>{if(Ke.id===Xe.id||!ne[Xe.id])return;const kt=ne[Ke.id].x-ne[Xe.id].x,dt=ne[Ke.id].y-ne[Xe.id].y,nt=Math.max(Math.sqrt(kt*kt+dt*dt),1),st=3e3/(nt*nt);It+=kt/nt*st,ft+=dt/nt*st}),Me.forEach(Xe=>{let kt=null;if(Xe.source===Ke.id&&ne[Xe.target]?kt=ne[Xe.target]:Xe.target===Ke.id&&ne[Xe.source]&&(kt=ne[Xe.source]),!kt)return;const dt=kt.x-ne[Ke.id].x,nt=kt.y-ne[Ke.id].y,st=Math.sqrt(dt*dt+nt*nt),P=(st-120)*.01;It+=dt/Math.max(st,1)*P,ft+=nt/Math.max(st,1)*P}),It+=(je-ne[Ke.id].x)*.001,ft+=(et-ne[Ke.id].y)*.001,O!==Ke.id&&(ne[Ke.id].vx=(ne[Ke.id].vx+It)*.8,ne[Ke.id].vy=(ne[Ke.id].vy+ft)*.8,ne[Ke.id].x+=ne[Ke.id].vx,ne[Ke.id].y+=ne[Ke.id].vy)}),x({...ne}),Z.current=requestAnimationFrame(U)};return Z.current=requestAnimationFrame(U),()=>{Z.current&&cancelAnimationFrame(Z.current)}},[c,O]);const lt=(T,I)=>{if(T.stopPropagation(),me==="selectSource"){w(I),G("selectTarget");return}if(me==="selectTarget"&&ue){Ve(ue,I);return}M(I)},Et=(T,I)=>{T.stopPropagation(),!me&&(R(I),K(null),Ne(I.name))},de=(T,I)=>{T.stopPropagation(),!me&&(K(I),R(null))},Ye=T=>{(T.target===o.current||T.target.tagName==="rect")&&(X(!0),L.current={x:T.clientX-N.x,y:T.clientY-N.y},me||(R(null),K(null)))},We=v.useCallback(T=>{if(O&&le.current[O]){const I=o.current;if(!I)return;const U=I.getBoundingClientRect();le.current[O].x=(T.clientX-U.left-N.x)/S,le.current[O].y=(T.clientY-U.top-N.y)/S,le.current[O].vx=0,le.current[O].vy=0,x({...le.current})}else q&&A({x:T.clientX-L.current.x,y:T.clientY-L.current.y})},[O,q,S,N]),Q=v.useCallback(()=>{M(null),X(!1)},[]),te=v.useCallback(T=>{T.preventDefault(),C(I=>Math.max(.3,Math.min(3,I-T.deltaY*.001)))},[]);v.useEffect(()=>(window.addEventListener("mouseup",Q),()=>window.removeEventListener("mouseup",Q)),[Q]);const _e=async()=>{if(ee.name.trim()){be(!0);try{await on.createNode(t,{label:ee.label,name:ee.name,properties:ee.properties}),ae(!1),J({label:"Entity",name:"",properties:{}}),await Ue()}catch(T){a.error("  : "+(T.message||""))}finally{be(!1)}}},fe=async()=>{if(!(!re||!Ie.trim())){be(!0);try{await on.updateNode(re.id,{name:Ie}),R(null),await Ue()}catch(T){a.error("  : "+(T.message||""))}finally{be(!1)}}},He=async()=>{re&&s(`"${re.name}"  ?    .`,async()=>{be(!0);try{await on.deleteNode(re.id),R(null),await Ue()}catch(T){a.error("  : "+(T.message||""))}finally{be(!1)}},{confirmLabel:""})},Ve=async(T,I)=>{if(T===I){G(null),w(null);return}be(!0);try{await on.createEdge(t,{source_id:T,target_id:I,relationship_type:j}),await Ue()}catch(U){a.error("  : "+(U.message||""))}finally{be(!1),G(null),w(null)}},at=async()=>{F?.id&&s("  ?",async()=>{be(!0);try{await on.deleteEdge(F.id),K(null),await Ue()}catch(T){a.error("  : "+(T.message||""))}finally{be(!1)}},{confirmLabel:""})},ut=[...new Set(c.nodes.map(T=>T.label))];return d?r.createElement("div",{className:"h-full flex flex-col items-center justify-center bg-gray-900 text-white"},r.createElement(Ft,{size:32,className:"animate-spin text-purple-400 mb-4"}),r.createElement("p",{className:"font-bold"},"   ...")):f?r.createElement("div",{className:"h-full flex flex-col items-center justify-center bg-gray-900 text-white"},r.createElement(Ll,{size:32,className:"text-red-400 mb-4"}),r.createElement("p",{className:"font-bold mb-2"},"  "),r.createElement("p",{className:"text-sm text-gray-400 mb-4"},f),r.createElement("button",{onClick:Ue,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-sm font-bold flex items-center gap-2"},r.createElement(Fn,{size:14}),"  ")):c.nodes.length===0&&!ye?r.createElement("div",{className:"h-full flex flex-col items-center justify-center bg-gray-900 text-white"},r.createElement(Ca,{size:48,className:"text-gray-600 mb-4"}),r.createElement("p",{className:"font-bold text-lg mb-2"},"  "),r.createElement("p",{className:"text-sm text-gray-400 text-center mb-4"},"  ",r.createElement("br",null),"  ."),r.createElement("button",{onClick:()=>ae(!0),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-lg text-sm font-bold flex items-center gap-2"},r.createElement(Zt,{size:14}),"   ")):r.createElement("div",{className:"h-full flex flex-col relative bg-gray-900 overflow-hidden"},r.createElement("div",{className:"absolute top-4 left-4 z-10 bg-black/60 backdrop-blur-md p-3 rounded-xl border border-gray-700 text-white text-xs"},ut.map(T=>r.createElement("div",{key:T,className:"flex items-center gap-2 mb-1 last:mb-0"},r.createElement("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:eo[T]||to}}),r.createElement("span",null,T))),r.createElement("div",{className:"border-t border-gray-700 mt-2 pt-2 text-gray-400"},c.nodes.length," nodes / ",c.edges.length," edges")),me&&r.createElement("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-20 bg-orange-600 text-white px-4 py-2 rounded-xl text-sm font-bold flex items-center gap-3 shadow-lg"},r.createElement(zc,{size:16}),me==="selectSource"?"  ":"  ",r.createElement("select",{value:j,onChange:T=>B(T.target.value),className:"bg-orange-700 text-white text-xs px-2 py-1 rounded-lg border border-orange-500 outline-none"},Ik.map(T=>r.createElement("option",{key:T,value:T},T))),r.createElement("button",{onClick:()=>{G(null),w(null)},className:"text-orange-200 hover:text-white ml-1"},"")),r.createElement("div",{className:"absolute top-4 right-4 z-10 flex flex-col gap-2"},r.createElement("button",{onClick:Ue,className:"p-2 bg-black/60 backdrop-blur-md text-white rounded-lg border border-gray-700 hover:bg-green-600 transition",title:""},r.createElement(Fn,{size:16})),r.createElement("button",{onClick:()=>C(T=>Math.min(3,T+.2)),className:"p-2 bg-black/60 backdrop-blur-md text-white rounded-lg border border-gray-700 hover:bg-green-600 transition",title:""},r.createElement(Zt,{size:16})),r.createElement("button",{onClick:()=>C(T=>Math.max(.3,T-.2)),className:"p-2 bg-black/60 backdrop-blur-md text-white rounded-lg border border-gray-700 hover:bg-green-600 transition",title:""},r.createElement("span",{className:"block w-4 h-4 text-center leading-4 font-bold"},"-")),r.createElement("button",{onClick:()=>{C(1),A({x:0,y:0})},className:"p-2 bg-black/60 backdrop-blur-md text-white rounded-lg border border-gray-700 hover:bg-green-600 transition text-[10px] font-bold",title:""},"1:1"),r.createElement("div",{className:"border-t border-gray-700 my-1"}),r.createElement("button",{onClick:()=>{ae(!0),R(null),K(null)},className:"p-2 bg-green-500/80 backdrop-blur-md text-white rounded-lg border border-green-400 hover:bg-green-500 transition",title:" "},r.createElement(Zt,{size:16})),r.createElement("button",{onClick:()=>{G("selectSource"),w(null),R(null),K(null)},className:`p-2 backdrop-blur-md text-white rounded-lg border transition ${me?"bg-orange-600 border-orange-500":"bg-orange-600/60 border-orange-500/50 hover:bg-orange-600"}`,title:" "},r.createElement(zc,{size:16}))),re&&!me&&r.createElement("div",{className:"absolute right-4 top-[220px] z-20 w-72 bg-black/80 backdrop-blur-md rounded-xl border border-gray-600 p-4 text-white"},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("span",{className:"text-xs font-bold px-2 py-1 rounded-full",style:{backgroundColor:eo[re.label]||to}},re.label),r.createElement("button",{onClick:()=>R(null),className:"text-gray-400 hover:text-white"},r.createElement("span",{className:"text-lg leading-none"},""))),r.createElement("input",{value:Ie,onChange:T=>Ne(T.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-sm text-white mb-3 outline-none focus:border-purple-500",placeholder:" "}),Object.entries(re.properties||{}).filter(([T])=>T!=="name").length>0&&r.createElement("div",{className:"mb-3 space-y-1"},r.createElement("div",{className:"text-[10px] text-gray-400 uppercase font-bold"},""),Object.entries(re.properties).filter(([T])=>T!=="name").map(([T,I])=>r.createElement("div",{key:T,className:"text-xs text-gray-300 flex gap-1"},r.createElement("span",{className:"text-gray-500"},T,":")," ",I))),r.createElement("div",{className:"flex gap-2"},r.createElement("button",{onClick:fe,disabled:_,className:"flex-1 px-3 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-xs font-bold transition disabled:opacity-50"},_?" ...":""),r.createElement("button",{onClick:He,disabled:_,className:"px-3 py-2 bg-red-600/80 hover:bg-red-600 rounded-lg text-xs font-bold transition disabled:opacity-50"},""))),F&&!me&&r.createElement("div",{className:"absolute right-4 top-[220px] z-20 w-64 bg-black/80 backdrop-blur-md rounded-xl border border-gray-600 p-4 text-white"},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("span",{className:"text-xs font-bold text-orange-400"},F.type),r.createElement("button",{onClick:()=>K(null),className:"text-gray-400 hover:text-white"},r.createElement("span",{className:"text-lg leading-none"},""))),r.createElement("div",{className:"text-xs text-gray-300 mb-1"},c.nodes.find(T=>T.id===F.source)?.name||"?","  ",c.nodes.find(T=>T.id===F.target)?.name||"?"),r.createElement("button",{onClick:at,disabled:_,className:"w-full mt-3 px-3 py-2 bg-red-600/80 hover:bg-red-600 rounded-lg text-xs font-bold transition disabled:opacity-50"},_?" ...":" ")),ye&&r.createElement("div",{className:"absolute right-4 top-[220px] z-20 w-72 bg-black/80 backdrop-blur-md rounded-xl border border-green-500 p-4 text-white"},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("span",{className:"text-sm font-bold text-green-300"}," "),r.createElement("button",{onClick:()=>ae(!1),className:"text-gray-400 hover:text-white"},r.createElement("span",{className:"text-lg leading-none"},""))),r.createElement("select",{value:ee.label,onChange:T=>J({...ee,label:T.target.value}),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-sm text-white mb-2 outline-none focus:border-green-400"},Pk.map(T=>r.createElement("option",{key:T,value:T},T))),r.createElement("input",{value:ee.name,onChange:T=>J({...ee,name:T.target.value}),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-sm text-white mb-2 outline-none focus:border-green-400",placeholder:" "}),r.createElement("div",{className:"mb-2"},r.createElement("div",{className:"text-[10px] text-gray-400 uppercase font-bold mb-1"}," "),r.createElement("div",{className:"flex gap-1"},r.createElement("input",{value:Fe,onChange:T=>Le(T.target.value),className:"flex-1 bg-gray-800 border border-gray-600 rounded px-2 py-1 text-xs text-white outline-none",placeholder:""}),r.createElement("input",{value:Oe,onChange:T=>Qe(T.target.value),className:"flex-1 bg-gray-800 border border-gray-600 rounded px-2 py-1 text-xs text-white outline-none",placeholder:""}),r.createElement("button",{onClick:()=>{Fe.trim()&&(J({...ee,properties:{...ee.properties,[Fe]:Oe}}),Le(""),Qe(""))},className:"px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-500"},"+")),Object.entries(ee.properties).map(([T,I])=>r.createElement("div",{key:T,className:"flex items-center gap-1 mt-1 text-xs text-gray-300"},r.createElement("span",{className:"text-gray-500"},T,":")," ",I,r.createElement("button",{onClick:()=>{const U={...ee.properties};delete U[T],J({...ee,properties:U})},className:"ml-auto text-red-400 hover:text-red-300 text-[10px]"},"x")))),r.createElement("button",{onClick:_e,disabled:_||!ee.name.trim(),className:"w-full px-3 py-2 bg-green-500 hover:bg-green-600 rounded-lg text-xs font-bold transition disabled:opacity-50"},_?" ...":" ")),k&&!re&&!F&&!ye&&y[k.id]&&r.createElement("div",{className:"absolute z-20 bg-black/80 backdrop-blur-md text-white p-3 rounded-xl border border-gray-600 text-xs max-w-xs pointer-events-none",style:{left:Math.min(y[k.id].x*S+N.x+20,(o.current?.clientWidth||600)-200),top:y[k.id].y*S+N.y-10}},r.createElement("div",{className:"font-bold text-sm mb-1 flex items-center gap-2"},r.createElement("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:eo[k.label]||to}}),k.name),r.createElement("div",{className:"text-gray-400 mb-1"},k.label),r.createElement("div",{className:"text-[10px] text-gray-500"}," ")),r.createElement("svg",{ref:o,className:`w-full h-full ${me?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:Ye,onMouseMove:We,onWheel:te},r.createElement("rect",{width:"100%",height:"100%",fill:"transparent"}),r.createElement("g",{transform:`translate(${N.x},${N.y}) scale(${S})`},c.edges.map((T,I)=>{const U=y[T.source],ne=y[T.target];if(!U||!ne)return null;const he=(U.x+ne.x)/2,Me=(U.y+ne.y)/2,je=F?.id===T.id;return r.createElement("g",{key:`e-${I}`},r.createElement("line",{x1:U.x,y1:U.y,x2:ne.x,y2:ne.y,stroke:"transparent",strokeWidth:12,style:{cursor:"pointer"},onClick:et=>de(et,T)}),r.createElement("line",{x1:U.x,y1:U.y,x2:ne.x,y2:ne.y,stroke:je?"#F59E0B":"#4B5563",strokeWidth:je?2.5:1.5,strokeOpacity:je?1:.6}),r.createElement("text",{x:he,y:Me-6,textAnchor:"middle",fill:je?"#F59E0B":"#6B7280",fontSize:9,fontWeight:"bold"},T.type))}),c.nodes.map(T=>{const I=y[T.id];if(!I)return null;const U=eo[T.label]||to,ne=k?.id===T.id,he=re?.id===T.id,Me=ue===T.id,je=ne||he?22:18;return r.createElement("g",{key:T.id,style:{cursor:me?"crosshair":"pointer"},onMouseDown:et=>lt(et,T.id),onClick:et=>Et(et,T),onMouseEnter:()=>E(T),onMouseLeave:()=>E(null)},(ne||he)&&r.createElement("circle",{cx:I.x,cy:I.y,r:je+8,fill:U,fillOpacity:.15}),Me&&r.createElement("circle",{cx:I.x,cy:I.y,r:je+6,fill:"#F59E0B",fillOpacity:.3}),r.createElement("circle",{cx:I.x,cy:I.y,r:je,fill:U,stroke:he||ne?"#fff":U,strokeWidth:he?3:ne?2.5:1.5,fillOpacity:.85}),r.createElement("text",{x:I.x,y:I.y+je+14,textAnchor:"middle",fill:"#D1D5DB",fontSize:10,fontWeight:"600"},T.name.length>12?T.name.slice(0,12)+"...":T.name))}))))}const np=[{value:"chat",label:"Chat (OpenAI)",desc:"  "},{value:"completion",label:"Completion",desc:"  "},{value:"instruction",label:"Instruction",desc:"- "},{value:"tool_calling",label:"Tool Calling",desc:"    (Qwen2.5)"}];function Mk(){const t=Dr(),{toast:a,confirm:s}=pr(),[o,c]=v.useState([]),[u,d]=v.useState([]),[g,f]=v.useState(!0),[h,y]=v.useState({total:0,has_positive:0,avg_rating:null}),[x,k]=v.useState(!1),[E,O]=v.useState({name:"",format_type:"chat"}),[M,S]=v.useState(null),[C,N]=v.useState("chat");v.useEffect(()=>{A()},[]);const A=async()=>{f(!0);try{const[R,F]=await Promise.all([_c.list({limit:100}),Js.list()]);c(R.feedbacks||[]),y({total:R.total||0,has_positive:R.has_positive||0,avg_rating:R.avg_rating}),d(F.datasets||[])}catch(R){console.error("  :",R)}finally{f(!1)}},q=async R=>{s("  ?",async()=>{try{await _c.delete(R),await A()}catch(F){console.error("  :",F)}},{confirmLabel:""})},X=async()=>{if(E.name.trim())try{await Js.create({name:E.name,description:`    (${E.format_type})`,format_type:E.format_type,min_rating:3,only_positive:!0}),k(!1),O({name:"",format_type:"chat"}),await A()}catch(R){console.error("  :",R),a.error("  : "+R.message)}},L=async R=>{s(" ?   .",async()=>{try{const F=await Js.build(R);a.success(F.message),await A()}catch(F){console.error("  :",F),a.error(" : "+F.message)}},{confirmLabel:""})},Z=async R=>{try{await Js.export(R,C),S(null),a.success("JSONL   !")}catch(F){console.error(" :",F),a.error(" : "+F.message)}},le=async R=>{const F=prompt("   :","my_custom_model");if(!F)return;const K=prompt("   (: llama3.1, gemma2):","llama3.1");K&&s(` ${K}  ?

     .`,async()=>{try{const ye=await ir.createJob({dataset_id:R,job_name:F,base_model:K,provider:"ollama",format_type:"chat",num_epochs:3});a.success(`  !  ID: ${ye.job_id}`)}catch(ye){console.error("  :",ye),a.error("  : "+ye.message)}},{confirmLabel:""})},re=R=>{if(!R)return null;try{const F=typeof R=="string"?JSON.parse(R):R;return Array.isArray(F)?F:null}catch{return null}};return g?r.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center"},r.createElement(Ft,{className:"animate-spin text-green-500",size:32})):r.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8"},r.createElement("div",{className:"max-w-7xl mx-auto space-y-6"},r.createElement("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-800 p-1 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("button",{className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium bg-green-500 text-white shadow-sm"},r.createElement(Ct,{size:16,className:"inline mr-2"})," "),r.createElement("button",{onClick:()=>t("/finetuning"),className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition"},r.createElement(Pn,{size:16,className:"inline mr-2"})," ")),r.createElement("div",{className:"flex items-center justify-between"},r.createElement("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white"},"  ")),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"}," "),r.createElement("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},h.total)),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"}," "),r.createElement("div",{className:"text-3xl font-bold text-gray-600 dark:text-gray-400 mt-1"},h.has_positive)),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"}," "),r.createElement("div",{className:"text-3xl font-bold text-gray-600 dark:text-gray-400 mt-1"},h.avg_rating?h.avg_rating.toFixed(1):"N/A"))),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2"},r.createElement(Ct,{size:20})," "),r.createElement("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition"},r.createElement(Zt,{size:16}),"  ")),u.length===0?r.createElement("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400"}," "):r.createElement("div",{className:"space-y-2"},u.map(R=>r.createElement("div",{key:R.id,className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},r.createElement("div",{className:"flex-1"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},R.name),R.format_type&&r.createElement("span",{className:`px-1.5 py-0.5 text-xs rounded font-medium ${R.format_type==="tool_calling"?"bg-gray-100 text-gray-700 dark:bg-gray-900/40 dark:text-gray-300":"bg-gray-100 text-gray-600 dark:bg-gray-600 dark:text-gray-300"}`},R.format_type)),r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"},R.total_examples,"  | ",R.verified_examples," ",R.is_exported&&r.createElement("span",{className:"ml-2 text-gray-600 dark:text-gray-400"}," "))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement("button",{onClick:()=>L(R.id),className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600 transition",title:"  (  )"},r.createElement(Fn,{size:14})," "),r.createElement("button",{onClick:()=>{N(R.format_type||"chat"),S(R.id)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-400 text-white text-sm rounded-lg hover:bg-green-500 transition",title:"JSONL "},r.createElement(Ml,{size:14})," "),r.createElement("button",{onClick:()=>le(R.id),className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition",title:" "},r.createElement(Pn,{size:14})," "),r.createElement("div",{className:"text-xs text-gray-400 dark:text-gray-500"},new Date(R.created_at).toLocaleDateString())))))),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4"}," "),o.length===0?r.createElement("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400"}," .     !"):r.createElement("div",{className:"space-y-3"},o.slice(0,20).map(R=>{const F=re(R.tool_calls_json);return r.createElement("div",{key:R.id,className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600"},r.createElement("div",{className:"flex items-start justify-between mb-2"},r.createElement("div",{className:"flex items-center gap-2 flex-wrap"},R.is_positive===!0&&r.createElement(Rp,{size:14,className:"text-gray-600"}),R.is_positive===!1&&r.createElement(Mp,{size:14,className:"text-red-500"}),R.rating&&r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},R.rating),F&&F.length>0&&r.createElement("span",{className:"flex items-center gap-1 px-1.5 py-0.5 bg-gray-100 dark:bg-gray-900/40 text-gray-700 dark:text-gray-300 rounded text-xs"},F.map(K=>K.name).filter((K,ye,ae)=>ae.indexOf(K)===ye).join(", ")),r.createElement("span",{className:"text-xs text-gray-400 dark:text-gray-500"},new Date(R.created_at).toLocaleString())),r.createElement("button",{onClick:()=>q(R.id),className:"text-gray-400 hover:text-red-500 transition"},r.createElement(Bn,{size:14}))),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1"},r.createElement("strong",null,"Q:")," ",R.user_message.slice(0,100),R.user_message.length>100&&"..."),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300"},r.createElement("strong",null,"A:")," ",R.ai_message.slice(0,100),R.ai_message.length>100&&"..."))})))),x&&r.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},r.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md border border-gray-200 dark:border-gray-700"},r.createElement("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"  "),r.createElement("div",{className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},""),r.createElement("input",{type:"text",value:E.name,onChange:R=>O(F=>({...F,name:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:" "})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},""),r.createElement("div",{className:"grid grid-cols-2 gap-2"},np.map(R=>r.createElement("button",{key:R.value,onClick:()=>O(F=>({...F,format_type:R.value})),className:`p-3 rounded-lg border text-left transition ${E.format_type===R.value?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300"}`},r.createElement("div",{className:`text-sm font-medium ${E.format_type===R.value?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"}`},R.label),r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400"},R.desc)))))),r.createElement("div",{className:"flex justify-end gap-2 mt-6"},r.createElement("button",{onClick:()=>k(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition"},""),r.createElement("button",{onClick:X,disabled:!E.name.trim(),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition disabled:opacity-50"},"")))),M&&r.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},r.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-sm border border-gray-200 dark:border-gray-700"},r.createElement("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4"}," "),r.createElement("div",{className:"space-y-2"},np.map(R=>r.createElement("button",{key:R.value,onClick:()=>N(R.value),className:`w-full p-3 rounded-lg border text-left transition ${C===R.value?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300"}`},r.createElement("div",{className:`text-sm font-medium ${C===R.value?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"}`},R.label),r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400"},R.desc)))),r.createElement("div",{className:"flex justify-end gap-2 mt-6"},r.createElement("button",{onClick:()=>S(null),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition"},""),r.createElement("button",{onClick:()=>Z(M),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition"},"")))))}const Rk="Qwen/Qwen2.5-3B-Instruct";function Ak(){const t=Dr(),{toast:a,confirm:s}=pr(),[o,c]=v.useState([]),[u,d]=v.useState([]),[g,f]=v.useState([]),[h,y]=v.useState(!0),[x,k]=v.useState(null),[E,O]=v.useState(Rk),[M,S]=v.useState(null),[C,N]=v.useState(!1);v.useEffect(()=>{A();const F=setInterval(A,5e3);return()=>clearInterval(F)},[]),v.useEffect(()=>{if(!C)return;const F=setInterval(async()=>{const K=await ir.getDownloadStatus(E);S(K),(K.status==="done"||K.status==="error")&&(N(!1),K.status==="done"&&A())},3e3);return()=>clearInterval(F)},[C,E]);const A=async()=>{try{const[F,K,ye,ae]=await Promise.all([ir.listJobs(),ir.listModels(),ir.listBaseModels(),Ot.getUserSettings()]);c(F.jobs||[]),d(K.models||[]),f(ye.models||[]),k(ae?.custom_model||null)}catch(F){console.error("  :",F)}finally{y(!1)}},q=async()=>{if(E.trim()){N(!0),S({status:"downloading",message:" ..."});try{const F=await ir.downloadModel(E);F.status==="done"&&(S({status:"done",message:F.message}),N(!1),A())}catch(F){S({status:"error",message:F.message}),N(!1)}}},X=async F=>{try{await ir.setDefaultModel(F),k(F),a.success(`${F}()   .`)}catch(K){console.error("   :",K),a.error("   : "+K.message)}},L=async()=>{try{await ir.clearDefaultModel(),k(null),a.success("  .")}catch(F){console.error("   :",F),a.error("   : "+F.message)}},Z=async F=>{s("  /?",async()=>{try{await ir.cancelJob(F),await A()}catch(K){console.error("  :",K),a.error("  : "+K.message)}},{confirmLabel:"/"})},le=F=>{switch(F){case"completed":return"text-gray-700 bg-gray-50 dark:bg-gray-900/30 dark:text-gray-300";case"running":return"text-gray-600 bg-gray-50/70 dark:bg-gray-900/20 dark:text-gray-400";case"failed":return"text-red-600 bg-red-50 dark:bg-red-900/30";case"cancelled":return"text-gray-600 bg-gray-50 dark:bg-gray-900/30";default:return"text-gray-400 bg-gray-50/50 dark:bg-gray-900/10 dark:text-gray-500"}},re=F=>{switch(F){case"completed":return r.createElement(ct,{size:16});case"running":return r.createElement(Ft,{size:16,className:"animate-spin"});case"failed":return r.createElement(Dp,{size:16});default:return r.createElement(Tp,{size:16})}},R=F=>{switch(F){case"unsloth":return"QLoRA (Unsloth)";case"ollama":return"Ollama (Few-shot)";default:return F}};return h?r.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center"},r.createElement(Ft,{className:"animate-spin text-green-500",size:32})):r.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8"},r.createElement("div",{className:"max-w-7xl mx-auto space-y-6"},r.createElement("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-800 p-1 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("button",{onClick:()=>t("/training"),className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition"},r.createElement(Ct,{size:16,className:"inline mr-2"})," "),r.createElement("button",{className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium bg-green-500 text-white shadow-sm"},r.createElement(Pn,{size:16,className:"inline mr-2"})," ")),r.createElement("div",{className:"flex items-center justify-between"},r.createElement("div",null,r.createElement("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white"}," "),r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Ollama Few-shot & QLoRA   ")),r.createElement("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition"},r.createElement(Ft,{size:16})," ")),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},r.createElement(Tn,{size:20}),"   "),g.length>0&&r.createElement("div",{className:"mb-4"},r.createElement("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," "),r.createElement("div",{className:"flex flex-wrap gap-2"},g.map((F,K)=>r.createElement("span",{key:K,className:"px-3 py-1.5 bg-gray-50 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-mono border border-gray-200 dark:border-gray-800"},F.name||F)))),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("input",{type:"text",value:E,onChange:F=>O(F.target.value),placeholder:"HuggingFace  (: Qwen/Qwen2.5-3B-Instruct)",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm font-mono"}),r.createElement("button",{onClick:q,disabled:C||!E.trim(),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition disabled:opacity-50 whitespace-nowrap"},C?r.createElement(Ft,{size:16,className:"animate-spin"}):r.createElement(Tn,{size:16}),C?" ...":" ")),M&&r.createElement("div",{className:`mt-3 p-3 rounded-lg text-sm ${M.status==="done"?"bg-gray-50 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300":M.status==="error"?"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300":"bg-gray-50/70 dark:bg-gray-900/20 text-gray-600 dark:text-gray-400"}`},M.message||M.status,M.progress_percent!=null&&r.createElement("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 overflow-hidden"},r.createElement("div",{className:"bg-green-400 h-2 transition-all duration-300",style:{width:`${M.progress_percent}%`}})))),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},r.createElement(Pn,{size:20}),"    (",u.length,")"),u.length===0?r.createElement("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400"},"  .   !"):r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},u.map((F,K)=>r.createElement("div",{key:K,className:`p-4 rounded-lg border-2 transition-all ${x===F?"border-green-400 bg-green-50/50 dark:bg-green-900/20 shadow-sm":"border-gray-200 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800 hover:border-gray-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-2"},r.createElement(Pn,{size:14,className:x===F?"text-green-500":"text-gray-400 dark:text-gray-500"}),r.createElement("div",{className:"font-mono text-sm text-gray-900 dark:text-white font-semibold truncate flex-1"},F),x===F&&r.createElement("span",{className:"text-[10px] px-2 py-0.5 bg-green-500 text-white rounded-full font-bold"},"")),r.createElement("div",{className:"flex items-center justify-between mt-2"},x===F?r.createElement(r.Fragment,null,r.createElement("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium"},"   "),r.createElement("button",{onClick:L,className:"text-xs px-2 py-1 text-gray-500 hover:text-red-500 transition"},"")):r.createElement(r.Fragment,null,r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"}," "),r.createElement("button",{onClick:()=>X(F),className:"text-xs px-3 py-1 bg-green-500 text-white rounded-md hover:bg-green-600 font-medium transition"},"  "))))))),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},r.createElement(Pn,{size:20}),"  "),o.length===0?r.createElement("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400"},"  "):r.createElement("div",{className:"space-y-3"},o.map(F=>r.createElement("div",{key:F.job_id,className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600"},r.createElement("div",{className:"flex items-start justify-between mb-3"},r.createElement("div",{className:"flex-1"},r.createElement("div",{className:"flex items-center gap-2 mb-2 flex-wrap"},r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},F.job_name),r.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium flex items-center gap-1 ${le(F.status)}`},re(F.status),F.status),r.createElement("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${F.provider==="unsloth"?"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300":"bg-gray-100 text-gray-600 dark:bg-gray-600 dark:text-gray-300"}`},R(F.provider))),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1"},r.createElement("div",null,r.createElement("strong",null," ID:")," ",r.createElement("span",{className:"font-mono text-xs"},F.job_id)),r.createElement("div",null,r.createElement("strong",null," :")," ",F.base_model),F.output_model_name&&r.createElement("div",{className:"flex items-center gap-2"},r.createElement("strong",null," :")," ",r.createElement("span",{className:"font-mono text-xs text-gray-600 dark:text-gray-400"},F.output_model_name),F.status==="completed"&&x!==F.output_model_name&&r.createElement("button",{onClick:()=>X(F.output_model_name),className:"text-xs px-2.5 py-1 bg-green-500 text-white rounded-md hover:bg-green-600 font-medium transition"},"  "),F.status==="completed"&&x===F.output_model_name&&r.createElement("span",{className:"text-xs px-2.5 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-md font-bold flex items-center gap-1"},r.createElement(ct,{size:10}),"   ")),F.final_loss!=null&&r.createElement("div",null,r.createElement("strong",null," Loss:")," ",r.createElement("span",{className:"font-mono text-xs text-gray-600 dark:text-gray-400"},F.final_loss.toFixed(4))),F.error_message&&r.createElement("div",{className:"text-red-600 dark:text-red-400 text-xs mt-1"},r.createElement("strong",null,":")," ",F.error_message))),r.createElement("button",{onClick:()=>Z(F.job_id),className:"text-gray-400 hover:text-red-500 transition",title:"/"},r.createElement(Bn,{size:16}))),F.status==="running"&&r.createElement("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 overflow-hidden"},r.createElement("div",{className:"bg-green-400 h-2 transition-all duration-500",style:{width:`${F.progress}%`}})),r.createElement("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-500 dark:text-gray-400 flex-wrap"},F.provider==="unsloth"&&r.createElement("span",null,": ",F.num_epochs||"N/A"),F.provider==="unsloth"&&r.createElement("span",null,"LR: ",F.learning_rate||"N/A"),F.training_time_seconds&&r.createElement("span",null," : ",F.training_time_seconds>=60?`${Math.floor(F.training_time_seconds/60)} ${F.training_time_seconds%60}`:`${F.training_time_seconds}`),r.createElement("span",{className:"ml-auto"},new Date(F.created_at).toLocaleString()))))))))}const Dk=[{id:"overview",icon:dr,title:" ",color:"green",content:{summary:"RAG AI      AI .",details:["        ."," (RAG),  , SQL , MCP ,          .","     ,     ."],flow:[{label:" ",icon:xn},{label:"  ( )",icon:ur},{label:"  ",icon:Pn},{label:"   ",icon:dr}]}},{id:"agents",icon:Pt,title:" ",color:"purple",content:{summary:"         .",agents:[{name:" ",type:"supervisor",icon:ur,color:"purple",desc:"        .       ."},{name:"RAG  ",type:"rag",icon:bt,color:"blue",desc:"     ,      ."},{name:"  ",type:"web",icon:Qt,color:"cyan",desc:"   . DuckDuckGo, Brave, Tavily, Serper    ."},{name:"T2SQL ",type:"sql",icon:Ct,color:"amber",desc:" SQL   .     ."},{name:"MCP  ",type:"mcp",icon:zn,color:"indigo",desc:" MCP(Model Context Protocol)   , API    ."},{name:" ",type:"process",icon:Xc,color:"orange",desc:" ,      xLAM   ."},{name:" ",type:"synthesizer",icon:dr,color:"green",desc:"      ."}]}},{id:"model",icon:Tn,title:" ",color:"gray",content:{summary:"   ,   .",rules:[{priority:1,label:" ",desc:"       .",where:"  > "},{priority:2,label:" ",desc:'   " "    .',where:" >  "}],tip:"     ,      ."}},{id:"rag",icon:bt,title:"RAG ( )",color:"blue",content:{summary:"   ,       .",steps:[{step:" ",desc:"  PDF, DOCX, PPTX, TXT   ."},{step:" ",desc:"Docling  , BAAI/bge-m3   ."},{step:" ",desc:"Dense, Sparse, Hybrid  , Reranker  ."},{step:" ",desc:"Neo4j      . (3    )"}]}},{id:"web",icon:Qt,title:" ",color:"cyan",content:{summary:"     .",providers:[{name:"DuckDuckGo",desc:", API  ",free:!0},{name:"Brave Search",desc:" 2,000/",free:!1},{name:"Tavily AI",desc:"AI  , 1,000/ ",free:!1},{name:"Google Serper",desc:"Google , 2,500 ",free:!1}],tip:"       .      ."}},{id:"sql",icon:Ct,title:"Text-to-SQL",color:"amber",content:{summary:"  SQL    .",steps:[{step:"DB  ",desc:" > DB  PostgreSQL, MySQL, SQLite  ."},{step:" ",desc:"/     SQL  ."},{step:"SQL  ",desc:"  SQL    DB ."},{step:" ",desc:'"    10 ?"    SQL  /.'}],tip:"  SELECT  . INSERT, UPDATE, DELETE ."}},{id:"mcp",icon:zn,title:"MCP ",color:"indigo",content:{summary:"Model Context Protocol     AI .",steps:[{step:"MCP  ",desc:" > MCP  SSE  Stdio  MCP  ."},{step:" ",desc:"     MCP  ."},{step:" ",desc:"    MCP   ."}]}},{id:"deep-think",icon:ur,title:"Deep Think",color:"purple",content:{summary:"   , LLM     .",features:[" : LLM      .","  :  + RAG    ."," :       .","  :    ."],tip:"    ON/OFF   . OFF      ."}},{id:"training",icon:Yc,title:" & ",color:"green",content:{summary:"       .",steps:[{step:" ",desc:" /    ."},{step:" ",desc:"     ."},{step:"",desc:"Ollama Few-shot  Unsloth QLoRA   ."},{step:"  ",desc:"       ."}]}}],rp={green:{bg:"bg-green-50",border:"border-green-200",text:"text-green-600",badge:"bg-green-100 text-green-700",dot:"bg-green-400"},purple:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-600",badge:"bg-purple-100 text-purple-700",dot:"bg-purple-400"},blue:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-600",badge:"bg-blue-100 text-blue-700",dot:"bg-blue-400"},cyan:{bg:"bg-cyan-50",border:"border-cyan-200",text:"text-cyan-600",badge:"bg-cyan-100 text-cyan-700",dot:"bg-cyan-400"},amber:{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-600",badge:"bg-amber-100 text-amber-700",dot:"bg-amber-400"},indigo:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-600",badge:"bg-indigo-100 text-indigo-700",dot:"bg-indigo-400"},orange:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-600",badge:"bg-orange-100 text-orange-700",dot:"bg-orange-400"},gray:{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-600",badge:"bg-gray-100 text-gray-700",dot:"bg-gray-400"}};function Ok({section:t,isOpen:a,onToggle:s}){const o=t.icon,c=rp[t.color],u=t.content;return r.createElement("div",{className:`border rounded-2xl overflow-hidden transition-all ${a?c.border:"border-gray-200"}`},r.createElement("button",{onClick:s,className:`w-full flex items-center gap-3 px-5 py-4 text-left transition-colors ${a?`${c.bg}`:"bg-white hover:bg-gray-50"}`},r.createElement("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${c.bg} ${c.text} border ${c.border}`},r.createElement(o,{size:20})),r.createElement("div",{className:"flex-1"},r.createElement("h3",{className:"font-bold text-gray-900"},t.title),r.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},u.summary)),a?r.createElement(Jc,{size:16,className:"text-gray-400"}):r.createElement(Cl,{size:16,className:"text-gray-400"})),a&&r.createElement("div",{className:"px-5 pb-5 pt-2 bg-white space-y-4"},u.details&&r.createElement("ul",{className:"space-y-2"},u.details.map((d,g)=>r.createElement("li",{key:g,className:"flex items-start gap-2 text-sm text-gray-700"},r.createElement("div",{className:`w-1.5 h-1.5 rounded-full ${c.dot} shrink-0 mt-2`}),d))),u.flow&&r.createElement("div",{className:"flex items-center gap-2 flex-wrap"},u.flow.map((d,g)=>{const f=d.icon;return r.createElement(r.Fragment,{key:g},r.createElement("div",{className:"flex items-center gap-1.5 bg-gray-50 border border-gray-200 rounded-lg px-3 py-2"},r.createElement(f,{size:14,className:c.text}),r.createElement("span",{className:"text-xs font-medium text-gray-700"},d.label)),g<u.flow.length-1&&r.createElement(Nl,{size:14,className:"text-gray-300 shrink-0"}))})),u.agents&&r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},u.agents.map(d=>{const g=d.icon,f=rp[d.color];return r.createElement("div",{key:d.type,className:`flex items-start gap-3 p-3 rounded-xl border ${f.border} ${f.bg}`},r.createElement("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${f.text} bg-white border ${f.border}`},r.createElement(g,{size:16})),r.createElement("div",null,r.createElement("div",{className:"text-xs font-bold text-gray-800"},d.name),r.createElement("div",{className:"text-[11px] text-gray-600 mt-0.5 leading-relaxed"},d.desc)))})),u.rules&&r.createElement("div",{className:"space-y-3"},u.rules.map(d=>r.createElement("div",{key:d.priority,className:"flex items-start gap-3 p-3 bg-gray-50 rounded-xl border border-gray-200"},r.createElement("div",{className:"w-7 h-7 rounded-lg bg-green-500 text-white flex items-center justify-center text-xs font-bold shrink-0"},d.priority),r.createElement("div",null,r.createElement("div",{className:"text-xs font-bold text-gray-800"},d.label),r.createElement("div",{className:"text-[11px] text-gray-600 mt-0.5"},d.desc),r.createElement("div",{className:"text-[10px] text-gray-400 mt-1 flex items-center gap-1"},r.createElement(fo,{size:9})," ",d.where))))),u.steps&&r.createElement("div",{className:"space-y-2"},u.steps.map((d,g)=>r.createElement("div",{key:g,className:"flex items-start gap-3"},r.createElement("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold shrink-0 ${c.badge}`},g+1),r.createElement("div",null,r.createElement("div",{className:"text-xs font-bold text-gray-800"},d.step),r.createElement("div",{className:"text-[11px] text-gray-600 mt-0.5"},d.desc))))),u.features&&r.createElement("ul",{className:"space-y-2"},u.features.map((d,g)=>r.createElement("li",{key:g,className:"flex items-start gap-2 text-sm text-gray-700"},r.createElement("div",{className:`w-1.5 h-1.5 rounded-full ${c.dot} shrink-0 mt-2`}),d))),u.providers&&r.createElement("div",{className:"grid grid-cols-2 gap-2"},u.providers.map(d=>r.createElement("div",{key:d.name,className:"flex items-center gap-2 p-2.5 bg-gray-50 rounded-lg border border-gray-200"},r.createElement("div",{className:"flex-1"},r.createElement("div",{className:"text-xs font-bold text-gray-800 flex items-center gap-1.5"},d.name,d.free&&r.createElement("span",{className:"text-[9px] bg-green-100 text-green-700 px-1.5 py-0.5 rounded font-bold"},"FREE")),r.createElement("div",{className:"text-[10px] text-gray-500 mt-0.5"},d.desc))))),u.tip&&r.createElement("div",{className:`flex items-start gap-2 p-3 rounded-xl ${c.bg} border ${c.border}`},r.createElement(jt,{size:14,className:`${c.text} shrink-0 mt-0.5`}),r.createElement("span",{className:"text-xs text-gray-700"},u.tip))))}function jk(){const[t,a]=v.useState("overview");return r.createElement("div",{className:"h-full flex flex-col p-6 bg-gray-50/50 overflow-hidden"},r.createElement("div",{className:"mb-6"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:"w-10 h-10 rounded-xl bg-green-50 border border-green-200 flex items-center justify-center"},r.createElement(Xr,{size:20,className:"text-green-600"})),r.createElement("div",null,r.createElement("h2",{className:"text-2xl font-bold text-gray-800"}," "),r.createElement("p",{className:"text-sm text-gray-500 mt-0.5"},"RAG AI    .")))),r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-3 pb-4"},Dk.map(s=>r.createElement(Ok,{key:s.id,section:s,isOpen:t===s.id,onToggle:()=>a(t===s.id?null:s.id)}))))}function Fk(){const[t,a]=v.useState(""),[s,o]=v.useState(""),[c,u]=v.useState(!1),[d,g]=v.useState(""),{login:f}=jl(),h=Dr(),y=async x=>{x.preventDefault(),g(""),u(!0);try{await f(t,s),h("/home")}catch(k){console.error(k),g(" .   .")}finally{u(!1)}};return r.createElement("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4"},r.createElement("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden"},r.createElement("div",{className:"p-8"},r.createElement("div",{className:"flex justify-center mb-6"},r.createElement("div",{className:"w-16 h-16 bg-gray-600 rounded-2xl flex items-center justify-center shadow-lg shadow-gray-500/30"},r.createElement(Pt,{size:40,className:"text-white"}))),r.createElement("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-2"},"Welcome Back"),r.createElement("p",{className:"text-center text-gray-500 mb-8"},"RAG AI    ."),d&&r.createElement("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 text-center"},d),r.createElement("form",{onSubmit:y,className:"space-y-5"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("input",{type:"email",value:t,onChange:x=>a(x.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-400 focus:bg-white outline-none transition-all",placeholder:"name@example.com",required:!0})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("input",{type:"password",value:s,onChange:x=>o(x.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-400 focus:bg-white outline-none transition-all",placeholder:"",required:!0})),r.createElement("button",{type:"submit",disabled:c,className:"w-full py-3.5 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl shadow-md transition-all flex items-center justify-center gap-2"},c?r.createElement(Ft,{size:20,className:"animate-spin"}):"")),r.createElement("div",{className:"mt-6 text-center"},r.createElement("p",{className:"text-sm text-gray-600"}," ?"," ",r.createElement(go,{to:"/register",className:"text-gray-600 font-bold hover:underline"},"")))),r.createElement("div",{className:"bg-gray-50 p-4 text-center text-xs text-gray-400 border-t border-gray-100"},"Powered by RAG AI Engine")))}function $k(){const[t,a]=v.useState(""),[s,o]=v.useState(""),[c,u]=v.useState(""),[d,g]=v.useState(!1),[f,h]=v.useState(""),{register:y}=jl(),{toast:x}=pr(),k=Dr(),E=async O=>{O.preventDefault(),h(""),g(!0);try{y?(await y(t,s,c),x.success(" ! ."),k("/login")):(x.info(" :   (API )"),k("/login"))}catch(M){console.error(M),h(" .  .")}finally{g(!1)}};return r.createElement("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4"},r.createElement("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden"},r.createElement("div",{className:"p-8"},r.createElement("div",{className:"flex justify-center mb-6"},r.createElement("div",{className:"w-16 h-16 bg-green-600 rounded-2xl flex items-center justify-center shadow-lg shadow-green-500/30"},r.createElement(Pt,{size:40,className:"text-white"}))),r.createElement("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-2"},"Create Account"),r.createElement("p",{className:"text-center text-gray-500 mb-8"},"  ."),f&&r.createElement("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 text-center"},f),r.createElement("form",{onSubmit:E,className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("div",{className:"relative"},r.createElement("input",{type:"text",value:t,onChange:O=>a(O.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:bg-white outline-none transition-all",placeholder:"",required:!0}),r.createElement(Ap,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("div",{className:"relative"},r.createElement("input",{type:"email",value:s,onChange:O=>o(O.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:bg-white outline-none transition-all",placeholder:"name@example.com",required:!0}),r.createElement(Ex,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("div",{className:"relative"},r.createElement("input",{type:"password",value:c,onChange:O=>u(O.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:bg-white outline-none transition-all",placeholder:"",required:!0}),r.createElement(Pp,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}))),r.createElement("button",{type:"submit",disabled:d,className:"w-full py-3.5 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl shadow-md transition-all flex items-center justify-center gap-2 mt-2"},d?r.createElement(Ft,{size:20,className:"animate-spin"}):"")),r.createElement("div",{className:"mt-6 text-center"},r.createElement("p",{className:"text-sm text-gray-600"},"  ?"," ",r.createElement(go,{to:"/login",className:"text-green-600 font-bold hover:underline"},""))))))}function Bk(){return r.createElement(ox,null,r.createElement(cx,null,r.createElement(Mx,null,r.createElement(Wy,null,r.createElement(ky,null,r.createElement(hn,{path:"/login",element:r.createElement(Fk,null)}),r.createElement(hn,{path:"/register",element:r.createElement($k,null)}),r.createElement(hn,{path:"/",element:r.createElement(Ux,null)},r.createElement(hn,{index:!0,element:r.createElement(Sc,{to:"/home",replace:!0})}),r.createElement(hn,{path:"home",element:r.createElement(Hx,null)}),r.createElement(hn,{path:"chat",element:r.createElement(wk,null)}),r.createElement(hn,{path:"agent",element:r.createElement("div",{className:"flex-1 overflow-hidden p-6 bg-gray-50/50 dark:bg-gray-900 h-full"},r.createElement("div",{className:"h-full bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},r.createElement(_k,null)))}),r.createElement(hn,{path:"knowledge",element:r.createElement("div",{className:"flex-1 overflow-hidden p-6 bg-gray-50/50 dark:bg-gray-900 h-full"},r.createElement("div",{className:"h-full bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},r.createElement(zk,null)))}),r.createElement(hn,{path:"training",element:r.createElement(Mk,null)}),r.createElement(hn,{path:"finetuning",element:r.createElement(Ak,null)}),r.createElement(hn,{path:"guide",element:r.createElement("div",{className:"flex-1 overflow-hidden p-6 bg-gray-50/50 dark:bg-gray-900 h-full"},r.createElement("div",{className:"h-full bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},r.createElement(jk,null)))})),r.createElement(hn,{path:"*",element:r.createElement(Sc,{to:"/login",replace:!0})}))))))}kh.createRoot(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement(Bk,null)));
