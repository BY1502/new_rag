(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=s(c);fetch(c.href,u)}})();function uo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tc={exports:{}},Ze={};var Vm;function gh(){if(Vm)return Ze;Vm=1;var t=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function k(R){return R===null||typeof R!="object"?null:(R=x&&R[x]||R["@@iterator"],typeof R=="function"?R:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,P={};function C(R,$,S){this.props=R,this.context=$,this.refs=P,this.updater=S||E}C.prototype.isReactComponent={},C.prototype.setState=function(R,$){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,$,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function _(){}_.prototype=C.prototype;function N(R,$,S){this.props=R,this.context=$,this.refs=P,this.updater=S||E}var I=N.prototype=new _;I.constructor=N,A(I,C.prototype),I.isPureReactComponent=!0;var Y=Array.isArray,Z=Object.prototype.hasOwnProperty,M={current:null},ee={key:!0,ref:!0,__self:!0,__source:!0};function q(R,$,S){var ve,_e={},Pe=null,Ue=null;if($!=null)for(ve in $.ref!==void 0&&(Ue=$.ref),$.key!==void 0&&(Pe=""+$.key),$)Z.call($,ve)&&!ee.hasOwnProperty(ve)&&(_e[ve]=$[ve]);var Oe=arguments.length-2;if(Oe===1)_e.children=S;else if(1<Oe){for(var qe=Array(Oe),et=0;et<Oe;et++)qe[et]=arguments[et+2];_e.children=qe}if(R&&R.defaultProps)for(ve in Oe=R.defaultProps,Oe)_e[ve]===void 0&&(_e[ve]=Oe[ve]);return{$$typeof:t,type:R,key:Pe,ref:Ue,props:_e,_owner:M.current}}function X(R,$){return{$$typeof:t,type:R.type,key:$,ref:R.ref,props:R.props,_owner:R._owner}}function z(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function D(R){var $={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(S){return $[S]})}var K=/\/+/g;function xe(R,$){return typeof R=="object"&&R!==null&&R.key!=null?D(""+R.key):$.toString(36)}function le(R,$,S,ve,_e){var Pe=typeof R;(Pe==="undefined"||Pe==="boolean")&&(R=null);var Ue=!1;if(R===null)Ue=!0;else switch(Pe){case"string":case"number":Ue=!0;break;case"object":switch(R.$$typeof){case t:case a:Ue=!0}}if(Ue)return Ue=R,_e=_e(Ue),R=ve===""?"."+xe(Ue,0):ve,Y(_e)?(S="",R!=null&&(S=R.replace(K,"$&/")+"/"),le(_e,$,S,"",function(et){return et})):_e!=null&&(z(_e)&&(_e=X(_e,S+(!_e.key||Ue&&Ue.key===_e.key?"":(""+_e.key).replace(K,"$&/")+"/")+R)),$.push(_e)),1;if(Ue=0,ve=ve===""?".":ve+":",Y(R))for(var Oe=0;Oe<R.length;Oe++){Pe=R[Oe];var qe=ve+xe(Pe,Oe);Ue+=le(Pe,$,S,qe,_e)}else if(qe=k(R),typeof qe=="function")for(R=qe.call(R),Oe=0;!(Pe=R.next()).done;)Pe=Pe.value,qe=ve+xe(Pe,Oe++),Ue+=le(Pe,$,S,qe,_e);else if(Pe==="object")throw $=String(R),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Ue}function te(R,$,S){if(R==null)return R;var ve=[],_e=0;return le(R,ve,"","",function(Pe){return $.call(S,Pe,_e++)}),ve}function J(R){if(R._status===-1){var $=R._result;$=$(),$.then(function(S){(R._status===0||R._status===-1)&&(R._status=1,R._result=S)},function(S){(R._status===0||R._status===-1)&&(R._status=2,R._result=S)}),R._status===-1&&(R._status=0,R._result=$)}if(R._status===1)return R._result.default;throw R._result}var oe={current:null},G={transition:null},ge={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:G,ReactCurrentOwner:M};function w(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:te,forEach:function(R,$,S){te(R,function(){$.apply(this,arguments)},S)},count:function(R){var $=0;return te(R,function(){$++}),$},toArray:function(R){return te(R,function($){return $})||[]},only:function(R){if(!z(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ze.Component=C,Ze.Fragment=s,Ze.Profiler=c,Ze.PureComponent=N,Ze.StrictMode=o,Ze.Suspense=f,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ze.act=w,Ze.cloneElement=function(R,$,S){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ve=A({},R.props),_e=R.key,Pe=R.ref,Ue=R._owner;if($!=null){if($.ref!==void 0&&(Pe=$.ref,Ue=M.current),$.key!==void 0&&(_e=""+$.key),R.type&&R.type.defaultProps)var Oe=R.type.defaultProps;for(qe in $)Z.call($,qe)&&!ee.hasOwnProperty(qe)&&(ve[qe]=$[qe]===void 0&&Oe!==void 0?Oe[qe]:$[qe])}var qe=arguments.length-2;if(qe===1)ve.children=S;else if(1<qe){Oe=Array(qe);for(var et=0;et<qe;et++)Oe[et]=arguments[et+2];ve.children=Oe}return{$$typeof:t,type:R.type,key:_e,ref:Pe,props:ve,_owner:Ue}},Ze.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:u,_context:R},R.Consumer=R},Ze.createElement=q,Ze.createFactory=function(R){var $=q.bind(null,R);return $.type=R,$},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(R){return{$$typeof:g,render:R}},Ze.isValidElement=z,Ze.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:J}},Ze.memo=function(R,$){return{$$typeof:h,type:R,compare:$===void 0?null:$}},Ze.startTransition=function(R){var $=G.transition;G.transition={};try{R()}finally{G.transition=$}},Ze.unstable_act=w,Ze.useCallback=function(R,$){return oe.current.useCallback(R,$)},Ze.useContext=function(R){return oe.current.useContext(R)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(R){return oe.current.useDeferredValue(R)},Ze.useEffect=function(R,$){return oe.current.useEffect(R,$)},Ze.useId=function(){return oe.current.useId()},Ze.useImperativeHandle=function(R,$,S){return oe.current.useImperativeHandle(R,$,S)},Ze.useInsertionEffect=function(R,$){return oe.current.useInsertionEffect(R,$)},Ze.useLayoutEffect=function(R,$){return oe.current.useLayoutEffect(R,$)},Ze.useMemo=function(R,$){return oe.current.useMemo(R,$)},Ze.useReducer=function(R,$,S){return oe.current.useReducer(R,$,S)},Ze.useRef=function(R){return oe.current.useRef(R)},Ze.useState=function(R){return oe.current.useState(R)},Ze.useSyncExternalStore=function(R,$,S){return oe.current.useSyncExternalStore(R,$,S)},Ze.useTransition=function(){return oe.current.useTransition()},Ze.version="18.3.1",Ze}var qm;function Uc(){return qm||(qm=1,tc.exports=gh()),tc.exports}var b=Uc();const r=uo(b);var Qs={},nc={exports:{}},sn={},rc={exports:{}},ac={};var Wm;function ph(){return Wm||(Wm=1,(function(t){function a(G,ge){var w=G.length;G.push(ge);e:for(;0<w;){var R=w-1>>>1,$=G[R];if(0<c($,ge))G[R]=ge,G[w]=$,w=R;else break e}}function s(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var ge=G[0],w=G.pop();if(w!==ge){G[0]=w;e:for(var R=0,$=G.length,S=$>>>1;R<S;){var ve=2*(R+1)-1,_e=G[ve],Pe=ve+1,Ue=G[Pe];if(0>c(_e,w))Pe<$&&0>c(Ue,_e)?(G[R]=Ue,G[Pe]=w,R=Pe):(G[R]=_e,G[ve]=w,R=ve);else if(Pe<$&&0>c(Ue,w))G[R]=Ue,G[Pe]=w,R=Pe;else break e}}return ge}function c(G,ge){var w=G.sortIndex-ge.sortIndex;return w!==0?w:G.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();t.unstable_now=function(){return d.now()-g}}var f=[],h=[],y=1,x=null,k=3,E=!1,A=!1,P=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(G){for(var ge=s(h);ge!==null;){if(ge.callback===null)o(h);else if(ge.startTime<=G)o(h),ge.sortIndex=ge.expirationTime,a(f,ge);else break;ge=s(h)}}function Y(G){if(P=!1,I(G),!A)if(s(f)!==null)A=!0,J(Z);else{var ge=s(h);ge!==null&&oe(Y,ge.startTime-G)}}function Z(G,ge){A=!1,P&&(P=!1,_(q),q=-1),E=!0;var w=k;try{for(I(ge),x=s(f);x!==null&&(!(x.expirationTime>ge)||G&&!D());){var R=x.callback;if(typeof R=="function"){x.callback=null,k=x.priorityLevel;var $=R(x.expirationTime<=ge);ge=t.unstable_now(),typeof $=="function"?x.callback=$:x===s(f)&&o(f),I(ge)}else o(f);x=s(f)}if(x!==null)var S=!0;else{var ve=s(h);ve!==null&&oe(Y,ve.startTime-ge),S=!1}return S}finally{x=null,k=w,E=!1}}var M=!1,ee=null,q=-1,X=5,z=-1;function D(){return!(t.unstable_now()-z<X)}function K(){if(ee!==null){var G=t.unstable_now();z=G;var ge=!0;try{ge=ee(!0,G)}finally{ge?xe():(M=!1,ee=null)}}else M=!1}var xe;if(typeof N=="function")xe=function(){N(K)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,te=le.port2;le.port1.onmessage=K,xe=function(){te.postMessage(null)}}else xe=function(){C(K,0)};function J(G){ee=G,M||(M=!0,xe())}function oe(G,ge){q=C(function(){G(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){A||E||(A=!0,J(Z))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return s(f)},t.unstable_next=function(G){switch(k){case 1:case 2:case 3:var ge=3;break;default:ge=k}var w=k;k=ge;try{return G()}finally{k=w}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ge){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var w=k;k=G;try{return ge()}finally{k=w}},t.unstable_scheduleCallback=function(G,ge,w){var R=t.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?R+w:R):w=R,G){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=w+$,G={id:y++,callback:ge,priorityLevel:G,startTime:w,expirationTime:$,sortIndex:-1},w>R?(G.sortIndex=w,a(h,G),s(f)===null&&G===s(h)&&(P?(_(q),q=-1):P=!0,oe(Y,w-R))):(G.sortIndex=$,a(f,G),A||E||(A=!0,J(Z))),G},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(G){var ge=k;return function(){var w=k;k=ge;try{return G.apply(this,arguments)}finally{k=w}}}})(ac)),ac}var Km;function fh(){return Km||(Km=1,rc.exports=ph()),rc.exports}var Gm;function hh(){if(Gm)return sn;Gm=1;var t=Uc(),a=fh();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,l=1;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function u(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(c[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function k(e){return f.call(x,e)?!0:f.call(y,e)?!1:h.test(e)?x[e]=!0:(y[e]=!0,!1)}function E(e,n,l,i){if(l!==null&&l.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return i?!1:l!==null?!l.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,n,l,i){if(n===null||typeof n>"u"||E(e,n,l,i))return!0;if(i)return!1;if(l!==null)switch(l.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function P(e,n,l,i,m,p,v){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=i,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=e,this.type=n,this.sanitizeURL=p,this.removeEmptyString=v}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];C[n]=new P(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function N(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(_,N);C[n]=new P(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(_,N);C[n]=new P(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(_,N);C[n]=new P(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function I(e,n,l,i){var m=C.hasOwnProperty(n)?C[n]:null;(m!==null?m.type!==0:i||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(A(n,l,m,i)&&(l=null),i||m===null?k(n)&&(l===null?e.removeAttribute(n):e.setAttribute(n,""+l)):m.mustUseProperty?e[m.propertyName]=l===null?m.type===3?!1:"":l:(n=m.attributeName,i=m.attributeNamespace,l===null?e.removeAttribute(n):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,i?e.setAttributeNS(i,n,l):e.setAttribute(n,l))))}var Y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),M=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),D=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),G=Symbol.iterator;function ge(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var w=Object.assign,R;function $(e){if(R===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);R=n&&n[1]||""}return`
`+R+e}var S=!1;function ve(e,n){if(!e||S)return"";S=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(W){var i=W}Reflect.construct(e,[],n)}else{try{n.call()}catch(W){i=W}e.call(n.prototype)}else{try{throw Error()}catch(W){i=W}e()}}catch(W){if(W&&i&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),p=i.stack.split(`
`),v=m.length-1,T=p.length-1;1<=v&&0<=T&&m[v]!==p[T];)T--;for(;1<=v&&0<=T;v--,T--)if(m[v]!==p[T]){if(v!==1||T!==1)do if(v--,T--,0>T||m[v]!==p[T]){var L=`
`+m[v].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=v&&0<=T);break}}}finally{S=!1,Error.prepareStackTrace=l}return(e=e?e.displayName||e.name:"")?$(e):""}function _e(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=ve(e.type,!1),e;case 11:return e=ve(e.type.render,!1),e;case 1:return e=ve(e.type,!0),e;default:return""}}function Pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ee:return"Fragment";case M:return"Portal";case X:return"Profiler";case q:return"StrictMode";case xe:return"Suspense";case le:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case z:return(e._context.displayName||"Context")+".Provider";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return n=e.displayName||null,n!==null?n:Pe(e.type)||"Memo";case J:n=e._payload,e=e._init;try{return Pe(e(n))}catch{}}return null}function Ue(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(n);case 8:return n===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Oe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qe(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function et(e){var n=qe(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),i=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(v){i=""+v,p.call(this,v)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function st(e){e._valueTracker||(e._valueTracker=et(e))}function tt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),i="";return e&&(i=qe(e)?e.checked?"true":"false":e.value),e=i,e!==l?(n.setValue(e),!0):!1}function yt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ae(e,n){var l=n.checked;return w({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??e._wrapperState.initialChecked})}function nt(e,n){var l=n.defaultValue==null?"":n.defaultValue,i=n.checked!=null?n.checked:n.defaultChecked;l=Oe(n.value!=null?n.value:l),e._wrapperState={initialChecked:i,initialValue:l,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Xe(e,n){n=n.checked,n!=null&&I(e,"checked",n,!1)}function Q(e,n){Xe(e,n);var l=Oe(n.value),i=n.type;if(l!=null)i==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+l):e.value!==""+l&&(e.value=""+l);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ie(e,n.type,l):n.hasOwnProperty("defaultValue")&&Ie(e,n.type,Oe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function re(e,n,l){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var i=n.type;if(!(i!=="submit"&&i!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,l||n===e.value||(e.value=n),e.defaultValue=n}l=e.name,l!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,l!==""&&(e.name=l)}function Ie(e,n,l){(n!=="number"||yt(e.ownerDocument)!==e)&&(l==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+l&&(e.defaultValue=""+l))}var ye=Array.isArray;function Qe(e,n,l,i){if(e=e.options,n){n={};for(var m=0;m<l.length;m++)n["$"+l[m]]=!0;for(l=0;l<e.length;l++)m=n.hasOwnProperty("$"+e[l].value),e[l].selected!==m&&(e[l].selected=m),m&&i&&(e[l].defaultSelected=!0)}else{for(l=""+Oe(l),n=null,m=0;m<e.length;m++){if(e[m].value===l){e[m].selected=!0,i&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function Ye(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return w({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function it(e,n){var l=n.value;if(l==null){if(l=n.children,n=n.defaultValue,l!=null){if(n!=null)throw Error(s(92));if(ye(l)){if(1<l.length)throw Error(s(93));l=l[0]}n=l}n==null&&(n=""),l=n}e._wrapperState={initialValue:Oe(l)}}function mt(e,n){var l=Oe(n.value),i=Oe(n.defaultValue);l!=null&&(l=""+l,l!==e.value&&(e.value=l),n.defaultValue==null&&e.defaultValue!==l&&(e.defaultValue=l)),i!=null&&(e.defaultValue=""+i)}function H(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function F(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ne(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?F(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ue,Se=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,l,i,m){MSApp.execUnsafeLocalFunction(function(){return e(n,l,i,m)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ue=ue||document.createElement("div"),ue.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function U(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];Object.keys(ce).forEach(function(e){be.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ce[n]=ce[e]})});function Be(e,n,l){return n==null||typeof n=="boolean"||n===""?"":l||typeof n!="number"||n===0||ce.hasOwnProperty(e)&&ce[e]?(""+n).trim():n+"px"}function xt(e,n){e=e.style;for(var l in n)if(n.hasOwnProperty(l)){var i=l.indexOf("--")===0,m=Be(l,n[l],i);l==="float"&&(l="cssFloat"),i?e.setProperty(l,m):e[l]=m}}var Nt=w({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ke(e,n){if(n){if(Nt[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function ct(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gt=null;function Ot(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Et=null,O=null,ke=null;function fe(e){if(e=nl(e)){if(typeof Et!="function")throw Error(s(280));var n=e.stateNode;n&&(n=us(n),Et(e.stateNode,e.type,n))}}function We(e){O?ke?ke.push(e):ke=[e]:O=e}function rt(){if(O){var e=O,n=ke;if(ke=O=null,fe(e),n)for(e=0;e<n.length;e++)fe(n[e])}}function he(e,n){return e(n)}function Ge(){}var Ae=!1;function Te(e,n,l){if(Ae)return e(n,l);Ae=!0;try{return he(e,n,l)}finally{Ae=!1,(O!==null||ke!==null)&&(Ge(),rt())}}function St(e,n){var l=e.stateNode;if(l===null)return null;var i=us(l);if(i===null)return null;l=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,n,typeof l));return l}var Or=!1;if(g)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){Or=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{Or=!1}function x0(e,n,l,i,m,p,v,T,L){var W=Array.prototype.slice.call(arguments,3);try{n.apply(l,W)}catch(ie){this.onError(ie)}}var Oa=!1,Ul=null,Hl=!1,vo=null,b0={onError:function(e){Oa=!0,Ul=e}};function v0(e,n,l,i,m,p,v,T,L){Oa=!1,Ul=null,x0.apply(b0,arguments)}function E0(e,n,l,i,m,p,v,T,L){if(v0.apply(this,arguments),Oa){if(Oa){var W=Ul;Oa=!1,Ul=null}else throw Error(s(198));Hl||(Hl=!0,vo=W)}}function jr(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function gu(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function pu(e){if(jr(e)!==e)throw Error(s(188))}function k0(e){var n=e.alternate;if(!n){if(n=jr(e),n===null)throw Error(s(188));return n!==e?null:e}for(var l=e,i=n;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(i=m.return,i!==null){l=i;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return pu(m),e;if(p===i)return pu(m),n;p=p.sibling}throw Error(s(188))}if(l.return!==i.return)l=m,i=p;else{for(var v=!1,T=m.child;T;){if(T===l){v=!0,l=m,i=p;break}if(T===i){v=!0,i=m,l=p;break}T=T.sibling}if(!v){for(T=p.child;T;){if(T===l){v=!0,l=p,i=m;break}if(T===i){v=!0,i=p,l=m;break}T=T.sibling}if(!v)throw Error(s(189))}}if(l.alternate!==i)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:n}function fu(e){return e=k0(e),e!==null?hu(e):null}function hu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=hu(e);if(n!==null)return n;e=e.sibling}return null}var yu=a.unstable_scheduleCallback,xu=a.unstable_cancelCallback,w0=a.unstable_shouldYield,N0=a.unstable_requestPaint,It=a.unstable_now,S0=a.unstable_getCurrentPriorityLevel,Eo=a.unstable_ImmediatePriority,bu=a.unstable_UserBlockingPriority,Vl=a.unstable_NormalPriority,C0=a.unstable_LowPriority,vu=a.unstable_IdlePriority,ql=null,qn=null;function _0(e){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(ql,e,void 0,(e.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:P0,T0=Math.log,z0=Math.LN2;function P0(e){return e>>>=0,e===0?32:31-(T0(e)/z0|0)|0}var Wl=64,Kl=4194304;function ja(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gl(e,n){var l=e.pendingLanes;if(l===0)return 0;var i=0,m=e.suspendedLanes,p=e.pingedLanes,v=l&268435455;if(v!==0){var T=v&~m;T!==0?i=ja(T):(p&=v,p!==0&&(i=ja(p)))}else v=l&~m,v!==0?i=ja(v):p!==0&&(i=ja(p));if(i===0)return 0;if(n!==0&&n!==i&&(n&m)===0&&(m=i&-i,p=n&-n,m>=p||m===16&&(p&4194240)!==0))return n;if((i&4)!==0&&(i|=l&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=i;0<n;)l=31-Mn(n),m=1<<l,i|=e[l],n&=~m;return i}function I0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M0(e,n){for(var l=e.suspendedLanes,i=e.pingedLanes,m=e.expirationTimes,p=e.pendingLanes;0<p;){var v=31-Mn(p),T=1<<v,L=m[v];L===-1?((T&l)===0||(T&i)!==0)&&(m[v]=I0(T,n)):L<=n&&(e.expiredLanes|=T),p&=~T}}function ko(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Eu(){var e=Wl;return Wl<<=1,(Wl&4194240)===0&&(Wl=64),e}function wo(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Fa(e,n,l){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Mn(n),e[n]=l}function L0(e,n){var l=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<l;){var m=31-Mn(l),p=1<<m;n[m]=0,i[m]=-1,e[m]=-1,l&=~p}}function No(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var i=31-Mn(l),m=1<<i;m&n|e[i]&n&&(e[i]|=n),l&=~m}}var ut=0;function ku(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var wu,So,Nu,Su,Cu,Co=!1,Ql=[],fr=null,hr=null,yr=null,$a=new Map,Ba=new Map,xr=[],R0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(e,n){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":$a.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(n.pointerId)}}function Ua(e,n,l,i,m,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:l,eventSystemFlags:i,nativeEvent:p,targetContainers:[m]},n!==null&&(n=nl(n),n!==null&&So(n)),e):(e.eventSystemFlags|=i,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function A0(e,n,l,i,m){switch(n){case"focusin":return fr=Ua(fr,e,n,l,i,m),!0;case"dragenter":return hr=Ua(hr,e,n,l,i,m),!0;case"mouseover":return yr=Ua(yr,e,n,l,i,m),!0;case"pointerover":var p=m.pointerId;return $a.set(p,Ua($a.get(p)||null,e,n,l,i,m)),!0;case"gotpointercapture":return p=m.pointerId,Ba.set(p,Ua(Ba.get(p)||null,e,n,l,i,m)),!0}return!1}function Tu(e){var n=Fr(e.target);if(n!==null){var l=jr(n);if(l!==null){if(n=l.tag,n===13){if(n=gu(l),n!==null){e.blockedOn=n,Cu(e.priority,function(){Nu(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=To(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(l===null){l=e.nativeEvent;var i=new l.constructor(l.type,l);gt=i,l.target.dispatchEvent(i),gt=null}else return n=nl(l),n!==null&&So(n),e.blockedOn=l,!1;n.shift()}return!0}function zu(e,n,l){Jl(e)&&l.delete(n)}function D0(){Co=!1,fr!==null&&Jl(fr)&&(fr=null),hr!==null&&Jl(hr)&&(hr=null),yr!==null&&Jl(yr)&&(yr=null),$a.forEach(zu),Ba.forEach(zu)}function Ha(e,n){e.blockedOn===n&&(e.blockedOn=null,Co||(Co=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,D0)))}function Va(e){function n(m){return Ha(m,e)}if(0<Ql.length){Ha(Ql[0],e);for(var l=1;l<Ql.length;l++){var i=Ql[l];i.blockedOn===e&&(i.blockedOn=null)}}for(fr!==null&&Ha(fr,e),hr!==null&&Ha(hr,e),yr!==null&&Ha(yr,e),$a.forEach(n),Ba.forEach(n),l=0;l<xr.length;l++)i=xr[l],i.blockedOn===e&&(i.blockedOn=null);for(;0<xr.length&&(l=xr[0],l.blockedOn===null);)Tu(l),l.blockedOn===null&&xr.shift()}var ta=Y.ReactCurrentBatchConfig,Yl=!0;function O0(e,n,l,i){var m=ut,p=ta.transition;ta.transition=null;try{ut=1,_o(e,n,l,i)}finally{ut=m,ta.transition=p}}function j0(e,n,l,i){var m=ut,p=ta.transition;ta.transition=null;try{ut=4,_o(e,n,l,i)}finally{ut=m,ta.transition=p}}function _o(e,n,l,i){if(Yl){var m=To(e,n,l,i);if(m===null)qo(e,n,i,Xl,l),_u(e,i);else if(A0(m,e,n,l,i))i.stopPropagation();else if(_u(e,i),n&4&&-1<R0.indexOf(e)){for(;m!==null;){var p=nl(m);if(p!==null&&wu(p),p=To(e,n,l,i),p===null&&qo(e,n,i,Xl,l),p===m)break;m=p}m!==null&&i.stopPropagation()}else qo(e,n,i,null,l)}}var Xl=null;function To(e,n,l,i){if(Xl=null,e=Ot(i),e=Fr(e),e!==null)if(n=jr(e),n===null)e=null;else if(l=n.tag,l===13){if(e=gu(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Xl=e,null}function Pu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S0()){case Eo:return 1;case bu:return 4;case Vl:case C0:return 16;case vu:return 536870912;default:return 16}default:return 16}}var br=null,zo=null,Zl=null;function Iu(){if(Zl)return Zl;var e,n=zo,l=n.length,i,m="value"in br?br.value:br.textContent,p=m.length;for(e=0;e<l&&n[e]===m[e];e++);var v=l-e;for(i=1;i<=v&&n[l-i]===m[p-i];i++);return Zl=m.slice(e,1<i?1-i:void 0)}function es(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ts(){return!0}function Mu(){return!1}function gn(e){function n(l,i,m,p,v){this._reactName=l,this._targetInst=m,this.type=i,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(l=e[T],this[T]=l?l(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ts:Mu,this.isPropagationStopped=Mu,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),n}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=gn(na),qa=w({},na,{view:0,detail:0}),F0=gn(qa),Io,Mo,Wa,ns=w({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wa&&(Wa&&e.type==="mousemove"?(Io=e.screenX-Wa.screenX,Mo=e.screenY-Wa.screenY):Mo=Io=0,Wa=e),Io)},movementY:function(e){return"movementY"in e?e.movementY:Mo}}),Lu=gn(ns),$0=w({},ns,{dataTransfer:0}),B0=gn($0),U0=w({},qa,{relatedTarget:0}),Lo=gn(U0),H0=w({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),V0=gn(H0),q0=w({},na,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),W0=gn(q0),K0=w({},na,{data:0}),Ru=gn(K0),G0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=J0[e])?!!n[e]:!1}function Ro(){return Y0}var X0=w({},qa,{key:function(e){if(e.key){var n=G0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Q0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(e){return e.type==="keypress"?es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Z0=gn(X0),ef=w({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Au=gn(ef),tf=w({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),nf=gn(tf),rf=w({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),af=gn(rf),lf=w({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sf=gn(lf),of=[9,13,27,32],Ao=g&&"CompositionEvent"in window,Ka=null;g&&"documentMode"in document&&(Ka=document.documentMode);var cf=g&&"TextEvent"in window&&!Ka,Du=g&&(!Ao||Ka&&8<Ka&&11>=Ka),Ou=" ",ju=!1;function Fu(e,n){switch(e){case"keyup":return of.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $u(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function uf(e,n){switch(e){case"compositionend":return $u(n);case"keypress":return n.which!==32?null:(ju=!0,Ou);case"textInput":return e=n.data,e===Ou&&ju?null:e;default:return null}}function df(e,n){if(ra)return e==="compositionend"||!Ao&&Fu(e,n)?(e=Iu(),Zl=zo=br=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Du&&n.locale!=="ko"?null:n.data;default:return null}}var mf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!mf[e.type]:n==="textarea"}function Uu(e,n,l,i){We(i),n=os(n,"onChange"),0<n.length&&(l=new Po("onChange","change",null,l,i),e.push({event:l,listeners:n}))}var Ga=null,Qa=null;function gf(e){sd(e,0)}function rs(e){var n=ia(e);if(tt(n))return e}function pf(e,n){if(e==="change")return n}var Hu=!1;if(g){var Do;if(g){var Oo="oninput"in document;if(!Oo){var Vu=document.createElement("div");Vu.setAttribute("oninput","return;"),Oo=typeof Vu.oninput=="function"}Do=Oo}else Do=!1;Hu=Do&&(!document.documentMode||9<document.documentMode)}function qu(){Ga&&(Ga.detachEvent("onpropertychange",Wu),Qa=Ga=null)}function Wu(e){if(e.propertyName==="value"&&rs(Qa)){var n=[];Uu(n,Qa,e,Ot(e)),Te(gf,n)}}function ff(e,n,l){e==="focusin"?(qu(),Ga=n,Qa=l,Ga.attachEvent("onpropertychange",Wu)):e==="focusout"&&qu()}function hf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rs(Qa)}function yf(e,n){if(e==="click")return rs(n)}function xf(e,n){if(e==="input"||e==="change")return rs(n)}function bf(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ln=typeof Object.is=="function"?Object.is:bf;function Ja(e,n){if(Ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),i=Object.keys(n);if(l.length!==i.length)return!1;for(i=0;i<l.length;i++){var m=l[i];if(!f.call(n,m)||!Ln(e[m],n[m]))return!1}return!0}function Ku(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gu(e,n){var l=Ku(e);e=0;for(var i;l;){if(l.nodeType===3){if(i=e+l.textContent.length,e<=n&&i>=n)return{node:l,offset:n-e};e=i}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ku(l)}}function Qu(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Qu(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ju(){for(var e=window,n=yt();n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=yt(e.document)}return n}function jo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function vf(e){var n=Ju(),l=e.focusedElem,i=e.selectionRange;if(n!==l&&l&&l.ownerDocument&&Qu(l.ownerDocument.documentElement,l)){if(i!==null&&jo(l)){if(n=i.start,e=i.end,e===void 0&&(e=n),"selectionStart"in l)l.selectionStart=n,l.selectionEnd=Math.min(e,l.value.length);else if(e=(n=l.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var m=l.textContent.length,p=Math.min(i.start,m);i=i.end===void 0?p:Math.min(i.end,m),!e.extend&&p>i&&(m=i,i=p,p=m),m=Gu(l,p);var v=Gu(l,i);m&&v&&(e.rangeCount!==1||e.anchorNode!==m.node||e.anchorOffset!==m.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(m.node,m.offset),e.removeAllRanges(),p>i?(e.addRange(n),e.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),e.addRange(n)))}}for(n=[],e=l;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<n.length;l++)e=n[l],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ef=g&&"documentMode"in document&&11>=document.documentMode,aa=null,Fo=null,Ya=null,$o=!1;function Yu(e,n,l){var i=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$o||aa==null||aa!==yt(i)||(i=aa,"selectionStart"in i&&jo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ya&&Ja(Ya,i)||(Ya=i,i=os(Fo,"onSelect"),0<i.length&&(n=new Po("onSelect","select",null,n,l),e.push({event:n,listeners:i}),n.target=aa)))}function as(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var la={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},Bo={},Xu={};g&&(Xu=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function ls(e){if(Bo[e])return Bo[e];if(!la[e])return e;var n=la[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Xu)return Bo[e]=n[l];return e}var Zu=ls("animationend"),ed=ls("animationiteration"),td=ls("animationstart"),nd=ls("transitionend"),rd=new Map,ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(e,n){rd.set(e,n),u(n,[e])}for(var Uo=0;Uo<ad.length;Uo++){var Ho=ad[Uo],kf=Ho.toLowerCase(),wf=Ho[0].toUpperCase()+Ho.slice(1);vr(kf,"on"+wf)}vr(Zu,"onAnimationEnd"),vr(ed,"onAnimationIteration"),vr(td,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(nd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function ld(e,n,l){var i=e.type||"unknown-event";e.currentTarget=l,E0(i,n,void 0,e),e.currentTarget=null}function sd(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var i=e[l],m=i.event;i=i.listeners;e:{var p=void 0;if(n)for(var v=i.length-1;0<=v;v--){var T=i[v],L=T.instance,W=T.currentTarget;if(T=T.listener,L!==p&&m.isPropagationStopped())break e;ld(m,T,W),p=L}else for(v=0;v<i.length;v++){if(T=i[v],L=T.instance,W=T.currentTarget,T=T.listener,L!==p&&m.isPropagationStopped())break e;ld(m,T,W),p=L}}}if(Hl)throw e=vo,Hl=!1,vo=null,e}function bt(e,n){var l=n[Yo];l===void 0&&(l=n[Yo]=new Set);var i=e+"__bubble";l.has(i)||(od(n,e,2,!1),l.add(i))}function Vo(e,n,l){var i=0;n&&(i|=4),od(l,e,i,n)}var ss="_reactListening"+Math.random().toString(36).slice(2);function Za(e){if(!e[ss]){e[ss]=!0,o.forEach(function(l){l!=="selectionchange"&&(Nf.has(l)||Vo(l,!1,e),Vo(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ss]||(n[ss]=!0,Vo("selectionchange",!1,n))}}function od(e,n,l,i){switch(Pu(n)){case 1:var m=O0;break;case 4:m=j0;break;default:m=_o}l=m.bind(null,n,l,e),m=void 0,!Or||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),i?m!==void 0?e.addEventListener(n,l,{capture:!0,passive:m}):e.addEventListener(n,l,!0):m!==void 0?e.addEventListener(n,l,{passive:m}):e.addEventListener(n,l,!1)}function qo(e,n,l,i,m){var p=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var v=i.tag;if(v===3||v===4){var T=i.stateNode.containerInfo;if(T===m||T.nodeType===8&&T.parentNode===m)break;if(v===4)for(v=i.return;v!==null;){var L=v.tag;if((L===3||L===4)&&(L=v.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;v=v.return}for(;T!==null;){if(v=Fr(T),v===null)return;if(L=v.tag,L===5||L===6){i=p=v;continue e}T=T.parentNode}}i=i.return}Te(function(){var W=p,ie=Ot(l),de=[];e:{var se=rd.get(e);if(se!==void 0){var Ce=Po,Le=e;switch(e){case"keypress":if(es(l)===0)break e;case"keydown":case"keyup":Ce=Z0;break;case"focusin":Le="focus",Ce=Lo;break;case"focusout":Le="blur",Ce=Lo;break;case"beforeblur":case"afterblur":Ce=Lo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=B0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=nf;break;case Zu:case ed:case td:Ce=V0;break;case nd:Ce=af;break;case"scroll":Ce=F0;break;case"wheel":Ce=sf;break;case"copy":case"cut":case"paste":Ce=W0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Au}var Re=(n&4)!==0,Mt=!Re&&e==="scroll",B=Re?se!==null?se+"Capture":null:se;Re=[];for(var j=W,V;j!==null;){V=j;var pe=V.stateNode;if(V.tag===5&&pe!==null&&(V=pe,B!==null&&(pe=St(j,B),pe!=null&&Re.push(el(j,pe,V)))),Mt)break;j=j.return}0<Re.length&&(se=new Ce(se,Le,null,l,ie),de.push({event:se,listeners:Re}))}}if((n&7)===0){e:{if(se=e==="mouseover"||e==="pointerover",Ce=e==="mouseout"||e==="pointerout",se&&l!==gt&&(Le=l.relatedTarget||l.fromElement)&&(Fr(Le)||Le[tr]))break e;if((Ce||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,Ce?(Le=l.relatedTarget||l.toElement,Ce=W,Le=Le?Fr(Le):null,Le!==null&&(Mt=jr(Le),Le!==Mt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Ce=null,Le=W),Ce!==Le)){if(Re=Lu,pe="onMouseLeave",B="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(Re=Au,pe="onPointerLeave",B="onPointerEnter",j="pointer"),Mt=Ce==null?se:ia(Ce),V=Le==null?se:ia(Le),se=new Re(pe,j+"leave",Ce,l,ie),se.target=Mt,se.relatedTarget=V,pe=null,Fr(ie)===W&&(Re=new Re(B,j+"enter",Le,l,ie),Re.target=V,Re.relatedTarget=Mt,pe=Re),Mt=pe,Ce&&Le)t:{for(Re=Ce,B=Le,j=0,V=Re;V;V=sa(V))j++;for(V=0,pe=B;pe;pe=sa(pe))V++;for(;0<j-V;)Re=sa(Re),j--;for(;0<V-j;)B=sa(B),V--;for(;j--;){if(Re===B||B!==null&&Re===B.alternate)break t;Re=sa(Re),B=sa(B)}Re=null}else Re=null;Ce!==null&&id(de,se,Ce,Re,!1),Le!==null&&Mt!==null&&id(de,Mt,Le,Re,!0)}}e:{if(se=W?ia(W):window,Ce=se.nodeName&&se.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&se.type==="file")var De=pf;else if(Bu(se))if(Hu)De=xf;else{De=hf;var Fe=ff}else(Ce=se.nodeName)&&Ce.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(De=yf);if(De&&(De=De(e,W))){Uu(de,De,l,ie);break e}Fe&&Fe(e,se,W),e==="focusout"&&(Fe=se._wrapperState)&&Fe.controlled&&se.type==="number"&&Ie(se,"number",se.value)}switch(Fe=W?ia(W):window,e){case"focusin":(Bu(Fe)||Fe.contentEditable==="true")&&(aa=Fe,Fo=W,Ya=null);break;case"focusout":Ya=Fo=aa=null;break;case"mousedown":$o=!0;break;case"contextmenu":case"mouseup":case"dragend":$o=!1,Yu(de,l,ie);break;case"selectionchange":if(Ef)break;case"keydown":case"keyup":Yu(de,l,ie)}var $e;if(Ao)e:{switch(e){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else ra?Fu(e,l)&&(He="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(Du&&l.locale!=="ko"&&(ra||He!=="onCompositionStart"?He==="onCompositionEnd"&&ra&&($e=Iu()):(br=ie,zo="value"in br?br.value:br.textContent,ra=!0)),Fe=os(W,He),0<Fe.length&&(He=new Ru(He,e,null,l,ie),de.push({event:He,listeners:Fe}),$e?He.data=$e:($e=$u(l),$e!==null&&(He.data=$e)))),($e=cf?uf(e,l):df(e,l))&&(W=os(W,"onBeforeInput"),0<W.length&&(ie=new Ru("onBeforeInput","beforeinput",null,l,ie),de.push({event:ie,listeners:W}),ie.data=$e))}sd(de,n)})}function el(e,n,l){return{instance:e,listener:n,currentTarget:l}}function os(e,n){for(var l=n+"Capture",i=[];e!==null;){var m=e,p=m.stateNode;m.tag===5&&p!==null&&(m=p,p=St(e,l),p!=null&&i.unshift(el(e,p,m)),p=St(e,n),p!=null&&i.push(el(e,p,m))),e=e.return}return i}function sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function id(e,n,l,i,m){for(var p=n._reactName,v=[];l!==null&&l!==i;){var T=l,L=T.alternate,W=T.stateNode;if(L!==null&&L===i)break;T.tag===5&&W!==null&&(T=W,m?(L=St(l,p),L!=null&&v.unshift(el(l,L,T))):m||(L=St(l,p),L!=null&&v.push(el(l,L,T)))),l=l.return}v.length!==0&&e.push({event:n,listeners:v})}var Sf=/\r\n?/g,Cf=/\u0000|\uFFFD/g;function cd(e){return(typeof e=="string"?e:""+e).replace(Sf,`
`).replace(Cf,"")}function is(e,n,l){if(n=cd(n),cd(e)!==n&&l)throw Error(s(425))}function cs(){}var Wo=null,Ko=null;function Go(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Qo=typeof setTimeout=="function"?setTimeout:void 0,_f=typeof clearTimeout=="function"?clearTimeout:void 0,ud=typeof Promise=="function"?Promise:void 0,Tf=typeof queueMicrotask=="function"?queueMicrotask:typeof ud<"u"?function(e){return ud.resolve(null).then(e).catch(zf)}:Qo;function zf(e){setTimeout(function(){throw e})}function Jo(e,n){var l=n,i=0;do{var m=l.nextSibling;if(e.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(i===0){e.removeChild(m),Va(n);return}i--}else l!=="$"&&l!=="$?"&&l!=="$!"||i++;l=m}while(l);Va(n)}function Er(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function dd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}var oa=Math.random().toString(36).slice(2),Wn="__reactFiber$"+oa,tl="__reactProps$"+oa,tr="__reactContainer$"+oa,Yo="__reactEvents$"+oa,Pf="__reactListeners$"+oa,If="__reactHandles$"+oa;function Fr(e){var n=e[Wn];if(n)return n;for(var l=e.parentNode;l;){if(n=l[tr]||l[Wn]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=dd(e);e!==null;){if(l=e[Wn])return l;e=dd(e)}return n}e=l,l=e.parentNode}return null}function nl(e){return e=e[Wn]||e[tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ia(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function us(e){return e[tl]||null}var Xo=[],ca=-1;function kr(e){return{current:e}}function vt(e){0>ca||(e.current=Xo[ca],Xo[ca]=null,ca--)}function pt(e,n){ca++,Xo[ca]=e.current,e.current=n}var wr={},Kt=kr(wr),tn=kr(!1),$r=wr;function ua(e,n){var l=e.type.contextTypes;if(!l)return wr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var m={},p;for(p in l)m[p]=n[p];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=m),m}function nn(e){return e=e.childContextTypes,e!=null}function ds(){vt(tn),vt(Kt)}function md(e,n,l){if(Kt.current!==wr)throw Error(s(168));pt(Kt,n),pt(tn,l)}function gd(e,n,l){var i=e.stateNode;if(n=n.childContextTypes,typeof i.getChildContext!="function")return l;i=i.getChildContext();for(var m in i)if(!(m in n))throw Error(s(108,Ue(e)||"Unknown",m));return w({},l,i)}function ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wr,$r=Kt.current,pt(Kt,e),pt(tn,tn.current),!0}function pd(e,n,l){var i=e.stateNode;if(!i)throw Error(s(169));l?(e=gd(e,n,$r),i.__reactInternalMemoizedMergedChildContext=e,vt(tn),vt(Kt),pt(Kt,e)):vt(tn),pt(tn,l)}var nr=null,gs=!1,Zo=!1;function fd(e){nr===null?nr=[e]:nr.push(e)}function Mf(e){gs=!0,fd(e)}function Nr(){if(!Zo&&nr!==null){Zo=!0;var e=0,n=ut;try{var l=nr;for(ut=1;e<l.length;e++){var i=l[e];do i=i(!0);while(i!==null)}nr=null,gs=!1}catch(m){throw nr!==null&&(nr=nr.slice(e+1)),yu(Eo,Nr),m}finally{ut=n,Zo=!1}}return null}var da=[],ma=0,ps=null,fs=0,Nn=[],Sn=0,Br=null,rr=1,ar="";function Ur(e,n){da[ma++]=fs,da[ma++]=ps,ps=e,fs=n}function hd(e,n,l){Nn[Sn++]=rr,Nn[Sn++]=ar,Nn[Sn++]=Br,Br=e;var i=rr;e=ar;var m=32-Mn(i)-1;i&=~(1<<m),l+=1;var p=32-Mn(n)+m;if(30<p){var v=m-m%5;p=(i&(1<<v)-1).toString(32),i>>=v,m-=v,rr=1<<32-Mn(n)+m|l<<m|i,ar=p+e}else rr=1<<p|l<<m|i,ar=e}function ei(e){e.return!==null&&(Ur(e,1),hd(e,1,0))}function ti(e){for(;e===ps;)ps=da[--ma],da[ma]=null,fs=da[--ma],da[ma]=null;for(;e===Br;)Br=Nn[--Sn],Nn[Sn]=null,ar=Nn[--Sn],Nn[Sn]=null,rr=Nn[--Sn],Nn[Sn]=null}var pn=null,fn=null,kt=!1,Rn=null;function yd(e,n){var l=zn(5,null,null,0);l.elementType="DELETED",l.stateNode=n,l.return=e,n=e.deletions,n===null?(e.deletions=[l],e.flags|=16):n.push(l)}function xd(e,n){switch(e.tag){case 5:var l=e.type;return n=n.nodeType!==1||l.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,pn=e,fn=Er(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,pn=e,fn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(l=Br!==null?{id:rr,overflow:ar}:null,e.memoizedState={dehydrated:n,treeContext:l,retryLane:1073741824},l=zn(18,null,null,0),l.stateNode=n,l.return=e,e.child=l,pn=e,fn=null,!0):!1;default:return!1}}function ni(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ri(e){if(kt){var n=fn;if(n){var l=n;if(!xd(e,n)){if(ni(e))throw Error(s(418));n=Er(l.nextSibling);var i=pn;n&&xd(e,n)?yd(i,l):(e.flags=e.flags&-4097|2,kt=!1,pn=e)}}else{if(ni(e))throw Error(s(418));e.flags=e.flags&-4097|2,kt=!1,pn=e}}}function bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pn=e}function hs(e){if(e!==pn)return!1;if(!kt)return bd(e),kt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Go(e.type,e.memoizedProps)),n&&(n=fn)){if(ni(e))throw vd(),Error(s(418));for(;n;)yd(e,n),n=Er(n.nextSibling)}if(bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"){if(n===0){fn=Er(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++}e=e.nextSibling}fn=null}}else fn=pn?Er(e.stateNode.nextSibling):null;return!0}function vd(){for(var e=fn;e;)e=Er(e.nextSibling)}function ga(){fn=pn=null,kt=!1}function ai(e){Rn===null?Rn=[e]:Rn.push(e)}var Lf=Y.ReactCurrentBatchConfig;function rl(e,n,l){if(e=l.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(s(309));var i=l.stateNode}if(!i)throw Error(s(147,e));var m=i,p=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(v){var T=m.refs;v===null?delete T[p]:T[p]=v},n._stringRef=p,n)}if(typeof e!="string")throw Error(s(284));if(!l._owner)throw Error(s(290,e))}return e}function ys(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Ed(e){var n=e._init;return n(e._payload)}function kd(e){function n(B,j){if(e){var V=B.deletions;V===null?(B.deletions=[j],B.flags|=16):V.push(j)}}function l(B,j){if(!e)return null;for(;j!==null;)n(B,j),j=j.sibling;return null}function i(B,j){for(B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function m(B,j){return B=Mr(B,j),B.index=0,B.sibling=null,B}function p(B,j,V){return B.index=V,e?(V=B.alternate,V!==null?(V=V.index,V<j?(B.flags|=2,j):V):(B.flags|=2,j)):(B.flags|=1048576,j)}function v(B){return e&&B.alternate===null&&(B.flags|=2),B}function T(B,j,V,pe){return j===null||j.tag!==6?(j=Qi(V,B.mode,pe),j.return=B,j):(j=m(j,V),j.return=B,j)}function L(B,j,V,pe){var De=V.type;return De===ee?ie(B,j,V.props.children,pe,V.key):j!==null&&(j.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===J&&Ed(De)===j.type)?(pe=m(j,V.props),pe.ref=rl(B,j,V),pe.return=B,pe):(pe=Bs(V.type,V.key,V.props,null,B.mode,pe),pe.ref=rl(B,j,V),pe.return=B,pe)}function W(B,j,V,pe){return j===null||j.tag!==4||j.stateNode.containerInfo!==V.containerInfo||j.stateNode.implementation!==V.implementation?(j=Ji(V,B.mode,pe),j.return=B,j):(j=m(j,V.children||[]),j.return=B,j)}function ie(B,j,V,pe,De){return j===null||j.tag!==7?(j=Jr(V,B.mode,pe,De),j.return=B,j):(j=m(j,V),j.return=B,j)}function de(B,j,V){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Qi(""+j,B.mode,V),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Z:return V=Bs(j.type,j.key,j.props,null,B.mode,V),V.ref=rl(B,null,j),V.return=B,V;case M:return j=Ji(j,B.mode,V),j.return=B,j;case J:var pe=j._init;return de(B,pe(j._payload),V)}if(ye(j)||ge(j))return j=Jr(j,B.mode,V,null),j.return=B,j;ys(B,j)}return null}function se(B,j,V,pe){var De=j!==null?j.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return De!==null?null:T(B,j,""+V,pe);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Z:return V.key===De?L(B,j,V,pe):null;case M:return V.key===De?W(B,j,V,pe):null;case J:return De=V._init,se(B,j,De(V._payload),pe)}if(ye(V)||ge(V))return De!==null?null:ie(B,j,V,pe,null);ys(B,V)}return null}function Ce(B,j,V,pe,De){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return B=B.get(V)||null,T(j,B,""+pe,De);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case Z:return B=B.get(pe.key===null?V:pe.key)||null,L(j,B,pe,De);case M:return B=B.get(pe.key===null?V:pe.key)||null,W(j,B,pe,De);case J:var Fe=pe._init;return Ce(B,j,V,Fe(pe._payload),De)}if(ye(pe)||ge(pe))return B=B.get(V)||null,ie(j,B,pe,De,null);ys(j,pe)}return null}function Le(B,j,V,pe){for(var De=null,Fe=null,$e=j,He=j=0,Vt=null;$e!==null&&He<V.length;He++){$e.index>He?(Vt=$e,$e=null):Vt=$e.sibling;var lt=se(B,$e,V[He],pe);if(lt===null){$e===null&&($e=Vt);break}e&&$e&&lt.alternate===null&&n(B,$e),j=p(lt,j,He),Fe===null?De=lt:Fe.sibling=lt,Fe=lt,$e=Vt}if(He===V.length)return l(B,$e),kt&&Ur(B,He),De;if($e===null){for(;He<V.length;He++)$e=de(B,V[He],pe),$e!==null&&(j=p($e,j,He),Fe===null?De=$e:Fe.sibling=$e,Fe=$e);return kt&&Ur(B,He),De}for($e=i(B,$e);He<V.length;He++)Vt=Ce($e,B,He,V[He],pe),Vt!==null&&(e&&Vt.alternate!==null&&$e.delete(Vt.key===null?He:Vt.key),j=p(Vt,j,He),Fe===null?De=Vt:Fe.sibling=Vt,Fe=Vt);return e&&$e.forEach(function(Lr){return n(B,Lr)}),kt&&Ur(B,He),De}function Re(B,j,V,pe){var De=ge(V);if(typeof De!="function")throw Error(s(150));if(V=De.call(V),V==null)throw Error(s(151));for(var Fe=De=null,$e=j,He=j=0,Vt=null,lt=V.next();$e!==null&&!lt.done;He++,lt=V.next()){$e.index>He?(Vt=$e,$e=null):Vt=$e.sibling;var Lr=se(B,$e,lt.value,pe);if(Lr===null){$e===null&&($e=Vt);break}e&&$e&&Lr.alternate===null&&n(B,$e),j=p(Lr,j,He),Fe===null?De=Lr:Fe.sibling=Lr,Fe=Lr,$e=Vt}if(lt.done)return l(B,$e),kt&&Ur(B,He),De;if($e===null){for(;!lt.done;He++,lt=V.next())lt=de(B,lt.value,pe),lt!==null&&(j=p(lt,j,He),Fe===null?De=lt:Fe.sibling=lt,Fe=lt);return kt&&Ur(B,He),De}for($e=i(B,$e);!lt.done;He++,lt=V.next())lt=Ce($e,B,He,lt.value,pe),lt!==null&&(e&&lt.alternate!==null&&$e.delete(lt.key===null?He:lt.key),j=p(lt,j,He),Fe===null?De=lt:Fe.sibling=lt,Fe=lt);return e&&$e.forEach(function(mh){return n(B,mh)}),kt&&Ur(B,He),De}function Mt(B,j,V,pe){if(typeof V=="object"&&V!==null&&V.type===ee&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case Z:e:{for(var De=V.key,Fe=j;Fe!==null;){if(Fe.key===De){if(De=V.type,De===ee){if(Fe.tag===7){l(B,Fe.sibling),j=m(Fe,V.props.children),j.return=B,B=j;break e}}else if(Fe.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===J&&Ed(De)===Fe.type){l(B,Fe.sibling),j=m(Fe,V.props),j.ref=rl(B,Fe,V),j.return=B,B=j;break e}l(B,Fe);break}else n(B,Fe);Fe=Fe.sibling}V.type===ee?(j=Jr(V.props.children,B.mode,pe,V.key),j.return=B,B=j):(pe=Bs(V.type,V.key,V.props,null,B.mode,pe),pe.ref=rl(B,j,V),pe.return=B,B=pe)}return v(B);case M:e:{for(Fe=V.key;j!==null;){if(j.key===Fe)if(j.tag===4&&j.stateNode.containerInfo===V.containerInfo&&j.stateNode.implementation===V.implementation){l(B,j.sibling),j=m(j,V.children||[]),j.return=B,B=j;break e}else{l(B,j);break}else n(B,j);j=j.sibling}j=Ji(V,B.mode,pe),j.return=B,B=j}return v(B);case J:return Fe=V._init,Mt(B,j,Fe(V._payload),pe)}if(ye(V))return Le(B,j,V,pe);if(ge(V))return Re(B,j,V,pe);ys(B,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,j!==null&&j.tag===6?(l(B,j.sibling),j=m(j,V),j.return=B,B=j):(l(B,j),j=Qi(V,B.mode,pe),j.return=B,B=j),v(B)):l(B,j)}return Mt}var pa=kd(!0),wd=kd(!1),xs=kr(null),bs=null,fa=null,li=null;function si(){li=fa=bs=null}function oi(e){var n=xs.current;vt(xs),e._currentValue=n}function ii(e,n,l){for(;e!==null;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===l)break;e=e.return}}function ha(e,n){bs=e,li=fa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(rn=!0),e.firstContext=null)}function Cn(e){var n=e._currentValue;if(li!==e)if(e={context:e,memoizedValue:n,next:null},fa===null){if(bs===null)throw Error(s(308));fa=e,bs.dependencies={lanes:0,firstContext:e}}else fa=fa.next=e;return n}var Hr=null;function ci(e){Hr===null?Hr=[e]:Hr.push(e)}function Nd(e,n,l,i){var m=n.interleaved;return m===null?(l.next=l,ci(n)):(l.next=m.next,m.next=l),n.interleaved=l,lr(e,i)}function lr(e,n){e.lanes|=n;var l=e.alternate;for(l!==null&&(l.lanes|=n),l=e,e=e.return;e!==null;)e.childLanes|=n,l=e.alternate,l!==null&&(l.childLanes|=n),l=e,e=e.return;return l.tag===3?l.stateNode:null}var Sr=!1;function ui(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Cr(e,n,l){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(at&2)!==0){var m=i.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),i.pending=n,lr(e,l)}return m=i.interleaved,m===null?(n.next=n,ci(i)):(n.next=m.next,m.next=n),i.interleaved=n,lr(e,l)}function vs(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194240)!==0)){var i=n.lanes;i&=e.pendingLanes,l|=i,n.lanes=l,No(e,l)}}function Cd(e,n){var l=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,l===i)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var v={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};p===null?m=p=v:p=p.next=v,l=l.next}while(l!==null);p===null?m=p=n:p=p.next=n}else m=p=n;l={baseState:i.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:i.shared,effects:i.effects},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}function Es(e,n,l,i){var m=e.updateQueue;Sr=!1;var p=m.firstBaseUpdate,v=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var L=T,W=L.next;L.next=null,v===null?p=W:v.next=W,v=L;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==v&&(T===null?ie.firstBaseUpdate=W:T.next=W,ie.lastBaseUpdate=L))}if(p!==null){var de=m.baseState;v=0,ie=W=L=null,T=p;do{var se=T.lane,Ce=T.eventTime;if((i&se)===se){ie!==null&&(ie=ie.next={eventTime:Ce,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var Le=e,Re=T;switch(se=n,Ce=l,Re.tag){case 1:if(Le=Re.payload,typeof Le=="function"){de=Le.call(Ce,de,se);break e}de=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Re.payload,se=typeof Le=="function"?Le.call(Ce,de,se):Le,se==null)break e;de=w({},de,se);break e;case 2:Sr=!0}}T.callback!==null&&T.lane!==0&&(e.flags|=64,se=m.effects,se===null?m.effects=[T]:se.push(T))}else Ce={eventTime:Ce,lane:se,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(W=ie=Ce,L=de):ie=ie.next=Ce,v|=se;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;se=T,T=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);if(ie===null&&(L=de),m.baseState=L,m.firstBaseUpdate=W,m.lastBaseUpdate=ie,n=m.shared.interleaved,n!==null){m=n;do v|=m.lane,m=m.next;while(m!==n)}else p===null&&(m.shared.lanes=0);Wr|=v,e.lanes=v,e.memoizedState=de}}function _d(e,n,l){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var i=e[n],m=i.callback;if(m!==null){if(i.callback=null,i=l,typeof m!="function")throw Error(s(191,m));m.call(i)}}}var al={},Kn=kr(al),ll=kr(al),sl=kr(al);function Vr(e){if(e===al)throw Error(s(174));return e}function di(e,n){switch(pt(sl,n),pt(ll,e),pt(Kn,al),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ne(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ne(n,e)}vt(Kn),pt(Kn,n)}function ya(){vt(Kn),vt(ll),vt(sl)}function Td(e){Vr(sl.current);var n=Vr(Kn.current),l=ne(n,e.type);n!==l&&(pt(ll,e),pt(Kn,l))}function mi(e){ll.current===e&&(vt(Kn),vt(ll))}var Ct=kr(0);function ks(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var gi=[];function pi(){for(var e=0;e<gi.length;e++)gi[e]._workInProgressVersionPrimary=null;gi.length=0}var ws=Y.ReactCurrentDispatcher,fi=Y.ReactCurrentBatchConfig,qr=0,_t=null,jt=null,Ut=null,Ns=!1,ol=!1,il=0,Rf=0;function Gt(){throw Error(s(321))}function hi(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Ln(e[l],n[l]))return!1;return!0}function yi(e,n,l,i,m,p){if(qr=p,_t=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ws.current=e===null||e.memoizedState===null?jf:Ff,e=l(i,m),ol){p=0;do{if(ol=!1,il=0,25<=p)throw Error(s(301));p+=1,Ut=jt=null,n.updateQueue=null,ws.current=$f,e=l(i,m)}while(ol)}if(ws.current=_s,n=jt!==null&&jt.next!==null,qr=0,Ut=jt=_t=null,Ns=!1,n)throw Error(s(300));return e}function xi(){var e=il!==0;return il=0,e}function Gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?_t.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function _n(){if(jt===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var n=Ut===null?_t.memoizedState:Ut.next;if(n!==null)Ut=n,jt=e;else{if(e===null)throw Error(s(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Ut===null?_t.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function cl(e,n){return typeof n=="function"?n(e):n}function bi(e){var n=_n(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var i=jt,m=i.baseQueue,p=l.pending;if(p!==null){if(m!==null){var v=m.next;m.next=p.next,p.next=v}i.baseQueue=m=p,l.pending=null}if(m!==null){p=m.next,i=i.baseState;var T=v=null,L=null,W=p;do{var ie=W.lane;if((qr&ie)===ie)L!==null&&(L=L.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),i=W.hasEagerState?W.eagerState:e(i,W.action);else{var de={lane:ie,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};L===null?(T=L=de,v=i):L=L.next=de,_t.lanes|=ie,Wr|=ie}W=W.next}while(W!==null&&W!==p);L===null?v=i:L.next=T,Ln(i,n.memoizedState)||(rn=!0),n.memoizedState=i,n.baseState=v,n.baseQueue=L,l.lastRenderedState=i}if(e=l.interleaved,e!==null){m=e;do p=m.lane,_t.lanes|=p,Wr|=p,m=m.next;while(m!==e)}else m===null&&(l.lanes=0);return[n.memoizedState,l.dispatch]}function vi(e){var n=_n(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var i=l.dispatch,m=l.pending,p=n.memoizedState;if(m!==null){l.pending=null;var v=m=m.next;do p=e(p,v.action),v=v.next;while(v!==m);Ln(p,n.memoizedState)||(rn=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),l.lastRenderedState=p}return[p,i]}function zd(){}function Pd(e,n){var l=_t,i=_n(),m=n(),p=!Ln(i.memoizedState,m);if(p&&(i.memoizedState=m,rn=!0),i=i.queue,Ei(Ld.bind(null,l,i,e),[e]),i.getSnapshot!==n||p||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,ul(9,Md.bind(null,l,i,m,n),void 0,null),Ht===null)throw Error(s(349));(qr&30)!==0||Id(l,n,m)}return m}function Id(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=_t.updateQueue,n===null?(n={lastEffect:null,stores:null},_t.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Md(e,n,l,i){n.value=l,n.getSnapshot=i,Rd(n)&&Ad(e)}function Ld(e,n,l){return l(function(){Rd(n)&&Ad(e)})}function Rd(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Ln(e,l)}catch{return!0}}function Ad(e){var n=lr(e,1);n!==null&&jn(n,e,1,-1)}function Dd(e){var n=Gn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:e},n.queue=e,e=e.dispatch=Of.bind(null,_t,e),[n.memoizedState,e]}function ul(e,n,l,i){return e={tag:e,create:n,destroy:l,deps:i,next:null},n=_t.updateQueue,n===null?(n={lastEffect:null,stores:null},_t.updateQueue=n,n.lastEffect=e.next=e):(l=n.lastEffect,l===null?n.lastEffect=e.next=e:(i=l.next,l.next=e,e.next=i,n.lastEffect=e)),e}function Od(){return _n().memoizedState}function Ss(e,n,l,i){var m=Gn();_t.flags|=e,m.memoizedState=ul(1|n,l,void 0,i===void 0?null:i)}function Cs(e,n,l,i){var m=_n();i=i===void 0?null:i;var p=void 0;if(jt!==null){var v=jt.memoizedState;if(p=v.destroy,i!==null&&hi(i,v.deps)){m.memoizedState=ul(n,l,p,i);return}}_t.flags|=e,m.memoizedState=ul(1|n,l,p,i)}function jd(e,n){return Ss(8390656,8,e,n)}function Ei(e,n){return Cs(2048,8,e,n)}function Fd(e,n){return Cs(4,2,e,n)}function $d(e,n){return Cs(4,4,e,n)}function Bd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ud(e,n,l){return l=l!=null?l.concat([e]):null,Cs(4,4,Bd.bind(null,n,e),l)}function ki(){}function Hd(e,n){var l=_n();n=n===void 0?null:n;var i=l.memoizedState;return i!==null&&n!==null&&hi(n,i[1])?i[0]:(l.memoizedState=[e,n],e)}function Vd(e,n){var l=_n();n=n===void 0?null:n;var i=l.memoizedState;return i!==null&&n!==null&&hi(n,i[1])?i[0]:(e=e(),l.memoizedState=[e,n],e)}function qd(e,n,l){return(qr&21)===0?(e.baseState&&(e.baseState=!1,rn=!0),e.memoizedState=l):(Ln(l,n)||(l=Eu(),_t.lanes|=l,Wr|=l,e.baseState=!0),n)}function Af(e,n){var l=ut;ut=l!==0&&4>l?l:4,e(!0);var i=fi.transition;fi.transition={};try{e(!1),n()}finally{ut=l,fi.transition=i}}function Wd(){return _n().memoizedState}function Df(e,n,l){var i=Pr(e);if(l={lane:i,action:l,hasEagerState:!1,eagerState:null,next:null},Kd(e))Gd(n,l);else if(l=Nd(e,n,l,i),l!==null){var m=en();jn(l,e,i,m),Qd(l,n,i)}}function Of(e,n,l){var i=Pr(e),m={lane:i,action:l,hasEagerState:!1,eagerState:null,next:null};if(Kd(e))Gd(n,m);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var v=n.lastRenderedState,T=p(v,l);if(m.hasEagerState=!0,m.eagerState=T,Ln(T,v)){var L=n.interleaved;L===null?(m.next=m,ci(n)):(m.next=L.next,L.next=m),n.interleaved=m;return}}catch{}l=Nd(e,n,m,i),l!==null&&(m=en(),jn(l,e,i,m),Qd(l,n,i))}}function Kd(e){var n=e.alternate;return e===_t||n!==null&&n===_t}function Gd(e,n){ol=Ns=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Qd(e,n,l){if((l&4194240)!==0){var i=n.lanes;i&=e.pendingLanes,l|=i,n.lanes=l,No(e,l)}}var _s={readContext:Cn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},jf={readContext:Cn,useCallback:function(e,n){return Gn().memoizedState=[e,n===void 0?null:n],e},useContext:Cn,useEffect:jd,useImperativeHandle:function(e,n,l){return l=l!=null?l.concat([e]):null,Ss(4194308,4,Bd.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Ss(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ss(4,2,e,n)},useMemo:function(e,n){var l=Gn();return n=n===void 0?null:n,e=e(),l.memoizedState=[e,n],e},useReducer:function(e,n,l){var i=Gn();return n=l!==void 0?l(n):n,i.memoizedState=i.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=Df.bind(null,_t,e),[i.memoizedState,e]},useRef:function(e){var n=Gn();return e={current:e},n.memoizedState=e},useState:Dd,useDebugValue:ki,useDeferredValue:function(e){return Gn().memoizedState=e},useTransition:function(){var e=Dd(!1),n=e[0];return e=Af.bind(null,e[1]),Gn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,l){var i=_t,m=Gn();if(kt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=n(),Ht===null)throw Error(s(349));(qr&30)!==0||Id(i,n,l)}m.memoizedState=l;var p={value:l,getSnapshot:n};return m.queue=p,jd(Ld.bind(null,i,p,e),[e]),i.flags|=2048,ul(9,Md.bind(null,i,p,l,n),void 0,null),l},useId:function(){var e=Gn(),n=Ht.identifierPrefix;if(kt){var l=ar,i=rr;l=(i&~(1<<32-Mn(i)-1)).toString(32)+l,n=":"+n+"R"+l,l=il++,0<l&&(n+="H"+l.toString(32)),n+=":"}else l=Rf++,n=":"+n+"r"+l.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Ff={readContext:Cn,useCallback:Hd,useContext:Cn,useEffect:Ei,useImperativeHandle:Ud,useInsertionEffect:Fd,useLayoutEffect:$d,useMemo:Vd,useReducer:bi,useRef:Od,useState:function(){return bi(cl)},useDebugValue:ki,useDeferredValue:function(e){var n=_n();return qd(n,jt.memoizedState,e)},useTransition:function(){var e=bi(cl)[0],n=_n().memoizedState;return[e,n]},useMutableSource:zd,useSyncExternalStore:Pd,useId:Wd,unstable_isNewReconciler:!1},$f={readContext:Cn,useCallback:Hd,useContext:Cn,useEffect:Ei,useImperativeHandle:Ud,useInsertionEffect:Fd,useLayoutEffect:$d,useMemo:Vd,useReducer:vi,useRef:Od,useState:function(){return vi(cl)},useDebugValue:ki,useDeferredValue:function(e){var n=_n();return jt===null?n.memoizedState=e:qd(n,jt.memoizedState,e)},useTransition:function(){var e=vi(cl)[0],n=_n().memoizedState;return[e,n]},useMutableSource:zd,useSyncExternalStore:Pd,useId:Wd,unstable_isNewReconciler:!1};function An(e,n){if(e&&e.defaultProps){n=w({},n),e=e.defaultProps;for(var l in e)n[l]===void 0&&(n[l]=e[l]);return n}return n}function wi(e,n,l,i){n=e.memoizedState,l=l(i,n),l=l==null?n:w({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Ts={isMounted:function(e){return(e=e._reactInternals)?jr(e)===e:!1},enqueueSetState:function(e,n,l){e=e._reactInternals;var i=en(),m=Pr(e),p=sr(i,m);p.payload=n,l!=null&&(p.callback=l),n=Cr(e,p,m),n!==null&&(jn(n,e,m,i),vs(n,e,m))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var i=en(),m=Pr(e),p=sr(i,m);p.tag=1,p.payload=n,l!=null&&(p.callback=l),n=Cr(e,p,m),n!==null&&(jn(n,e,m,i),vs(n,e,m))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=en(),i=Pr(e),m=sr(l,i);m.tag=2,n!=null&&(m.callback=n),n=Cr(e,m,i),n!==null&&(jn(n,e,i,l),vs(n,e,i))}};function Jd(e,n,l,i,m,p,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,p,v):n.prototype&&n.prototype.isPureReactComponent?!Ja(l,i)||!Ja(m,p):!0}function Yd(e,n,l){var i=!1,m=wr,p=n.contextType;return typeof p=="object"&&p!==null?p=Cn(p):(m=nn(n)?$r:Kt.current,i=n.contextTypes,p=(i=i!=null)?ua(e,m):wr),n=new n(l,p),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ts,e.stateNode=n,n._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=m,e.__reactInternalMemoizedMaskedChildContext=p),n}function Xd(e,n,l,i){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,i),n.state!==e&&Ts.enqueueReplaceState(n,n.state,null)}function Ni(e,n,l,i){var m=e.stateNode;m.props=l,m.state=e.memoizedState,m.refs={},ui(e);var p=n.contextType;typeof p=="object"&&p!==null?m.context=Cn(p):(p=nn(n)?$r:Kt.current,m.context=ua(e,p)),m.state=e.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(wi(e,n,p,l),m.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(n=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),n!==m.state&&Ts.enqueueReplaceState(m,m.state,null),Es(e,l,m,i),m.state=e.memoizedState),typeof m.componentDidMount=="function"&&(e.flags|=4194308)}function xa(e,n){try{var l="",i=n;do l+=_e(i),i=i.return;while(i);var m=l}catch(p){m=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:n,stack:m,digest:null}}function Si(e,n,l){return{value:e,source:null,stack:l??null,digest:n??null}}function Ci(e,n){try{console.error(n.value)}catch(l){setTimeout(function(){throw l})}}var Bf=typeof WeakMap=="function"?WeakMap:Map;function Zd(e,n,l){l=sr(-1,l),l.tag=3,l.payload={element:null};var i=n.value;return l.callback=function(){As||(As=!0,Bi=i),Ci(e,n)},l}function em(e,n,l){l=sr(-1,l),l.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var m=n.value;l.payload=function(){return i(m)},l.callback=function(){Ci(e,n)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(l.callback=function(){Ci(e,n),typeof i!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:v!==null?v:""})}),l}function tm(e,n,l){var i=e.pingCache;if(i===null){i=e.pingCache=new Bf;var m=new Set;i.set(n,m)}else m=i.get(n),m===void 0&&(m=new Set,i.set(n,m));m.has(l)||(m.add(l),e=th.bind(null,e,n,l),n.then(e,e))}function nm(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function rm(e,n,l,i,m){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(n=sr(-1,1),n.tag=2,Cr(l,n,1))),l.lanes|=1),e):(e.flags|=65536,e.lanes=m,e)}var Uf=Y.ReactCurrentOwner,rn=!1;function Zt(e,n,l,i){n.child=e===null?wd(n,null,l,i):pa(n,e.child,l,i)}function am(e,n,l,i,m){l=l.render;var p=n.ref;return ha(n,m),i=yi(e,n,l,i,p,m),l=xi(),e!==null&&!rn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,or(e,n,m)):(kt&&l&&ei(n),n.flags|=1,Zt(e,n,i,m),n.child)}function lm(e,n,l,i,m){if(e===null){var p=l.type;return typeof p=="function"&&!Gi(p)&&p.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(n.tag=15,n.type=p,sm(e,n,p,i,m)):(e=Bs(l.type,null,i,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,(e.lanes&m)===0){var v=p.memoizedProps;if(l=l.compare,l=l!==null?l:Ja,l(v,i)&&e.ref===n.ref)return or(e,n,m)}return n.flags|=1,e=Mr(p,i),e.ref=n.ref,e.return=n,n.child=e}function sm(e,n,l,i,m){if(e!==null){var p=e.memoizedProps;if(Ja(p,i)&&e.ref===n.ref)if(rn=!1,n.pendingProps=i=p,(e.lanes&m)!==0)(e.flags&131072)!==0&&(rn=!0);else return n.lanes=e.lanes,or(e,n,m)}return _i(e,n,l,i,m)}function om(e,n,l){var i=n.pendingProps,m=i.children,p=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(va,hn),hn|=l;else{if((l&1073741824)===0)return e=p!==null?p.baseLanes|l:l,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,pt(va,hn),hn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=p!==null?p.baseLanes:l,pt(va,hn),hn|=i}else p!==null?(i=p.baseLanes|l,n.memoizedState=null):i=l,pt(va,hn),hn|=i;return Zt(e,n,m,l),n.child}function im(e,n){var l=n.ref;(e===null&&l!==null||e!==null&&e.ref!==l)&&(n.flags|=512,n.flags|=2097152)}function _i(e,n,l,i,m){var p=nn(l)?$r:Kt.current;return p=ua(n,p),ha(n,m),l=yi(e,n,l,i,p,m),i=xi(),e!==null&&!rn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,or(e,n,m)):(kt&&i&&ei(n),n.flags|=1,Zt(e,n,l,m),n.child)}function cm(e,n,l,i,m){if(nn(l)){var p=!0;ms(n)}else p=!1;if(ha(n,m),n.stateNode===null)Ps(e,n),Yd(n,l,i),Ni(n,l,i,m),i=!0;else if(e===null){var v=n.stateNode,T=n.memoizedProps;v.props=T;var L=v.context,W=l.contextType;typeof W=="object"&&W!==null?W=Cn(W):(W=nn(l)?$r:Kt.current,W=ua(n,W));var ie=l.getDerivedStateFromProps,de=typeof ie=="function"||typeof v.getSnapshotBeforeUpdate=="function";de||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==i||L!==W)&&Xd(n,v,i,W),Sr=!1;var se=n.memoizedState;v.state=se,Es(n,i,v,m),L=n.memoizedState,T!==i||se!==L||tn.current||Sr?(typeof ie=="function"&&(wi(n,l,ie,i),L=n.memoizedState),(T=Sr||Jd(n,l,T,i,se,L,W))?(de||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=L),v.props=i,v.state=L,v.context=W,i=T):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{v=n.stateNode,Sd(e,n),T=n.memoizedProps,W=n.type===n.elementType?T:An(n.type,T),v.props=W,de=n.pendingProps,se=v.context,L=l.contextType,typeof L=="object"&&L!==null?L=Cn(L):(L=nn(l)?$r:Kt.current,L=ua(n,L));var Ce=l.getDerivedStateFromProps;(ie=typeof Ce=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==de||se!==L)&&Xd(n,v,i,L),Sr=!1,se=n.memoizedState,v.state=se,Es(n,i,v,m);var Le=n.memoizedState;T!==de||se!==Le||tn.current||Sr?(typeof Ce=="function"&&(wi(n,l,Ce,i),Le=n.memoizedState),(W=Sr||Jd(n,l,W,i,se,Le,L)||!1)?(ie||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(i,Le,L),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(i,Le,L)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===e.memoizedProps&&se===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&se===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=Le),v.props=i,v.state=Le,v.context=L,i=W):(typeof v.componentDidUpdate!="function"||T===e.memoizedProps&&se===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&se===e.memoizedState||(n.flags|=1024),i=!1)}return Ti(e,n,l,i,p,m)}function Ti(e,n,l,i,m,p){im(e,n);var v=(n.flags&128)!==0;if(!i&&!v)return m&&pd(n,l,!1),or(e,n,p);i=n.stateNode,Uf.current=n;var T=v&&typeof l.getDerivedStateFromError!="function"?null:i.render();return n.flags|=1,e!==null&&v?(n.child=pa(n,e.child,null,p),n.child=pa(n,null,T,p)):Zt(e,n,T,p),n.memoizedState=i.state,m&&pd(n,l,!0),n.child}function um(e){var n=e.stateNode;n.pendingContext?md(e,n.pendingContext,n.pendingContext!==n.context):n.context&&md(e,n.context,!1),di(e,n.containerInfo)}function dm(e,n,l,i,m){return ga(),ai(m),n.flags|=256,Zt(e,n,l,i),n.child}var zi={dehydrated:null,treeContext:null,retryLane:0};function Pi(e){return{baseLanes:e,cachePool:null,transitions:null}}function mm(e,n,l){var i=n.pendingProps,m=Ct.current,p=!1,v=(n.flags&128)!==0,T;if((T=v)||(T=e!==null&&e.memoizedState===null?!1:(m&2)!==0),T?(p=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(m|=1),pt(Ct,m&1),e===null)return ri(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(v=i.children,e=i.fallback,p?(i=n.mode,p=n.child,v={mode:"hidden",children:v},(i&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Us(v,i,0,null),e=Jr(e,i,l,null),p.return=n,e.return=n,p.sibling=e,n.child=p,n.child.memoizedState=Pi(l),n.memoizedState=zi,e):Ii(n,v));if(m=e.memoizedState,m!==null&&(T=m.dehydrated,T!==null))return Hf(e,n,v,i,T,m,l);if(p){p=i.fallback,v=n.mode,m=e.child,T=m.sibling;var L={mode:"hidden",children:i.children};return(v&1)===0&&n.child!==m?(i=n.child,i.childLanes=0,i.pendingProps=L,n.deletions=null):(i=Mr(m,L),i.subtreeFlags=m.subtreeFlags&14680064),T!==null?p=Mr(T,p):(p=Jr(p,v,l,null),p.flags|=2),p.return=n,i.return=n,i.sibling=p,n.child=i,i=p,p=n.child,v=e.child.memoizedState,v=v===null?Pi(l):{baseLanes:v.baseLanes|l,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=e.childLanes&~l,n.memoizedState=zi,i}return p=e.child,e=p.sibling,i=Mr(p,{mode:"visible",children:i.children}),(n.mode&1)===0&&(i.lanes=l),i.return=n,i.sibling=null,e!==null&&(l=n.deletions,l===null?(n.deletions=[e],n.flags|=16):l.push(e)),n.child=i,n.memoizedState=null,i}function Ii(e,n){return n=Us({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function zs(e,n,l,i){return i!==null&&ai(i),pa(n,e.child,null,l),e=Ii(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Hf(e,n,l,i,m,p,v){if(l)return n.flags&256?(n.flags&=-257,i=Si(Error(s(422))),zs(e,n,v,i)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(p=i.fallback,m=n.mode,i=Us({mode:"visible",children:i.children},m,0,null),p=Jr(p,m,v,null),p.flags|=2,i.return=n,p.return=n,i.sibling=p,n.child=i,(n.mode&1)!==0&&pa(n,e.child,null,v),n.child.memoizedState=Pi(v),n.memoizedState=zi,p);if((n.mode&1)===0)return zs(e,n,v,null);if(m.data==="$!"){if(i=m.nextSibling&&m.nextSibling.dataset,i)var T=i.dgst;return i=T,p=Error(s(419)),i=Si(p,i,void 0),zs(e,n,v,i)}if(T=(v&e.childLanes)!==0,rn||T){if(i=Ht,i!==null){switch(v&-v){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(i.suspendedLanes|v))!==0?0:m,m!==0&&m!==p.retryLane&&(p.retryLane=m,lr(e,m),jn(i,e,m,-1))}return Ki(),i=Si(Error(s(421))),zs(e,n,v,i)}return m.data==="$?"?(n.flags|=128,n.child=e.child,n=nh.bind(null,e),m._reactRetry=n,null):(e=p.treeContext,fn=Er(m.nextSibling),pn=n,kt=!0,Rn=null,e!==null&&(Nn[Sn++]=rr,Nn[Sn++]=ar,Nn[Sn++]=Br,rr=e.id,ar=e.overflow,Br=n),n=Ii(n,i.children),n.flags|=4096,n)}function gm(e,n,l){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n),ii(e.return,n,l)}function Mi(e,n,l,i,m){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:l,tailMode:m}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=i,p.tail=l,p.tailMode=m)}function pm(e,n,l){var i=n.pendingProps,m=i.revealOrder,p=i.tail;if(Zt(e,n,i.children,l),i=Ct.current,(i&2)!==0)i=i&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gm(e,l,n);else if(e.tag===19)gm(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(pt(Ct,i),(n.mode&1)===0)n.memoizedState=null;else switch(m){case"forwards":for(l=n.child,m=null;l!==null;)e=l.alternate,e!==null&&ks(e)===null&&(m=l),l=l.sibling;l=m,l===null?(m=n.child,n.child=null):(m=l.sibling,l.sibling=null),Mi(n,!1,m,l,p);break;case"backwards":for(l=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&ks(e)===null){n.child=m;break}e=m.sibling,m.sibling=l,l=m,m=e}Mi(n,!0,l,null,p);break;case"together":Mi(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ps(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function or(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Wr|=n.lanes,(l&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,l=Mr(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Mr(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Vf(e,n,l){switch(n.tag){case 3:um(n),ga();break;case 5:Td(n);break;case 1:nn(n.type)&&ms(n);break;case 4:di(n,n.stateNode.containerInfo);break;case 10:var i=n.type._context,m=n.memoizedProps.value;pt(xs,i._currentValue),i._currentValue=m;break;case 13:if(i=n.memoizedState,i!==null)return i.dehydrated!==null?(pt(Ct,Ct.current&1),n.flags|=128,null):(l&n.child.childLanes)!==0?mm(e,n,l):(pt(Ct,Ct.current&1),e=or(e,n,l),e!==null?e.sibling:null);pt(Ct,Ct.current&1);break;case 19:if(i=(l&n.childLanes)!==0,(e.flags&128)!==0){if(i)return pm(e,n,l);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),pt(Ct,Ct.current),i)break;return null;case 22:case 23:return n.lanes=0,om(e,n,l)}return or(e,n,l)}var fm,Li,hm,ym;fm=function(e,n){for(var l=n.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Li=function(){},hm=function(e,n,l,i){var m=e.memoizedProps;if(m!==i){e=n.stateNode,Vr(Kn.current);var p=null;switch(l){case"input":m=ae(e,m),i=ae(e,i),p=[];break;case"select":m=w({},m,{value:void 0}),i=w({},i,{value:void 0}),p=[];break;case"textarea":m=Ye(e,m),i=Ye(e,i),p=[];break;default:typeof m.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=cs)}Ke(l,i);var v;l=null;for(W in m)if(!i.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var T=m[W];for(v in T)T.hasOwnProperty(v)&&(l||(l={}),l[v]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(c.hasOwnProperty(W)?p||(p=[]):(p=p||[]).push(W,null));for(W in i){var L=i[W];if(T=m?.[W],i.hasOwnProperty(W)&&L!==T&&(L!=null||T!=null))if(W==="style")if(T){for(v in T)!T.hasOwnProperty(v)||L&&L.hasOwnProperty(v)||(l||(l={}),l[v]="");for(v in L)L.hasOwnProperty(v)&&T[v]!==L[v]&&(l||(l={}),l[v]=L[v])}else l||(p||(p=[]),p.push(W,l)),l=L;else W==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,T=T?T.__html:void 0,L!=null&&T!==L&&(p=p||[]).push(W,L)):W==="children"?typeof L!="string"&&typeof L!="number"||(p=p||[]).push(W,""+L):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(c.hasOwnProperty(W)?(L!=null&&W==="onScroll"&&bt("scroll",e),p||T===L||(p=[])):(p=p||[]).push(W,L))}l&&(p=p||[]).push("style",l);var W=p;(n.updateQueue=W)&&(n.flags|=4)}},ym=function(e,n,l,i){l!==i&&(n.flags|=4)};function dl(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var i=null;l!==null;)l.alternate!==null&&(i=l),l=l.sibling;i===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Qt(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,i=0;if(n)for(var m=e.child;m!==null;)l|=m.lanes|m.childLanes,i|=m.subtreeFlags&14680064,i|=m.flags&14680064,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)l|=m.lanes|m.childLanes,i|=m.subtreeFlags,i|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=i,e.childLanes=l,n}function qf(e,n,l){var i=n.pendingProps;switch(ti(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(n),null;case 1:return nn(n.type)&&ds(),Qt(n),null;case 3:return i=n.stateNode,ya(),vt(tn),vt(Kt),pi(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(hs(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rn!==null&&(Vi(Rn),Rn=null))),Li(e,n),Qt(n),null;case 5:mi(n);var m=Vr(sl.current);if(l=n.type,e!==null&&n.stateNode!=null)hm(e,n,l,i,m),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!i){if(n.stateNode===null)throw Error(s(166));return Qt(n),null}if(e=Vr(Kn.current),hs(n)){i=n.stateNode,l=n.type;var p=n.memoizedProps;switch(i[Wn]=n,i[tl]=p,e=(n.mode&1)!==0,l){case"dialog":bt("cancel",i),bt("close",i);break;case"iframe":case"object":case"embed":bt("load",i);break;case"video":case"audio":for(m=0;m<Xa.length;m++)bt(Xa[m],i);break;case"source":bt("error",i);break;case"img":case"image":case"link":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"input":nt(i,p),bt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!p.multiple},bt("invalid",i);break;case"textarea":it(i,p),bt("invalid",i)}Ke(l,p),m=null;for(var v in p)if(p.hasOwnProperty(v)){var T=p[v];v==="children"?typeof T=="string"?i.textContent!==T&&(p.suppressHydrationWarning!==!0&&is(i.textContent,T,e),m=["children",T]):typeof T=="number"&&i.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&is(i.textContent,T,e),m=["children",""+T]):c.hasOwnProperty(v)&&T!=null&&v==="onScroll"&&bt("scroll",i)}switch(l){case"input":st(i),re(i,p,!0);break;case"textarea":st(i),H(i);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(i.onclick=cs)}i=m,n.updateQueue=i,i!==null&&(n.flags|=4)}else{v=m.nodeType===9?m:m.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=F(l)),e==="http://www.w3.org/1999/xhtml"?l==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=v.createElement(l,{is:i.is}):(e=v.createElement(l),l==="select"&&(v=e,i.multiple?v.multiple=!0:i.size&&(v.size=i.size))):e=v.createElementNS(e,l),e[Wn]=n,e[tl]=i,fm(e,n,!1,!1),n.stateNode=e;e:{switch(v=ct(l,i),l){case"dialog":bt("cancel",e),bt("close",e),m=i;break;case"iframe":case"object":case"embed":bt("load",e),m=i;break;case"video":case"audio":for(m=0;m<Xa.length;m++)bt(Xa[m],e);m=i;break;case"source":bt("error",e),m=i;break;case"img":case"image":case"link":bt("error",e),bt("load",e),m=i;break;case"details":bt("toggle",e),m=i;break;case"input":nt(e,i),m=ae(e,i),bt("invalid",e);break;case"option":m=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},m=w({},i,{value:void 0}),bt("invalid",e);break;case"textarea":it(e,i),m=Ye(e,i),bt("invalid",e);break;default:m=i}Ke(l,m),T=m;for(p in T)if(T.hasOwnProperty(p)){var L=T[p];p==="style"?xt(e,L):p==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Se(e,L)):p==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&U(e,L):typeof L=="number"&&U(e,""+L):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(c.hasOwnProperty(p)?L!=null&&p==="onScroll"&&bt("scroll",e):L!=null&&I(e,p,L,v))}switch(l){case"input":st(e),re(e,i,!1);break;case"textarea":st(e),H(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Oe(i.value));break;case"select":e.multiple=!!i.multiple,p=i.value,p!=null?Qe(e,!!i.multiple,p,!1):i.defaultValue!=null&&Qe(e,!!i.multiple,i.defaultValue,!0);break;default:typeof m.onClick=="function"&&(e.onclick=cs)}switch(l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Qt(n),null;case 6:if(e&&n.stateNode!=null)ym(e,n,e.memoizedProps,i);else{if(typeof i!="string"&&n.stateNode===null)throw Error(s(166));if(l=Vr(sl.current),Vr(Kn.current),hs(n)){if(i=n.stateNode,l=n.memoizedProps,i[Wn]=n,(p=i.nodeValue!==l)&&(e=pn,e!==null))switch(e.tag){case 3:is(i.nodeValue,l,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&is(i.nodeValue,l,(e.mode&1)!==0)}p&&(n.flags|=4)}else i=(l.nodeType===9?l:l.ownerDocument).createTextNode(i),i[Wn]=n,n.stateNode=i}return Qt(n),null;case 13:if(vt(Ct),i=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kt&&fn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)vd(),ga(),n.flags|=98560,p=!1;else if(p=hs(n),i!==null&&i.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Wn]=n}else ga(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Qt(n),p=!1}else Rn!==null&&(Vi(Rn),Rn=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=l,n):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Ct.current&1)!==0?Ft===0&&(Ft=3):Ki())),n.updateQueue!==null&&(n.flags|=4),Qt(n),null);case 4:return ya(),Li(e,n),e===null&&Za(n.stateNode.containerInfo),Qt(n),null;case 10:return oi(n.type._context),Qt(n),null;case 17:return nn(n.type)&&ds(),Qt(n),null;case 19:if(vt(Ct),p=n.memoizedState,p===null)return Qt(n),null;if(i=(n.flags&128)!==0,v=p.rendering,v===null)if(i)dl(p,!1);else{if(Ft!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(v=ks(e),v!==null){for(n.flags|=128,dl(p,!1),i=v.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),n.subtreeFlags=0,i=l,l=n.child;l!==null;)p=l,e=i,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,e=v.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return pt(Ct,Ct.current&1|2),n.child}e=e.sibling}p.tail!==null&&It()>Ea&&(n.flags|=128,i=!0,dl(p,!1),n.lanes=4194304)}else{if(!i)if(e=ks(v),e!==null){if(n.flags|=128,i=!0,l=e.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),dl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!kt)return Qt(n),null}else 2*It()-p.renderingStartTime>Ea&&l!==1073741824&&(n.flags|=128,i=!0,dl(p,!1),n.lanes=4194304);p.isBackwards?(v.sibling=n.child,n.child=v):(l=p.last,l!==null?l.sibling=v:n.child=v,p.last=v)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=It(),n.sibling=null,l=Ct.current,pt(Ct,i?l&1|2:l&1),n):(Qt(n),null);case 22:case 23:return Wi(),i=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(n.flags|=8192),i&&(n.mode&1)!==0?(hn&1073741824)!==0&&(Qt(n),n.subtreeFlags&6&&(n.flags|=8192)):Qt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function Wf(e,n){switch(ti(n),n.tag){case 1:return nn(n.type)&&ds(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ya(),vt(tn),vt(Kt),pi(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return mi(n),null;case 13:if(vt(Ct),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ga()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return vt(Ct),null;case 4:return ya(),null;case 10:return oi(n.type._context),null;case 22:case 23:return Wi(),null;case 24:return null;default:return null}}var Is=!1,Jt=!1,Kf=typeof WeakSet=="function"?WeakSet:Set,Me=null;function ba(e,n){var l=e.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(i){Pt(e,n,i)}else l.current=null}function Ri(e,n,l){try{l()}catch(i){Pt(e,n,i)}}var xm=!1;function Gf(e,n){if(Wo=Yl,e=Ju(),jo(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var i=l.getSelection&&l.getSelection();if(i&&i.rangeCount!==0){l=i.anchorNode;var m=i.anchorOffset,p=i.focusNode;i=i.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var v=0,T=-1,L=-1,W=0,ie=0,de=e,se=null;t:for(;;){for(var Ce;de!==l||m!==0&&de.nodeType!==3||(T=v+m),de!==p||i!==0&&de.nodeType!==3||(L=v+i),de.nodeType===3&&(v+=de.nodeValue.length),(Ce=de.firstChild)!==null;)se=de,de=Ce;for(;;){if(de===e)break t;if(se===l&&++W===m&&(T=v),se===p&&++ie===i&&(L=v),(Ce=de.nextSibling)!==null)break;de=se,se=de.parentNode}de=Ce}l=T===-1||L===-1?null:{start:T,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ko={focusedElem:e,selectionRange:l},Yl=!1,Me=n;Me!==null;)if(n=Me,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Me=e;else for(;Me!==null;){n=Me;try{var Le=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Re=Le.memoizedProps,Mt=Le.memoizedState,B=n.stateNode,j=B.getSnapshotBeforeUpdate(n.elementType===n.type?Re:An(n.type,Re),Mt);B.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var V=n.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(pe){Pt(n,n.return,pe)}if(e=n.sibling,e!==null){e.return=n.return,Me=e;break}Me=n.return}return Le=xm,xm=!1,Le}function ml(e,n,l){var i=n.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var m=i=i.next;do{if((m.tag&e)===e){var p=m.destroy;m.destroy=void 0,p!==void 0&&Ri(n,l,p)}m=m.next}while(m!==i)}}function Ms(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var i=l.create;l.destroy=i()}l=l.next}while(l!==n)}}function Ai(e){var n=e.ref;if(n!==null){var l=e.stateNode;e.tag,e=l,typeof n=="function"?n(e):n.current=e}}function bm(e){var n=e.alternate;n!==null&&(e.alternate=null,bm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Wn],delete n[tl],delete n[Yo],delete n[Pf],delete n[If])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vm(e){return e.tag===5||e.tag===3||e.tag===4}function Em(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Di(e,n,l){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?l.nodeType===8?l.parentNode.insertBefore(e,n):l.insertBefore(e,n):(l.nodeType===8?(n=l.parentNode,n.insertBefore(e,l)):(n=l,n.appendChild(e)),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=cs));else if(i!==4&&(e=e.child,e!==null))for(Di(e,n,l),e=e.sibling;e!==null;)Di(e,n,l),e=e.sibling}function Oi(e,n,l){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Oi(e,n,l),e=e.sibling;e!==null;)Oi(e,n,l),e=e.sibling}var qt=null,Dn=!1;function _r(e,n,l){for(l=l.child;l!==null;)km(e,n,l),l=l.sibling}function km(e,n,l){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(ql,l)}catch{}switch(l.tag){case 5:Jt||ba(l,n);case 6:var i=qt,m=Dn;qt=null,_r(e,n,l),qt=i,Dn=m,qt!==null&&(Dn?(e=qt,l=l.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)):qt.removeChild(l.stateNode));break;case 18:qt!==null&&(Dn?(e=qt,l=l.stateNode,e.nodeType===8?Jo(e.parentNode,l):e.nodeType===1&&Jo(e,l),Va(e)):Jo(qt,l.stateNode));break;case 4:i=qt,m=Dn,qt=l.stateNode.containerInfo,Dn=!0,_r(e,n,l),qt=i,Dn=m;break;case 0:case 11:case 14:case 15:if(!Jt&&(i=l.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){m=i=i.next;do{var p=m,v=p.destroy;p=p.tag,v!==void 0&&((p&2)!==0||(p&4)!==0)&&Ri(l,n,v),m=m.next}while(m!==i)}_r(e,n,l);break;case 1:if(!Jt&&(ba(l,n),i=l.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=l.memoizedProps,i.state=l.memoizedState,i.componentWillUnmount()}catch(T){Pt(l,n,T)}_r(e,n,l);break;case 21:_r(e,n,l);break;case 22:l.mode&1?(Jt=(i=Jt)||l.memoizedState!==null,_r(e,n,l),Jt=i):_r(e,n,l);break;default:_r(e,n,l)}}function wm(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var l=e.stateNode;l===null&&(l=e.stateNode=new Kf),n.forEach(function(i){var m=rh.bind(null,e,i);l.has(i)||(l.add(i),i.then(m,m))})}}function On(e,n){var l=n.deletions;if(l!==null)for(var i=0;i<l.length;i++){var m=l[i];try{var p=e,v=n,T=v;e:for(;T!==null;){switch(T.tag){case 5:qt=T.stateNode,Dn=!1;break e;case 3:qt=T.stateNode.containerInfo,Dn=!0;break e;case 4:qt=T.stateNode.containerInfo,Dn=!0;break e}T=T.return}if(qt===null)throw Error(s(160));km(p,v,m),qt=null,Dn=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(W){Pt(m,n,W)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Nm(n,e),n=n.sibling}function Nm(e,n){var l=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(n,e),Qn(e),i&4){try{ml(3,e,e.return),Ms(3,e)}catch(Re){Pt(e,e.return,Re)}try{ml(5,e,e.return)}catch(Re){Pt(e,e.return,Re)}}break;case 1:On(n,e),Qn(e),i&512&&l!==null&&ba(l,l.return);break;case 5:if(On(n,e),Qn(e),i&512&&l!==null&&ba(l,l.return),e.flags&32){var m=e.stateNode;try{U(m,"")}catch(Re){Pt(e,e.return,Re)}}if(i&4&&(m=e.stateNode,m!=null)){var p=e.memoizedProps,v=l!==null?l.memoizedProps:p,T=e.type,L=e.updateQueue;if(e.updateQueue=null,L!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&Xe(m,p),ct(T,v);var W=ct(T,p);for(v=0;v<L.length;v+=2){var ie=L[v],de=L[v+1];ie==="style"?xt(m,de):ie==="dangerouslySetInnerHTML"?Se(m,de):ie==="children"?U(m,de):I(m,ie,de,W)}switch(T){case"input":Q(m,p);break;case"textarea":mt(m,p);break;case"select":var se=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!p.multiple;var Ce=p.value;Ce!=null?Qe(m,!!p.multiple,Ce,!1):se!==!!p.multiple&&(p.defaultValue!=null?Qe(m,!!p.multiple,p.defaultValue,!0):Qe(m,!!p.multiple,p.multiple?[]:"",!1))}m[tl]=p}catch(Re){Pt(e,e.return,Re)}}break;case 6:if(On(n,e),Qn(e),i&4){if(e.stateNode===null)throw Error(s(162));m=e.stateNode,p=e.memoizedProps;try{m.nodeValue=p}catch(Re){Pt(e,e.return,Re)}}break;case 3:if(On(n,e),Qn(e),i&4&&l!==null&&l.memoizedState.isDehydrated)try{Va(n.containerInfo)}catch(Re){Pt(e,e.return,Re)}break;case 4:On(n,e),Qn(e);break;case 13:On(n,e),Qn(e),m=e.child,m.flags&8192&&(p=m.memoizedState!==null,m.stateNode.isHidden=p,!p||m.alternate!==null&&m.alternate.memoizedState!==null||($i=It())),i&4&&wm(e);break;case 22:if(ie=l!==null&&l.memoizedState!==null,e.mode&1?(Jt=(W=Jt)||ie,On(n,e),Jt=W):On(n,e),Qn(e),i&8192){if(W=e.memoizedState!==null,(e.stateNode.isHidden=W)&&!ie&&(e.mode&1)!==0)for(Me=e,ie=e.child;ie!==null;){for(de=Me=ie;Me!==null;){switch(se=Me,Ce=se.child,se.tag){case 0:case 11:case 14:case 15:ml(4,se,se.return);break;case 1:ba(se,se.return);var Le=se.stateNode;if(typeof Le.componentWillUnmount=="function"){i=se,l=se.return;try{n=i,Le.props=n.memoizedProps,Le.state=n.memoizedState,Le.componentWillUnmount()}catch(Re){Pt(i,l,Re)}}break;case 5:ba(se,se.return);break;case 22:if(se.memoizedState!==null){_m(de);continue}}Ce!==null?(Ce.return=se,Me=Ce):_m(de)}ie=ie.sibling}e:for(ie=null,de=e;;){if(de.tag===5){if(ie===null){ie=de;try{m=de.stateNode,W?(p=m.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=de.stateNode,L=de.memoizedProps.style,v=L!=null&&L.hasOwnProperty("display")?L.display:null,T.style.display=Be("display",v))}catch(Re){Pt(e,e.return,Re)}}}else if(de.tag===6){if(ie===null)try{de.stateNode.nodeValue=W?"":de.memoizedProps}catch(Re){Pt(e,e.return,Re)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===e)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===e)break e;for(;de.sibling===null;){if(de.return===null||de.return===e)break e;ie===de&&(ie=null),de=de.return}ie===de&&(ie=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:On(n,e),Qn(e),i&4&&wm(e);break;case 21:break;default:On(n,e),Qn(e)}}function Qn(e){var n=e.flags;if(n&2){try{e:{for(var l=e.return;l!==null;){if(vm(l)){var i=l;break e}l=l.return}throw Error(s(160))}switch(i.tag){case 5:var m=i.stateNode;i.flags&32&&(U(m,""),i.flags&=-33);var p=Em(e);Oi(e,p,m);break;case 3:case 4:var v=i.stateNode.containerInfo,T=Em(e);Di(e,T,v);break;default:throw Error(s(161))}}catch(L){Pt(e,e.return,L)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Qf(e,n,l){Me=e,Sm(e)}function Sm(e,n,l){for(var i=(e.mode&1)!==0;Me!==null;){var m=Me,p=m.child;if(m.tag===22&&i){var v=m.memoizedState!==null||Is;if(!v){var T=m.alternate,L=T!==null&&T.memoizedState!==null||Jt;T=Is;var W=Jt;if(Is=v,(Jt=L)&&!W)for(Me=m;Me!==null;)v=Me,L=v.child,v.tag===22&&v.memoizedState!==null?Tm(m):L!==null?(L.return=v,Me=L):Tm(m);for(;p!==null;)Me=p,Sm(p),p=p.sibling;Me=m,Is=T,Jt=W}Cm(e)}else(m.subtreeFlags&8772)!==0&&p!==null?(p.return=m,Me=p):Cm(e)}}function Cm(e){for(;Me!==null;){var n=Me;if((n.flags&8772)!==0){var l=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Jt||Ms(5,n);break;case 1:var i=n.stateNode;if(n.flags&4&&!Jt)if(l===null)i.componentDidMount();else{var m=n.elementType===n.type?l.memoizedProps:An(n.type,l.memoizedProps);i.componentDidUpdate(m,l.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&_d(n,p,i);break;case 3:var v=n.updateQueue;if(v!==null){if(l=null,n.child!==null)switch(n.child.tag){case 5:l=n.child.stateNode;break;case 1:l=n.child.stateNode}_d(n,v,l)}break;case 5:var T=n.stateNode;if(l===null&&n.flags&4){l=T;var L=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var W=n.alternate;if(W!==null){var ie=W.memoizedState;if(ie!==null){var de=ie.dehydrated;de!==null&&Va(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Jt||n.flags&512&&Ai(n)}catch(se){Pt(n,n.return,se)}}if(n===e){Me=null;break}if(l=n.sibling,l!==null){l.return=n.return,Me=l;break}Me=n.return}}function _m(e){for(;Me!==null;){var n=Me;if(n===e){Me=null;break}var l=n.sibling;if(l!==null){l.return=n.return,Me=l;break}Me=n.return}}function Tm(e){for(;Me!==null;){var n=Me;try{switch(n.tag){case 0:case 11:case 15:var l=n.return;try{Ms(4,n)}catch(L){Pt(n,l,L)}break;case 1:var i=n.stateNode;if(typeof i.componentDidMount=="function"){var m=n.return;try{i.componentDidMount()}catch(L){Pt(n,m,L)}}var p=n.return;try{Ai(n)}catch(L){Pt(n,p,L)}break;case 5:var v=n.return;try{Ai(n)}catch(L){Pt(n,v,L)}}}catch(L){Pt(n,n.return,L)}if(n===e){Me=null;break}var T=n.sibling;if(T!==null){T.return=n.return,Me=T;break}Me=n.return}}var Jf=Math.ceil,Ls=Y.ReactCurrentDispatcher,ji=Y.ReactCurrentOwner,Tn=Y.ReactCurrentBatchConfig,at=0,Ht=null,Rt=null,Wt=0,hn=0,va=kr(0),Ft=0,gl=null,Wr=0,Rs=0,Fi=0,pl=null,an=null,$i=0,Ea=1/0,ir=null,As=!1,Bi=null,Tr=null,Ds=!1,zr=null,Os=0,fl=0,Ui=null,js=-1,Fs=0;function en(){return(at&6)!==0?It():js!==-1?js:js=It()}function Pr(e){return(e.mode&1)===0?1:(at&2)!==0&&Wt!==0?Wt&-Wt:Lf.transition!==null?(Fs===0&&(Fs=Eu()),Fs):(e=ut,e!==0||(e=window.event,e=e===void 0?16:Pu(e.type)),e)}function jn(e,n,l,i){if(50<fl)throw fl=0,Ui=null,Error(s(185));Fa(e,l,i),((at&2)===0||e!==Ht)&&(e===Ht&&((at&2)===0&&(Rs|=l),Ft===4&&Ir(e,Wt)),ln(e,i),l===1&&at===0&&(n.mode&1)===0&&(Ea=It()+500,gs&&Nr()))}function ln(e,n){var l=e.callbackNode;M0(e,n);var i=Gl(e,e===Ht?Wt:0);if(i===0)l!==null&&xu(l),e.callbackNode=null,e.callbackPriority=0;else if(n=i&-i,e.callbackPriority!==n){if(l!=null&&xu(l),n===1)e.tag===0?Mf(Pm.bind(null,e)):fd(Pm.bind(null,e)),Tf(function(){(at&6)===0&&Nr()}),l=null;else{switch(ku(i)){case 1:l=Eo;break;case 4:l=bu;break;case 16:l=Vl;break;case 536870912:l=vu;break;default:l=Vl}l=jm(l,zm.bind(null,e))}e.callbackPriority=n,e.callbackNode=l}}function zm(e,n){if(js=-1,Fs=0,(at&6)!==0)throw Error(s(327));var l=e.callbackNode;if(ka()&&e.callbackNode!==l)return null;var i=Gl(e,e===Ht?Wt:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||n)n=$s(e,i);else{n=i;var m=at;at|=2;var p=Mm();(Ht!==e||Wt!==n)&&(ir=null,Ea=It()+500,Gr(e,n));do try{Zf();break}catch(T){Im(e,T)}while(!0);si(),Ls.current=p,at=m,Rt!==null?n=0:(Ht=null,Wt=0,n=Ft)}if(n!==0){if(n===2&&(m=ko(e),m!==0&&(i=m,n=Hi(e,m))),n===1)throw l=gl,Gr(e,0),Ir(e,i),ln(e,It()),l;if(n===6)Ir(e,i);else{if(m=e.current.alternate,(i&30)===0&&!Yf(m)&&(n=$s(e,i),n===2&&(p=ko(e),p!==0&&(i=p,n=Hi(e,p))),n===1))throw l=gl,Gr(e,0),Ir(e,i),ln(e,It()),l;switch(e.finishedWork=m,e.finishedLanes=i,n){case 0:case 1:throw Error(s(345));case 2:Qr(e,an,ir);break;case 3:if(Ir(e,i),(i&130023424)===i&&(n=$i+500-It(),10<n)){if(Gl(e,0)!==0)break;if(m=e.suspendedLanes,(m&i)!==i){en(),e.pingedLanes|=e.suspendedLanes&m;break}e.timeoutHandle=Qo(Qr.bind(null,e,an,ir),n);break}Qr(e,an,ir);break;case 4:if(Ir(e,i),(i&4194240)===i)break;for(n=e.eventTimes,m=-1;0<i;){var v=31-Mn(i);p=1<<v,v=n[v],v>m&&(m=v),i&=~p}if(i=m,i=It()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Jf(i/1960))-i,10<i){e.timeoutHandle=Qo(Qr.bind(null,e,an,ir),i);break}Qr(e,an,ir);break;case 5:Qr(e,an,ir);break;default:throw Error(s(329))}}}return ln(e,It()),e.callbackNode===l?zm.bind(null,e):null}function Hi(e,n){var l=pl;return e.current.memoizedState.isDehydrated&&(Gr(e,n).flags|=256),e=$s(e,n),e!==2&&(n=an,an=l,n!==null&&Vi(n)),e}function Vi(e){an===null?an=e:an.push.apply(an,e)}function Yf(e){for(var n=e;;){if(n.flags&16384){var l=n.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var i=0;i<l.length;i++){var m=l[i],p=m.getSnapshot;m=m.value;try{if(!Ln(p(),m))return!1}catch{return!1}}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ir(e,n){for(n&=~Fi,n&=~Rs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var l=31-Mn(n),i=1<<l;e[l]=-1,n&=~i}}function Pm(e){if((at&6)!==0)throw Error(s(327));ka();var n=Gl(e,0);if((n&1)===0)return ln(e,It()),null;var l=$s(e,n);if(e.tag!==0&&l===2){var i=ko(e);i!==0&&(n=i,l=Hi(e,i))}if(l===1)throw l=gl,Gr(e,0),Ir(e,n),ln(e,It()),l;if(l===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Qr(e,an,ir),ln(e,It()),null}function qi(e,n){var l=at;at|=1;try{return e(n)}finally{at=l,at===0&&(Ea=It()+500,gs&&Nr())}}function Kr(e){zr!==null&&zr.tag===0&&(at&6)===0&&ka();var n=at;at|=1;var l=Tn.transition,i=ut;try{if(Tn.transition=null,ut=1,e)return e()}finally{ut=i,Tn.transition=l,at=n,(at&6)===0&&Nr()}}function Wi(){hn=va.current,vt(va)}function Gr(e,n){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;if(l!==-1&&(e.timeoutHandle=-1,_f(l)),Rt!==null)for(l=Rt.return;l!==null;){var i=l;switch(ti(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ds();break;case 3:ya(),vt(tn),vt(Kt),pi();break;case 5:mi(i);break;case 4:ya();break;case 13:vt(Ct);break;case 19:vt(Ct);break;case 10:oi(i.type._context);break;case 22:case 23:Wi()}l=l.return}if(Ht=e,Rt=e=Mr(e.current,null),Wt=hn=n,Ft=0,gl=null,Fi=Rs=Wr=0,an=pl=null,Hr!==null){for(n=0;n<Hr.length;n++)if(l=Hr[n],i=l.interleaved,i!==null){l.interleaved=null;var m=i.next,p=l.pending;if(p!==null){var v=p.next;p.next=m,i.next=v}l.pending=i}Hr=null}return e}function Im(e,n){do{var l=Rt;try{if(si(),ws.current=_s,Ns){for(var i=_t.memoizedState;i!==null;){var m=i.queue;m!==null&&(m.pending=null),i=i.next}Ns=!1}if(qr=0,Ut=jt=_t=null,ol=!1,il=0,ji.current=null,l===null||l.return===null){Ft=1,gl=n,Rt=null;break}e:{var p=e,v=l.return,T=l,L=n;if(n=Wt,T.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var W=L,ie=T,de=ie.tag;if((ie.mode&1)===0&&(de===0||de===11||de===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var Ce=nm(v);if(Ce!==null){Ce.flags&=-257,rm(Ce,v,T,p,n),Ce.mode&1&&tm(p,W,n),n=Ce,L=W;var Le=n.updateQueue;if(Le===null){var Re=new Set;Re.add(L),n.updateQueue=Re}else Le.add(L);break e}else{if((n&1)===0){tm(p,W,n),Ki();break e}L=Error(s(426))}}else if(kt&&T.mode&1){var Mt=nm(v);if(Mt!==null){(Mt.flags&65536)===0&&(Mt.flags|=256),rm(Mt,v,T,p,n),ai(xa(L,T));break e}}p=L=xa(L,T),Ft!==4&&(Ft=2),pl===null?pl=[p]:pl.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var B=Zd(p,L,n);Cd(p,B);break e;case 1:T=L;var j=p.type,V=p.stateNode;if((p.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Tr===null||!Tr.has(V)))){p.flags|=65536,n&=-n,p.lanes|=n;var pe=em(p,T,n);Cd(p,pe);break e}}p=p.return}while(p!==null)}Rm(l)}catch(De){n=De,Rt===l&&l!==null&&(Rt=l=l.return);continue}break}while(!0)}function Mm(){var e=Ls.current;return Ls.current=_s,e===null?_s:e}function Ki(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Ht===null||(Wr&268435455)===0&&(Rs&268435455)===0||Ir(Ht,Wt)}function $s(e,n){var l=at;at|=2;var i=Mm();(Ht!==e||Wt!==n)&&(ir=null,Gr(e,n));do try{Xf();break}catch(m){Im(e,m)}while(!0);if(si(),at=l,Ls.current=i,Rt!==null)throw Error(s(261));return Ht=null,Wt=0,Ft}function Xf(){for(;Rt!==null;)Lm(Rt)}function Zf(){for(;Rt!==null&&!w0();)Lm(Rt)}function Lm(e){var n=Om(e.alternate,e,hn);e.memoizedProps=e.pendingProps,n===null?Rm(e):Rt=n,ji.current=null}function Rm(e){var n=e;do{var l=n.alternate;if(e=n.return,(n.flags&32768)===0){if(l=qf(l,n,hn),l!==null){Rt=l;return}}else{if(l=Wf(l,n),l!==null){l.flags&=32767,Rt=l;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ft=6,Rt=null;return}}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);Ft===0&&(Ft=5)}function Qr(e,n,l){var i=ut,m=Tn.transition;try{Tn.transition=null,ut=1,eh(e,n,l,i)}finally{Tn.transition=m,ut=i}return null}function eh(e,n,l,i){do ka();while(zr!==null);if((at&6)!==0)throw Error(s(327));l=e.finishedWork;var m=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var p=l.lanes|l.childLanes;if(L0(e,p),e===Ht&&(Rt=Ht=null,Wt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ds||(Ds=!0,jm(Vl,function(){return ka(),null})),p=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||p){p=Tn.transition,Tn.transition=null;var v=ut;ut=1;var T=at;at|=4,ji.current=null,Gf(e,l),Nm(l,e),vf(Ko),Yl=!!Wo,Ko=Wo=null,e.current=l,Qf(l),N0(),at=T,ut=v,Tn.transition=p}else e.current=l;if(Ds&&(Ds=!1,zr=e,Os=m),p=e.pendingLanes,p===0&&(Tr=null),_0(l.stateNode),ln(e,It()),n!==null)for(i=e.onRecoverableError,l=0;l<n.length;l++)m=n[l],i(m.value,{componentStack:m.stack,digest:m.digest});if(As)throw As=!1,e=Bi,Bi=null,e;return(Os&1)!==0&&e.tag!==0&&ka(),p=e.pendingLanes,(p&1)!==0?e===Ui?fl++:(fl=0,Ui=e):fl=0,Nr(),null}function ka(){if(zr!==null){var e=ku(Os),n=Tn.transition,l=ut;try{if(Tn.transition=null,ut=16>e?16:e,zr===null)var i=!1;else{if(e=zr,zr=null,Os=0,(at&6)!==0)throw Error(s(331));var m=at;for(at|=4,Me=e.current;Me!==null;){var p=Me,v=p.child;if((Me.flags&16)!==0){var T=p.deletions;if(T!==null){for(var L=0;L<T.length;L++){var W=T[L];for(Me=W;Me!==null;){var ie=Me;switch(ie.tag){case 0:case 11:case 15:ml(8,ie,p)}var de=ie.child;if(de!==null)de.return=ie,Me=de;else for(;Me!==null;){ie=Me;var se=ie.sibling,Ce=ie.return;if(bm(ie),ie===W){Me=null;break}if(se!==null){se.return=Ce,Me=se;break}Me=Ce}}}var Le=p.alternate;if(Le!==null){var Re=Le.child;if(Re!==null){Le.child=null;do{var Mt=Re.sibling;Re.sibling=null,Re=Mt}while(Re!==null)}}Me=p}}if((p.subtreeFlags&2064)!==0&&v!==null)v.return=p,Me=v;else e:for(;Me!==null;){if(p=Me,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ml(9,p,p.return)}var B=p.sibling;if(B!==null){B.return=p.return,Me=B;break e}Me=p.return}}var j=e.current;for(Me=j;Me!==null;){v=Me;var V=v.child;if((v.subtreeFlags&2064)!==0&&V!==null)V.return=v,Me=V;else e:for(v=j;Me!==null;){if(T=Me,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Ms(9,T)}}catch(De){Pt(T,T.return,De)}if(T===v){Me=null;break e}var pe=T.sibling;if(pe!==null){pe.return=T.return,Me=pe;break e}Me=T.return}}if(at=m,Nr(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(ql,e)}catch{}i=!0}return i}finally{ut=l,Tn.transition=n}}return!1}function Am(e,n,l){n=xa(l,n),n=Zd(e,n,1),e=Cr(e,n,1),n=en(),e!==null&&(Fa(e,1,n),ln(e,n))}function Pt(e,n,l){if(e.tag===3)Am(e,e,l);else for(;n!==null;){if(n.tag===3){Am(n,e,l);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Tr===null||!Tr.has(i))){e=xa(l,e),e=em(n,e,1),n=Cr(n,e,1),e=en(),n!==null&&(Fa(n,1,e),ln(n,e));break}}n=n.return}}function th(e,n,l){var i=e.pingCache;i!==null&&i.delete(n),n=en(),e.pingedLanes|=e.suspendedLanes&l,Ht===e&&(Wt&l)===l&&(Ft===4||Ft===3&&(Wt&130023424)===Wt&&500>It()-$i?Gr(e,0):Fi|=l),ln(e,n)}function Dm(e,n){n===0&&((e.mode&1)===0?n=1:(n=Kl,Kl<<=1,(Kl&130023424)===0&&(Kl=4194304)));var l=en();e=lr(e,n),e!==null&&(Fa(e,n,l),ln(e,l))}function nh(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Dm(e,l)}function rh(e,n){var l=0;switch(e.tag){case 13:var i=e.stateNode,m=e.memoizedState;m!==null&&(l=m.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(n),Dm(e,l)}var Om;Om=function(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps||tn.current)rn=!0;else{if((e.lanes&l)===0&&(n.flags&128)===0)return rn=!1,Vf(e,n,l);rn=(e.flags&131072)!==0}else rn=!1,kt&&(n.flags&1048576)!==0&&hd(n,fs,n.index);switch(n.lanes=0,n.tag){case 2:var i=n.type;Ps(e,n),e=n.pendingProps;var m=ua(n,Kt.current);ha(n,l),m=yi(null,n,i,e,m,l);var p=xi();return n.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,nn(i)?(p=!0,ms(n)):p=!1,n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,ui(n),m.updater=Ts,n.stateNode=m,m._reactInternals=n,Ni(n,i,e,l),n=Ti(null,n,i,!0,p,l)):(n.tag=0,kt&&p&&ei(n),Zt(null,n,m,l),n=n.child),n;case 16:i=n.elementType;e:{switch(Ps(e,n),e=n.pendingProps,m=i._init,i=m(i._payload),n.type=i,m=n.tag=lh(i),e=An(i,e),m){case 0:n=_i(null,n,i,e,l);break e;case 1:n=cm(null,n,i,e,l);break e;case 11:n=am(null,n,i,e,l);break e;case 14:n=lm(null,n,i,An(i.type,e),l);break e}throw Error(s(306,i,""))}return n;case 0:return i=n.type,m=n.pendingProps,m=n.elementType===i?m:An(i,m),_i(e,n,i,m,l);case 1:return i=n.type,m=n.pendingProps,m=n.elementType===i?m:An(i,m),cm(e,n,i,m,l);case 3:e:{if(um(n),e===null)throw Error(s(387));i=n.pendingProps,p=n.memoizedState,m=p.element,Sd(e,n),Es(n,i,null,l);var v=n.memoizedState;if(i=v.element,p.isDehydrated)if(p={element:i,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){m=xa(Error(s(423)),n),n=dm(e,n,i,l,m);break e}else if(i!==m){m=xa(Error(s(424)),n),n=dm(e,n,i,l,m);break e}else for(fn=Er(n.stateNode.containerInfo.firstChild),pn=n,kt=!0,Rn=null,l=wd(n,null,i,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ga(),i===m){n=or(e,n,l);break e}Zt(e,n,i,l)}n=n.child}return n;case 5:return Td(n),e===null&&ri(n),i=n.type,m=n.pendingProps,p=e!==null?e.memoizedProps:null,v=m.children,Go(i,m)?v=null:p!==null&&Go(i,p)&&(n.flags|=32),im(e,n),Zt(e,n,v,l),n.child;case 6:return e===null&&ri(n),null;case 13:return mm(e,n,l);case 4:return di(n,n.stateNode.containerInfo),i=n.pendingProps,e===null?n.child=pa(n,null,i,l):Zt(e,n,i,l),n.child;case 11:return i=n.type,m=n.pendingProps,m=n.elementType===i?m:An(i,m),am(e,n,i,m,l);case 7:return Zt(e,n,n.pendingProps,l),n.child;case 8:return Zt(e,n,n.pendingProps.children,l),n.child;case 12:return Zt(e,n,n.pendingProps.children,l),n.child;case 10:e:{if(i=n.type._context,m=n.pendingProps,p=n.memoizedProps,v=m.value,pt(xs,i._currentValue),i._currentValue=v,p!==null)if(Ln(p.value,v)){if(p.children===m.children&&!tn.current){n=or(e,n,l);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var T=p.dependencies;if(T!==null){v=p.child;for(var L=T.firstContext;L!==null;){if(L.context===i){if(p.tag===1){L=sr(-1,l&-l),L.tag=2;var W=p.updateQueue;if(W!==null){W=W.shared;var ie=W.pending;ie===null?L.next=L:(L.next=ie.next,ie.next=L),W.pending=L}}p.lanes|=l,L=p.alternate,L!==null&&(L.lanes|=l),ii(p.return,l,n),T.lanes|=l;break}L=L.next}}else if(p.tag===10)v=p.type===n.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(s(341));v.lanes|=l,T=v.alternate,T!==null&&(T.lanes|=l),ii(v,l,n),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===n){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Zt(e,n,m.children,l),n=n.child}return n;case 9:return m=n.type,i=n.pendingProps.children,ha(n,l),m=Cn(m),i=i(m),n.flags|=1,Zt(e,n,i,l),n.child;case 14:return i=n.type,m=An(i,n.pendingProps),m=An(i.type,m),lm(e,n,i,m,l);case 15:return sm(e,n,n.type,n.pendingProps,l);case 17:return i=n.type,m=n.pendingProps,m=n.elementType===i?m:An(i,m),Ps(e,n),n.tag=1,nn(i)?(e=!0,ms(n)):e=!1,ha(n,l),Yd(n,i,m),Ni(n,i,m,l),Ti(null,n,i,!0,e,l);case 19:return pm(e,n,l);case 22:return om(e,n,l)}throw Error(s(156,n.tag))};function jm(e,n){return yu(e,n)}function ah(e,n,l,i){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,n,l,i){return new ah(e,n,l,i)}function Gi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lh(e){if(typeof e=="function")return Gi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K)return 11;if(e===te)return 14}return 2}function Mr(e,n){var l=e.alternate;return l===null?(l=zn(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&14680064,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l}function Bs(e,n,l,i,m,p){var v=2;if(i=e,typeof e=="function")Gi(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case ee:return Jr(l.children,m,p,n);case q:v=8,m|=8;break;case X:return e=zn(12,l,n,m|2),e.elementType=X,e.lanes=p,e;case xe:return e=zn(13,l,n,m),e.elementType=xe,e.lanes=p,e;case le:return e=zn(19,l,n,m),e.elementType=le,e.lanes=p,e;case oe:return Us(l,m,p,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:v=10;break e;case D:v=9;break e;case K:v=11;break e;case te:v=14;break e;case J:v=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=zn(v,l,n,m),n.elementType=e,n.type=i,n.lanes=p,n}function Jr(e,n,l,i){return e=zn(7,e,i,n),e.lanes=l,e}function Us(e,n,l,i){return e=zn(22,e,i,n),e.elementType=oe,e.lanes=l,e.stateNode={isHidden:!1},e}function Qi(e,n,l){return e=zn(6,e,null,n),e.lanes=l,e}function Ji(e,n,l){return n=zn(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function sh(e,n,l,i,m){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wo(0),this.expirationTimes=wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wo(0),this.identifierPrefix=i,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Yi(e,n,l,i,m,p,v,T,L){return e=new sh(e,n,l,T,L),n===1?(n=1,p===!0&&(n|=8)):n=0,p=zn(3,null,null,n),e.current=p,p.stateNode=e,p.memoizedState={element:i,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ui(p),e}function oh(e,n,l){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:i==null?null:""+i,children:e,containerInfo:n,implementation:l}}function Fm(e){if(!e)return wr;e=e._reactInternals;e:{if(jr(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(nn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var l=e.type;if(nn(l))return gd(e,l,n)}return n}function $m(e,n,l,i,m,p,v,T,L){return e=Yi(l,i,!0,e,m,p,v,T,L),e.context=Fm(null),l=e.current,i=en(),m=Pr(l),p=sr(i,m),p.callback=n??null,Cr(l,p,m),e.current.lanes=m,Fa(e,m,i),ln(e,i),e}function Hs(e,n,l,i){var m=n.current,p=en(),v=Pr(m);return l=Fm(l),n.context===null?n.context=l:n.pendingContext=l,n=sr(p,v),n.payload={element:e},i=i===void 0?null:i,i!==null&&(n.callback=i),e=Cr(m,n,v),e!==null&&(jn(e,m,v,p),vs(e,m,v)),v}function Vs(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function Bm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function Xi(e,n){Bm(e,n),(e=e.alternate)&&Bm(e,n)}function ih(){return null}var Um=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zi(e){this._internalRoot=e}qs.prototype.render=Zi.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));Hs(e,n,null,null)},qs.prototype.unmount=Zi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Kr(function(){Hs(null,e,null,null)}),n[tr]=null}};function qs(e){this._internalRoot=e}qs.prototype.unstable_scheduleHydration=function(e){if(e){var n=Su();e={blockedOn:null,target:e,priority:n};for(var l=0;l<xr.length&&n!==0&&n<xr[l].priority;l++);xr.splice(l,0,e),l===0&&Tu(e)}};function ec(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ws(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hm(){}function ch(e,n,l,i,m){if(m){if(typeof i=="function"){var p=i;i=function(){var W=Vs(v);p.call(W)}}var v=$m(n,i,e,0,null,!1,!1,"",Hm);return e._reactRootContainer=v,e[tr]=v.current,Za(e.nodeType===8?e.parentNode:e),Kr(),v}for(;m=e.lastChild;)e.removeChild(m);if(typeof i=="function"){var T=i;i=function(){var W=Vs(L);T.call(W)}}var L=Yi(e,0,!1,null,null,!1,!1,"",Hm);return e._reactRootContainer=L,e[tr]=L.current,Za(e.nodeType===8?e.parentNode:e),Kr(function(){Hs(n,L,l,i)}),L}function Ks(e,n,l,i,m){var p=l._reactRootContainer;if(p){var v=p;if(typeof m=="function"){var T=m;m=function(){var L=Vs(v);T.call(L)}}Hs(n,v,e,m)}else v=ch(l,n,e,m,i);return Vs(v)}wu=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var l=ja(n.pendingLanes);l!==0&&(No(n,l|1),ln(n,It()),(at&6)===0&&(Ea=It()+500,Nr()))}break;case 13:Kr(function(){var i=lr(e,1);if(i!==null){var m=en();jn(i,e,1,m)}}),Xi(e,1)}},So=function(e){if(e.tag===13){var n=lr(e,134217728);if(n!==null){var l=en();jn(n,e,134217728,l)}Xi(e,134217728)}},Nu=function(e){if(e.tag===13){var n=Pr(e),l=lr(e,n);if(l!==null){var i=en();jn(l,e,n,i)}Xi(e,n)}},Su=function(){return ut},Cu=function(e,n){var l=ut;try{return ut=e,n()}finally{ut=l}},Et=function(e,n,l){switch(n){case"input":if(Q(e,l),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<l.length;n++){var i=l[n];if(i!==e&&i.form===e.form){var m=us(i);if(!m)throw Error(s(90));tt(i),Q(i,m)}}}break;case"textarea":mt(e,l);break;case"select":n=l.value,n!=null&&Qe(e,!!l.multiple,n,!1)}},he=qi,Ge=Kr;var uh={usingClientEntryPoint:!1,Events:[nl,ia,us,We,rt,qi]},hl={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dh={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fu(e),e===null?null:e.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||ih,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{ql=Gs.inject(dh),qn=Gs}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uh,sn.createPortal=function(e,n){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ec(n))throw Error(s(200));return oh(e,n,null,l)},sn.createRoot=function(e,n){if(!ec(e))throw Error(s(299));var l=!1,i="",m=Um;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),n=Yi(e,1,!1,null,null,l,!1,i,m),e[tr]=n.current,Za(e.nodeType===8?e.parentNode:e),new Zi(n)},sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=fu(n),e=e===null?null:e.stateNode,e},sn.flushSync=function(e){return Kr(e)},sn.hydrate=function(e,n,l){if(!Ws(n))throw Error(s(200));return Ks(null,e,n,!0,l)},sn.hydrateRoot=function(e,n,l){if(!ec(e))throw Error(s(405));var i=l!=null&&l.hydratedSources||null,m=!1,p="",v=Um;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),n=$m(n,null,e,1,l??null,m,!1,p,v),e[tr]=n.current,Za(e),i)for(e=0;e<i.length;e++)l=i[e],m=l._getVersion,m=m(l._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[l,m]:n.mutableSourceEagerHydrationData.push(l,m);return new qs(n)},sn.render=function(e,n,l){if(!Ws(n))throw Error(s(200));return Ks(null,e,n,!1,l)},sn.unmountComponentAtNode=function(e){if(!Ws(e))throw Error(s(40));return e._reactRootContainer?(Kr(function(){Ks(null,null,e,!1,function(){e._reactRootContainer=null,e[tr]=null})}),!0):!1},sn.unstable_batchedUpdates=qi,sn.unstable_renderSubtreeIntoContainer=function(e,n,l,i){if(!Ws(l))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ks(e,n,l,!1,i)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var Qm;function ap(){if(Qm)return nc.exports;Qm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),nc.exports=hh(),nc.exports}var Jm;function yh(){if(Jm)return Qs;Jm=1;var t=ap();return Qs.createRoot=t.createRoot,Qs.hydrateRoot=t.hydrateRoot,Qs}var xh=yh();const bh=uo(xh);var Ym="popstate";function vh(t={}){function a(o,c){let{pathname:u,search:d,hash:g}=o.location;return Nc("",{pathname:u,search:d,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(o,c){return typeof c=="string"?c:Il(c)}return kh(a,s,null,t)}function wt(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Hn(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Eh(){return Math.random().toString(36).substring(2,10)}function Xm(t,a){return{usr:t.state,key:t.key,idx:a}}function Nc(t,a,s=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?Pa(a):a,state:s,key:a&&a.key||o||Eh()}}function Il({pathname:t="/",search:a="",hash:s=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Pa(t){let a={};if(t){let s=t.indexOf("#");s>=0&&(a.hash=t.substring(s),t=t.substring(0,s));let o=t.indexOf("?");o>=0&&(a.search=t.substring(o),t=t.substring(0,o)),t&&(a.pathname=t)}return a}function kh(t,a,s,o={}){let{window:c=document.defaultView,v5Compat:u=!1}=o,d=c.history,g="POP",f=null,h=y();h==null&&(h=0,d.replaceState({...d.state,idx:h},""));function y(){return(d.state||{idx:null}).idx}function x(){g="POP";let C=y(),_=C==null?null:C-h;h=C,f&&f({action:g,location:P.location,delta:_})}function k(C,_){g="PUSH";let N=Nc(P.location,C,_);h=y()+1;let I=Xm(N,h),Y=P.createHref(N);try{d.pushState(I,"",Y)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;c.location.assign(Y)}u&&f&&f({action:g,location:P.location,delta:1})}function E(C,_){g="REPLACE";let N=Nc(P.location,C,_);h=y();let I=Xm(N,h),Y=P.createHref(N);d.replaceState(I,"",Y),u&&f&&f({action:g,location:P.location,delta:0})}function A(C){return wh(C)}let P={get action(){return g},get location(){return t(c,d)},listen(C){if(f)throw new Error("A history only accepts one active listener");return c.addEventListener(Ym,x),f=C,()=>{c.removeEventListener(Ym,x),f=null}},createHref(C){return a(c,C)},createURL:A,encodeLocation(C){let _=A(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:k,replace:E,go(C){return d.go(C)}};return P}function wh(t,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),wt(s,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:Il(t);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=s+o),new URL(o,s)}function lp(t,a,s="/"){return Nh(t,a,s,!1)}function Nh(t,a,s,o){let c=typeof a=="string"?Pa(a):a,u=dr(c.pathname||"/",s);if(u==null)return null;let d=sp(t);Sh(d);let g=null;for(let f=0;g==null&&f<d.length;++f){let h=Dh(u);g=Rh(d[f],h,o)}return g}function sp(t,a=[],s=[],o="",c=!1){let u=(d,g,f=c,h)=>{let y={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(o)&&f)return;wt(y.relativePath.startsWith(o),`Absolute route path "${y.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(o.length)}let x=ur([o,y.relativePath]),k=s.concat(y);d.children&&d.children.length>0&&(wt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),sp(d.children,a,k,x,f)),!(d.path==null&&!d.index)&&a.push({path:x,score:Mh(x,d.index),routesMeta:k})};return t.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))u(d,g);else for(let f of op(d.path))u(d,g,!0,f)}),a}function op(t){let a=t.split("/");if(a.length===0)return[];let[s,...o]=a,c=s.endsWith("?"),u=s.replace(/\?$/,"");if(o.length===0)return c?[u,""]:[u];let d=op(o.join("/")),g=[];return g.push(...d.map(f=>f===""?u:[u,f].join("/"))),c&&g.push(...d),g.map(f=>t.startsWith("/")&&f===""?"/":f)}function Sh(t){t.sort((a,s)=>a.score!==s.score?s.score-a.score:Lh(a.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}var Ch=/^:[\w-]+$/,_h=3,Th=2,zh=1,Ph=10,Ih=-2,Zm=t=>t==="*";function Mh(t,a){let s=t.split("/"),o=s.length;return s.some(Zm)&&(o+=Ih),a&&(o+=Th),s.filter(c=>!Zm(c)).reduce((c,u)=>c+(Ch.test(u)?_h:u===""?zh:Ph),o)}function Lh(t,a){return t.length===a.length&&t.slice(0,-1).every((o,c)=>o===a[c])?t[t.length-1]-a[a.length-1]:0}function Rh(t,a,s=!1){let{routesMeta:o}=t,c={},u="/",d=[];for(let g=0;g<o.length;++g){let f=o[g],h=g===o.length-1,y=u==="/"?a:a.slice(u.length)||"/",x=oo({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},y),k=f.route;if(!x&&h&&s&&!o[o.length-1].route.index&&(x=oo({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!x)return null;Object.assign(c,x.params),d.push({params:c,pathname:ur([u,x.pathname]),pathnameBase:$h(ur([u,x.pathnameBase])),route:k}),x.pathnameBase!=="/"&&(u=ur([u,x.pathnameBase]))}return d}function oo(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,o]=Ah(t.path,t.caseSensitive,t.end),c=a.match(s);if(!c)return null;let u=c[0],d=u.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:o.reduce((h,{paramName:y,isOptional:x},k)=>{if(y==="*"){let A=g[k]||"";d=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const E=g[k];return x&&!E?h[y]=void 0:h[y]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:d,pattern:t}}function Ah(t,a=!1,s=!0){Hn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],c="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,f)=>(o.push({paramName:g,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),c+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":t!==""&&t!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),o]}function Dh(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Hn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function dr(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,o=t.charAt(s);return o&&o!=="/"?null:t.slice(s)||"/"}var Oh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function jh(t,a="/"){let{pathname:s,search:o="",hash:c=""}=typeof t=="string"?Pa(t):t,u;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?u=eg(s.substring(1),"/"):u=eg(s,a)):u=a,{pathname:u,search:Bh(o),hash:Uh(c)}}function eg(t,a){let s=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function lc(t,a,s,o){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fh(t){return t.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function Hc(t){let a=Fh(t);return a.map((s,o)=>o===a.length-1?s.pathname:s.pathnameBase)}function Vc(t,a,s,o=!1){let c;typeof t=="string"?c=Pa(t):(c={...t},wt(!c.pathname||!c.pathname.includes("?"),lc("?","pathname","search",c)),wt(!c.pathname||!c.pathname.includes("#"),lc("#","pathname","hash",c)),wt(!c.search||!c.search.includes("#"),lc("#","search","hash",c)));let u=t===""||c.pathname==="",d=u?"/":c.pathname,g;if(d==null)g=s;else{let x=a.length-1;if(!o&&d.startsWith("..")){let k=d.split("/");for(;k[0]==="..";)k.shift(),x-=1;c.pathname=k.join("/")}g=x>=0?a[x]:"/"}let f=jh(c,g),h=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&s.endsWith("/");return!f.pathname.endsWith("/")&&(h||y)&&(f.pathname+="/"),f}var ur=t=>t.join("/").replace(/\/\/+/g,"/"),$h=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Bh=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Uh=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Hh=class{constructor(t,a,s,o=!1){this.status=t,this.statusText=a||"",this.internal=o,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function Vh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function qh(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ip=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cp(t,a){let s=t;if(typeof s!="string"||!Oh.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let o=s,c=!1;if(ip)try{let u=new URL(window.location.href),d=s.startsWith("//")?new URL(u.protocol+s):new URL(s),g=dr(d.pathname,a);d.origin===u.origin&&g!=null?s=g+d.search+d.hash:c=!0}catch{Hn(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:c,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var up=["POST","PUT","PATCH","DELETE"];new Set(up);var Wh=["GET",...up];new Set(Wh);var Ia=b.createContext(null);Ia.displayName="DataRouter";var mo=b.createContext(null);mo.displayName="DataRouterState";var Kh=b.createContext(!1),dp=b.createContext({isTransitioning:!1});dp.displayName="ViewTransition";var Gh=b.createContext(new Map);Gh.displayName="Fetchers";var Qh=b.createContext(null);Qh.displayName="Await";var wn=b.createContext(null);wn.displayName="Navigation";var Al=b.createContext(null);Al.displayName="Location";var Vn=b.createContext({outlet:null,matches:[],isDataRoute:!1});Vn.displayName="Route";var qc=b.createContext(null);qc.displayName="RouteError";var mp="REACT_ROUTER_ERROR",Jh="REDIRECT",Yh="ROUTE_ERROR_RESPONSE";function Xh(t){if(t.startsWith(`${mp}:${Jh}:{`))try{let a=JSON.parse(t.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function Zh(t){if(t.startsWith(`${mp}:${Yh}:{`))try{let a=JSON.parse(t.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Hh(a.status,a.statusText,a.data)}catch{}}function ey(t,{relative:a}={}){wt(Ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=b.useContext(wn),{hash:c,pathname:u,search:d}=Dl(t,{relative:a}),g=u;return s!=="/"&&(g=u==="/"?s:ur([s,u])),o.createHref({pathname:g,search:d,hash:c})}function Ma(){return b.useContext(Al)!=null}function gr(){return wt(Ma(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Al).location}var gp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pp(t){b.useContext(wn).static||b.useLayoutEffect(t)}function Ar(){let{isDataRoute:t}=b.useContext(Vn);return t?fy():ty()}function ty(){wt(Ma(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Ia),{basename:a,navigator:s}=b.useContext(wn),{matches:o}=b.useContext(Vn),{pathname:c}=gr(),u=JSON.stringify(Hc(o)),d=b.useRef(!1);return pp(()=>{d.current=!0}),b.useCallback((f,h={})=>{if(Hn(d.current,gp),!d.current)return;if(typeof f=="number"){s.go(f);return}let y=Vc(f,JSON.parse(u),c,h.relative==="path");t==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:ur([a,y.pathname])),(h.replace?s.replace:s.push)(y,h.state,h)},[a,s,u,c,t])}var ny=b.createContext(null);function ry(t){let a=b.useContext(Vn).outlet;return b.useMemo(()=>a&&b.createElement(ny.Provider,{value:t},a),[a,t])}function Dl(t,{relative:a}={}){let{matches:s}=b.useContext(Vn),{pathname:o}=gr(),c=JSON.stringify(Hc(s));return b.useMemo(()=>Vc(t,JSON.parse(c),o,a==="path"),[t,c,o,a])}function ay(t,a){return fp(t,a)}function fp(t,a,s,o,c){wt(Ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=b.useContext(wn),{matches:d}=b.useContext(Vn),g=d[d.length-1],f=g?g.params:{},h=g?g.pathname:"/",y=g?g.pathnameBase:"/",x=g&&g.route;{let N=x&&x.path||"";yp(h,!x||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let k=gr(),E;if(a){let N=typeof a=="string"?Pa(a):a;wt(y==="/"||N.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${N.pathname}" was given in the \`location\` prop.`),E=N}else E=k;let A=E.pathname||"/",P=A;if(y!=="/"){let N=y.replace(/^\//,"").split("/");P="/"+A.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=lp(t,{pathname:P});Hn(x||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Hn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=cy(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:ur([y,u.encodeLocation?u.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?y:ur([y,u.encodeLocation?u.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),d,s,o,c);return a&&_?b.createElement(Al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},_):_}function ly(){let t=py(),a=Vh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:u},"ErrorBoundary")," or"," ",b.createElement("code",{style:u},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},a),s?b.createElement("pre",{style:c},s):null,d)}var sy=b.createElement(ly,null),hp=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const s=Zh(t.digest);s&&(t=s)}let a=t!==void 0?b.createElement(Vn.Provider,{value:this.props.routeContext},b.createElement(qc.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?b.createElement(oy,{error:t},a):a}};hp.contextType=Kh;var sc=new WeakMap;function oy({children:t,error:a}){let{basename:s}=b.useContext(wn);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let o=Xh(a.digest);if(o){let c=sc.get(a);if(c)throw c;let u=cp(o.location,s);if(ip&&!sc.get(a))if(u.isExternal||o.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:o.replace}));throw sc.set(a,d),d}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return t}function iy({routeContext:t,match:a,children:s}){let o=b.useContext(Ia);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),b.createElement(Vn.Provider,{value:t},s)}function cy(t,a=[],s=null,o=null,c=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let u=t,d=s?.errors;if(d!=null){let y=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);wt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let g=!1,f=-1;if(s)for(let y=0;y<u.length;y++){let x=u[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=y),x.route.id){let{loaderData:k,errors:E}=s,A=x.route.loader&&!k.hasOwnProperty(x.route.id)&&(!E||E[x.route.id]===void 0);if(x.route.lazy||A){g=!0,f>=0?u=u.slice(0,f+1):u=[u[0]];break}}}let h=s&&o?(y,x)=>{o(y,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:qh(s.matches),errorInfo:x})}:void 0;return u.reduceRight((y,x,k)=>{let E,A=!1,P=null,C=null;s&&(E=d&&x.route.id?d[x.route.id]:void 0,P=x.route.errorElement||sy,g&&(f<0&&k===0?(yp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,C=null):f===k&&(A=!0,C=x.route.hydrateFallbackElement||null)));let _=a.concat(u.slice(0,k+1)),N=()=>{let I;return E?I=P:A?I=C:x.route.Component?I=b.createElement(x.route.Component,null):x.route.element?I=x.route.element:I=y,b.createElement(iy,{match:x,routeContext:{outlet:y,matches:_,isDataRoute:s!=null},children:I})};return s&&(x.route.ErrorBoundary||x.route.errorElement||k===0)?b.createElement(hp,{location:s.location,revalidation:s.revalidation,component:P,error:E,children:N(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:h}):N()},null)}function Wc(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uy(t){let a=b.useContext(Ia);return wt(a,Wc(t)),a}function dy(t){let a=b.useContext(mo);return wt(a,Wc(t)),a}function my(t){let a=b.useContext(Vn);return wt(a,Wc(t)),a}function Kc(t){let a=my(t),s=a.matches[a.matches.length-1];return wt(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function gy(){return Kc("useRouteId")}function py(){let t=b.useContext(qc),a=dy("useRouteError"),s=Kc("useRouteError");return t!==void 0?t:a.errors?.[s]}function fy(){let{router:t}=uy("useNavigate"),a=Kc("useNavigate"),s=b.useRef(!1);return pp(()=>{s.current=!0}),b.useCallback(async(c,u={})=>{Hn(s.current,gp),s.current&&(typeof c=="number"?await t.navigate(c):await t.navigate(c,{fromRouteId:a,...u}))},[t,a])}var tg={};function yp(t,a,s){!a&&!tg[t]&&(tg[t]=!0,Hn(!1,s))}b.memo(hy);function hy({routes:t,future:a,state:s,onError:o}){return fp(t,void 0,s,o,a)}function Sc({to:t,replace:a,state:s,relative:o}){wt(Ma(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=b.useContext(wn);Hn(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=b.useContext(Vn),{pathname:d}=gr(),g=Ar(),f=Vc(t,Hc(u),d,o==="path"),h=JSON.stringify(f);return b.useEffect(()=>{g(JSON.parse(h),{replace:a,state:s,relative:o})},[g,h,o,a,s]),null}function yy(t){return ry(t.context)}function yn(t){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xy({basename:t="/",children:a=null,location:s,navigationType:o="POP",navigator:c,static:u=!1,unstable_useTransitions:d}){wt(!Ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=t.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:g,navigator:c,static:u,unstable_useTransitions:d,future:{}}),[g,c,u,d]);typeof s=="string"&&(s=Pa(s));let{pathname:h="/",search:y="",hash:x="",state:k=null,key:E="default"}=s,A=b.useMemo(()=>{let P=dr(h,g);return P==null?null:{location:{pathname:P,search:y,hash:x,state:k,key:E},navigationType:o}},[g,h,y,x,k,E,o]);return Hn(A!=null,`<Router basename="${g}"> is not able to match the URL "${h}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:b.createElement(wn.Provider,{value:f},b.createElement(Al.Provider,{children:a,value:A}))}function by({children:t,location:a}){return ay(Cc(t),a)}function Cc(t,a=[]){let s=[];return b.Children.forEach(t,(o,c)=>{if(!b.isValidElement(o))return;let u=[...a,c];if(o.type===b.Fragment){s.push.apply(s,Cc(o.props.children,u));return}wt(o.type===yn,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Cc(o.props.children,u)),s.push(d)}),s}var ro="get",ao="application/x-www-form-urlencoded";function go(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function vy(t){return go(t)&&t.tagName.toLowerCase()==="button"}function Ey(t){return go(t)&&t.tagName.toLowerCase()==="form"}function ky(t){return go(t)&&t.tagName.toLowerCase()==="input"}function wy(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ny(t,a){return t.button===0&&(!a||a==="_self")&&!wy(t)}var Js=null;function Sy(){if(Js===null)try{new FormData(document.createElement("form"),0),Js=!1}catch{Js=!0}return Js}var Cy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function oc(t){return t!=null&&!Cy.has(t)?(Hn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ao}"`),null):t}function _y(t,a){let s,o,c,u,d;if(Ey(t)){let g=t.getAttribute("action");o=g?dr(g,a):null,s=t.getAttribute("method")||ro,c=oc(t.getAttribute("enctype"))||ao,u=new FormData(t)}else if(vy(t)||ky(t)&&(t.type==="submit"||t.type==="image")){let g=t.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||g.getAttribute("action");if(o=f?dr(f,a):null,s=t.getAttribute("formmethod")||g.getAttribute("method")||ro,c=oc(t.getAttribute("formenctype"))||oc(g.getAttribute("enctype"))||ao,u=new FormData(g,t),!Sy()){let{name:h,type:y,value:x}=t;if(y==="image"){let k=h?`${h}.`:"";u.append(`${k}x`,"0"),u.append(`${k}y`,"0")}else h&&u.append(h,x)}}else{if(go(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=ro,o=null,c=ao,d=t}return u&&c==="text/plain"&&(d=u,u=void 0),{action:o,method:s.toLowerCase(),encType:c,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gc(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Ty(t,a,s,o){let c=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${o}`:c.pathname=`${c.pathname}.${o}`:c.pathname==="/"?c.pathname=`_root.${o}`:a&&dr(c.pathname,a)==="/"?c.pathname=`${a.replace(/\/$/,"")}/_root.${o}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${o}`,c}async function zy(t,a){if(t.id in a)return a[t.id];try{let s=await import(t.module);return a[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Py(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Iy(t,a,s){let o=await Promise.all(t.map(async c=>{let u=a.routes[c.route.id];if(u){let d=await zy(u,s);return d.links?d.links():[]}return[]}));return Ay(o.flat(1).filter(Py).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function ng(t,a,s,o,c,u){let d=(f,h)=>s[h]?f.route.id!==s[h].route.id:!0,g=(f,h)=>s[h].pathname!==f.pathname||s[h].route.path?.endsWith("*")&&s[h].params["*"]!==f.params["*"];return u==="assets"?a.filter((f,h)=>d(f,h)||g(f,h)):u==="data"?a.filter((f,h)=>{let y=o.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(d(f,h)||g(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function My(t,a,{includeHydrateFallback:s}={}){return Ly(t.map(o=>{let c=a.routes[o.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function Ly(t){return[...new Set(t)]}function Ry(t){let a={},s=Object.keys(t).sort();for(let o of s)a[o]=t[o];return a}function Ay(t,a){let s=new Set;return new Set(a),t.reduce((o,c)=>{let u=JSON.stringify(Ry(c));return s.has(u)||(s.add(u),o.push({key:u,link:c})),o},[])}function xp(){let t=b.useContext(Ia);return Gc(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Dy(){let t=b.useContext(mo);return Gc(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Qc=b.createContext(void 0);Qc.displayName="FrameworkContext";function bp(){let t=b.useContext(Qc);return Gc(t,"You must render this element inside a <HydratedRouter> element"),t}function Oy(t,a){let s=b.useContext(Qc),[o,c]=b.useState(!1),[u,d]=b.useState(!1),{onFocus:g,onBlur:f,onMouseEnter:h,onMouseLeave:y,onTouchStart:x}=a,k=b.useRef(null);b.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let P=_=>{_.forEach(N=>{d(N.isIntersecting)})},C=new IntersectionObserver(P,{threshold:.5});return k.current&&C.observe(k.current),()=>{C.disconnect()}}},[t]),b.useEffect(()=>{if(o){let P=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(P)}}},[o]);let E=()=>{c(!0)},A=()=>{c(!1),d(!1)};return s?t!=="intent"?[u,k,{}]:[u,k,{onFocus:yl(g,E),onBlur:yl(f,A),onMouseEnter:yl(h,E),onMouseLeave:yl(y,A),onTouchStart:yl(x,E)}]:[!1,k,{}]}function yl(t,a){return s=>{t&&t(s),s.defaultPrevented||a(s)}}function jy({page:t,...a}){let{router:s}=xp(),o=b.useMemo(()=>lp(s.routes,t,s.basename),[s.routes,t,s.basename]);return o?b.createElement($y,{page:t,matches:o,...a}):null}function Fy(t){let{manifest:a,routeModules:s}=bp(),[o,c]=b.useState([]);return b.useEffect(()=>{let u=!1;return Iy(t,a,s).then(d=>{u||c(d)}),()=>{u=!0}},[t,a,s]),o}function $y({page:t,matches:a,...s}){let o=gr(),{future:c,manifest:u,routeModules:d}=bp(),{basename:g}=xp(),{loaderData:f,matches:h}=Dy(),y=b.useMemo(()=>ng(t,a,h,u,o,"data"),[t,a,h,u,o]),x=b.useMemo(()=>ng(t,a,h,u,o,"assets"),[t,a,h,u,o]),k=b.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let P=new Set,C=!1;if(a.forEach(N=>{let I=u.routes[N.route.id];!I||!I.hasLoader||(!y.some(Y=>Y.route.id===N.route.id)&&N.route.id in f&&d[N.route.id]?.shouldRevalidate||I.hasClientLoader?C=!0:P.add(N.route.id))}),P.size===0)return[];let _=Ty(t,g,c.unstable_trailingSlashAwareDataRequests,"data");return C&&P.size>0&&_.searchParams.set("_routes",a.filter(N=>P.has(N.route.id)).map(N=>N.route.id).join(",")),[_.pathname+_.search]},[g,c.unstable_trailingSlashAwareDataRequests,f,o,u,y,a,t,d]),E=b.useMemo(()=>My(x,u),[x,u]),A=Fy(x);return b.createElement(b.Fragment,null,k.map(P=>b.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...s})),E.map(P=>b.createElement("link",{key:P,rel:"modulepreload",href:P,...s})),A.map(({key:P,link:C})=>b.createElement("link",{key:P,nonce:s.nonce,...C,crossOrigin:C.crossOrigin??s.crossOrigin})))}function By(...t){return a=>{t.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var Uy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Uy&&(window.__reactRouterVersion="7.13.0")}catch{}function Hy({basename:t,children:a,unstable_useTransitions:s,window:o}){let c=b.useRef();c.current==null&&(c.current=vh({window:o,v5Compat:!0}));let u=c.current,[d,g]=b.useState({action:u.action,location:u.location}),f=b.useCallback(h=>{s===!1?g(h):b.startTransition(()=>g(h))},[s]);return b.useLayoutEffect(()=>u.listen(f),[u,f]),b.createElement(xy,{basename:t,children:a,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:s})}var vp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,po=b.forwardRef(function({onClick:a,discover:s="render",prefetch:o="none",relative:c,reloadDocument:u,replace:d,state:g,target:f,to:h,preventScrollReset:y,viewTransition:x,unstable_defaultShouldRevalidate:k,...E},A){let{basename:P,unstable_useTransitions:C}=b.useContext(wn),_=typeof h=="string"&&vp.test(h),N=cp(h,P);h=N.to;let I=ey(h,{relative:c}),[Y,Z,M]=Oy(o,E),ee=Ky(h,{replace:d,state:g,target:f,preventScrollReset:y,relative:c,viewTransition:x,unstable_defaultShouldRevalidate:k,unstable_useTransitions:C});function q(z){a&&a(z),z.defaultPrevented||ee(z)}let X=b.createElement("a",{...E,...M,href:N.absoluteURL||I,onClick:N.isExternal||u?a:q,ref:By(A,Z),target:f,"data-discover":!_&&s==="render"?"true":void 0});return Y&&!_?b.createElement(b.Fragment,null,X,b.createElement(jy,{page:I})):X});po.displayName="Link";var Vy=b.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:o="",end:c=!1,style:u,to:d,viewTransition:g,children:f,...h},y){let x=Dl(d,{relative:h.relative}),k=gr(),E=b.useContext(mo),{navigator:A,basename:P}=b.useContext(wn),C=E!=null&&Xy(x)&&g===!0,_=A.encodeLocation?A.encodeLocation(x).pathname:x.pathname,N=k.pathname,I=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(N=N.toLowerCase(),I=I?I.toLowerCase():null,_=_.toLowerCase()),I&&P&&(I=dr(I,P)||I);const Y=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let Z=N===_||!c&&N.startsWith(_)&&N.charAt(Y)==="/",M=I!=null&&(I===_||!c&&I.startsWith(_)&&I.charAt(_.length)==="/"),ee={isActive:Z,isPending:M,isTransitioning:C},q=Z?a:void 0,X;typeof o=="function"?X=o(ee):X=[o,Z?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let z=typeof u=="function"?u(ee):u;return b.createElement(po,{...h,"aria-current":q,className:X,ref:y,style:z,to:d,viewTransition:g},typeof f=="function"?f(ee):f)});Vy.displayName="NavLink";var qy=b.forwardRef(({discover:t="render",fetcherKey:a,navigate:s,reloadDocument:o,replace:c,state:u,method:d=ro,action:g,onSubmit:f,relative:h,preventScrollReset:y,viewTransition:x,unstable_defaultShouldRevalidate:k,...E},A)=>{let{unstable_useTransitions:P}=b.useContext(wn),C=Jy(),_=Yy(g,{relative:h}),N=d.toLowerCase()==="get"?"get":"post",I=typeof g=="string"&&vp.test(g),Y=Z=>{if(f&&f(Z),Z.defaultPrevented)return;Z.preventDefault();let M=Z.nativeEvent.submitter,ee=M?.getAttribute("formmethod")||d,q=()=>C(M||Z.currentTarget,{fetcherKey:a,method:ee,navigate:s,replace:c,state:u,relative:h,preventScrollReset:y,viewTransition:x,unstable_defaultShouldRevalidate:k});P&&s!==!1?b.startTransition(()=>q()):q()};return b.createElement("form",{ref:A,method:N,action:_,onSubmit:o?f:Y,...E,"data-discover":!I&&t==="render"?"true":void 0})});qy.displayName="Form";function Wy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ep(t){let a=b.useContext(Ia);return wt(a,Wy(t)),a}function Ky(t,{target:a,replace:s,state:o,preventScrollReset:c,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:f}={}){let h=Ar(),y=gr(),x=Dl(t,{relative:u});return b.useCallback(k=>{if(Ny(k,a)){k.preventDefault();let E=s!==void 0?s:Il(y)===Il(x),A=()=>h(t,{replace:E,state:o,preventScrollReset:c,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:g});f?b.startTransition(()=>A()):A()}},[y,h,x,s,o,a,t,c,u,d,g,f])}var Gy=0,Qy=()=>`__${String(++Gy)}__`;function Jy(){let{router:t}=Ep("useSubmit"),{basename:a}=b.useContext(wn),s=gy(),o=t.fetch,c=t.navigate;return b.useCallback(async(u,d={})=>{let{action:g,method:f,encType:h,formData:y,body:x}=_y(u,a);if(d.navigate===!1){let k=d.fetcherKey||Qy();await o(k,s,d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:x,formMethod:d.method||f,formEncType:d.encType||h,flushSync:d.flushSync})}else await c(d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:x,formMethod:d.method||f,formEncType:d.encType||h,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[o,c,a,s])}function Yy(t,{relative:a}={}){let{basename:s}=b.useContext(wn),o=b.useContext(Vn);wt(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),u={...Dl(t||".",{relative:a})},d=gr();if(t==null){u.search=d.search;let g=new URLSearchParams(u.search),f=g.getAll("index");if(f.some(y=>y==="")){g.delete("index"),f.filter(x=>x).forEach(x=>g.append("index",x));let y=g.toString();u.search=y?`?${y}`:""}}return(!t||t===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:ur([s,u.pathname])),Il(u)}function Xy(t,{relative:a}={}){let s=b.useContext(dp);wt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Ep("useViewTransitionState"),c=Dl(t,{relative:a});if(!s.isTransitioning)return!1;let u=dr(s.currentLocation.pathname,o)||s.currentLocation.pathname,d=dr(s.nextLocation.pathname,o)||s.nextLocation.pathname;return oo(c.pathname,d)!=null||oo(c.pathname,u)!=null}var Ol=ap();const Ee="http://localhost:8000/api/v1",Zy=3e4,rg=3e5,Ne=()=>{const t=localStorage.getItem("rag_token");return t?{Authorization:`Bearer ${t}`}:{}};class $n extends Error{constructor(a,s,o=null){super(a),this.name="ApiError",this.status=s,this.detail=o}}const je=async t=>{if(t.status===401)throw localStorage.removeItem("rag_token"),window.location.href="/login",new $n(" .  .",401);if(t.status===429){const o=t.headers.get("Retry-After")||"60";throw new $n(`  . ${o}   .`,429,{retryAfter:parseInt(o)})}if(t.status===413)throw new $n("   .",413);let a=`  (${t.status})`,s=null;try{const o=await t.json();a=o.detail||a,s=o}catch{}throw new $n(a,t.status,s)},we=async(t,a,s=Zy)=>{const o=new AbortController,c=setTimeout(()=>o.abort(),s);try{const u=await fetch(t,{...a,signal:o.signal});return clearTimeout(c),u}catch(u){throw clearTimeout(c),u.name==="AbortError"?new $n("  .",408):new $n(navigator.onLine?"   .":"  .",0)}},ex=async({query:t,model:a,kb_ids:s,use_rag:o,web_search:c,use_deep_think:u,active_mcp_ids:d,system_prompt:g,history:f,top_k:h,use_rerank:y,search_provider:x,search_mode:k,images:E,use_sql:A,db_connection_id:P,use_multimodal_search:C},_,N,I)=>{try{const Y=await fetch(`${Ee}/chat/stream`,{method:"POST",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify({message:t,kb_ids:s&&s.length>0?s:["default_kb"],model:a,system_prompt:g||null,history:f||[],use_rag:o!==!1,use_web_search:c||!1,use_deep_think:u||!1,active_mcp_ids:d||[],top_k:h||null,use_rerank:y||!1,search_provider:x||null,search_mode:k||"hybrid",images:E||[],use_sql:A||!1,db_connection_id:P||null,use_multimodal_search:C||!1}),signal:I?.signal});Y.ok||await je(Y);const Z=Y.body.getReader(),M=new TextDecoder;let ee="";for(;;){const{done:q,value:X}=await Z.read();if(q)break;ee+=M.decode(X,{stream:!0});const z=ee.split(`
`);ee=z.pop();for(const D of z)if(D.trim())try{const K=D.startsWith('"')&&D.endsWith('"')?JSON.parse(D):D,xe=typeof K=="object"?K:JSON.parse(K);_(xe)}catch{}}N&&N()}catch(Y){if(Y.name==="AbortError"){N&&N();return}const Z=Y instanceof $n?Y.message:"  .";_({type:"content",content:`
[] ${Z}`}),N&&N()}},tx=async t=>{const a=new FormData;a.append("file",t);const s=await we(`${Ee}/chat/extract-text`,{method:"POST",headers:{...Ne()},body:a},6e4);return s.ok||await je(s),await s.json()},kp=async(t,a,s=null)=>{const o=new FormData;if(o.append("file",t),o.append("kb_id",a||"default_kb"),s)return new Promise((u,d)=>{const g=new XMLHttpRequest;g.upload.addEventListener("progress",h=>{if(h.lengthComputable){const y=Math.round(h.loaded/h.total*100);s(y)}}),g.addEventListener("load",async()=>{if(g.status>=200&&g.status<300)try{const h=JSON.parse(g.responseText);u(h)}catch{u({success:!0})}else{let h=`  (${g.status})`;try{h=JSON.parse(g.responseText).detail||h}catch{}d(new $n(h,g.status))}}),g.addEventListener("error",()=>{d(new $n("  .",0))}),g.addEventListener("timeout",()=>{d(new $n("  .",408))}),g.addEventListener("abort",()=>{d(new $n(" .",0))}),g.open("POST",`${Ee}/knowledge/upload`),g.timeout=rg;const f=localStorage.getItem("rag_token");f&&g.setRequestHeader("Authorization",`Bearer ${f}`),g.send(o)});const c=await we(`${Ee}/knowledge/upload`,{method:"POST",headers:{...Ne()},body:o},rg);return c.ok||await je(c),await c.json()},cn={upload:kp,listBases:async()=>{try{const t=await we(`${Ee}/knowledge/bases`,{method:"GET",headers:{...Ne()}});return t.ok?await t.json():{bases:[]}}catch{return{bases:[]}}},createBase:async t=>{const a=await we(`${Ee}/knowledge/bases`,{method:"POST",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},updateBase:async(t,a)=>{const s=await we(`${Ee}/knowledge/bases/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},deleteBase:async t=>{const a=await we(`${Ee}/knowledge/bases/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Ne()}});return a.ok||await je(a),await a.json()},getFiles:async t=>{const a=await we(`${Ee}/knowledge/${t}/files`,{method:"GET",headers:{...Ne()}});return a.ok||await je(a),await a.json()},getGraph:async t=>{try{const a=await we(`${Ee}/knowledge/graph?kb_id=${encodeURIComponent(t||"default_kb")}`,{method:"GET",headers:{...Ne()}});return a.ok||await je(a),await a.json()}catch(a){return{nodes:[],edges:[],error:a.message}}},deleteFile:async(t,a)=>{const s=await we(`${Ee}/knowledge/${t}/files/${a}`,{method:"DELETE",headers:{...Ne()}});return s.ok||await je(s),await s.json()},deleteFileChunks:async(t,a)=>{const s=new URLSearchParams({source:a}),o=await we(`${Ee}/knowledge/${encodeURIComponent(t)}/files?${s}`,{method:"DELETE",headers:{...Ne()}});return o.ok||await je(o),await o.json()},getFilesList:async t=>{try{const a=await we(`${Ee}/knowledge/${encodeURIComponent(t)}/files`,{method:"GET",headers:{...Ne()}});return a.ok?await a.json():{files:[]}}catch{return{files:[]}}},getChunks:async(t,a=null,s=20,o=null,c=null)=>{const u=new URLSearchParams;a!==null&&u.append("offset",a),u.append("limit",s),o&&u.append("search",o),c&&u.append("source",c);try{const d=await we(`${Ee}/knowledge/${encodeURIComponent(t)}/chunks?${u}`,{method:"GET",headers:{...Ne()}});return d.ok||await je(d),await d.json()}catch{return{chunks:[],total:0,next_offset:null,kb_id:t}}},getStats:async t=>{try{const a=await we(`${Ee}/knowledge/${encodeURIComponent(t)}/stats`,{method:"GET",headers:{...Ne()}});return a.ok?await a.json():null}catch{return null}},createNode:async(t,a)=>{const s=await we(`${Ee}/knowledge/graph/nodes?kb_id=${encodeURIComponent(t||"default_kb")}`,{method:"POST",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},updateNode:async(t,a)=>{const s=await we(`${Ee}/knowledge/graph/nodes/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},deleteNode:async t=>{const a=await we(`${Ee}/knowledge/graph/nodes/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Ne()}});return a.ok||await je(a),await a.json()},createEdge:async(t,a)=>{const s=await we(`${Ee}/knowledge/graph/edges?kb_id=${encodeURIComponent(t||"default_kb")}`,{method:"POST",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},deleteEdge:async t=>{const a=await we(`${Ee}/knowledge/graph/edges/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Ne()}});return a.ok||await je(a),await a.json()}},wp={check:async()=>{try{const t=await we(`${Ee.replace("/api/v1","")}/health`,{method:"GET"},5e3);return t.ok?await t.json():{status:"unhealthy",error:`HTTP ${t.status}`}}catch(t){return{status:"unreachable",error:t.message}}},testService:async t=>{try{const a=await we(`${Ee.replace("/api/v1","")}/health/${t}`,{method:"GET"},1e4);return a.ok?await a.json():{status:"disconnected",service:t,detail:`HTTP ${a.status}`}}catch(a){return{status:"disconnected",service:t,detail:a.message}}}},$t={getConfig:async()=>{try{const t=await we(`${Ee}/settings/config`,{method:"GET",headers:{...Ne()}});return t.ok?await t.json():null}catch(t){return console.error("Failed to load backend config:",t),null}},getUserSettings:async()=>{try{const t=await we(`${Ee}/settings/user`,{method:"GET",headers:{...Ne()}});return t.ok?await t.json():null}catch{return null}},updateUserSettings:async t=>{try{const a=await we(`${Ee}/settings/user`,{method:"PUT",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify(t)});return a.ok?await a.json():null}catch{return null}},saveApiKey:async(t,a)=>{const s=await we(`${Ee}/settings/api-keys`,{method:"POST",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify({provider:t,key:a})});return s.ok||await je(s),await s.json()},getApiKeys:async()=>{try{const t=await we(`${Ee}/settings/api-keys`,{method:"GET",headers:{...Ne()}});return t.ok?await t.json():{keys:[]}}catch{return{keys:[]}}},deleteApiKey:async t=>{const a=await we(`${Ee}/settings/api-keys/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Ne()}});return a.ok||await je(a),await a.json()},getOllamaModels:async()=>{try{const t=await we(`${Ee}/settings/ollama-models`,{method:"GET",headers:{...Ne()}});return t.ok?await t.json():{models:[],error:"Failed to fetch models"}}catch(t){return console.error("Failed to fetch Ollama models:",t),{models:[],error:t.message}}},getAvailableModels:async()=>{try{const t=await we(`${Ee}/settings/available-models`,{method:"GET",headers:{...Ne()}});return t.ok?await t.json():{models:[],error:"Failed to fetch models"}}catch(t){return console.error("Failed to fetch available models:",t),{models:[],error:t.message}}},getDbConnections:async()=>{try{const t=await we(`${Ee}/settings/db-connections`,{method:"GET",headers:{...Ne()}});return t.ok?await t.json():{connections:[]}}catch{return{connections:[]}}},addDbConnection:async t=>{const a=await we(`${Ee}/settings/db-connections`,{method:"POST",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},deleteDbConnection:async t=>{const a=await we(`${Ee}/settings/db-connections/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Ne()}});return a.ok||await je(a),await a.json()},testDbConnection:async t=>{try{const a=await we(`${Ee}/settings/db-connections/${encodeURIComponent(t)}/test`,{method:"POST",headers:{...Ne()}},1e4);return a.ok?await a.json():{status:"disconnected",detail:`HTTP ${a.status}`}}catch(a){return{status:"disconnected",detail:a.message}}},getDbSchema:async t=>{try{const a=await we(`${Ee}/settings/db-connections/${encodeURIComponent(t)}/schema`,{method:"GET",headers:{...Ne()}});return a.ok?await a.json():{tables:[]}}catch(a){return{tables:[],error:a.message}}},updateDbMetadata:async(t,a)=>{try{const s=await we(`${Ee}/settings/db-connections/${encodeURIComponent(t)}/metadata`,{method:"PUT",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify({schema_metadata:a})});if(!s.ok)throw new Error("  ");return await s.json()}catch(s){return{error:s.message}}}},nx={list:async()=>{try{const t=await we(`${Ee}/agents`,{method:"GET",headers:{...Ne()}});return t.ok?await t.json():{agents:[]}}catch{return{agents:[]}}},create:async t=>{const a=await we(`${Ee}/agents`,{method:"POST",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},update:async(t,a)=>{const s=await we(`${Ee}/agents/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},delete:async t=>{const a=await we(`${Ee}/agents/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Ne()}});return a.ok||await je(a),await a.json()}},xl={list:async(t=50,a=0)=>{try{const s=await we(`${Ee}/sessions?limit=${t}&offset=${a}`,{method:"GET",headers:{...Ne()}});return s.ok?await s.json():{sessions:[]}}catch{return{sessions:[]}}},create:async t=>{const a=await we(`${Ee}/sessions`,{method:"POST",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},get:async t=>{const a=await we(`${Ee}/sessions/${encodeURIComponent(t)}`,{method:"GET",headers:{...Ne()}});return a.ok||await je(a),await a.json()},update:async(t,a)=>{const s=await we(`${Ee}/sessions/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},delete:async t=>{const a=await we(`${Ee}/sessions/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Ne()}});return a.ok||await je(a),await a.json()},addMessage:async(t,a)=>{const s=await we(`${Ee}/sessions/${encodeURIComponent(t)}/messages`,{method:"POST",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},getMessages:async(t,a=100,s=0)=>{try{const o=await we(`${Ee}/sessions/${encodeURIComponent(t)}/messages?limit=${a}&offset=${s}`,{method:"GET",headers:{...Ne()}});return o.ok?await o.json():{messages:[]}}catch{return{messages:[]}}}},rx={list:async()=>{try{const t=await we(`${Ee}/services`,{method:"GET",headers:{...Ne()}});return t.ok?await t.json():{services:[]}}catch{return{services:[]}}},create:async t=>{const a=await we(`${Ee}/services`,{method:"POST",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},update:async(t,a)=>{const s=await we(`${Ee}/services/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...Ne()},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},delete:async t=>{const a=await we(`${Ee}/services/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Ne()}});return a.ok||await je(a),await a.json()},test:async t=>{try{const a=await we(`${Ee}/services/${encodeURIComponent(t)}/test`,{method:"POST",headers:{...Ne()}},1e4);return a.ok?await a.json():{status:"disconnected",detail:`HTTP ${a.status}`}}catch(a){return{status:"disconnected",detail:a.message}}}},ic={list:async()=>{const t=await we(`${Ee}/settings/mcp-servers`,{headers:{...Ne(),"Content-Type":"application/json"}});return t.ok||await je(t),await t.json()},create:async t=>{const a=await we(`${Ee}/settings/mcp-servers`,{method:"POST",headers:{...Ne(),"Content-Type":"application/json"},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},delete:async t=>{const a=await we(`${Ee}/settings/mcp-servers/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Ne()}});return a.ok||await je(a),await a.json()},reorder:async t=>{const a=await we(`${Ee}/settings/mcp-servers/reorder`,{method:"PUT",headers:{...Ne(),"Content-Type":"application/json"},body:JSON.stringify({server_ids:t})});return a.ok||await je(a),await a.json()}},_c={create:async t=>{const a=await we(`${Ee}/training/feedback`,{method:"POST",headers:{...Ne(),"Content-Type":"application/json"},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},list:async(t={})=>{const a=new URLSearchParams;t.session_id&&a.append("session_id",t.session_id),t.min_rating&&a.append("min_rating",t.min_rating),t.only_positive!==void 0&&a.append("only_positive",t.only_positive),t.skip&&a.append("skip",t.skip),t.limit&&a.append("limit",t.limit);const s=await we(`${Ee}/training/feedback?${a}`,{headers:{...Ne()}});return s.ok||await je(s),await s.json()},update:async(t,a)=>{const s=await we(`${Ee}/training/feedback/${t}`,{method:"PUT",headers:{...Ne(),"Content-Type":"application/json"},body:JSON.stringify(a)});return s.ok||await je(s),await s.json()},delete:async t=>{const a=await we(`${Ee}/training/feedback/${t}`,{method:"DELETE",headers:{...Ne()}});return a.ok||await je(a),await a.json()}},Ys={create:async t=>{const a=await we(`${Ee}/training/datasets`,{method:"POST",headers:{...Ne(),"Content-Type":"application/json"},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},list:async()=>{const t=await we(`${Ee}/training/datasets`,{headers:{...Ne()}});return t.ok||await je(t),await t.json()},get:async t=>{const a=await we(`${Ee}/training/datasets/${t}`,{headers:{...Ne()}});return a.ok||await je(a),await a.json()},delete:async t=>{const a=await we(`${Ee}/training/datasets/${t}`,{method:"DELETE",headers:{...Ne()}});return a.ok||await je(a),await a.json()},build:async t=>{const a=await we(`${Ee}/training/datasets/${t}/build`,{method:"POST",headers:{...Ne()}});return a.ok||await je(a),await a.json()},export:async(t,a="chat")=>{const s=await we(`${Ee}/training/datasets/${t}/export?format=${a}`,{headers:{...Ne()}});s.ok||await je(s);const o=await s.blob(),c=window.URL.createObjectURL(o),u=document.createElement("a");return u.href=c,u.download=`dataset_${t}_${a}.jsonl`,document.body.appendChild(u),u.click(),window.URL.revokeObjectURL(c),document.body.removeChild(u),{success:!0}}},cr={createJob:async t=>{const a=await we(`${Ee}/finetuning/jobs`,{method:"POST",headers:{...Ne(),"Content-Type":"application/json"},body:JSON.stringify(t)});return a.ok||await je(a),await a.json()},listJobs:async()=>{const t=await we(`${Ee}/finetuning/jobs`,{headers:{...Ne()}});return t.ok||await je(t),await t.json()},getJob:async t=>{const a=await we(`${Ee}/finetuning/jobs/${encodeURIComponent(t)}`,{headers:{...Ne()}});return a.ok||await je(a),await a.json()},cancelJob:async t=>{const a=await we(`${Ee}/finetuning/jobs/${encodeURIComponent(t)}`,{method:"DELETE",headers:{...Ne()}});return a.ok||await je(a),await a.json()},listModels:async()=>{const t=await we(`${Ee}/finetuning/models`,{headers:{...Ne()}});return t.ok||await je(t),await t.json()},downloadModel:async t=>{const a=await we(`${Ee}/finetuning/models/download`,{method:"POST",headers:{...Ne(),"Content-Type":"application/json"},body:JSON.stringify({model_name:t})},12e4);return a.ok||await je(a),await a.json()},getDownloadStatus:async t=>{try{const a=await we(`${Ee}/finetuning/models/download-status?model_name=${encodeURIComponent(t)}`,{headers:{...Ne()}});return a.ok?await a.json():{status:"unknown"}}catch{return{status:"unknown"}}},listBaseModels:async()=>{try{const t=await we(`${Ee}/finetuning/models/base`,{headers:{...Ne()}});return t.ok?await t.json():{models:[]}}catch{return{models:[]}}},setDefaultModel:async t=>{const a=await we(`${Ee}/finetuning/models/set-default`,{method:"POST",headers:{...Ne(),"Content-Type":"application/json"},body:JSON.stringify({model_name:t})});return a.ok||await je(a),await a.json()},clearDefaultModel:async()=>{const t=await we(`${Ee}/finetuning/models/clear-default`,{method:"POST",headers:{...Ne()}});return t.ok||await je(t),await t.json()}},Np=b.createContext();function ax({children:t}){const[a,s]=b.useState(null),[o,c]=b.useState(!0);b.useEffect(()=>{const f=localStorage.getItem("rag_token"),h=localStorage.getItem("rag_user");f&&h&&s(JSON.parse(h)),c(!1)},[]);const u=async(f,h)=>{const y=new FormData;y.append("username",f),y.append("password",h);const x=await fetch(`${Ee}/auth/login`,{method:"POST",body:y});if(!x.ok){const P=await x.json();throw new Error(P.detail||" ")}const E=(await x.json()).access_token,A={name:f.split("@")[0],email:f};return localStorage.setItem("rag_token",E),localStorage.setItem("rag_user",JSON.stringify(A)),s(A),A},d=async(f,h,y)=>{const x=await fetch(`${Ee}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h,name:f,password:y})});if(!x.ok){const k=await x.json();throw new Error(k.detail||" ")}return await x.json()},g=()=>{localStorage.removeItem("rag_token"),localStorage.removeItem("rag_user"),s(null)};return r.createElement(Np.Provider,{value:{user:a,login:u,register:d,logout:g,isAuthenticated:!!a,isLoading:o}},!o&&t)}const jl=()=>b.useContext(Np);function Yn(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const a=Math.random()*16|0;return(t==="x"?a:a&3|8).toString(16)})}const Sp=b.createContext(),ag=(t,a)=>{let s;return(...o)=>{clearTimeout(s),s=setTimeout(()=>t(...o),a)}},lx=t=>({llm:t.llm_model,embeddingModel:t.embedding_model,vlm:t.vlm_model,enableMultimodal:t.enable_multimodal,retrieval:t.retrieval_mode,searchTopK:t.search_top_k,useRerank:t.use_rerank,searchMode:t.search_mode||"hybrid",denseWeight:t.dense_weight??.5,useMultimodalSearch:t.use_multimodal_search||!1,systemPrompt:t.system_prompt||"",theme:t.theme,activeSearchProviderId:t.active_search_provider_id,storageType:t.storage_type,bucketName:t.bucket_name}),lg=t=>({llm_model:t.llm,embedding_model:t.embeddingModel,vlm_model:t.vlm,enable_multimodal:t.enableMultimodal,retrieval_mode:t.retrieval,search_top_k:t.searchTopK,use_rerank:t.useRerank,search_mode:t.searchMode||"hybrid",dense_weight:t.denseWeight??.5,use_multimodal_search:t.useMultimodalSearch||!1,system_prompt:t.systemPrompt,theme:t.theme,active_search_provider_id:t.activeSearchProviderId,storage_type:t.storageType,bucket_name:t.bucketName}),wa={llm:"gemma3:12b",embeddingModel:"bge-m3",enableMultimodal:!0,vlm:"llava:7b",storageType:"minio",bucketName:"rag-ai-bucket",retrieval:"hybrid",useRerank:!0,searchMode:"hybrid",denseWeight:.5,useMultimodalSearch:!1,systemPrompt:"     AI .",theme:"Light",searchTopK:5,activeSearchProviderId:"ddg"};function sx({children:t}){const{isAuthenticated:a}=jl(),[s,o]=b.useState(()=>{const Q=localStorage.getItem("rag_ai_config");if(Q)try{const re=JSON.parse(Q);return delete re.neo4jPassword,delete re.redisPassword,{...wa,...re}}catch(re){console.error("Config parse error:",re)}return wa}),c=b.useRef(!1),u=b.useRef(!1),[d,g]=b.useState(()=>JSON.parse(localStorage.getItem("rag_ai_api_keys"))||[]),[f,h]=b.useState(()=>JSON.parse(localStorage.getItem("rag_ai_mcp"))||[{id:"mcp-1",name:"Filesystem",type:"stdio",status:"connected",enabled:!0},{id:"mcp-2",name:"Google Drive",type:"sse",status:"disconnected",enabled:!1}]),[y]=b.useState([{id:"ddg",name:"DuckDuckGo",type:"free",description:", API  ",needsKey:!1},{id:"brave",name:"Brave Search",type:"api",description:" 2,000/",needsKey:!0},{id:"tavily",name:"Tavily AI",type:"api",description:"AI  ,  1,000/",needsKey:!0},{id:"serper",name:"Google Serper",type:"api",description:"Google , 2,500 ",needsKey:!0}]),[x,k]=b.useState(()=>{const Q=localStorage.getItem("rag_ai_kbs");if(Q)try{return JSON.parse(Q).map(re=>({...re,config:re.config||{chunkSize:512,chunkOverlap:50}}))}catch(re){console.error(re)}return[{id:"default",name:"  ",description:"  ",files:[],config:{chunkSize:512,chunkOverlap:50},created_at:new Date().toLocaleDateString()}]}),[E,A]=b.useState("default"),P={smartMode:!1,sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},C=Q=>{if(!Q)return P;const re=typeof Q=="string"?JSON.parse(Q):Q;if("smartMode"in re&&"sources"in re)return re;const{deep_think:Ie,...ye}=re;return{smartMode:!!Ie,sources:ye}},_=[{id:"agent-general",name:"  ",agentType:"custom",description:"       AI .",model:"gemma3:12b",systemPrompt:` "RAG AI ".         AI .

##  
-     .
-     .
- , , , ,     .

##  
1. ** **:     .
2. ** **: , ,  ,   .
3. ** **:     .
4. ** **:    .
5. ** **:     .`,icon:"sparkles",published:!0,defaultTools:{smartMode:!1,sources:{rag:!1,web_search:!1,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"agent-rag",name:"  ",agentType:"custom",description:"      RAG .",model:"gemma3:12b",systemPrompt:` "RAG AI   ".        RAG  .

##  
-      .
-   , , .
-     .

##  
1. **  **:     .
2. ** **:    .
3. ** **:    .
4. **  **:     .`,icon:"file-text",published:!0,defaultTools:{smartMode:!0,sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-supervisor",name:" ",agentType:"supervisor",description:"       .",model:"gemma3:12b",systemPrompt:"      (RAG, , SQL, MCP, )    .",icon:"brain",published:!0,defaultTools:{smartMode:!0,sources:{rag:!0,web_search:!0,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-rag",name:"RAG  ",agentType:"rag",description:"     .",model:"gemma3:12b",icon:"file-text",published:!0,defaultTools:{smartMode:!1,sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-web",name:"  ",agentType:"web_search",description:"   .",model:"gemma3:12b",icon:"globe",published:!0,defaultTools:{smartMode:!1,sources:{rag:!1,web_search:!0,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-sql",name:"T2SQL ",agentType:"t2sql",description:" SQL   .",model:"gemma3:12b",icon:"database",published:!0,defaultTools:{smartMode:!1,sources:{rag:!1,web_search:!1,mcp:!1,sql:!0}},updated_at:new Date().toLocaleDateString()},{id:"system-mcp",name:"MCP  ",agentType:"mcp",description:" MCP    .",model:"gemma3:12b",icon:"plug",published:!0,defaultTools:{smartMode:!1,sources:{rag:!1,web_search:!1,mcp:!0,sql:!1}},updated_at:new Date().toLocaleDateString()},{id:"system-process",name:" ",agentType:"process",description:",      .",model:"gemma3:12b",icon:"truck",published:!0,defaultTools:{smartMode:!1,sources:{rag:!1,web_search:!1,mcp:!1,sql:!1}},updated_at:new Date().toLocaleDateString()}],N=_.map(Q=>Q.id),[I,Y]=b.useState(()=>{const Q=localStorage.getItem("rag_ai_agents");let re=Q?JSON.parse(Q):[];if(!_.every(ye=>re.some(Qe=>Qe.id===ye.id))){const ye=new Set(re.map(Ye=>Ye.id));return[..._.filter(Ye=>!ye.has(Ye.id)),...re.filter(Ye=>!N.includes(Ye.id))]}return re}),[Z,M]=b.useState(null),[ee,q]=b.useState(()=>JSON.parse(localStorage.getItem("rag_ai_sessions"))||[{id:"new",title:" ",messages:[]}]),[X,z]=b.useState("new"),[D,K]=b.useState("home");b.useEffect(()=>{if(!X||X==="new"||!a)return;const Q=ee.find(re=>re.id===X);Q&&Q.messages&&Q.messages.length>0||xl.getMessages(X).then(re=>{if(re.messages&&re.messages.length>0){const Ie=re.messages.map(ye=>({id:ye.id||Yn(),role:ye.role,content:ye.content,text:ye.content,thinking:ye.thinking,time:ye.created_at?new Date(ye.created_at).toLocaleTimeString():""}));q(ye=>ye.map(Qe=>Qe.id===X?{...Qe,messages:Ie}:Qe))}}).catch(()=>{})},[X,a]),b.useEffect(()=>{if(!a){c.current=!1;return}if(c.current)return;let Q=!0;return(async()=>{const re=await $t.getUserSettings();if(!Q)return;if(re){const Ye=lx(re),it=Ye.llm===wa.llm&&Ye.embeddingModel===wa.embeddingModel&&Ye.systemPrompt===wa.systemPrompt,mt=localStorage.getItem("rag_ai_config");if(it&&mt)try{const H=JSON.parse(mt),F={...wa,...H};if(await $t.updateUserSettings(lg(F)),!Q)return;u.current=!0,o(F)}catch{}else u.current=!0,o(H=>({...H,...Ye}))}const Ie=await cn.listBases();if(!Q)return;if(Ie.bases&&Ie.bases.length>0){const Ye=await Promise.allSettled(Ie.bases.map(H=>cn.getFilesList(H.kb_id))),it=Ie.bases.map((H,F)=>{const ue=((Ye[F]?.status==="fulfilled"?Ye[F].value:{files:[]}).files||[]).map((Se,U)=>({id:Se.source||`file-${U}`,name:Se.filename||Se.source,source:Se.source,size:Se.image_size?`${(Se.image_size/1024).toFixed(1)} KB`:"",type:Se.type||"text",status:Se.status||"ready",chunk_count:Se.chunk_count||0,thumbnail_path:Se.thumbnail_path,image_path:Se.image_path,image_dimensions:Se.image_dimensions,error_message:Se.error_message}));return{id:H.kb_id,name:H.name,description:H.description||"",files:ue,config:{chunkSize:H.chunk_size,chunkOverlap:H.chunk_overlap,chunkingMethod:H.chunking_method||"fixed",semanticThreshold:H.semantic_threshold||.75},chunkSize:H.chunk_size,chunkOverlap:H.chunk_overlap,chunkingMethod:H.chunking_method||"fixed",semanticThreshold:H.semantic_threshold||.75,file_count:ue.length||H.file_count||0,externalServiceId:H.external_service_id||"",created_at:H.created_at}});k(it);const mt=it.map(H=>H.id);mt.includes(E)||A(mt[0])}const ye=await nx.list();if(!Q)return;if(ye.agents&&ye.agents.length>0){const Ye=ye.agents.map(H=>({id:H.agent_id,name:H.name,description:H.description||"",model:H.model,systemPrompt:H.system_prompt||"",icon:H.icon||"",color:H.color||"",agentType:H.agent_type||"custom",published:H.published,defaultTools:C(H.default_tools),updated_at:H.updated_at})),it=new Set(Ye.map(H=>H.id)),mt=_.filter(H=>!it.has(H.id));Y([...mt,...Ye])}const Qe=await xl.list();if(Q){if(Qe.sessions&&Qe.sessions.length>0){const Ye=Qe.sessions.map(it=>({id:it.session_id,title:it.title,messages:[],agent_id:it.agent_id,created_at:it.created_at}));q(Ye),z(Ye[0].id)}try{const Ye=await ic.list();if(!Q)return;if(Ye.servers&&Ye.servers.length>0){const it=Ye.servers.map(mt=>({id:mt.server_id,name:mt.name,type:mt.server_type,url:mt.url||"",command:mt.command||"",headers_json:mt.headers_json||"",enabled:mt.enabled,status:"connected"}));h(it)}}catch{}Q&&(c.current=!0)}})(),()=>{Q=!1}},[a]);const xe=b.useMemo(()=>ag(Q=>{if(localStorage.setItem("rag_ai_config",JSON.stringify(Q)),u.current){u.current=!1;return}localStorage.getItem("rag_token")&&$t.updateUserSettings(lg(Q)).catch(()=>{})},500),[]),le=b.useMemo(()=>ag(Q=>{localStorage.setItem("rag_ai_sessions",JSON.stringify(Q))},500),[]);b.useEffect(()=>{xe(s)},[s,xe]),b.useEffect(()=>{le(ee)},[ee,le]),b.useEffect(()=>{localStorage.setItem("rag_ai_kbs",JSON.stringify(x))},[x]),b.useEffect(()=>{localStorage.setItem("rag_ai_agents",JSON.stringify(I))},[I]),b.useEffect(()=>{localStorage.setItem("rag_ai_api_keys",JSON.stringify(d))},[d]),b.useEffect(()=>{localStorage.setItem("rag_ai_mcp",JSON.stringify(f))},[f]),b.useEffect(()=>{s.theme==="Dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s.theme]);const te=b.useMemo(()=>ee.find(Q=>Q.id===X)?.messages||[],[ee,X]),J=b.useMemo(()=>x.find(Q=>Q.id===E),[x,E]),oe=J?.files||[],G=b.useMemo(()=>Z&&I.find(Q=>Q.id===Z)||null,[I,Z]),ge=b.useCallback((Q,re)=>{k(Ie=>Ie.map(ye=>ye.id===Q?{...ye,config:{...ye.config,...re}}:ye))},[]),w=b.useCallback(Q=>{k(re=>re.map(Ie=>Ie.id===E?{...Ie,files:[...Ie.files,...Q]}:Ie))},[E]),R=b.useCallback(Q=>{k(re=>re.map(Ie=>Ie.id===E?{...Ie,files:Ie.files.filter(ye=>ye.id!==Q)}:Ie))},[E]),$=b.useCallback((Q,re,Ie=null)=>{k(ye=>ye.map(Qe=>Qe.id===E?{...Qe,files:Qe.files.map(Ye=>Ye.id===Q?{...Ye,status:re,...Ie?{errorMessage:Ie}:{}}:Ye)}:Qe))},[E]),S=b.useCallback(Q=>{Y(re=>[Q,...re])},[]),ve=b.useCallback((Q,re)=>{Y(Ie=>Ie.map(ye=>ye.id===Q?{...ye,...re,updated_at:new Date().toLocaleDateString()}:ye))},[]),_e=b.useCallback(Q=>{Y(re=>re.filter(Ie=>Ie.id!==Q))},[]),Pe=b.useCallback((Q,re)=>{g(Ie=>[...Ie,{id:Yn(),provider:Q,key:re,date:new Date().toLocaleDateString()}])},[]),Ue=b.useCallback(Q=>{g(re=>re.filter(Ie=>Ie.id!==Q))},[]),Oe=b.useCallback(async Q=>{const re=Yn(),Ie={id:re,status:"connected",enabled:!0,...Q};h(ye=>[...ye,Ie]);try{await ic.create({server_id:re,name:Q.name,server_type:Q.type||"sse",url:Q.url||"",command:Q.command||"",headers_json:Q.headers_json||"",enabled:!0})}catch(ye){console.error("MCP    :",ye)}},[]),qe=b.useCallback(async Q=>{h(re=>re.filter(Ie=>Ie.id!==Q));try{await ic.delete(Q)}catch(re){console.error("MCP    :",re)}},[]),et=b.useCallback((Q,re)=>{h(Ie=>{const ye=[...Ie];return re==="up"&&Q>0?[ye[Q],ye[Q-1]]=[ye[Q-1],ye[Q]]:re==="down"&&Q<ye.length-1&&([ye[Q],ye[Q+1]]=[ye[Q+1],ye[Q]]),ye})},[]),st=b.useCallback((Q,re)=>{h(Ie=>{const ye=[...Ie],[Qe]=ye.splice(Q,1);return ye.splice(re,0,Qe),ye})},[]),tt=b.useCallback(Q=>{const re=Q.id||Yn(),Ie=!Q.id;q(ye=>ye.map(Qe=>Qe.id===X?Qe.messages.find(it=>it.id===re)?{...Qe,messages:Qe.messages.map(it=>it.id===re?{...it,...Q}:it)}:{...Qe,messages:[...Qe.messages,{...Q,id:re,time:new Date().toLocaleTimeString()}]}:Qe)),Ie&&Q.role&&X&&xl.addMessage(X,{role:Q.role,content:Q.content||Q.text||"",thinking:Q.thinking||null,metadata_json:Q.toolCallsMeta?JSON.stringify(Q.toolCallsMeta):null}).catch(ye=>console.warn("   :",ye))},[X]),yt=b.useCallback(()=>{const Q=Yn();q(re=>[{id:Q,title:" ",messages:[]},...re]),z(Q),K("chat"),xl.create({session_id:Q,title:" "}).catch(re=>console.warn("   :",re))},[]),ae=b.useCallback((Q,re)=>{q(Ie=>Ie.map(ye=>ye.id===Q?{...ye,title:re}:ye))},[]),nt=b.useCallback(async Q=>{try{await xl.delete(Q)}catch(re){console.error("  :",re)}q(re=>re.filter(ye=>ye.id!==Q)),Q===X&&q(re=>(re.length>0?z(re[0].id):setTimeout(()=>yt(),0),re))},[X,yt]),Xe=b.useMemo(()=>({config:s,setConfig:o,knowledgeBases:x,setKnowledgeBases:k,currentKbId:E,setCurrentKbId:A,currentKb:J,currentFiles:oe,addFilesToKb:w,updateFileStatusInKb:$,updateKbConfig:ge,removeFileFromKb:R,agents:I,setAgents:Y,addAgent:S,updateAgent:ve,deleteAgent:_e,currentAgent:G,currentAgentId:Z,setCurrentAgentId:M,sessions:ee,setSessions:q,currentSessionId:X,setCurrentSessionId:z,currentMessages:te,addMessage:tt,createNewSession:yt,renameSession:ae,deleteSession:nt,currentView:D,setCurrentView:K,apiKeys:d,addApiKey:Pe,deleteApiKey:Ue,mcpServers:f,addMcpServer:Oe,deleteMcpServer:qe,reorderMcpServer:et,moveMcpServer:st,searchProviders:y,DEFAULT_TOOL_PRESET:P}),[s,x,E,J,oe,I,G,Z,ee,X,te,D,d,f,y,w,$,ge,R,S,ve,_e,tt,yt,ae,nt,Pe,Ue,Oe,qe,et,st]);return r.createElement(Sp.Provider,{value:Xe},t)}const La=()=>b.useContext(Sp);var ox={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ix=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ze=(t,a)=>{const s=b.forwardRef(({color:o="currentColor",size:c=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:g="",children:f,...h},y)=>b.createElement("svg",{ref:y,...ox,width:c,height:c,stroke:o,strokeWidth:d?Number(u)*24/Number(c):u,className:["lucide",`lucide-${ix(t)}`,g].join(" "),...h},[...a.map(([x,k])=>b.createElement(x,k)),...Array.isArray(f)?f:[f]]));return s.displayName=`${t}`,s};const Ml=ze("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const cx=ze("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const ux=ze("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);const Jc=ze("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const dx=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Nl=ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Cp=ze("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const Zr=ze("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Lt=ze("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const In=ze("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const dt=ze("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Fl=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const mx=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Cl=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const _p=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Tp=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Tc=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const bn=ze("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const Tt=ze("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const gx=ze("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const zt=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const px=ze("FolderUp",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m9 13 3-3 3 3",key:"1pxg3c"}]]);const fx=ze("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const zc=ze("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const Yt=ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Yc=ze("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const sg=ze("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const Xr=ze("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const hx=ze("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);const zp=ze("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const _l=ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Dt=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const og=ze("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);const Ca=ze("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const ig=ze("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const Bt=ze("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Pp=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const yx=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const xx=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const vn=ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const bx=ze("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const _a=ze("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const vx=ze("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const Pc=ze("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);const Bn=ze("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);const un=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Fn=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Ex=ze("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);const Ip=ze("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const fo=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const kx=ze("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const Sl=ze("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const ho=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const wx=ze("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const Ic=ze("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);const Zn=ze("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const Nx=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const Sx=ze("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);const Mp=ze("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);const Lp=ze("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);const Un=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Xc=ze("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const Ll=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Rp=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Ap=ze("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const mr=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const En=ze("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Dp=b.createContext(),Cx={success:dt,error:Ml,warning:cx,info:Dt},cg={success:"border-l-green-500 bg-green-50 dark:bg-green-900/20",error:"border-l-red-500 bg-red-50 dark:bg-red-900/20",warning:"border-l-amber-500 bg-amber-50 dark:bg-amber-900/20",info:"border-l-blue-500 bg-blue-50 dark:bg-blue-900/20",confirm:"border-l-gray-400 bg-white dark:bg-gray-800"},ug={success:"text-green-500",error:"text-red-500",warning:"text-amber-500",info:"text-blue-500",confirm:"text-gray-500"};let _x=0;function Tx({toast:t,onRemove:a}){const s=Cx[t.type]||Dt,o=b.useRef(null);return r.createElement("div",{className:`relative flex items-start gap-3 px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 border-l-4 shadow-lg backdrop-blur-sm min-w-[320px] max-w-[420px] animate-toastIn ${cg[t.type]||cg.info}`},r.createElement(s,{size:18,className:`shrink-0 mt-0.5 ${ug[t.type]||ug.info}`}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("p",{className:"text-sm text-gray-900 dark:text-gray-100 font-medium"},t.message),t.type==="confirm"&&r.createElement("div",{className:"flex items-center gap-2 mt-2.5"},r.createElement("button",{onClick:()=>{t.onCancel?.(),a(t.id)},className:"px-3 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},""),r.createElement("button",{onClick:()=>{t.onConfirm?.(),a(t.id)},className:"px-3 py-1 text-xs font-medium text-white bg-red-500 rounded-lg hover:bg-red-600 transition-colors"},t.confirmLabel||""))),r.createElement("button",{onClick:()=>a(t.id),className:"shrink-0 p-0.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},r.createElement(mr,{size:14})),t.type!=="confirm"&&t.duration>0&&r.createElement("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 rounded-b-xl overflow-hidden"},r.createElement("div",{ref:o,className:"h-full bg-current opacity-20 animate-shrinkWidth",style:{animationDuration:`${t.duration}ms`}})))}function zx({toasts:t,onRemove:a}){return Ol.createPortal(r.createElement("div",{className:"fixed bottom-6 right-6 z-[200] flex flex-col-reverse gap-2 pointer-events-none"},t.slice(0,5).map(s=>r.createElement("div",{key:s.id,className:"pointer-events-auto"},r.createElement(Tx,{toast:s,onRemove:a})))),document.body)}function Px({children:t}){const[a,s]=b.useState([]),o=b.useCallback(g=>{s(f=>f.filter(h=>h.id!==g))},[]),c=b.useCallback((g,f,h={})=>{const y=++_x,x=h.duration??(g==="confirm"?0:3e3),k={id:y,type:g,message:f,duration:x,...h};return s(E=>[k,...E]),x>0&&setTimeout(()=>o(y),x),y},[o]),u=b.useCallback((g,f="success")=>c(f,g),[c]);u.success=(g,f)=>c("success",g,f),u.error=(g,f)=>c("error",g,f),u.warning=(g,f)=>c("warning",g,f),u.info=(g,f)=>c("info",g,f);const d=b.useCallback((g,f,h={})=>c("confirm",g,{onConfirm:f,onCancel:h.onCancel,confirmLabel:h.confirmLabel||"",duration:0}),[c]);return r.createElement(Dp.Provider,{value:{toast:u,confirm:d}},t,r.createElement(zx,{toasts:a,onRemove:o}))}const pr=()=>b.useContext(Dp);function Ix(){const{toast:t}=pr(),{config:a,setConfig:s,apiKeys:o,addApiKey:c,deleteApiKey:u,mcpServers:d,addMcpServer:g,deleteMcpServer:f,reorderMcpServer:h,moveMcpServer:y,searchProviders:x,agents:k,updateAgent:E}=La(),[A,P]=b.useState("general"),[C,_]=b.useState("llm"),[N,I]=b.useState({...a});b.useEffect(()=>{I(O=>({...O,...a}))},[a]);const[Y,Z]=b.useState("OpenAI"),[M,ee]=b.useState(""),[q,X]=b.useState(""),[z,D]=b.useState(""),[K,xe]=b.useState("sse"),[le,te]=b.useState(""),[J,oe]=b.useState(null),[G,ge]=b.useState(null),[w,R]=b.useState(null),[$,S]=b.useState([]),[ve,_e]=b.useState(!1),[Pe,Ue]=b.useState([]),[Oe,qe]=b.useState(!1),[et,st]=b.useState(""),[tt,yt]=b.useState({}),[ae,nt]=b.useState({}),[Xe,Q]=b.useState([]),[re,Ie]=b.useState({name:"",db_type:"postgresql",host:"localhost",port:5432,database:"",username:"",password:""}),[ye,Qe]=b.useState({}),[Ye,it]=b.useState({}),[mt,H]=b.useState(null),[F,ne]=b.useState(""),ue=async()=>{qe(!0),st("");try{const O=await $t.getOllamaModels();O?.models&&Ue(O.models),O?.error&&st(O.error)}catch{st("    .")}finally{qe(!1)}};b.useEffect(()=>{(async()=>{_e(!0);try{const[ke,fe]=await Promise.all([$t.getConfig(),$t.getApiKeys()]);ke&&R(ke),fe?.keys&&S(fe.keys);const We=await $t.getDbConnections();We?.connections&&Q(We.connections)}catch(ke){console.error("Failed to load backend config:",ke)}finally{_e(!1)}})(),ue()},[]);const Se=async O=>{yt(fe=>({...fe,[O]:"testing"})),nt(fe=>({...fe,[O]:""}));const ke=await wp.testService(O);ke.status==="connected"?(yt(fe=>({...fe,[O]:"success"})),nt(fe=>({...fe,[O]:ke.detail}))):(yt(fe=>({...fe,[O]:"error"})),nt(fe=>({...fe,[O]:ke.detail}))),setTimeout(()=>{yt(fe=>({...fe,[O]:"idle"}))},5e3)},U=()=>{s(N),t.success(" .")},ce=async()=>{if(M.trim()){c(Y,M);try{await $t.saveApiKey(Y,M);const O=await $t.getApiKeys();O?.keys&&S(O.keys)}catch(O){console.error("Failed to save API key to backend:",O)}ee("")}},be=async(O,ke)=>{u(O);try{await $t.deleteApiKey(ke);const Te=await $t.getApiKeys();Te?.keys&&S(Te.keys)}catch(Te){console.error("Failed to delete API key from backend:",Te)}const fe=ke.toLowerCase(),rt={openai:["gpt-","o1-","text-davinci"],anthropic:["claude"],"google gemini":["gemini","palm"],google:["gemini","palm"],groq:[]}[fe]||[],he=Te=>{if(!Te||!rt.length)return!1;const St=Te.toLowerCase();return rt.some(Or=>St.startsWith(Or))},Ge=Te=>{if(fe!=="groq")return!1;const St=(Te||"").toLowerCase();return St.includes("versatile")||St.includes("instant")||St.endsWith("32768")},Ae=Te=>he(Te)||Ge(Te);k.forEach(Te=>{Ae(Te.model)&&E(Te.id,{model:""})}),Ae(a.llm)&&s({...a,llm:"llama3.1"})},Be=()=>{q.trim()&&(K==="stdio"&&!le.trim()||K!=="stdio"&&!z.trim()||(g({name:q,url:K==="stdio"?"":z,type:K,command:K==="stdio"?le:""}),X(""),D(""),te("")))},xt=async()=>{if(!(!re.name.trim()||!re.database.trim()))try{await $t.addDbConnection(re);const O=await $t.getDbConnections();O?.connections&&Q(O.connections),Ie({name:"",db_type:"postgresql",host:"localhost",port:5432,database:"",username:"",password:""})}catch(O){console.error("Failed to add DB connection:",O)}},Nt=async O=>{try{await $t.deleteDbConnection(O),Q(ke=>ke.filter(fe=>fe.id!==O))}catch(ke){console.error("Failed to delete DB connection:",ke)}},Ke=async O=>{Qe(fe=>({...fe,[O]:"testing"}));const ke=await $t.testDbConnection(O);Qe(fe=>({...fe,[O]:ke.status==="connected"?"success":"error"})),it(fe=>({...fe,[O]:ke.detail})),setTimeout(()=>Qe(fe=>({...fe,[O]:"idle"})),5e3)},ct=(O,ke)=>{oe(ke),O.dataTransfer.effectAllowed="move"},gt=(O,ke)=>{O.preventDefault(),O.dataTransfer.dropEffect="move"},Ot=(O,ke)=>{O.preventDefault(),!(J===null||J===ke)&&(y(J,ke),oe(null))},Et=[{id:"general",label:" ",icon:vx},{id:"model",label:" ",icon:bn},{id:"graph",label:"Graph DB",icon:wx},{id:"cache",label:" / ",icon:En},{id:"search",label:" ",icon:Yt},{id:"api",label:"API  ",icon:og},{id:"database",label:"",icon:Tt},{id:"mcp",label:"MCP ",icon:Bn},{id:"system",label:" ",icon:Dt}];return r.createElement("div",{className:"flex h-[700px] w-full bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200"},r.createElement("aside",{className:"w-64 bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col p-4 shrink-0"},r.createElement("h3",{className:"text-xs font-bold text-gray-400 uppercase mb-4 px-2 tracking-wider"},"Settings"),r.createElement("nav",{className:"space-y-1"},Et.map(O=>r.createElement("div",{key:O.id},r.createElement("button",{onClick:()=>P(O.id),className:`w-full flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg transition-colors ${A===O.id?"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-400 shadow-sm border border-gray-100 dark:border-gray-600":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-200"}`},r.createElement(O.icon,{size:18,className:A===O.id?"text-gray-600":"text-gray-400"})," ",O.label),O.id==="model"&&A==="model"&&r.createElement("div",{className:"ml-9 mt-1 space-y-1 border-l-2 border-gray-200 pl-2"},[{id:"llm",label:"LLM "},{id:"embedding",label:" "},{id:"multimodal",label:" "}].map(ke=>r.createElement("button",{key:ke.id,onClick:()=>_(ke.id),className:`block w-full text-left px-3 py-1.5 text-xs rounded transition-colors ${C===ke.id?"text-gray-600 font-bold bg-gray-50":"text-gray-500 hover:text-gray-800"}`},ke.label))))))),r.createElement("main",{className:"flex-1 flex flex-col min-w-0"},r.createElement("header",{className:"px-8 py-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-white dark:bg-gray-900 shrink-0"},r.createElement("div",null,r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white"},Et.find(O=>O.id===A)?.label),r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"   .")),r.createElement("button",{onClick:U,className:"flex items-center gap-2 px-5 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-sm font-bold transition shadow-sm"},r.createElement(Ip,{size:16})," ")),r.createElement("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar"},A==="general"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 mb-2"}," "),r.createElement("div",{className:"w-full p-2.5 border rounded-lg text-sm bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 font-medium cursor-not-allowed flex items-center justify-between border-gray-200 dark:border-gray-700"},r.createElement("span",null," (Korean)"),r.createElement("span",{className:"text-xs px-2 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-gray-600 dark:text-gray-400"},"")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1.5"},"     ."))),A==="model"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},C==="llm"&&(()=>{const ke=[{id:"openai",name:"OpenAI",color:"green",models:[{name:"gpt-4o",desc:" ,  "},{name:"gpt-4o-mini",desc:"   "},{name:"gpt-4-turbo",desc:"128K "},{name:"gpt-3.5-turbo",desc:" ,  "}]},{id:"anthropic",name:"Anthropic",color:"orange",models:[{name:"claude-sonnet-4-5-20250929",desc:"Claude 4.5 Sonnet"},{name:"claude-opus-4-6",desc:"Claude Opus 4.6,  "},{name:"claude-haiku-4-5-20251001",desc:"Claude 4.5 Haiku,  "}]},{id:"google gemini",name:"Google Gemini",color:"gray",models:[{name:"gemini-2.0-flash",desc:" Gemini,  "},{name:"gemini-2.0-pro",desc:"  Gemini"},{name:"gemini-1.5-flash",desc:"100  "}]},{id:"groq",name:"Groq",color:"red",models:[{name:"llama-3.3-70b-versatile",desc:"Llama 3.3 70B, "},{name:"llama-3.1-8b-instant",desc:"Llama 3.1 8B,  "},{name:"mixtral-8x7b-32768",desc:"Mixtral MoE, 32K "}]}].filter(he=>o.some(Ge=>Ge.provider.toLowerCase()===he.id)||$.some(Ge=>Ge.provider===he.id)),fe={gemma3:{desc:"Google  ,  ",caps:["tools","vlm"]},gemma2:{desc:"Google ,   ",caps:[]},"llama3.3":{desc:"Meta 70B,  ",caps:["tools"]},"llama3.2-vision":{desc:"Meta  ",caps:["vlm"]},"llama3.2":{desc:"Meta  ",caps:[]},"llama3.1":{desc:"Meta 128K , ",caps:["tools","long"]},llama3:{desc:"Meta   ",caps:[]},"mistral-small":{desc:"Mistral , Tool Calling",caps:["tools"]},"mistral-large":{desc:"Mistral  ",caps:["tools","long"]},mistral:{desc:"Mistral 7B,  ",caps:[]},mixtral:{desc:"Mistral MoE,  ",caps:[]},"qwen2.5-coder":{desc:"Alibaba  ",caps:["tools","code"]},"qwen2.5":{desc:"Alibaba ,  ",caps:["tools","long"]},qwen2:{desc:"Alibaba ,  ",caps:["tools"]},phi4:{desc:"MS  ,  ",caps:["tools"]},phi3:{desc:"MS  ,  ",caps:[]},"deepseek-r1":{desc:"DeepSeek   ",caps:["code","math"]},"deepseek-coder":{desc:"DeepSeek  ",caps:["code"]},deepseek:{desc:"/  ",caps:["code","math"]},codellama:{desc:"Meta   ",caps:["code"]},"command-r":{desc:"Cohere RAG  ",caps:["tools","long"]},solar:{desc:",  ",caps:[]},exaone:{desc:"LG AI   ",caps:[]},llava:{desc:"  ",caps:["vlm"]},bakllava:{desc:"BakLLaVA  ",caps:["vlm"]},moondream:{desc:"  ",caps:["vlm"]},aya:{desc:"Cohere  ",caps:[]},granite:{desc:"IBM  ",caps:["tools"]},vicuna:{desc:"LMSys  ",caps:[]}},We={tools:{label:"Tool Calling",color:"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-300"},vlm:{label:"Vision",color:"bg-purple-50 text-purple-600 dark:bg-purple-900/30 dark:text-purple-300"},code:{label:"Code",color:"bg-amber-50 text-amber-600 dark:bg-amber-900/30 dark:text-amber-300"},math:{label:"Math",color:"bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-300"},long:{label:"128K+",color:"bg-teal-50 text-teal-600 dark:bg-teal-900/30 dark:text-teal-300"}},rt=he=>{const Ge=he.toLowerCase();for(const[Ae,Te]of Object.entries(fe))if(Ge.includes(Ae))return Te;return null};return r.createElement(r.Fragment,null,r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 flex gap-3 text-sm text-gray-800 dark:text-gray-300 mb-6"},r.createElement(Dt,{size:20,className:"shrink-0"}),r.createElement("div",null," ( )    LLM .",r.createElement("br",null),r.createElement("span",{className:"text-xs text-gray-500"},"        ."))),r.createElement("section",null,r.createElement("div",{className:"flex justify-between items-center mb-2"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(Sl,{size:14})," Ollama  "),r.createElement("button",{onClick:ue,disabled:Oe,className:"text-xs text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300 font-bold flex items-center gap-1"},r.createElement(Fn,{size:12,className:Oe?"animate-spin":""})," ",Oe?" ...":"")),et&&r.createElement("div",{className:"text-xs text-red-500 mb-2 flex items-center gap-1"},r.createElement(Dt,{size:12})," ",et),Pe.length>0?r.createElement("div",{className:"space-y-2"},Pe.map(he=>{const Ge=rt(he.name);return r.createElement("div",{key:he.name,onClick:()=>I({...N,llm:he.name}),className:`flex items-center justify-between p-3 rounded-xl border-2 cursor-pointer transition-all ${N.llm===he.name?"border-green-400 bg-green-50/50 dark:bg-green-900/20 shadow-sm":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold ${N.llm===he.name?"bg-green-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`},r.createElement(bn,{size:16})),r.createElement("div",null,r.createElement("div",{className:"flex items-center gap-2 flex-wrap"},r.createElement("span",{className:`font-bold text-sm ${N.llm===he.name?"text-gray-900 dark:text-gray-300":"text-gray-800 dark:text-gray-200"}`},he.name),Ge?.desc&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500"},Ge.desc)),r.createElement("div",{className:"flex items-center gap-1.5 mt-0.5 flex-wrap"},r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-900/30 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-400 font-medium"},""),he.is_korean&&r.createElement("span",{className:"text-[10px] bg-green-50 dark:bg-green-800/30 px-1.5 py-0.5 rounded text-green-500 dark:text-green-300 font-bold"},""),Ge?.caps?.map(Ae=>We[Ae]&&r.createElement("span",{key:Ae,className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${We[Ae].color}`},We[Ae].label)),he.parameter_size&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},he.parameter_size),he.family&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},he.family),he.quantization&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},he.quantization)))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},he.size_gb," GB"),N.llm===he.name&&r.createElement(dt,{size:18,className:"text-green-500"})))})):r.createElement("div",{className:"p-6 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-center"},Oe?r.createElement("div",{className:"flex flex-col items-center gap-2"},r.createElement(Fn,{size:20,className:"animate-spin text-green-300"}),r.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-400"},"Ollama   ...")):r.createElement("div",{className:"flex flex-col items-center gap-2"},r.createElement(bn,{size:20,className:"text-gray-400"}),r.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-400"},"Ollama  "),r.createElement("span",{className:"text-xs text-gray-400 dark:text-gray-500"},"Ollama    ")))),r.createElement("section",{className:"mt-6"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2 flex items-center gap-2"},r.createElement(Yt,{size:14}),"   (API)"),ke.length>0?r.createElement("div",{className:"space-y-4"},ke.map(he=>r.createElement("div",{key:he.id},r.createElement("div",{className:"flex items-center gap-2 mb-2"},r.createElement("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-400 uppercase"},he.name),r.createElement("span",{className:"text-[10px] bg-green-50 dark:bg-green-800/30 text-green-600 dark:text-green-300 px-1.5 py-0.5 rounded flex items-center gap-1"},r.createElement(dt,{size:8}),"  ")),r.createElement("div",{className:"space-y-1.5"},he.models.map(Ge=>r.createElement("div",{key:Ge.name,onClick:()=>I({...N,llm:Ge.name}),className:`flex items-center justify-between p-3 rounded-xl border-2 cursor-pointer transition-all ${N.llm===Ge.name?"border-purple-500 bg-purple-50/50 dark:bg-purple-900/30 shadow-sm":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold ${N.llm===Ge.name?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`},r.createElement(Yt,{size:14})),r.createElement("div",null,r.createElement("div",{className:`font-bold text-sm ${N.llm===Ge.name?"text-purple-900 dark:text-purple-300":"text-gray-800 dark:text-gray-200"}`},Ge.name),r.createElement("div",{className:"flex items-center gap-2 mt-0.5"},r.createElement("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-medium ${he.color==="green"?"bg-green-50 dark:bg-green-800/30 text-green-500 dark:text-green-300":he.color==="orange"?"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400":he.color==="red"?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-gray-100 dark:bg-gray-900/30 text-gray-600 dark:text-gray-400"}`},he.name),r.createElement("span",{className:"text-[10px] text-gray-500 dark:text-gray-400"},Ge.desc)))),N.llm===Ge.name&&r.createElement(dt,{size:18,className:"text-purple-600"}))))))):r.createElement("div",{className:"p-4 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-center"},r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"  API  "),r.createElement("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1"},"API    OpenAI, Anthropic        ."))),r.createElement("section",{className:"mt-4"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Ollama  URL"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.ollama_base_url||(ve?" ...":"http://localhost:11434")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1.5 flex items-center gap-1"},r.createElement(Dt,{size:12}),"   .env OLLAMA_BASE_URL .")))})(),C==="embedding"&&r.createElement(r.Fragment,null,r.createElement("div",{className:"bg-green-50 dark:bg-green-800/20 border border-green-50 dark:border-green-700 rounded-xl p-4 flex gap-3 text-sm text-green-700 dark:text-green-200 mb-6"},r.createElement(Dt,{size:20,className:"shrink-0"}),r.createElement("div",null,"   .   .env EMBEDDING_MODEL  .")),r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"  "),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.embedding_model||(ve?" ...":"BAAI/bge-m3"))),r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Rerank  "),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("button",{onClick:()=>I({...N,useRerank:!N.useRerank}),className:`w-12 h-6 rounded-full transition-colors relative ${N.useRerank?"bg-gray-600":"bg-gray-300"}`},r.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform ${N.useRerank?"left-7":"left-1"}`})),r.createElement("span",{className:"text-sm text-gray-600 dark:text-gray-400"},N.useRerank?" (  )":"   ( )")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"Rerank          ."))),C==="multimodal"&&(()=>{const O=["llava","bakllava","minicpm-v","moondream","llama3.2-vision","granite3.2-vision"],ke=Pe.filter(fe=>O.some(We=>fe.name.toLowerCase().includes(We)));return r.createElement(r.Fragment,null,r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("div",null,r.createElement("h3",{className:"font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(_l,{size:18}),"  "),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"   Vision  .")),r.createElement("button",{onClick:()=>I({...N,enableMultimodal:!N.enableMultimodal}),className:`w-12 h-6 rounded-full transition-colors relative ${N.enableMultimodal?"bg-gray-600":"bg-gray-300"}`},r.createElement("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform shadow-sm ${N.enableMultimodal?"left-7":"left-1"}`}))),r.createElement("section",{className:`space-y-6 transition-all ${N.enableMultimodal?"opacity-100":"opacity-50 pointer-events-none"}`},r.createElement("div",null,r.createElement("div",{className:"flex justify-between items-center mb-2"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200"},"Vision  "),r.createElement("button",{onClick:ue,disabled:Oe,className:"text-xs text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300 font-bold flex items-center gap-1"},r.createElement(Fn,{size:12,className:Oe?"animate-spin":""})," ")),ke.length>0?r.createElement("div",{className:"space-y-2"},ke.map(fe=>r.createElement("div",{key:fe.name,onClick:()=>I({...N,vlm:fe.name}),className:`flex items-center justify-between p-3 rounded-xl border-2 cursor-pointer transition-all ${N.vlm===fe.name?"border-purple-500 bg-purple-50/50 dark:bg-purple-900/30 shadow-sm":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${N.vlm===fe.name?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`},r.createElement(_l,{size:16})),r.createElement("div",null,r.createElement("div",{className:`font-bold text-sm ${N.vlm===fe.name?"text-purple-900 dark:text-purple-300":"text-gray-800 dark:text-gray-200"}`},fe.name),r.createElement("div",{className:"flex items-center gap-2 mt-0.5"},fe.parameter_size&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},fe.parameter_size),fe.family&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400"},fe.family)))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},fe.size_gb," GB"),N.vlm===fe.name&&r.createElement(dt,{size:18,className:"text-purple-600"}))))):r.createElement("div",{className:"p-6 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-center"},r.createElement("div",{className:"flex flex-col items-center gap-2"},r.createElement(_l,{size:20,className:"text-gray-400"}),r.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-400"},"Vision  "),r.createElement("span",{className:"text-xs text-gray-400 dark:text-gray-500"},"Ollama vision  "),r.createElement("code",{className:"text-xs bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded font-mono text-gray-600 dark:text-gray-400 mt-1"},"ollama pull llava"))),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 flex items-center gap-1"},r.createElement(Dt,{size:12})," llava, bakllava, minicpm-v, moondream  vision   .")),r.createElement("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-1"},r.createElement(Xr,{size:14}),"  "),r.createElement("div",{className:"grid grid-cols-3 gap-3 mb-4"},[{id:"local",label:" ",desc:"   "},{id:"minio",label:"MinIO",desc:"S3   "},{id:"s3",label:"AWS S3",desc:"Amazon  "}].map(fe=>r.createElement("div",{key:fe.id,onClick:()=>I({...N,storageType:fe.id}),className:`p-3 rounded-xl border-2 cursor-pointer transition-all text-center ${N.storageType===fe.id?"border-green-400 bg-green-50/50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`},r.createElement("div",{className:`text-sm font-bold ${N.storageType===fe.id?"text-gray-900 dark:text-gray-300":"text-gray-700 dark:text-gray-300"}`},fe.label),r.createElement("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-0.5"},fe.desc)))),N.storageType==="local"&&r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"}," "),r.createElement("input",{type:"text",value:N.storagePath||"./uploads",onChange:fe=>I({...N,storagePath:fe.target.value}),className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 bg-white dark:bg-gray-700 dark:text-gray-200 font-mono"}),r.createElement("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-1"},"    ")),(N.storageType==="minio"||N.storageType==="s3")&&r.createElement("div",{className:"space-y-3"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"},N.storageType==="minio"?"MinIO Endpoint":"S3 Region"),r.createElement("input",{type:"text",value:N.storageType==="minio"?N.minioEndpoint||"":N.s3Region||"ap-northeast-2",onChange:fe=>I({...N,...N.storageType==="minio"?{minioEndpoint:fe.target.value}:{s3Region:fe.target.value}}),placeholder:N.storageType==="minio"?"http://localhost:9000":"ap-northeast-2",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 bg-white dark:bg-gray-700 dark:text-gray-200 font-mono"})),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"},"Bucket "),r.createElement("input",{type:"text",value:N.bucketName||"",onChange:fe=>I({...N,bucketName:fe.target.value}),placeholder:"my-rag-bucket",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 bg-white dark:bg-gray-700 dark:text-gray-200 font-mono"})),r.createElement("p",{className:"text-[10px] text-gray-400 dark:text-gray-500"},N.storageType==="minio"?"MinIO Access/Secret Key API    .":"AWS   API    .")))))})()),A==="graph"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-purple-50 border border-purple-100 rounded-xl p-4 text-sm text-purple-900 flex gap-3"},r.createElement(_a,{size:24,className:"shrink-0 text-purple-600 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"Graph RAG (Neo4j)"),r.createElement("p",{className:"text-xs text-purple-800/80 mt-1 leading-relaxed"},"          .",r.createElement("br",null),"   (.env) ."))),r.createElement("section",{className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Connection URI"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.neo4j_url||(ve?" ...":"  "))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Username"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.neo4j_username||"-")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1"},r.createElement(Dt,{size:12}),"     .env  NEO4J_URL, NEO4J_USERNAME, NEO4J_PASSWORD .")),r.createElement("div",{className:"flex items-center justify-end gap-3"},tt.neo4j==="success"&&r.createElement("span",{className:"text-sm text-green-500 flex items-center gap-1"},r.createElement(dt,{size:14})," ",ae.neo4j),tt.neo4j==="error"&&r.createElement("span",{className:"text-sm text-red-600 flex items-center gap-1 max-w-xs truncate"},ae.neo4j),r.createElement("button",{onClick:()=>Se("neo4j"),disabled:tt.neo4j==="testing",className:`px-4 py-2 rounded-lg text-sm font-bold transition flex items-center gap-2 ${tt.neo4j==="success"?"bg-green-50 text-green-600":tt.neo4j==="error"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`},r.createElement(Fn,{size:14,className:tt.neo4j==="testing"?"animate-spin":""})," ",tt.neo4j==="testing"?" ...":" "))),A==="cache"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-yellow-50 border border-yellow-100 rounded-xl p-4 text-sm text-yellow-900 flex gap-3"},r.createElement(En,{size:24,className:"shrink-0 text-yellow-600 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"Redis (Memory & Cache)"),r.createElement("p",{className:"text-xs text-yellow-800/80 mt-1 leading-relaxed"},"  (Memory),    (Cache)  Redis ."))),r.createElement("section",{className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Connection URL"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.redis_url||(ve?" ...":"  "))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"}," "),r.createElement("div",{className:"grid grid-cols-2 gap-4"},r.createElement("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"},r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1"}," "),r.createElement("div",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},w?.cache_enabled?"":"")),r.createElement("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"},r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1"}," TTL"),r.createElement("div",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},w?.cache_ttl_seconds||"-","")))),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1"},r.createElement(Dt,{size:12}),"     .env  REDIS_URL .")),r.createElement("div",{className:"flex items-center justify-end gap-3"},tt.redis==="success"&&r.createElement("span",{className:"text-sm text-green-500 flex items-center gap-1"},r.createElement(dt,{size:14})," ",ae.redis),tt.redis==="error"&&r.createElement("span",{className:"text-sm text-red-600 flex items-center gap-1 max-w-xs truncate"},ae.redis),r.createElement("button",{onClick:()=>Se("redis"),disabled:tt.redis==="testing",className:`px-4 py-2 rounded-lg text-sm font-bold transition flex items-center gap-2 ${tt.redis==="success"?"bg-green-50 text-green-600":tt.redis==="error"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`},r.createElement(Fn,{size:14,className:tt.redis==="testing"?"animate-spin":""})," ",tt.redis==="testing"?" ...":" "))),A==="search"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 text-sm text-gray-900 dark:text-gray-300 flex gap-3"},r.createElement(Zr,{size:24,className:"shrink-0 text-gray-600 dark:text-gray-400 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"RAG  "),r.createElement("p",{className:"text-xs text-gray-800/80 dark:text-gray-400/80 mt-1 leading-relaxed"},"    .",r.createElement("br",null)," ,  ,     ."))),r.createElement("section",null,r.createElement("div",{className:"flex justify-between items-center mb-2"},r.createElement("label",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},"   (Top K)"),r.createElement("span",{className:"text-sm font-bold text-gray-600 bg-gray-50 dark:bg-gray-900/30 px-2 py-0.5 rounded"},N.searchTopK||5,"")),r.createElement("input",{type:"range",min:"3",max:"10",value:N.searchTopK||5,onChange:O=>I({...N,searchTopK:Number(O.target.value)}),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg accent-green-500 cursor-pointer"}),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"        .")),r.createElement("section",{className:"space-y-3"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200"}," "),r.createElement("div",{className:"space-y-2"},r.createElement("div",{onClick:()=>I({...N,searchMode:"hybrid"}),className:`p-4 rounded-lg border-2 cursor-pointer transition ${N.searchMode==="hybrid"?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("span",{className:"text-2xl"},""),r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},"  ()"),N.searchMode==="hybrid"&&r.createElement("span",{className:"ml-auto text-xs px-2 py-0.5 bg-green-500 text-white rounded-full"},"")),r.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 ml-10"},"  +    (RRF)    "),N.searchMode==="hybrid"&&r.createElement("div",{className:"mt-4 ml-10 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 space-y-3"},r.createElement("div",{className:"flex justify-between items-center"},r.createElement("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300"},"Dense : Sparse "),r.createElement("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-300 px-2 py-1 rounded"},Math.round((N.denseWeight||.5)*100),"% : ",Math.round((1-(N.denseWeight||.5))*100),"%")),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap"},""),r.createElement("input",{type:"range",min:"0",max:"1",step:"0.05",value:N.denseWeight||.5,onChange:O=>I({...N,denseWeight:parseFloat(O.target.value)}),className:"w-full h-2 bg-gradient-to-r from-green-300 via-gray-400 to-purple-400 rounded-lg appearance-none cursor-pointer",onClick:O=>O.stopPropagation()}),r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap"},"")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},(N.denseWeight||.5)>=.7?"  :     ":(N.denseWeight||.5)<=.3?"  :      ":"  :    "))),r.createElement("div",{onClick:()=>I({...N,searchMode:"dense"}),className:`p-4 rounded-lg border-2 cursor-pointer transition ${N.searchMode==="dense"?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("span",{className:"text-2xl"},""),r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},"  (Dense Vector)"),N.searchMode==="dense"&&r.createElement("span",{className:"ml-auto text-xs px-2 py-0.5 bg-green-500 text-white rounded-full"},"")),r.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 ml-10"},"  ,    (  )")),r.createElement("div",{onClick:()=>I({...N,searchMode:"sparse"}),className:`p-4 rounded-lg border-2 cursor-pointer transition ${N.searchMode==="sparse"?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("span",{className:"text-2xl"},""),r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},"  (BM25)"),N.searchMode==="sparse"&&r.createElement("span",{className:"ml-auto text-xs px-2 py-0.5 bg-green-500 text-white rounded-full"},"")),r.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 ml-10"},"  ,  /API   ")))),r.createElement("section",{className:"space-y-3"},r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200"},"  (CLIP)"),r.createElement("div",{onClick:()=>I({...N,useMultimodalSearch:!N.useMultimodalSearch}),className:`p-4 rounded-lg border-2 cursor-pointer transition ${N.useMultimodalSearch?"border-purple-500 bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-700 hover:border-purple-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("span",{className:"text-2xl"},""),r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},"  "),N.useMultimodalSearch&&r.createElement("span",{className:"ml-auto text-xs px-2 py-0.5 bg-purple-600 text-white rounded-full"},"")),r.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 ml-10"},"CLIP    . PDF ,      ."))),r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-2"},"Vector DB (Qdrant)"),r.createElement("div",{className:"w-full p-3 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-gray-50 dark:bg-gray-800 font-mono text-gray-600 dark:text-gray-400"},w?.qdrant_url||(ve?" ...":"http://localhost:6333")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1.5 flex items-center gap-1"},r.createElement(Dt,{size:12}),"   .env QDRANT_URL .")),r.createElement("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6"},r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 text-sm text-gray-900 dark:text-gray-300 flex gap-3 mb-6"},r.createElement(Zr,{size:24,className:"shrink-0 text-gray-600 dark:text-gray-400 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"  "),r.createElement("p",{className:"text-xs text-gray-800/80 dark:text-gray-400/80 mt-1 leading-relaxed"},"     . DuckDuckGo   ,",r.createElement("br",null)," API       (   )."))),r.createElement("section",null,r.createElement("label",{className:"block text-sm font-bold text-gray-800 dark:text-gray-200 mb-3"},"  "),r.createElement("div",{className:"grid grid-cols-2 gap-3"},x.map(O=>{const ke=!O.needsKey||$.some(We=>We.provider===O.id),fe=N.activeSearchProviderId===O.id;return r.createElement("div",{key:O.id,onClick:()=>I({...N,activeSearchProviderId:O.id}),className:`relative p-4 rounded-xl cursor-pointer border-2 transition-all ${fe?"border-green-400 bg-green-50/50 dark:bg-green-900/20 shadow-sm":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement(Yt,{className:fe?"text-green-500 shrink-0":"text-gray-400 shrink-0",size:20}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:`font-bold text-sm ${fe?"text-gray-900 dark:text-gray-300":"text-gray-700 dark:text-gray-300"}`},O.name),!O.needsKey&&r.createElement("span",{className:"text-[10px] bg-green-50 dark:bg-green-800/30 text-green-600 dark:text-green-300 px-1.5 py-0.5 rounded font-bold"},"FREE")),r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},O.description),O.needsKey&&r.createElement("div",{className:"mt-1.5"},ke?r.createElement("span",{className:"text-[10px] text-green-500 dark:text-green-300 flex items-center gap-1"},r.createElement(dt,{size:10})," API  "):r.createElement("span",{className:"text-[10px] text-orange-500 dark:text-orange-400 flex items-center gap-1"},r.createElement(og,{size:10})," API   (API   )"))),fe&&r.createElement(dt,{size:18,className:"text-green-500 shrink-0"})))}))))),A==="api"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-100 dark:border-orange-800 rounded-xl p-4 text-sm text-orange-800 dark:text-orange-300 flex gap-2"},r.createElement(Dt,{size:18,className:"shrink-0 mt-0.5"}),r.createElement("span",null,"   API  .   +  .")),r.createElement("section",null,r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2 mb-3"},r.createElement(Yt,{size:16,className:"text-gray-500"}),"   "),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3"},"    . DuckDuckGo     ."),r.createElement("div",{className:"space-y-2"},[{id:"brave",name:"Brave Search",free:" 2,000/",url:"https://brave.com/search/api/",desc:"Brave   API"},{id:"tavily",name:"Tavily AI",free:" 1,000/",url:"https://tavily.com/",desc:"AI   "},{id:"serper",name:"Google Serper",free:" 2,500",url:"https://serper.dev/",desc:"Google   API"}].map(O=>{const ke=o.find(rt=>rt.provider.toLowerCase()===O.id),fe=$.some(rt=>rt.provider===O.id),We=N.activeSearchProviderId===O.id;return r.createElement("div",{key:O.id,className:`p-4 border-2 rounded-xl transition-all ${We?"border-gray-300 dark:border-gray-700 bg-gray-50/30 dark:bg-gray-900/10":"border-gray-200 dark:border-gray-700"}`},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200"},O.name),r.createElement("span",{className:"text-[10px] bg-green-50 dark:bg-green-800/30 text-green-600 dark:text-green-300 px-1.5 py-0.5 rounded font-medium"},O.free),We&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-400 px-1.5 py-0.5 rounded font-bold"},"  ")),r.createElement("div",{className:"flex items-center gap-2"},ke&&fe&&r.createElement("span",{className:"text-[10px] text-green-500 dark:text-green-300 flex items-center gap-1"},r.createElement(dt,{size:10})," "),r.createElement("a",{href:O.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-600 dark:text-gray-400 hover:underline flex items-center gap-1"},r.createElement(ig,{size:10}),"  "))),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2"},O.desc),r.createElement("div",{className:"flex gap-2"},r.createElement("input",{type:"password",placeholder:ke?"":`${O.name} API  `,value:Y===O.name?M:"",onFocus:()=>Z(O.name),onChange:rt=>{Z(O.name),ee(rt.target.value)},className:"flex-1 p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 font-mono"}),ke?r.createElement("div",{className:"flex gap-1"},r.createElement("button",{onClick:()=>{Z(O.name),Y===O.name&&M.trim()&&ce()},className:"px-3 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs font-bold transition",title:" "},""),r.createElement("button",{onClick:()=>be(ke.id,ke.provider),className:"px-3 py-2 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-lg text-xs font-bold transition"},"")):r.createElement("button",{onClick:()=>{Z(O.name),Y===O.name&&M.trim()&&ce()},className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs font-bold transition"},"")))}),r.createElement("div",{className:"p-3 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex items-center gap-3"},r.createElement("div",{className:"w-8 h-8 rounded-lg bg-green-50 dark:bg-green-800/30 flex items-center justify-center"},r.createElement(Yt,{size:16,className:"text-green-500 dark:text-green-300"})),r.createElement("div",null,r.createElement("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300"},"DuckDuckGo"),r.createElement("span",{className:"ml-2 text-[10px] bg-green-50 dark:bg-green-800/30 text-green-600 dark:text-green-300 px-1.5 py-0.5 rounded font-bold"},"FREE"),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},"API     ."))))),r.createElement("section",null,r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2 mb-3"},r.createElement(bn,{size:16,className:"text-purple-500"})," LLM  ( )"),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3"},"Ollama     LLM    API  ."),r.createElement("div",{className:"space-y-2"},[{id:"openai",name:"OpenAI",desc:"GPT-4o, GPT-4, GPT-3.5 ",url:"https://platform.openai.com/api-keys"},{id:"anthropic",name:"Anthropic",desc:"Claude 4.5, Claude 4 ",url:"https://console.anthropic.com/settings/keys"},{id:"google gemini",name:"Google Gemini",desc:"Gemini Pro, Gemini Ultra ",url:"https://aistudio.google.com/app/apikey"},{id:"groq",name:"Groq",desc:"  (Llama, Mixtral )",url:"https://console.groq.com/keys"}].map(O=>{const ke=o.find(We=>We.provider.toLowerCase()===O.id),fe=$.some(We=>We.provider===O.id);return r.createElement("div",{key:O.id,className:"flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-xl bg-white dark:bg-gray-800"},r.createElement("div",{className:"w-8 h-8 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center shrink-0"},r.createElement(bn,{size:14,className:"text-purple-600 dark:text-purple-400"})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200"},O.name),ke&&fe&&r.createElement("span",{className:"text-[10px] text-green-500 dark:text-green-300 flex items-center gap-1"},r.createElement(dt,{size:10})," "),ke&&!fe&&r.createElement("span",{className:"text-[10px] text-orange-500 flex items-center gap-1"},r.createElement(Dt,{size:10})," ")),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},O.desc)),r.createElement("div",{className:"flex items-center gap-2 shrink-0"},r.createElement("a",{href:O.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-600 dark:text-gray-400 hover:underline"},r.createElement(ig,{size:12})),ke?r.createElement("button",{onClick:()=>be(ke.id,ke.provider),className:"text-gray-400 hover:text-red-500 transition"},r.createElement(Un,{size:14})):r.createElement("button",{onClick:()=>{Z(O.name),ge(O.id)},className:"text-xs px-2.5 py-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-bold transition"},"+ ")))})),G&&["openai","anthropic","google gemini","groq"].includes(G)&&r.createElement("div",{className:"mt-3 p-4 border border-gray-200 dark:border-gray-800 rounded-xl bg-gray-50/50 dark:bg-gray-900/10"},r.createElement("div",{className:"flex gap-2 items-center mb-2"},r.createElement("span",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},G==="openai"?"OpenAI":G==="anthropic"?"Anthropic":G==="google gemini"?"Google Gemini":"Groq"," API  "),r.createElement("button",{onClick:()=>ge(null),className:"text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},"")),r.createElement("div",{className:"flex gap-2"},r.createElement("input",{type:"password",placeholder:"API  ",value:M,onChange:O=>{Z(G==="openai"?"OpenAI":G==="anthropic"?"Anthropic":G==="google gemini"?"Google Gemini":"Groq"),ee(O.target.value)},className:"flex-1 p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 font-mono"}),r.createElement("button",{onClick:()=>{ce(),ge(null)},className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs font-bold transition"},"")))),r.createElement("section",null,r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2 mb-3"},r.createElement(Xr,{size:16,className:"text-teal-500"}),"  "),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3"},"MinIO  AWS S3      ."),r.createElement("div",{className:"space-y-2"},[{id:"minio",name:"MinIO",desc:"Access Key / Secret Key",fields:["Access Key","Secret Key"]},{id:"aws",name:"AWS S3",desc:"Access Key ID / Secret Access Key",fields:["Access Key ID","Secret Access Key"]}].map(O=>{const ke=o.find(rt=>rt.provider.toLowerCase()===O.id),fe=$.some(rt=>rt.provider===O.id),We=N.storageType===(O.id==="aws"?"s3":O.id);return r.createElement("div",{key:O.id,className:`p-3 border-2 rounded-xl transition-all ${We?"border-teal-300 dark:border-teal-700 bg-teal-50/30 dark:bg-teal-900/10":"border-gray-200 dark:border-gray-700"}`},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement(Xr,{size:14,className:"text-teal-600 dark:text-teal-400"}),r.createElement("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200"},O.name),We&&r.createElement("span",{className:"text-[10px] bg-teal-100 dark:bg-teal-900/30 text-teal-700 dark:text-teal-400 px-1.5 py-0.5 rounded font-bold"},"  "),ke&&fe&&r.createElement("span",{className:"text-[10px] text-green-500 dark:text-green-300 flex items-center gap-1"},r.createElement(dt,{size:10})," ")),r.createElement("div",{className:"flex items-center gap-2"},ke?r.createElement("button",{onClick:()=>be(ke.id,ke.provider),className:"text-gray-400 hover:text-red-500 transition"},r.createElement(Un,{size:14})):r.createElement("button",{onClick:()=>{Z(O.name),ge(O.id)},className:"text-xs px-2.5 py-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-bold transition"},"+ "))),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},O.desc))})),G&&["minio","aws"].includes(G)&&r.createElement("div",{className:"mt-3 p-4 border border-teal-200 dark:border-teal-800 rounded-xl bg-teal-50/50 dark:bg-teal-900/10"},r.createElement("div",{className:"flex gap-2 items-center mb-2"},r.createElement("span",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},G==="minio"?"MinIO":"AWS S3","  "),r.createElement("button",{onClick:()=>ge(null),className:"text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},"")),r.createElement("div",{className:"flex gap-2"},r.createElement("input",{type:"password",placeholder:G==="minio"?"Access Key:Secret Key ":"Access Key ID:Secret Access Key ",value:M,onChange:O=>{Z(G==="minio"?"MinIO":"AWS"),ee(O.target.value)},className:"flex-1 p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-teal-500 font-mono"}),r.createElement("button",{onClick:()=>{ce(),ge(null)},className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-lg text-xs font-bold transition"},"")),r.createElement("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2"},"Access Key Secret Key (:)  .")))),A==="database"&&r.createElement("div",{className:"space-y-8 max-w-2xl"},r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 text-sm text-gray-900 dark:text-gray-200 flex gap-3"},r.createElement(Tt,{size:24,className:"shrink-0 text-gray-600 dark:text-gray-400 mt-1"}),r.createElement("div",null,r.createElement("h4",{className:"font-bold"},"   (Text-to-SQL)"),r.createElement("p",{className:"text-xs text-gray-800/80 dark:text-gray-300/80 mt-1 leading-relaxed"},"     SQL    .   ",r.createElement("span",{className:"font-bold"},"SELECT  "),",  (INSERT/UPDATE/DELETE) ."))),r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(un,{size:14}),"   "),r.createElement("div",{className:"grid grid-cols-2 gap-3"},r.createElement("input",{placeholder:"  (:  DB)",value:re.name,onChange:O=>Ie({...re,name:O.target.value}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"}),r.createElement("select",{value:re.db_type,onChange:O=>Ie({...re,db_type:O.target.value,port:O.target.value==="mysql"?3306:5432}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"},r.createElement("option",{value:"postgresql"},"PostgreSQL"),r.createElement("option",{value:"mysql"},"MySQL"),r.createElement("option",{value:"sqlite"},"SQLite")),re.db_type!=="sqlite"&&r.createElement(r.Fragment,null,r.createElement("input",{placeholder:" (: localhost)",value:re.host,onChange:O=>Ie({...re,host:O.target.value}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"}),r.createElement("input",{placeholder:"",type:"number",value:re.port,onChange:O=>Ie({...re,port:parseInt(O.target.value)||0}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"}),r.createElement("input",{placeholder:"",value:re.username,onChange:O=>Ie({...re,username:O.target.value}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"}),r.createElement("input",{placeholder:"",type:"password",value:re.password,onChange:O=>Ie({...re,password:O.target.value}),className:"p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"})),r.createElement("input",{placeholder:re.db_type==="sqlite"?"  (: /data/mydb.sqlite)":"",value:re.database,onChange:O=>Ie({...re,database:O.target.value}),className:"col-span-2 p-2.5 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:ring-2 focus:ring-green-400 outline-none"})),r.createElement("button",{onClick:xt,disabled:!re.name.trim()||!re.database.trim(),className:"px-4 py-2 bg-green-500 text-white rounded-lg text-sm font-bold hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition"},r.createElement(un,{size:14}),"  ")),r.createElement("section",{className:"space-y-3"},r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(Sl,{size:14}),"  "),Xe.length===0?r.createElement("div",{className:"text-center py-8 text-gray-400"},r.createElement(Tt,{size:32,className:"mx-auto mb-2 opacity-30"}),r.createElement("p",{className:"text-sm"},"   ."),r.createElement("p",{className:"text-xs mt-1"},"   DB .")):Xe.map(O=>r.createElement("div",{key:O.id,className:"border border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-800 hover:border-gray-300 transition overflow-hidden"},r.createElement("div",{className:"flex items-center justify-between p-4"},r.createElement("div",{className:"min-w-0 flex-1"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:`inline-block w-2 h-2 rounded-full ${ye[O.id]==="success"?"bg-green-400":ye[O.id]==="error"?"bg-red-500":"bg-gray-300"}`}),r.createElement("span",{className:"text-sm font-bold text-gray-800 dark:text-gray-200"},O.name),r.createElement("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold uppercase ${O.db_type==="postgresql"?"bg-gray-100 text-gray-700 dark:bg-gray-900 dark:text-gray-300":O.db_type==="mysql"?"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`},O.db_type),O.schema_metadata&&r.createElement("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-green-50 text-green-600 dark:bg-green-900/30 dark:text-green-400"},"")),r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono mt-1 truncate"},O.db_type==="sqlite"?O.database:`${O.host}:${O.port}/${O.database}`),ye[O.id]==="success"&&r.createElement("div",{className:"text-xs text-green-500 mt-1 flex items-center gap-1"},r.createElement(dt,{size:10}),"  "),ye[O.id]==="error"&&r.createElement("div",{className:"text-xs text-red-600 mt-1 truncate max-w-[300px]"},Ye[O.id])),r.createElement("div",{className:"flex items-center gap-2 shrink-0 ml-3"},r.createElement("button",{onClick:()=>{mt===O.id?H(null):(H(O.id),ne(O.schema_metadata||""))},className:`px-3 py-1.5 border rounded-lg text-xs font-bold flex items-center gap-1.5 transition ${mt===O.id?"bg-green-50 dark:bg-green-900/20 text-green-600 border-green-200 dark:border-green-800":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"}`},r.createElement(zt,{size:12})," "),r.createElement("button",{onClick:()=>Ke(O.id),className:"px-3 py-1.5 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-xs font-bold hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center gap-1.5 transition"},r.createElement(Fn,{size:12,className:ye[O.id]==="testing"?"animate-spin":""})," "),r.createElement("button",{onClick:()=>Nt(O.id),className:"px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 border border-red-100 dark:border-red-800 rounded-lg text-xs font-bold hover:bg-red-100 dark:hover:bg-red-900/40 flex items-center gap-1.5 transition"},r.createElement(Un,{size:12})," "))),mt===O.id&&r.createElement("div",{className:"border-t border-gray-200 dark:border-gray-600 p-4 bg-white dark:bg-gray-700/50"},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement("label",{className:"text-xs font-bold text-gray-600 dark:text-gray-300"}," "),r.createElement("span",{className:"text-[10px] text-gray-400"},"/   T2SQL  ")),r.createElement("textarea",{value:F,onChange:ke=>ne(ke.target.value),placeholder:`:
- orders :   (order_id: , customer_name: , total_amount: )
- products :   (product_id: , price: , stock: )`,className:"w-full p-3 border border-gray-200 dark:border-gray-600 rounded-lg text-xs font-mono bg-gray-50 dark:bg-gray-800 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 resize-none",rows:5}),r.createElement("div",{className:"flex justify-end gap-2 mt-2"},r.createElement("button",{onClick:()=>H(null),className:"px-3 py-1.5 text-xs text-gray-500 hover:text-gray-700 transition"},""),r.createElement("button",{onClick:async()=>{(await $t.updateDbMetadata(O.id,F)).error||(Q(fe=>fe.map(We=>We.id===O.id?{...We,schema_metadata:F}:We)),H(null))},className:"px-4 py-1.5 bg-green-500 text-white rounded-lg text-xs font-bold hover:bg-green-600 transition"},"")))))),r.createElement("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4"},r.createElement("h5",{className:"text-xs font-bold text-gray-600 dark:text-gray-400 mb-2"}," "),r.createElement("ol",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1 list-decimal list-inside"},r.createElement("li",null,"    ."),r.createElement("li",null,r.createElement("span",{className:"font-bold"},""),"   ."),r.createElement("li",null,"  ",r.createElement("span",{className:"inline-flex items-center gap-1 font-bold"},r.createElement(Tt,{size:10}),"SQL"),"   DB ."),r.createElement("li",null,"  AI SQL  .")))),A==="mcp"&&r.createElement("div",{className:"space-y-6 max-w-2xl"},r.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/20 border border-gray-100 dark:border-gray-800 rounded-xl p-4 text-sm text-gray-800 dark:text-gray-300 flex gap-3"},r.createElement(Bn,{size:20,className:"shrink-0 text-gray-600 dark:text-gray-400 mt-0.5"}),r.createElement("div",null,r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("h4",{className:"font-bold"},"MCP (Model Context Protocol)"),r.createElement("span",{className:"px-2 py-0.5 bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-[10px] font-bold rounded-full"},"Beta")),r.createElement("p",{className:"text-xs text-gray-700/80 dark:text-gray-400/80 leading-relaxed"},"MCP   AI  ( , , API )   .",r.createElement("br",null),"SSE/Streamable HTTP  , stdio    ."))),r.createElement("section",null,r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2"},r.createElement(un,{size:14}),"  MCP  "),r.createElement("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-xl bg-gray-50/50 dark:bg-gray-800/50 space-y-3"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-2"}," "),r.createElement("div",{className:"grid grid-cols-3 gap-2"},[{id:"sse",label:"SSE",desc:"Server-Sent Events"},{id:"streamable-http",label:"Streamable HTTP",desc:"HTTP "},{id:"stdio",label:"stdio",desc:" "}].map(O=>r.createElement("div",{key:O.id,onClick:()=>xe(O.id),className:`p-2.5 rounded-lg border-2 cursor-pointer transition-all text-center ${K===O.id?"border-green-400 bg-green-50/50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`},r.createElement("div",{className:`text-xs font-bold ${K===O.id,"text-gray-700 dark:text-gray-300"}`},O.label),r.createElement("div",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-0.5"},O.desc))))),r.createElement("div",{className:"grid grid-cols-2 gap-3"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"}," "),r.createElement("input",{type:"text",value:q,onChange:O=>X(O.target.value),placeholder:": Filesystem",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400"})),r.createElement("div",null,K==="stdio"?r.createElement(r.Fragment,null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"}," "),r.createElement("input",{type:"text",value:le,onChange:O=>te(O.target.value),placeholder:": npx -y @modelcontextprotocol/server-filesystem",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 font-mono text-xs"})):r.createElement(r.Fragment,null,r.createElement("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1"},"Endpoint URL"),r.createElement("input",{type:"text",value:z,onChange:O=>D(O.target.value),placeholder:"http://localhost:3001/mcp",className:"w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:ring-2 focus:ring-green-400 font-mono text-xs"})))),r.createElement("button",{onClick:Be,disabled:!q.trim()||(K==="stdio"?!le.trim():!z.trim()),className:"w-full py-2.5 bg-green-500 hover:bg-green-600 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg text-sm font-bold transition flex items-center justify-center gap-2"},r.createElement(Bn,{size:14}),"  "))),r.createElement("section",null,r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("h4",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},r.createElement(Sl,{size:14}),"   (",d.length,")"),d.length>1&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 flex items-center gap-1"},r.createElement(sg,{size:10}),"     ")),d.length>0?r.createElement("div",{className:"space-y-2"},d.map((O,ke)=>r.createElement("div",{key:O.id,draggable:!0,onDragStart:fe=>ct(fe,ke),onDragOver:fe=>gt(fe),onDrop:fe=>Ot(fe,ke),className:`p-3 rounded-xl group hover:border-gray-300 dark:hover:border-gray-600 transition-colors ${ke===0?"border-2 border-gray-300 dark:border-gray-700 bg-gray-50/30 dark:bg-gray-900/10":"border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}`},r.createElement("div",{className:"flex justify-between items-start"},r.createElement("div",{className:"flex gap-2 items-start flex-1 min-w-0"},r.createElement("div",{className:`w-6 h-6 rounded-md flex items-center justify-center text-[10px] font-bold shrink-0 mt-0.5 ${ke===0?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`},ke+1),r.createElement("div",{className:"cursor-move text-gray-300 dark:text-gray-600 hover:text-gray-500 dark:hover:text-gray-400 mt-0.5"},r.createElement(sg,{size:16})),r.createElement("div",{className:`p-2 rounded-lg shrink-0 ${O.status==="connected"?"bg-green-50 dark:bg-green-800/30 text-green-500 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500"}`},r.createElement(Sl,{size:18})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"font-bold text-sm text-gray-800 dark:text-gray-200 flex items-center gap-2 flex-wrap"},O.name,r.createElement("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-medium ${O.type==="stdio"?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400":"bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-400"}`},O.type),ke===0&&r.createElement("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-400 px-1.5 py-0.5 rounded font-bold"},"")),r.createElement("div",{className:"flex items-center gap-2 mt-1"},r.createElement("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${O.status==="connected"?"bg-green-400":"bg-gray-400"}`}),r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},O.status==="connected"?"":"  ")),O.url&&r.createElement("div",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-mono mt-1 truncate"},O.url),O.command&&r.createElement("div",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-mono mt-1 truncate"},"$ ",O.command))),r.createElement("div",{className:"flex items-center gap-1 shrink-0"},r.createElement("div",{className:"flex flex-col gap-0.5 opacity-0 group-hover:opacity-100 transition"},r.createElement("button",{onClick:()=>h(ke,"up"),disabled:ke===0,className:"p-0.5 rounded hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition",title:" "},r.createElement(Cp,{size:12})),r.createElement("button",{onClick:()=>h(ke,"down"),disabled:ke===d.length-1,className:"p-0.5 rounded hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition",title:" "},r.createElement(Jc,{size:12}))),r.createElement("button",{onClick:()=>f(O.id),className:"text-gray-300 dark:text-gray-600 hover:text-red-500 dark:hover:text-red-400 transition p-1 opacity-0 group-hover:opacity-100"},r.createElement(Un,{size:15}))))))):r.createElement("div",{className:"p-8 border border-dashed border-gray-300 dark:border-gray-600 rounded-xl text-center"},r.createElement(Bn,{size:24,className:"text-gray-300 dark:text-gray-600 mx-auto mb-2"}),r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"}," MCP  "),r.createElement("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1"},"  MCP  .")),d.length>0&&r.createElement("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-2 flex items-center gap-1"},r.createElement(Dt,{size:10})," 1   .    .")),r.createElement("section",{className:"border-t border-gray-200 dark:border-gray-700 pt-4"},r.createElement("details",{className:"group"},r.createElement("summary",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 cursor-pointer flex items-center gap-1 hover:text-gray-700 dark:hover:text-gray-300"},r.createElement(Dt,{size:12})," MCP  "),r.createElement("div",{className:"mt-3 space-y-2 text-xs text-gray-500 dark:text-gray-400"},r.createElement("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},r.createElement("div",{className:"font-bold text-gray-700 dark:text-gray-300 mb-1"},"Filesystem (stdio)"),r.createElement("code",{className:"text-[10px] font-mono bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded block"},"npx -y @modelcontextprotocol/server-filesystem /path/to/dir")),r.createElement("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},r.createElement("div",{className:"font-bold text-gray-700 dark:text-gray-300 mb-1"},"GitHub (stdio)"),r.createElement("code",{className:"text-[10px] font-mono bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded block"},"npx -y @modelcontextprotocol/server-github")),r.createElement("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},r.createElement("div",{className:"font-bold text-gray-700 dark:text-gray-300 mb-1"},"Custom API (SSE)"),r.createElement("code",{className:"text-[10px] font-mono bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded block"},"http://localhost:3001/mcp/sse")))))),A==="system"&&r.createElement(Lx,{testStatus:tt,handleTestConnection:Se,testDetail:ae}))))}function Mx({icon:t,label:a,serviceName:s,testStatus:o,testDetail:c,onTest:u}){const d=o[s]||"idle",g=c[s]||"",f=()=>d==="testing"?r.createElement("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded flex items-center gap-1"},r.createElement(Fn,{size:12,className:"animate-spin"}),"  ..."):d==="success"?r.createElement("span",{className:"text-xs bg-green-50 text-green-600 px-2 py-1 rounded"},"Connected"):d==="error"?r.createElement("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded",title:g},"Disconnected"):r.createElement("span",{className:"text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded cursor-pointer hover:bg-gray-200",onClick:()=>u(s)},"");return r.createElement("div",{className:"flex justify-between items-center p-3 border rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},r.createElement("span",{className:"text-sm font-medium flex items-center gap-2"},r.createElement(t,{size:14})," ",a),f())}function Lx({testStatus:t,handleTestConnection:a,testDetail:s}){const o=[{icon:Tt,label:"Qdrant Vector DB",serviceName:"qdrant"},{icon:bn,label:"Ollama Inference",serviceName:"ollama"},{icon:_a,label:"Neo4j Graph DB",serviceName:"neo4j"},{icon:En,label:"Redis Cache",serviceName:"redis"}],c=()=>{o.forEach(u=>a(u.serviceName))};return r.createElement("div",{className:"space-y-6 max-w-2xl"},r.createElement("div",{className:"bg-gray-900 text-white rounded-xl p-6 shadow-lg"},r.createElement("div",{className:"flex items-center gap-3 mb-4"},r.createElement("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center font-bold text-xl"},"R"),r.createElement("div",null,r.createElement("h3",{className:"font-bold text-lg"},"RAG AI"),r.createElement("p",{className:"text-xs text-gray-400"},"Enterprise RAG Solution"))),r.createElement("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-gray-700 pt-4"},r.createElement("div",null,r.createElement("span",{className:"text-gray-500 block text-xs mb-1"},"Version"),r.createElement("span",{className:"font-mono"},"v1.0.0 (Beta)")),r.createElement("div",null,r.createElement("span",{className:"text-gray-500 block text-xs mb-1"},"Status"),r.createElement("span",{className:"text-green-300 flex items-center gap-1"},r.createElement("div",{className:"w-2 h-2 bg-green-300 rounded-full"})," Online")))),r.createElement("section",null,r.createElement("div",{className:"flex justify-between items-center mb-3"},r.createElement("h4",{className:"font-bold text-gray-800 text-sm"}," "),r.createElement("button",{onClick:c,className:"text-xs text-gray-600 hover:text-gray-800 font-bold flex items-center gap-1"},r.createElement(Fn,{size:12}),"  ")),r.createElement("div",{className:"space-y-2"},o.map(u=>r.createElement(Mx,{key:u.serviceName,icon:u.icon,label:u.label,serviceName:u.serviceName,testStatus:t,testDetail:s,onTest:a})))))}function lo({isOpen:t,onClose:a,title:s,children:o,size:c="md"}){const u=b.useRef(null),d={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-5xl","3xl":"max-w-7xl",full:"max-w-[95vw] h-[95vh]"};return b.useEffect(()=>{const g=f=>f.key==="Escape"&&a();return t&&(document.body.style.overflow="hidden",window.addEventListener("keydown",g)),()=>{document.body.style.overflow="unset",window.removeEventListener("keydown",g)}},[t,a]),t?Ol.createPortal(r.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6"},r.createElement("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity animate-in fade-in duration-200",onClick:a}),r.createElement("div",{ref:u,className:`relative w-full ${d[c]||d.md} bg-white dark:bg-gray-900 rounded-2xl shadow-2xl flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-200 border border-gray-200 dark:border-gray-700 overflow-hidden`},r.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-b dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50"},r.createElement("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100"},s),r.createElement("button",{onClick:a,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition"},r.createElement(mr,{size:20}))),r.createElement("div",{className:"flex-1 overflow-auto relative bg-white dark:bg-gray-900"},o))),document.body):null}function Rx(t){if(!t)return"";const a=Date.now()-new Date(t).getTime(),s=Math.floor(a/6e4);if(s<1)return" ";if(s<60)return`${s} `;const o=Math.floor(s/60);return o<24?`${o} `:`${Math.floor(o/24)} `}function Ax({isOpen:t,onClose:a,sessions:s,knowledgeBases:o,agents:c,onAction:u}){const[d,g]=b.useState(""),[f,h]=b.useState(0),y=b.useRef(null),x=b.useRef(null);b.useEffect(()=>{t&&(g(""),h(0),setTimeout(()=>y.current?.focus(),50))},[t]);const k=b.useMemo(()=>{const C=[];return C.push({category:" ",icon:un,label:"  ",action:"new-chat"}),C.push({category:" ",icon:Ll,label:"  ",action:"navigate:/knowledge"}),C.push({category:" ",icon:Yt,label:"  ",action:"toggle-web"}),C.push({category:" ",icon:In,label:"Deep Think ",action:"toggle-deep-think"}),C.push({category:" ",icon:Tt,label:"SQL  ",action:"toggle-sql"}),(s||[]).forEach(_=>{C.push({category:" ",icon:vn,label:_.title||" ",sublabel:Rx(_.updatedAt||_.createdAt),action:`session:${_.id}`})}),(o||[]).forEach(_=>{C.push({category:" ",icon:Tt,label:_.name,sublabel:`${_.files?.length||0} `,action:"navigate:/knowledge"})}),(c||[]).filter(_=>!_.agentType||_.agentType==="custom").forEach(_=>{C.push({category:"",icon:Lt,label:_.name,sublabel:_.model,action:`agent:${_.id}`})}),C.push({category:" ",icon:zp,label:" ",action:"navigate:/home"}),C.push({category:" ",icon:vn,label:"",action:"navigate:/chat"}),C.push({category:" ",icon:Tt,label:" ",action:"navigate:/knowledge"}),C.push({category:" ",icon:Lt,label:" ",action:"navigate:/agent"}),C.push({category:" ",icon:Yc,label:"",action:"navigate:/training"}),C.push({category:" ",icon:Zr,label:"",action:"navigate:/guide"}),C.push({category:" ",icon:ho,label:" ",action:"open-settings"}),C},[s,o,c]),E=b.useMemo(()=>{if(!d.trim())return k;const C=d.toLowerCase();return k.filter(_=>_.label.toLowerCase().includes(C)||_.category.toLowerCase().includes(C)||_.sublabel&&_.sublabel.toLowerCase().includes(C))},[d,k]);if(b.useEffect(()=>{h(0)},[d]),b.useEffect(()=>{if(!t)return;const C=_=>{_.key==="ArrowDown"?(_.preventDefault(),h(N=>Math.min(N+1,E.length-1))):_.key==="ArrowUp"?(_.preventDefault(),h(N=>Math.max(N-1,0))):_.key==="Enter"&&E[f]?(_.preventDefault(),u(E[f].action),a()):_.key==="Escape"&&(_.preventDefault(),a())};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[t,E,f,u,a]),b.useEffect(()=>{x.current&&x.current.querySelector(`[data-idx="${f}"]`)?.scrollIntoView({block:"nearest"})},[f]),!t)return null;const A=[];let P=null;return E.forEach((C,_)=>{C.category!==P&&(A.push({type:"header",label:C.category}),P=C.category),A.push({type:"item",...C,flatIdx:_})}),Ol.createPortal(r.createElement("div",{className:"fixed inset-0 z-[150] flex items-start justify-center pt-[18vh] animate-fadeIn",onClick:a},r.createElement("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"}),r.createElement("div",{className:"relative w-full max-w-xl bg-white dark:bg-gray-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden animate-scaleIn",onClick:C=>C.stopPropagation()},r.createElement("div",{className:"flex items-center gap-3 px-5 py-4 border-b border-gray-200 dark:border-gray-700"},r.createElement(fo,{size:18,className:"text-gray-400 shrink-0"}),r.createElement("input",{ref:y,type:"text",value:d,onChange:C=>g(C.target.value),placeholder:" ...",className:"flex-1 bg-transparent text-base text-gray-900 dark:text-gray-100 outline-none placeholder:text-gray-400"}),r.createElement("kbd",{className:"hidden sm:inline text-[10px] text-gray-400 bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded border border-gray-200 dark:border-gray-700 font-mono"},"ESC")),r.createElement("div",{ref:x,className:"max-h-[50vh] overflow-y-auto custom-scrollbar py-2"},E.length===0?r.createElement("div",{className:"px-5 py-8 text-center text-sm text-gray-400"},"  "):A.map((C,_)=>{if(C.type==="header")return r.createElement("div",{key:`h-${C.label}`,className:"px-4 pt-3 pb-1 text-[10px] text-gray-400 dark:text-gray-500 font-bold uppercase tracking-wider"},C.label);const N=C.icon,I=C.flatIdx===f;return r.createElement("button",{key:`${C.action}-${C.flatIdx}`,"data-idx":C.flatIdx,onClick:()=>{u(C.action),a()},onMouseEnter:()=>h(C.flatIdx),className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${I?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`},r.createElement(N,{size:16,className:I?"text-green-500":"text-gray-400"}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("span",{className:"text-sm font-medium truncate block"},C.label),C.sublabel&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500"},C.sublabel)))})),r.createElement("div",{className:"flex items-center gap-4 px-4 py-2.5 border-t border-gray-200 dark:border-gray-700 text-[10px] text-gray-400"},r.createElement("span",{className:"flex items-center gap-1"},r.createElement(Cp,{size:10}),r.createElement(Jc,{size:10})," "),r.createElement("span",null," "),r.createElement("span",null,"esc ")))),document.body)}const Dx=[{category:"",shortcuts:[{keys:["Ctrl","K"],desc:" "},{keys:["Ctrl","N"],desc:" "},{keys:["?"],desc:" "}]},{category:"",shortcuts:[{keys:["Enter"],desc:" "},{keys:["Shift","Enter"],desc:""},{keys:["Esc"],desc:"  /  "}]},{category:" ",shortcuts:[{keys:["Ctrl","Shift","W"],desc:"  ON/OFF"},{keys:["Ctrl","Shift","D"],desc:"Deep Think ON/OFF"},{keys:["Ctrl","Shift","S"],desc:"SQL  ON/OFF"}]},{category:"",shortcuts:[{keys:["Alt","1"],desc:""},{keys:["Alt","2"],desc:""},{keys:["Alt","3"],desc:" "},{keys:["Alt","4"],desc:""},{keys:["Alt","5"],desc:""},{keys:["Alt","6"],desc:""}]}];function Ox({children:t}){return r.createElement("kbd",{className:"inline-flex items-center justify-center min-w-[24px] h-6 px-1.5 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded text-[11px] font-mono font-medium text-gray-600 dark:text-gray-300 shadow-sm"},t)}function jx({isOpen:t,onClose:a}){return t?Ol.createPortal(r.createElement("div",{className:"fixed inset-0 z-[160] flex items-center justify-center animate-fadeIn",onClick:a},r.createElement("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"}),r.createElement("div",{className:"relative w-full max-w-lg bg-white dark:bg-gray-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden animate-scaleIn",onClick:s=>s.stopPropagation()},r.createElement("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-sm font-bold text-gray-900 dark:text-gray-100"}," "),r.createElement("button",{onClick:a,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},r.createElement(mr,{size:16}))),r.createElement("div",{className:"p-5 grid grid-cols-2 gap-6 max-h-[60vh] overflow-y-auto custom-scrollbar"},Dx.map(s=>r.createElement("div",{key:s.category},r.createElement("h3",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-bold uppercase tracking-wider mb-3"},s.category),r.createElement("div",{className:"space-y-2.5"},s.shortcuts.map((o,c)=>r.createElement("div",{key:c,className:"flex items-center justify-between gap-3"},r.createElement("span",{className:"text-xs text-gray-600 dark:text-gray-400"},o.desc),r.createElement("div",{className:"flex items-center gap-1 shrink-0"},o.keys.map((u,d)=>r.createElement(r.Fragment,{key:d},d>0&&r.createElement("span",{className:"text-[9px] text-gray-300 dark:text-gray-600"},"+"),r.createElement(Ox,null,u)))))))))),r.createElement("div",{className:"px-5 py-3 border-t border-gray-200 dark:border-gray-700 text-[10px] text-gray-400 text-center"},"    "))),document.body):null}function Fx(){const{user:t,logout:a,isAuthenticated:s}=jl(),{sessions:o,currentSessionId:c,setCurrentSessionId:u,createNewSession:d,renameSession:g,deleteSession:f,knowledgeBases:h,agents:y,config:x,setConfig:k}=La(),{confirm:E}=pr(),[A,P]=b.useState(null),[C,_]=b.useState(!1),[N,I]=b.useState(!1),[Y,Z]=b.useState(null),[M,ee]=b.useState(""),[q,X]=b.useState(!1),[z,D]=b.useState(!1),K=Ar(),xe=gr();b.useEffect(()=>{const w=["/home","/chat","/knowledge","/agent","/training","/guide"],R=$=>{const S=$.target.tagName,ve=S==="INPUT"||S==="TEXTAREA"||$.target.isContentEditable;if(($.metaKey||$.ctrlKey)&&$.key==="k"){$.preventDefault(),_(_e=>!_e);return}if(($.metaKey||$.ctrlKey)&&$.key==="n"&&!$.shiftKey){$.preventDefault(),d(),K("/chat");return}if(($.metaKey||$.ctrlKey)&&$.shiftKey){if($.key==="W"||$.key==="w"){$.preventDefault(),k({...x,useWebSearch:!x.useWebSearch});return}if($.key==="D"||$.key==="d"){$.preventDefault(),k({...x,useDeepThink:!x.useDeepThink});return}if($.key==="S"||$.key==="s"){$.preventDefault(),k({...x,useSql:!x.useSql});return}}if($.altKey&&$.key>="1"&&$.key<="6"){$.preventDefault(),K(w[parseInt($.key)-1]);return}!ve&&$.key==="?"&&!$.ctrlKey&&!$.metaKey&&($.preventDefault(),I(_e=>!_e))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[x,K,d,k]);const le=w=>{w==="new-chat"?(d(),K("/chat")):w.startsWith("navigate:")?K(w.split(":")[1]):w.startsWith("session:")?(u(w.split(":")[1]),K("/chat")):w.startsWith("agent:")?K("/chat"):w==="open-settings"?P("settings"):w==="toggle-web"?k({...x,useWebSearch:!x.useWebSearch}):w==="toggle-deep-think"?k({...x,useDeepThink:!x.useDeepThink}):w==="toggle-sql"&&k({...x,useSql:!x.useSql})};if(!s)return r.createElement(Sc,{to:"/login",replace:!0});const te=w=>{Z(w.id),ee(w.title)},J=()=>{Y&&M.trim()&&g(Y,M),Z(null)},oe=()=>{Z(null)},G=w=>xe.pathname.includes(w),ge=G("/chat");return r.createElement("div",{className:"flex flex-col h-screen bg-gray-50 overflow-hidden font-sans"},z&&r.createElement("div",{className:"fixed inset-0 z-[100] bg-gray-50/95 flex flex-col items-center justify-center border-4 border-green-400 border-dashed m-6 rounded-2xl animate-in fade-in duration-300 pointer-events-none"},r.createElement("div",{className:"w-24 h-24 bg-green-400 rounded-2xl flex items-center justify-center shadow-lg animate-bounce"},r.createElement(Ll,{size:40,className:"text-white"})),r.createElement("h2",{className:"text-2xl font-bold text-gray-900 mt-6 mb-2"},"  "),r.createElement("p",{className:"text-gray-600"},"  ...")),r.createElement("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6 shrink-0 z-20 animate-slideDown"},r.createElement("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-all hover:scale-[1.02]",onClick:()=>K("/home")},r.createElement("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center shadow-sm hover:scale-110 transition-transform"},r.createElement(Zn,{size:22,className:"text-white"})),r.createElement("div",null,r.createElement("h1",{className:"text-xl font-bold text-gray-900"},"RAG AI"),r.createElement("p",{className:"text-[10px] text-gray-500 -mt-0.5"},"Powered by Claude"))),r.createElement("nav",{className:"flex items-center gap-2"},r.createElement(Yr,{icon:zp,label:"",active:G("/home"),onClick:()=>K("/home")}),r.createElement(Yr,{icon:vn,label:"",active:G("/chat"),onClick:()=>{!ge&&o.length>0&&u(o[0].id),K("/chat")},badge:o.length>0?o.length:null}),r.createElement(Yr,{icon:Tt,label:" ",active:G("/knowledge"),onClick:()=>K("/knowledge")}),r.createElement(Yr,{icon:Lt,label:"",active:G("/agent"),onClick:()=>K("/agent")}),r.createElement(Yr,{icon:Yc,label:"",active:G("/training")||G("/finetuning"),onClick:()=>K("/training")}),r.createElement(Yr,{icon:Zr,label:"",active:G("/guide"),onClick:()=>K("/guide")}),r.createElement(Yr,{icon:ho,label:"",active:!1,onClick:()=>P("settings")})),r.createElement("div",{className:"flex items-center gap-3"},!ge&&r.createElement("button",{onClick:()=>{d(),K("/chat")},className:"flex items-center gap-2 px-4 py-2 bg-green-400 hover:bg-green-500 text-white rounded-lg font-medium text-sm transition-all hover:scale-105 active:scale-95 shadow-sm"},r.createElement(un,{size:16}),r.createElement("span",null," ")),r.createElement("div",{className:"flex items-center gap-2.5 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors cursor-pointer group"},r.createElement("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white font-bold text-sm shadow-sm group-hover:scale-110 transition-transform"},t?.name?.[0].toUpperCase()||"U"),r.createElement("div",{className:"hidden md:block"},r.createElement("div",{className:"text-sm font-semibold text-gray-900"},t?.name||"User"),r.createElement("div",{className:"text-xs text-gray-500"},t?.email?.split("@")[0]||"user")),r.createElement("button",{onClick:w=>{w.stopPropagation(),a()},className:"ml-2 p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg hover:scale-110 active:scale-95 transition-all",title:""},r.createElement(yx,{size:16}))))),r.createElement("div",{className:"flex flex-1 overflow-hidden"},ge&&r.createElement("aside",{className:`bg-white border-r border-gray-200 flex flex-col shrink-0 transition-all duration-300 ${q?"w-0":"w-[280px]"} overflow-hidden`},r.createElement("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement(vn,{size:18,className:"text-gray-500"}),r.createElement("h2",{className:"font-semibold text-gray-900"}," "),r.createElement("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full font-medium"},o.length)),r.createElement("button",{onClick:()=>X(!q),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all hover:scale-110"},r.createElement(mx,{size:16}))),r.createElement("div",{className:"p-3 border-b border-gray-200"},r.createElement("button",{onClick:()=>{d()},className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-green-400 hover:bg-green-500 text-white rounded-lg font-medium text-sm transition-all hover:scale-[1.02] active:scale-95 shadow-sm"},r.createElement(un,{size:18}),r.createElement("span",null," "))),r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-3 py-2 space-y-1"},o.length===0?r.createElement("div",{className:"text-center py-12 text-gray-500"},r.createElement(vn,{size:32,className:"mx-auto mb-2 opacity-50"}),r.createElement("p",{className:"text-sm"}," ")):o.map((w,R)=>r.createElement("div",{key:w.id,className:`relative group animate-slideUp animate-stagger-${Math.min(R%4+1,4)}`},Y===w.id?r.createElement("div",{className:"flex items-center gap-1.5 px-3 py-2.5 bg-gray-50 rounded-lg border border-gray-300"},r.createElement("input",{type:"text",value:M,onChange:$=>ee($.target.value),className:"flex-1 bg-white border border-gray-300 text-gray-900 text-sm outline-none min-w-0 px-2 py-1 rounded focus:ring-2 focus:ring-green-400 transition-all",autoFocus:!0,onKeyDown:$=>$.key==="Enter"&&J()}),r.createElement("button",{onClick:J,className:"p-1 text-green-500 hover:text-green-600 hover:scale-110 transition-all"},r.createElement(dt,{size:16})),r.createElement("button",{onClick:oe,className:"p-1 text-gray-400 hover:text-gray-600 hover:scale-110 transition-all"},r.createElement(mr,{size:16}))):r.createElement("button",{onClick:()=>u(w.id),className:`relative w-full flex items-center gap-2.5 px-3 py-2.5 rounded-lg text-sm transition-all group/btn ${c===w.id?"bg-gray-50 text-gray-700 font-medium border border-gray-200":"text-gray-700 hover:bg-gray-100 hover:scale-[1.02]"}`},r.createElement(vn,{size:16,className:`${c===w.id?"text-gray-600":"text-gray-400"} transition-all`}),r.createElement("span",{className:"truncate flex-1 text-left"},w.title),r.createElement("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 hidden group-hover:flex items-center gap-0.5 bg-white border border-gray-200 rounded-md p-0.5 shadow-sm"},r.createElement("div",{onClick:$=>{$.stopPropagation(),te(w)},className:"p-1.5 hover:text-gray-600 hover:bg-gray-50 rounded transition-all hover:scale-110 cursor-pointer"},r.createElement(zt,{size:13})),r.createElement("div",{onClick:$=>{$.stopPropagation(),E("  ?",()=>f(w.id),{confirmLabel:""})},className:"p-1.5 hover:text-red-600 hover:bg-red-50 rounded transition-all hover:scale-110 cursor-pointer"},r.createElement(Un,{size:13})))))))),ge&&q&&r.createElement("button",{onClick:()=>X(!1),className:"absolute left-0 top-20 bg-white border border-gray-200 rounded-r-lg p-2 hover:bg-gray-50 transition-all hover:scale-110 z-10 shadow-sm"},r.createElement(Cl,{size:16,className:"text-gray-600"})),r.createElement("main",{className:"flex-1 flex flex-col bg-white relative min-w-0 overflow-hidden"},r.createElement(yy,null))),r.createElement(lo,{isOpen:A==="settings",onClose:()=>P(null),title:"System Settings",size:"3xl"},r.createElement(Ix,null)),r.createElement(jx,{isOpen:N,onClose:()=>I(!1)}),r.createElement(Ax,{isOpen:C,onClose:()=>_(!1),sessions:o,knowledgeBases:h,agents:y,onAction:le}))}function Yr({icon:t,label:a,active:s,onClick:o,badge:c}){return r.createElement("button",{onClick:o,className:`relative flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all hover:scale-105 active:scale-95 ${s?"bg-green-50 text-green-600 shadow-sm":"text-gray-600 hover:bg-gray-100"}`},r.createElement(t,{size:18,className:`${s?"text-green-500":"text-gray-400"} transition-transform`}),r.createElement("span",{className:"hidden md:inline"},a),c!=null&&r.createElement("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold rounded-full w-5 h-5 flex items-center justify-center shadow-sm animate-pulse"},c))}function $x(){const t=Ar(),{user:a}=jl(),{agents:s,knowledgeBases:o,sessions:c,createNewSession:u,setCurrentSessionId:d,config:g}=La(),[f,h]=b.useState({}),[y,x]=b.useState(!0);b.useEffect(()=>{(async()=>{x(!0);const I=["neo4j","redis","qdrant","ollama"],Y={};await Promise.all(I.map(async Z=>{try{const M=await wp.testService(Z);Y[Z]=M.status==="connected"}catch{Y[Z]=!1}})),h(Y),x(!1)})()},[]);const k=o.reduce((N,I)=>N+(I.files?.length||0),0),E=Object.values(f).filter(Boolean).length,A=()=>{u(),t("/chat")},P=new Date().getHours(),C=P<12?" ":P<18?" ":" ",_=a?.name||"User";return r.createElement("div",{className:"h-full overflow-y-auto bg-gray-50 custom-scrollbar"},r.createElement("div",{className:"max-w-7xl mx-auto px-8 py-10 space-y-10"},r.createElement("section",{className:"animate-slideDown"},r.createElement("div",{className:"flex items-end justify-between mb-8"},r.createElement("div",null,r.createElement("h1",{className:"text-3xl font-bold text-gray-900"},C,", ",r.createElement("span",{className:"text-gray-600"},_)),r.createElement("p",{className:"text-base text-gray-600 mt-2"},"RAG AI     .")),r.createElement("button",{onClick:A,className:"ripple-container flex items-center gap-2.5 px-6 py-3 bg-green-500 hover:bg-green-600 active:scale-95 text-white text-sm font-semibold rounded-lg shadow-sm hover:shadow-md transition-all"},r.createElement(un,{size:18,className:"group-hover:rotate-90 transition-transform duration-300"}),"  ")),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5"},r.createElement("button",{onClick:A,className:"group relative p-7 bg-white rounded-lg text-left border border-gray-200 hover:border-gray-400 hover-lift animate-slideUp animate-stagger-1"},r.createElement("div",{className:"w-12 h-12 bg-gray-50 text-gray-600 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"},r.createElement(vn,{size:24,className:"group-hover:rotate-6 transition-transform"})),r.createElement("div",{className:"font-bold text-lg text-gray-900"},"RAG  "),r.createElement("div",{className:"text-sm text-gray-600 mt-1.5 leading-relaxed"},"   AI "),r.createElement(Nl,{size:16,className:"absolute bottom-6 right-6 text-gray-300 group-hover:text-gray-500 group-hover:translate-x-1 transition-all"})),r.createElement("button",{onClick:()=>t("/knowledge"),className:"group relative p-7 bg-white rounded-lg text-left border border-gray-200 hover:border-purple-400 hover-lift animate-slideUp animate-stagger-2"},r.createElement("div",{className:"w-12 h-12 bg-purple-50 text-purple-600 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"},r.createElement(Tt,{size:24,className:"group-hover:rotate-6 transition-transform"})),r.createElement("div",{className:"font-bold text-lg text-gray-900"}," "),r.createElement("div",{className:"text-sm text-gray-600 mt-1.5 leading-relaxed"},"     "),r.createElement(Nl,{size:16,className:"absolute bottom-6 right-6 text-gray-300 group-hover:text-purple-500 group-hover:translate-x-1 transition-all"})),r.createElement("button",{onClick:()=>t("/agent"),className:"group relative p-7 bg-white rounded-lg text-left border border-gray-200 hover:border-gray-400 hover-lift animate-slideUp animate-stagger-3"},r.createElement("div",{className:"w-12 h-12 bg-gray-50 text-gray-600 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"},r.createElement(Lt,{size:24,className:"group-hover:rotate-6 transition-transform"})),r.createElement("div",{className:"font-bold text-lg text-gray-900"}," "),r.createElement("div",{className:"text-sm text-gray-600 mt-1.5 leading-relaxed"},"AI    "),r.createElement(Nl,{size:16,className:"absolute bottom-6 right-6 text-gray-300 group-hover:text-gray-500 group-hover:translate-x-1 transition-all"})))),r.createElement("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-fadeIn"},r.createElement("div",{className:"lg:col-span-2 grid grid-cols-2 sm:grid-cols-4 gap-4"},[{label:"",value:s.length,icon:Lt,color:"text-gray-600",bg:"bg-gray-50"},{label:" ",value:o.length,icon:Tt,color:"text-purple-600",bg:"bg-purple-50"},{label:"",value:k,icon:Zr,color:"text-green-500",bg:"bg-green-50"},{label:"",value:c.length,icon:vn,color:"text-orange-600",bg:"bg-orange-50"}].map((N,I)=>r.createElement("div",{key:I,className:`bg-white p-5 rounded-lg border border-gray-200 hover:border-gray-300 hover-lift cursor-pointer animate-scaleIn animate-stagger-${I+1}`},r.createElement("div",{className:`w-10 h-10 ${N.bg} ${N.color} rounded-lg flex items-center justify-center mb-3 hover:scale-110 transition-transform`},r.createElement(N.icon,{size:20})),r.createElement("div",{className:"text-3xl font-bold text-gray-900 tracking-tight"},N.value),r.createElement("div",{className:"text-xs font-semibold text-gray-500 mt-1"},N.label)))),r.createElement("div",{className:"bg-white rounded-lg border border-gray-200 p-5 animate-scaleIn"},r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-600 uppercase tracking-wider"}," "),!y&&r.createElement("span",{className:`text-xs font-semibold px-2.5 py-1 rounded-full animate-scaleIn ${E===4?"bg-green-50 text-green-600":E>=2?"bg-yellow-50 text-yellow-700":"bg-red-50 text-red-700"}`},E,"/4 ")),r.createElement("div",{className:"space-y-2.5"},[{key:"ollama",label:"Ollama",desc:"LLM ",icon:bn},{key:"qdrant",label:"Qdrant",desc:" ",icon:Tt},{key:"neo4j",label:"Neo4j",desc:" ",icon:Yt},{key:"redis",label:"Redis",desc:"",icon:En}].map((N,I)=>r.createElement("div",{key:N.key,className:`flex items-center gap-3.5 px-3 py-2.5 rounded-lg hover:bg-gray-50 transition-all cursor-pointer animate-slideUp animate-stagger-${I+1}`},r.createElement("div",{className:`relative w-2.5 h-2.5 rounded-full shrink-0 ${y?"bg-gray-300 animate-pulse":f[N.key]?"bg-green-400":"bg-red-400"}`},!y&&f[N.key]&&r.createElement("span",{className:"absolute inset-0 rounded-full bg-green-400 animate-ping opacity-30"})),r.createElement(N.icon,{size:16,className:"text-gray-500 shrink-0 hover:scale-110 transition-transform"}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("span",{className:"text-sm font-semibold text-gray-800"},N.label),r.createElement("span",{className:"text-xs text-gray-500 ml-2"},N.desc)),!y&&r.createElement("span",{className:`text-xs font-semibold transition-colors ${f[N.key]?"text-green-500":"text-red-500"}`},f[N.key]?"ON":"OFF")))))),(k===0||c.length<=1)&&r.createElement("section",{className:"bg-green-500 rounded-lg p-8 text-white animate-slideUp"},r.createElement("div",{className:"flex items-center gap-2.5 mb-2"},r.createElement(Zr,{size:18,className:"animate-float"}),r.createElement("span",{className:"text-sm font-semibold text-gray-100 uppercase tracking-wider"}," ")),r.createElement("h3",{className:"text-xl font-bold mb-5"},"3 RAG AI "),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},[{step:1,title:" ",desc:"  PDF, DOCX  ",done:k>0,path:"/knowledge"},{step:2,title:" ",desc:"AI    ",done:s.length>1,path:"/agent"},{step:3,title:" ",desc:"     ",done:c.length>1,action:A}].map((N,I)=>r.createElement("button",{key:N.step,onClick:()=>N.action?N.action():t(N.path),className:`bg-white/20 hover:bg-white/30 active:scale-95 rounded-lg p-5 text-left transition-all group hover-lift animate-scaleIn animate-stagger-${I+1}`},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("span",{className:`w-7 h-7 rounded-full text-sm font-bold flex items-center justify-center transition-all group-hover:scale-110 ${N.done?"bg-white text-green-600":"bg-white/40 text-white"}`},N.done?r.createElement(dt,{size:16}):N.step),r.createElement(Nl,{size:16,className:"text-gray-200 group-hover:translate-x-2 transition-transform"})),r.createElement("div",{className:"font-bold text-base"},N.title),r.createElement("div",{className:"text-sm text-gray-100 mt-1.5"},N.desc))))),r.createElement("section",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 animate-fadeIn"},r.createElement("div",{className:"lg:col-span-3"},r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("h3",{className:"text-base font-bold text-gray-800 flex items-center gap-2.5"},r.createElement(vn,{size:18,className:"text-gray-500"}),"  "),c.length>5&&r.createElement("button",{onClick:()=>t("/chat"),className:"text-sm text-gray-600 hover:text-gray-700 font-semibold flex items-center gap-1 transition-all hover:gap-2"},"  ",r.createElement(Cl,{size:14}))),r.createElement("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden animate-scaleIn"},c.length===0?r.createElement("div",{className:"py-16 text-center"},r.createElement(vn,{size:36,className:"mx-auto mb-3 text-gray-300 animate-float"}),r.createElement("p",{className:"text-base text-gray-500"},"  "),r.createElement("button",{onClick:A,className:"mt-4 text-sm text-gray-600 hover:text-gray-700 font-semibold transition-all hover:scale-105"},"   ")):r.createElement("div",{className:"divide-y divide-gray-100"},c.slice(0,5).map((N,I)=>r.createElement("button",{key:N.id,onClick:()=>{d(N.id),t("/chat")},className:`w-full px-5 py-4 hover:bg-gray-50 flex items-center gap-4 transition-all text-left group animate-slideUp animate-stagger-${Math.min(I+1,4)}`},r.createElement("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500 group-hover:bg-gray-50 group-hover:text-gray-600 group-hover:scale-110 transition-all shrink-0"},r.createElement(vn,{size:18})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-[15px] font-semibold text-gray-900 truncate group-hover:text-gray-600 transition-colors"},N.title),r.createElement("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1.5"},r.createElement("span",null,N.messages.length," "))),r.createElement(Cl,{size:16,className:"text-gray-300 group-hover:text-gray-500 group-hover:translate-x-1 transition-all shrink-0"})))))),r.createElement("div",{className:"lg:col-span-2"},r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("h3",{className:"text-base font-bold text-gray-800 flex items-center gap-2.5"},r.createElement(Lt,{size:18,className:"text-gray-500"})," "),r.createElement("button",{onClick:()=>t("/agent"),className:"text-sm text-gray-600 hover:text-gray-700 font-semibold flex items-center gap-1 transition-all hover:gap-2"}," ",r.createElement(Cl,{size:14}))),r.createElement("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden animate-scaleIn"},s.length===0?r.createElement("div",{className:"py-16 text-center"},r.createElement(Lt,{size:36,className:"mx-auto mb-3 text-gray-300 animate-float"}),r.createElement("p",{className:"text-base text-gray-500"}," ")):r.createElement("div",{className:"divide-y divide-gray-100"},s.slice(0,4).map((N,I)=>{const Y=["bg-gray-600","bg-purple-600","bg-green-500","bg-orange-600"],Z=N.id.charCodeAt(N.id.length-1)%Y.length;return r.createElement("div",{key:N.id,className:`px-5 py-4 flex items-center gap-3.5 hover:bg-gray-50 transition-all cursor-pointer animate-slideUp animate-stagger-${Math.min(I+1,4)}`},r.createElement("div",{className:`w-10 h-10 rounded-lg ${Y[Z]} flex items-center justify-center text-white text-sm font-bold shrink-0 hover:scale-110 transition-transform`},N.name[0]),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-[15px] font-semibold text-gray-900 truncate"},N.name),r.createElement("div",{className:"text-xs text-gray-500 truncate mt-1"},N.model||g.llm||"default")))}))))),r.createElement("section",{className:"pb-6 animate-fadeIn"},r.createElement("h3",{className:"text-base font-bold text-gray-800 mb-4 flex items-center gap-2.5"},r.createElement(En,{size:18,className:"text-yellow-600 animate-pulse"}),"  "),r.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},[{icon:Tt,label:"RAG ",desc:" +  ",color:"text-purple-600",bg:"bg-purple-50"},{icon:Yt,label:" ",desc:"DuckDuckGo / Brave / Tavily",color:"text-gray-600",bg:"bg-gray-50"},{icon:Xr,label:"Text-to-SQL",desc:" DB ",color:"text-orange-600",bg:"bg-orange-50"},{icon:In,label:"Deep Think",desc:"   ",color:"text-gray-600",bg:"bg-gray-50"}].map((N,I)=>r.createElement("div",{key:I,className:`bg-white border border-gray-200 rounded-lg p-5 hover:border-gray-300 hover-lift cursor-pointer animate-scaleIn animate-stagger-${I+1}`},r.createElement("div",{className:`w-10 h-10 ${N.bg} ${N.color} rounded-lg flex items-center justify-center mb-3 hover:scale-110 hover:rotate-6 transition-all`},r.createElement(N.icon,{size:20})),r.createElement("div",{className:"text-sm font-bold text-gray-900"},N.label),r.createElement("div",{className:"text-xs text-gray-600 mt-1"},N.desc)))))))}function Bx(t,a){const s={};return(t[t.length-1]===""?[...t,""]:t).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}const Ux=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Hx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Vx={};function dg(t,a){return(Vx.jsx?Hx:Ux).test(t)}const qx=/[ \t\n\f\r]/g;function Wx(t){return typeof t=="object"?t.type==="text"?mg(t.value):!1:mg(t)}function mg(t){return t.replace(qx,"")===""}class $l{constructor(a,s,o){this.normal=s,this.property=a,o&&(this.space=o)}}$l.prototype.normal={};$l.prototype.property={};$l.prototype.space=void 0;function Op(t,a){const s={},o={};for(const c of t)Object.assign(s,c.property),Object.assign(o,c.normal);return new $l(s,o,a)}function Mc(t){return t.toLowerCase()}class mn{constructor(a,s){this.attribute=s,this.property=a}}mn.prototype.attribute="";mn.prototype.booleanish=!1;mn.prototype.boolean=!1;mn.prototype.commaOrSpaceSeparated=!1;mn.prototype.commaSeparated=!1;mn.prototype.defined=!1;mn.prototype.mustUseProperty=!1;mn.prototype.number=!1;mn.prototype.overloadedBoolean=!1;mn.prototype.property="";mn.prototype.spaceSeparated=!1;mn.prototype.space=void 0;let Kx=0;const Je=ea(),At=ea(),Lc=ea(),me=ea(),ft=ea(),Ta=ea(),xn=ea();function ea(){return 2**++Kx}const Rc=Object.freeze(Object.defineProperty({__proto__:null,boolean:Je,booleanish:At,commaOrSpaceSeparated:xn,commaSeparated:Ta,number:me,overloadedBoolean:Lc,spaceSeparated:ft},Symbol.toStringTag,{value:"Module"})),cc=Object.keys(Rc);class Zc extends mn{constructor(a,s,o,c){let u=-1;if(super(a,s),gg(this,"space",c),typeof o=="number")for(;++u<cc.length;){const d=cc[u];gg(this,cc[u],(o&Rc[d])===Rc[d])}}}Zc.prototype.defined=!0;function gg(t,a,s){s&&(t[a]=s)}function Ra(t){const a={},s={};for(const[o,c]of Object.entries(t.properties)){const u=new Zc(o,t.transform(t.attributes||{},o),c,t.space);t.mustUseProperty&&t.mustUseProperty.includes(o)&&(u.mustUseProperty=!0),a[o]=u,s[Mc(o)]=o,s[Mc(u.attribute)]=o}return new $l(a,s,t.space)}const jp=Ra({properties:{ariaActiveDescendant:null,ariaAtomic:At,ariaAutoComplete:null,ariaBusy:At,ariaChecked:At,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:ft,ariaCurrent:null,ariaDescribedBy:ft,ariaDetails:null,ariaDisabled:At,ariaDropEffect:ft,ariaErrorMessage:null,ariaExpanded:At,ariaFlowTo:ft,ariaGrabbed:At,ariaHasPopup:null,ariaHidden:At,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ft,ariaLevel:me,ariaLive:null,ariaModal:At,ariaMultiLine:At,ariaMultiSelectable:At,ariaOrientation:null,ariaOwns:ft,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:At,ariaReadOnly:At,ariaRelevant:null,ariaRequired:At,ariaRoleDescription:ft,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:At,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null},transform(t,a){return a==="role"?a:"aria-"+a.slice(4).toLowerCase()}});function Fp(t,a){return a in t?t[a]:a}function $p(t,a){return Fp(t,a.toLowerCase())}const Gx=Ra({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ta,acceptCharset:ft,accessKey:ft,action:null,allow:null,allowFullScreen:Je,allowPaymentRequest:Je,allowUserMedia:Je,alt:null,as:null,async:Je,autoCapitalize:null,autoComplete:ft,autoFocus:Je,autoPlay:Je,blocking:ft,capture:null,charSet:null,checked:Je,cite:null,className:ft,cols:me,colSpan:null,content:null,contentEditable:At,controls:Je,controlsList:ft,coords:me|Ta,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Je,defer:Je,dir:null,dirName:null,disabled:Je,download:Lc,draggable:At,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Je,formTarget:null,headers:ft,height:me,hidden:Lc,high:me,href:null,hrefLang:null,htmlFor:ft,httpEquiv:ft,id:null,imageSizes:null,imageSrcSet:null,inert:Je,inputMode:null,integrity:null,is:null,isMap:Je,itemId:null,itemProp:ft,itemRef:ft,itemScope:Je,itemType:ft,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Je,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:Je,muted:Je,name:null,nonce:null,noModule:Je,noValidate:Je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Je,optimum:me,pattern:null,ping:ft,placeholder:null,playsInline:Je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Je,referrerPolicy:null,rel:ft,required:Je,reversed:Je,rows:me,rowSpan:me,sandbox:ft,scope:null,scoped:Je,seamless:Je,selected:Je,shadowRootClonable:Je,shadowRootDelegatesFocus:Je,shadowRootMode:null,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:At,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:Je,useMap:null,value:At,width:me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ft,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Je,declare:Je,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:Je,noHref:Je,noShade:Je,noWrap:Je,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:At,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Je,disableRemotePlayback:Je,prefix:null,property:null,results:me,security:null,unselectable:null},space:"html",transform:$p}),Qx=Ra({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:xn,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:ft,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:Je,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ta,g2:Ta,glyphName:Ta,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:xn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ft,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xn,rev:xn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xn,requiredFeatures:xn,requiredFonts:xn,requiredFormats:xn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:xn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xn,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Fp}),Bp=Ra({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,a){return"xlink:"+a.slice(5).toLowerCase()}}),Up=Ra({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:$p}),Hp=Ra({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,a){return"xml:"+a.slice(3).toLowerCase()}}),Jx={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Yx=/[A-Z]/g,pg=/-[a-z]/g,Xx=/^data[-\w.:]+$/i;function Zx(t,a){const s=Mc(a);let o=a,c=mn;if(s in t.normal)return t.property[t.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&Xx.test(a)){if(a.charAt(4)==="-"){const u=a.slice(5).replace(pg,tb);o="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=a.slice(4);if(!pg.test(u)){let d=u.replace(Yx,eb);d.charAt(0)!=="-"&&(d="-"+d),a="data"+d}}c=Zc}return new c(o,a)}function eb(t){return"-"+t.toLowerCase()}function tb(t){return t.charAt(1).toUpperCase()}const nb=Op([jp,Gx,Bp,Up,Hp],"html"),eu=Op([jp,Qx,Bp,Up,Hp],"svg");function rb(t){return t.join(" ").trim()}var Na={},uc,fg;function ab(){if(fg)return uc;fg=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,a=/\n/g,s=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,c=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,g=/^\s+|\s+$/g,f=`
`,h="/",y="*",x="",k="comment",E="declaration";function A(C,_){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];_=_||{};var N=1,I=1;function Y(le){var te=le.match(a);te&&(N+=te.length);var J=le.lastIndexOf(f);I=~J?le.length-J:I+le.length}function Z(){var le={line:N,column:I};return function(te){return te.position=new M(le),X(),te}}function M(le){this.start=le,this.end={line:N,column:I},this.source=_.source}M.prototype.content=C;function ee(le){var te=new Error(_.source+":"+N+":"+I+": "+le);if(te.reason=le,te.filename=_.source,te.line=N,te.column=I,te.source=C,!_.silent)throw te}function q(le){var te=le.exec(C);if(te){var J=te[0];return Y(J),C=C.slice(J.length),te}}function X(){q(s)}function z(le){var te;for(le=le||[];te=D();)te!==!1&&le.push(te);return le}function D(){var le=Z();if(!(h!=C.charAt(0)||y!=C.charAt(1))){for(var te=2;x!=C.charAt(te)&&(y!=C.charAt(te)||h!=C.charAt(te+1));)++te;if(te+=2,x===C.charAt(te-1))return ee("End of comment missing");var J=C.slice(2,te-2);return I+=2,Y(J),C=C.slice(te),I+=2,le({type:k,comment:J})}}function K(){var le=Z(),te=q(o);if(te){if(D(),!q(c))return ee("property missing ':'");var J=q(u),oe=le({type:E,property:P(te[0].replace(t,x)),value:J?P(J[0].replace(t,x)):x});return q(d),oe}}function xe(){var le=[];z(le);for(var te;te=K();)te!==!1&&(le.push(te),z(le));return le}return X(),xe()}function P(C){return C?C.replace(g,x):x}return uc=A,uc}var hg;function lb(){if(hg)return Na;hg=1;var t=Na&&Na.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Na,"__esModule",{value:!0}),Na.default=s;const a=t(ab());function s(o,c){let u=null;if(!o||typeof o!="string")return u;const d=(0,a.default)(o),g=typeof c=="function";return d.forEach(f=>{if(f.type!=="declaration")return;const{property:h,value:y}=f;g?c(h,y,f):y&&(u=u||{},u[h]=y)}),u}return Na}var bl={},yg;function sb(){if(yg)return bl;yg=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,a=/-([a-z])/g,s=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,c=/^-(ms)-/,u=function(h){return!h||s.test(h)||t.test(h)},d=function(h,y){return y.toUpperCase()},g=function(h,y){return"".concat(y,"-")},f=function(h,y){return y===void 0&&(y={}),u(h)?h:(h=h.toLowerCase(),y.reactCompat?h=h.replace(c,g):h=h.replace(o,g),h.replace(a,d))};return bl.camelCase=f,bl}var vl,xg;function ob(){if(xg)return vl;xg=1;var t=vl&&vl.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},a=t(lb()),s=sb();function o(c,u){var d={};return!c||typeof c!="string"||(0,a.default)(c,function(g,f){g&&f&&(d[(0,s.camelCase)(g,u)]=f)}),d}return o.default=o,vl=o,vl}var ib=ob();const cb=uo(ib),Vp=qp("end"),tu=qp("start");function qp(t){return a;function a(s){const o=s&&s.position&&s.position[t]||{};if(typeof o.line=="number"&&o.line>0&&typeof o.column=="number"&&o.column>0)return{line:o.line,column:o.column,offset:typeof o.offset=="number"&&o.offset>-1?o.offset:void 0}}}function ub(t){const a=tu(t),s=Vp(t);if(a&&s)return{start:a,end:s}}function Tl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?bg(t.position):"start"in t||"end"in t?bg(t):"line"in t||"column"in t?Ac(t):""}function Ac(t){return vg(t&&t.line)+":"+vg(t&&t.column)}function bg(t){return Ac(t&&t.start)+"-"+Ac(t&&t.end)}function vg(t){return t&&typeof t=="number"?t:1}class Xt extends Error{constructor(a,s,o){super(),typeof s=="string"&&(o=s,s=void 0);let c="",u={},d=!1;if(s&&("line"in s&&"column"in s?u={place:s}:"start"in s&&"end"in s?u={place:s}:"type"in s?u={ancestors:[s],place:s.position}:u={...s}),typeof a=="string"?c=a:!u.cause&&a&&(d=!0,c=a.message,u.cause=a),!u.ruleId&&!u.source&&typeof o=="string"){const f=o.indexOf(":");f===-1?u.ruleId=o:(u.source=o.slice(0,f),u.ruleId=o.slice(f+1))}if(!u.place&&u.ancestors&&u.ancestors){const f=u.ancestors[u.ancestors.length-1];f&&(u.place=f.position)}const g=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=g?g.column:void 0,this.fatal=void 0,this.file="",this.message=c,this.line=g?g.line:void 0,this.name=Tl(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=d&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Xt.prototype.file="";Xt.prototype.name="";Xt.prototype.reason="";Xt.prototype.message="";Xt.prototype.stack="";Xt.prototype.column=void 0;Xt.prototype.line=void 0;Xt.prototype.ancestors=void 0;Xt.prototype.cause=void 0;Xt.prototype.fatal=void 0;Xt.prototype.place=void 0;Xt.prototype.ruleId=void 0;Xt.prototype.source=void 0;const nu={}.hasOwnProperty,db=new Map,mb=/[A-Z]/g,gb=new Set(["table","tbody","thead","tfoot","tr"]),pb=new Set(["td","th"]),Wp="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function fb(t,a){if(!a||a.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const s=a.filePath||void 0;let o;if(a.development){if(typeof a.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");o=wb(s,a.jsxDEV)}else{if(typeof a.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof a.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");o=kb(s,a.jsx,a.jsxs)}const c={Fragment:a.Fragment,ancestors:[],components:a.components||{},create:o,elementAttributeNameCase:a.elementAttributeNameCase||"react",evaluater:a.createEvaluater?a.createEvaluater():void 0,filePath:s,ignoreInvalidStyle:a.ignoreInvalidStyle||!1,passKeys:a.passKeys!==!1,passNode:a.passNode||!1,schema:a.space==="svg"?eu:nb,stylePropertyNameCase:a.stylePropertyNameCase||"dom",tableCellAlignToStyle:a.tableCellAlignToStyle!==!1},u=Kp(c,t,void 0);return u&&typeof u!="string"?u:c.create(t,c.Fragment,{children:u||void 0},void 0)}function Kp(t,a,s){if(a.type==="element")return hb(t,a,s);if(a.type==="mdxFlowExpression"||a.type==="mdxTextExpression")return yb(t,a);if(a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement")return bb(t,a,s);if(a.type==="mdxjsEsm")return xb(t,a);if(a.type==="root")return vb(t,a,s);if(a.type==="text")return Eb(t,a)}function hb(t,a,s){const o=t.schema;let c=o;a.tagName.toLowerCase()==="svg"&&o.space==="html"&&(c=eu,t.schema=c),t.ancestors.push(a);const u=Qp(t,a.tagName,!1),d=Nb(t,a);let g=au(t,a);return gb.has(a.tagName)&&(g=g.filter(function(f){return typeof f=="string"?!Wx(f):!0})),Gp(t,d,u,a),ru(d,g),t.ancestors.pop(),t.schema=o,t.create(a,u,d,s)}function yb(t,a){if(a.data&&a.data.estree&&t.evaluater){const o=a.data.estree.body[0];return o.type,t.evaluater.evaluateExpression(o.expression)}Rl(t,a.position)}function xb(t,a){if(a.data&&a.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(a.data.estree);Rl(t,a.position)}function bb(t,a,s){const o=t.schema;let c=o;a.name==="svg"&&o.space==="html"&&(c=eu,t.schema=c),t.ancestors.push(a);const u=a.name===null?t.Fragment:Qp(t,a.name,!0),d=Sb(t,a),g=au(t,a);return Gp(t,d,u,a),ru(d,g),t.ancestors.pop(),t.schema=o,t.create(a,u,d,s)}function vb(t,a,s){const o={};return ru(o,au(t,a)),t.create(a,t.Fragment,o,s)}function Eb(t,a){return a.value}function Gp(t,a,s,o){typeof s!="string"&&s!==t.Fragment&&t.passNode&&(a.node=o)}function ru(t,a){if(a.length>0){const s=a.length>1?a:a[0];s&&(t.children=s)}}function kb(t,a,s){return o;function o(c,u,d,g){const h=Array.isArray(d.children)?s:a;return g?h(u,d,g):h(u,d)}}function wb(t,a){return s;function s(o,c,u,d){const g=Array.isArray(u.children),f=tu(o);return a(c,u,d,g,{columnNumber:f?f.column-1:void 0,fileName:t,lineNumber:f?f.line:void 0},void 0)}}function Nb(t,a){const s={};let o,c;for(c in a.properties)if(c!=="children"&&nu.call(a.properties,c)){const u=Cb(t,c,a.properties[c]);if(u){const[d,g]=u;t.tableCellAlignToStyle&&d==="align"&&typeof g=="string"&&pb.has(a.tagName)?o=g:s[d]=g}}if(o){const u=s.style||(s.style={});u[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=o}return s}function Sb(t,a){const s={};for(const o of a.attributes)if(o.type==="mdxJsxExpressionAttribute")if(o.data&&o.data.estree&&t.evaluater){const u=o.data.estree.body[0];u.type;const d=u.expression;d.type;const g=d.properties[0];g.type,Object.assign(s,t.evaluater.evaluateExpression(g.argument))}else Rl(t,a.position);else{const c=o.name;let u;if(o.value&&typeof o.value=="object")if(o.value.data&&o.value.data.estree&&t.evaluater){const g=o.value.data.estree.body[0];g.type,u=t.evaluater.evaluateExpression(g.expression)}else Rl(t,a.position);else u=o.value===null?!0:o.value;s[c]=u}return s}function au(t,a){const s=[];let o=-1;const c=t.passKeys?new Map:db;for(;++o<a.children.length;){const u=a.children[o];let d;if(t.passKeys){const f=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(f){const h=c.get(f)||0;d=f+"-"+h,c.set(f,h+1)}}const g=Kp(t,u,d);g!==void 0&&s.push(g)}return s}function Cb(t,a,s){const o=Zx(t.schema,a);if(!(s==null||typeof s=="number"&&Number.isNaN(s))){if(Array.isArray(s)&&(s=o.commaSeparated?Bx(s):rb(s)),o.property==="style"){let c=typeof s=="object"?s:_b(t,String(s));return t.stylePropertyNameCase==="css"&&(c=Tb(c)),["style",c]}return[t.elementAttributeNameCase==="react"&&o.space?Jx[o.property]||o.property:o.attribute,s]}}function _b(t,a){try{return cb(a,{reactCompat:!0})}catch(s){if(t.ignoreInvalidStyle)return{};const o=s,c=new Xt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw c.file=t.filePath||void 0,c.url=Wp+"#cannot-parse-style-attribute",c}}function Qp(t,a,s){let o;if(!s)o={type:"Literal",value:a};else if(a.includes(".")){const c=a.split(".");let u=-1,d;for(;++u<c.length;){const g=dg(c[u])?{type:"Identifier",name:c[u]}:{type:"Literal",value:c[u]};d=d?{type:"MemberExpression",object:d,property:g,computed:!!(u&&g.type==="Literal"),optional:!1}:g}o=d}else o=dg(a)&&!/^[a-z]/.test(a)?{type:"Identifier",name:a}:{type:"Literal",value:a};if(o.type==="Literal"){const c=o.value;return nu.call(t.components,c)?t.components[c]:c}if(t.evaluater)return t.evaluater.evaluateExpression(o);Rl(t)}function Rl(t,a){const s=new Xt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:a,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=Wp+"#cannot-handle-mdx-estrees-without-createevaluater",s}function Tb(t){const a={};let s;for(s in t)nu.call(t,s)&&(a[zb(s)]=t[s]);return a}function zb(t){let a=t.replace(mb,Pb);return a.slice(0,3)==="ms-"&&(a="-"+a),a}function Pb(t){return"-"+t.toLowerCase()}const dc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]};var mc={exports:{}},El={};var Eg;function Ib(){if(Eg)return El;Eg=1;var t=Uc(),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(g,f,h){var y,x={},k=null,E=null;h!==void 0&&(k=""+h),f.key!==void 0&&(k=""+f.key),f.ref!==void 0&&(E=f.ref);for(y in f)o.call(f,y)&&!u.hasOwnProperty(y)&&(x[y]=f[y]);if(g&&g.defaultProps)for(y in f=g.defaultProps,f)x[y]===void 0&&(x[y]=f[y]);return{$$typeof:a,type:g,key:k,ref:E,props:x,_owner:c.current}}return El.Fragment=s,El.jsx=d,El.jsxs=d,El}var kg;function Mb(){return kg||(kg=1,mc.exports=Ib()),mc.exports}var gc=Mb();const Lb={};function Rb(t,a){const s=Lb,o=typeof s.includeImageAlt=="boolean"?s.includeImageAlt:!0,c=typeof s.includeHtml=="boolean"?s.includeHtml:!0;return Jp(t,o,c)}function Jp(t,a,s){if(Ab(t)){if("value"in t)return t.type==="html"&&!s?"":t.value;if(a&&"alt"in t&&t.alt)return t.alt;if("children"in t)return wg(t.children,a,s)}return Array.isArray(t)?wg(t,a,s):""}function wg(t,a,s){const o=[];let c=-1;for(;++c<t.length;)o[c]=Jp(t[c],a,s);return o.join("")}function Ab(t){return!!(t&&typeof t=="object")}const Ng=document.createElement("i");function lu(t){const a="&"+t+";";Ng.innerHTML=a;const s=Ng.textContent;return s.charCodeAt(s.length-1)===59&&t!=="semi"||s===a?!1:s}function er(t,a,s,o){const c=t.length;let u=0,d;if(a<0?a=-a>c?0:c+a:a=a>c?c:a,s=s>0?s:0,o.length<1e4)d=Array.from(o),d.unshift(a,s),t.splice(...d);else for(s&&t.splice(a,s);u<o.length;)d=o.slice(u,u+1e4),d.unshift(a,0),t.splice(...d),u+=1e4,a+=1e4}function Pn(t,a){return t.length>0?(er(t,t.length,0,a),t):a}const Sg={}.hasOwnProperty;function Db(t){const a={};let s=-1;for(;++s<t.length;)Ob(a,t[s]);return a}function Ob(t,a){let s;for(s in a){const c=(Sg.call(t,s)?t[s]:void 0)||(t[s]={}),u=a[s];let d;if(u)for(d in u){Sg.call(c,d)||(c[d]=[]);const g=u[d];jb(c[d],Array.isArray(g)?g:g?[g]:[])}}}function jb(t,a){let s=-1;const o=[];for(;++s<a.length;)(a[s].add==="after"?t:o).push(a[s]);er(t,0,0,o)}function Yp(t,a){const s=Number.parseInt(t,a);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(s&65535)===65535||(s&65535)===65534||s>1114111?"":String.fromCodePoint(s)}function za(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Xn=Dr(/[A-Za-z]/),kn=Dr(/[\dA-Za-z]/),Fb=Dr(/[#-'*+\--9=?A-Z^-~]/);function Dc(t){return t!==null&&(t<32||t===127)}const Oc=Dr(/\d/),$b=Dr(/[\dA-Fa-f]/),Bb=Dr(/[!-/:-@[-`{-~]/);function Ve(t){return t!==null&&t<-2}function dn(t){return t!==null&&(t<0||t===32)}function ot(t){return t===-2||t===-1||t===32}const Ub=Dr(new RegExp("\\p{P}|\\p{S}","u")),Hb=Dr(/\s/);function Dr(t){return a;function a(s){return s!==null&&s>-1&&t.test(String.fromCharCode(s))}}function Aa(t){const a=[];let s=-1,o=0,c=0;for(;++s<t.length;){const u=t.charCodeAt(s);let d="";if(u===37&&kn(t.charCodeAt(s+1))&&kn(t.charCodeAt(s+2)))c=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(d=String.fromCharCode(u));else if(u>55295&&u<57344){const g=t.charCodeAt(s+1);u<56320&&g>56319&&g<57344?(d=String.fromCharCode(u,g),c=1):d=""}else d=String.fromCharCode(u);d&&(a.push(t.slice(o,s),encodeURIComponent(d)),o=s+c+1,d=""),c&&(s+=c,c=0)}return a.join("")+t.slice(o)}function ht(t,a,s,o){const c=o?o-1:Number.POSITIVE_INFINITY;let u=0;return d;function d(f){return ot(f)?(t.enter(s),g(f)):a(f)}function g(f){return ot(f)&&u++<c?(t.consume(f),g):(t.exit(s),a(f))}}const Vb={tokenize:qb};function qb(t){const a=t.attempt(this.parser.constructs.contentInitial,o,c);let s;return a;function o(g){if(g===null){t.consume(g);return}return t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),ht(t,a,"linePrefix")}function c(g){return t.enter("paragraph"),u(g)}function u(g){const f=t.enter("chunkText",{contentType:"text",previous:s});return s&&(s.next=f),s=f,d(g)}function d(g){if(g===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(g);return}return Ve(g)?(t.consume(g),t.exit("chunkText"),u):(t.consume(g),d)}}const Wb={tokenize:Kb},Cg={tokenize:Gb};function Kb(t){const a=this,s=[];let o=0,c,u,d;return g;function g(I){if(o<s.length){const Y=s[o];return a.containerState=Y[1],t.attempt(Y[0].continuation,f,h)(I)}return h(I)}function f(I){if(o++,a.containerState._closeFlow){a.containerState._closeFlow=void 0,c&&N();const Y=a.events.length;let Z=Y,M;for(;Z--;)if(a.events[Z][0]==="exit"&&a.events[Z][1].type==="chunkFlow"){M=a.events[Z][1].end;break}_(o);let ee=Y;for(;ee<a.events.length;)a.events[ee][1].end={...M},ee++;return er(a.events,Z+1,0,a.events.slice(Y)),a.events.length=ee,h(I)}return g(I)}function h(I){if(o===s.length){if(!c)return k(I);if(c.currentConstruct&&c.currentConstruct.concrete)return A(I);a.interrupt=!!(c.currentConstruct&&!c._gfmTableDynamicInterruptHack)}return a.containerState={},t.check(Cg,y,x)(I)}function y(I){return c&&N(),_(o),k(I)}function x(I){return a.parser.lazy[a.now().line]=o!==s.length,d=a.now().offset,A(I)}function k(I){return a.containerState={},t.attempt(Cg,E,A)(I)}function E(I){return o++,s.push([a.currentConstruct,a.containerState]),k(I)}function A(I){if(I===null){c&&N(),_(0),t.consume(I);return}return c=c||a.parser.flow(a.now()),t.enter("chunkFlow",{_tokenizer:c,contentType:"flow",previous:u}),P(I)}function P(I){if(I===null){C(t.exit("chunkFlow"),!0),_(0),t.consume(I);return}return Ve(I)?(t.consume(I),C(t.exit("chunkFlow")),o=0,a.interrupt=void 0,g):(t.consume(I),P)}function C(I,Y){const Z=a.sliceStream(I);if(Y&&Z.push(null),I.previous=u,u&&(u.next=I),u=I,c.defineSkip(I.start),c.write(Z),a.parser.lazy[I.start.line]){let M=c.events.length;for(;M--;)if(c.events[M][1].start.offset<d&&(!c.events[M][1].end||c.events[M][1].end.offset>d))return;const ee=a.events.length;let q=ee,X,z;for(;q--;)if(a.events[q][0]==="exit"&&a.events[q][1].type==="chunkFlow"){if(X){z=a.events[q][1].end;break}X=!0}for(_(o),M=ee;M<a.events.length;)a.events[M][1].end={...z},M++;er(a.events,q+1,0,a.events.slice(ee)),a.events.length=M}}function _(I){let Y=s.length;for(;Y-- >I;){const Z=s[Y];a.containerState=Z[1],Z[0].exit.call(a,t)}s.length=I}function N(){c.write([null]),u=void 0,c=void 0,a.containerState._closeFlow=void 0}}function Gb(t,a,s){return ht(t,t.attempt(this.parser.constructs.document,a,s),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function _g(t){if(t===null||dn(t)||Hb(t))return 1;if(Ub(t))return 2}function su(t,a,s){const o=[];let c=-1;for(;++c<t.length;){const u=t[c].resolveAll;u&&!o.includes(u)&&(a=u(a,s),o.push(u))}return a}const jc={name:"attention",resolveAll:Qb,tokenize:Jb};function Qb(t,a){let s=-1,o,c,u,d,g,f,h,y;for(;++s<t.length;)if(t[s][0]==="enter"&&t[s][1].type==="attentionSequence"&&t[s][1]._close){for(o=s;o--;)if(t[o][0]==="exit"&&t[o][1].type==="attentionSequence"&&t[o][1]._open&&a.sliceSerialize(t[o][1]).charCodeAt(0)===a.sliceSerialize(t[s][1]).charCodeAt(0)){if((t[o][1]._close||t[s][1]._open)&&(t[s][1].end.offset-t[s][1].start.offset)%3&&!((t[o][1].end.offset-t[o][1].start.offset+t[s][1].end.offset-t[s][1].start.offset)%3))continue;f=t[o][1].end.offset-t[o][1].start.offset>1&&t[s][1].end.offset-t[s][1].start.offset>1?2:1;const x={...t[o][1].end},k={...t[s][1].start};Tg(x,-f),Tg(k,f),d={type:f>1?"strongSequence":"emphasisSequence",start:x,end:{...t[o][1].end}},g={type:f>1?"strongSequence":"emphasisSequence",start:{...t[s][1].start},end:k},u={type:f>1?"strongText":"emphasisText",start:{...t[o][1].end},end:{...t[s][1].start}},c={type:f>1?"strong":"emphasis",start:{...d.start},end:{...g.end}},t[o][1].end={...d.start},t[s][1].start={...g.end},h=[],t[o][1].end.offset-t[o][1].start.offset&&(h=Pn(h,[["enter",t[o][1],a],["exit",t[o][1],a]])),h=Pn(h,[["enter",c,a],["enter",d,a],["exit",d,a],["enter",u,a]]),h=Pn(h,su(a.parser.constructs.insideSpan.null,t.slice(o+1,s),a)),h=Pn(h,[["exit",u,a],["enter",g,a],["exit",g,a],["exit",c,a]]),t[s][1].end.offset-t[s][1].start.offset?(y=2,h=Pn(h,[["enter",t[s][1],a],["exit",t[s][1],a]])):y=0,er(t,o-1,s-o+3,h),s=o+h.length-y-2;break}}for(s=-1;++s<t.length;)t[s][1].type==="attentionSequence"&&(t[s][1].type="data");return t}function Jb(t,a){const s=this.parser.constructs.attentionMarkers.null,o=this.previous,c=_g(o);let u;return d;function d(f){return u=f,t.enter("attentionSequence"),g(f)}function g(f){if(f===u)return t.consume(f),g;const h=t.exit("attentionSequence"),y=_g(f),x=!y||y===2&&c||s.includes(f),k=!c||c===2&&y||s.includes(o);return h._open=!!(u===42?x:x&&(c||!k)),h._close=!!(u===42?k:k&&(y||!x)),a(f)}}function Tg(t,a){t.column+=a,t.offset+=a,t._bufferIndex+=a}const Yb={name:"autolink",tokenize:Xb};function Xb(t,a,s){let o=0;return c;function c(E){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),u}function u(E){return Xn(E)?(t.consume(E),d):E===64?s(E):h(E)}function d(E){return E===43||E===45||E===46||kn(E)?(o=1,g(E)):h(E)}function g(E){return E===58?(t.consume(E),o=0,f):(E===43||E===45||E===46||kn(E))&&o++<32?(t.consume(E),g):(o=0,h(E))}function f(E){return E===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),a):E===null||E===32||E===60||Dc(E)?s(E):(t.consume(E),f)}function h(E){return E===64?(t.consume(E),y):Fb(E)?(t.consume(E),h):s(E)}function y(E){return kn(E)?x(E):s(E)}function x(E){return E===46?(t.consume(E),o=0,y):E===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),a):k(E)}function k(E){if((E===45||kn(E))&&o++<63){const A=E===45?k:x;return t.consume(E),A}return s(E)}}const yo={partial:!0,tokenize:Zb};function Zb(t,a,s){return o;function o(u){return ot(u)?ht(t,c,"linePrefix")(u):c(u)}function c(u){return u===null||Ve(u)?a(u):s(u)}}const Xp={continuation:{tokenize:t1},exit:n1,name:"blockQuote",tokenize:e1};function e1(t,a,s){const o=this;return c;function c(d){if(d===62){const g=o.containerState;return g.open||(t.enter("blockQuote",{_container:!0}),g.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(d),t.exit("blockQuoteMarker"),u}return s(d)}function u(d){return ot(d)?(t.enter("blockQuotePrefixWhitespace"),t.consume(d),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),a):(t.exit("blockQuotePrefix"),a(d))}}function t1(t,a,s){const o=this;return c;function c(d){return ot(d)?ht(t,u,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):u(d)}function u(d){return t.attempt(Xp,a,s)(d)}}function n1(t){t.exit("blockQuote")}const Zp={name:"characterEscape",tokenize:r1};function r1(t,a,s){return o;function o(u){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(u),t.exit("escapeMarker"),c}function c(u){return Bb(u)?(t.enter("characterEscapeValue"),t.consume(u),t.exit("characterEscapeValue"),t.exit("characterEscape"),a):s(u)}}const e0={name:"characterReference",tokenize:a1};function a1(t,a,s){const o=this;let c=0,u,d;return g;function g(x){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(x),t.exit("characterReferenceMarker"),f}function f(x){return x===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(x),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),u=31,d=kn,y(x))}function h(x){return x===88||x===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(x),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),u=6,d=$b,y):(t.enter("characterReferenceValue"),u=7,d=Oc,y(x))}function y(x){if(x===59&&c){const k=t.exit("characterReferenceValue");return d===kn&&!lu(o.sliceSerialize(k))?s(x):(t.enter("characterReferenceMarker"),t.consume(x),t.exit("characterReferenceMarker"),t.exit("characterReference"),a)}return d(x)&&c++<u?(t.consume(x),y):s(x)}}const zg={partial:!0,tokenize:s1},Pg={concrete:!0,name:"codeFenced",tokenize:l1};function l1(t,a,s){const o=this,c={partial:!0,tokenize:Z};let u=0,d=0,g;return f;function f(M){return h(M)}function h(M){const ee=o.events[o.events.length-1];return u=ee&&ee[1].type==="linePrefix"?ee[2].sliceSerialize(ee[1],!0).length:0,g=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y(M)}function y(M){return M===g?(d++,t.consume(M),y):d<3?s(M):(t.exit("codeFencedFenceSequence"),ot(M)?ht(t,x,"whitespace")(M):x(M))}function x(M){return M===null||Ve(M)?(t.exit("codeFencedFence"),o.interrupt?a(M):t.check(zg,P,Y)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),k(M))}function k(M){return M===null||Ve(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),x(M)):ot(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ht(t,E,"whitespace")(M)):M===96&&M===g?s(M):(t.consume(M),k)}function E(M){return M===null||Ve(M)?x(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),A(M))}function A(M){return M===null||Ve(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),x(M)):M===96&&M===g?s(M):(t.consume(M),A)}function P(M){return t.attempt(c,Y,C)(M)}function C(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),_}function _(M){return u>0&&ot(M)?ht(t,N,"linePrefix",u+1)(M):N(M)}function N(M){return M===null||Ve(M)?t.check(zg,P,Y)(M):(t.enter("codeFlowValue"),I(M))}function I(M){return M===null||Ve(M)?(t.exit("codeFlowValue"),N(M)):(t.consume(M),I)}function Y(M){return t.exit("codeFenced"),a(M)}function Z(M,ee,q){let X=0;return z;function z(te){return M.enter("lineEnding"),M.consume(te),M.exit("lineEnding"),D}function D(te){return M.enter("codeFencedFence"),ot(te)?ht(M,K,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):K(te)}function K(te){return te===g?(M.enter("codeFencedFenceSequence"),xe(te)):q(te)}function xe(te){return te===g?(X++,M.consume(te),xe):X>=d?(M.exit("codeFencedFenceSequence"),ot(te)?ht(M,le,"whitespace")(te):le(te)):q(te)}function le(te){return te===null||Ve(te)?(M.exit("codeFencedFence"),ee(te)):q(te)}}}function s1(t,a,s){const o=this;return c;function c(d){return d===null?s(d):(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),u)}function u(d){return o.parser.lazy[o.now().line]?s(d):a(d)}}const pc={name:"codeIndented",tokenize:i1},o1={partial:!0,tokenize:c1};function i1(t,a,s){const o=this;return c;function c(h){return t.enter("codeIndented"),ht(t,u,"linePrefix",5)(h)}function u(h){const y=o.events[o.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?d(h):s(h)}function d(h){return h===null?f(h):Ve(h)?t.attempt(o1,d,f)(h):(t.enter("codeFlowValue"),g(h))}function g(h){return h===null||Ve(h)?(t.exit("codeFlowValue"),d(h)):(t.consume(h),g)}function f(h){return t.exit("codeIndented"),a(h)}}function c1(t,a,s){const o=this;return c;function c(d){return o.parser.lazy[o.now().line]?s(d):Ve(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c):ht(t,u,"linePrefix",5)(d)}function u(d){const g=o.events[o.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?a(d):Ve(d)?c(d):s(d)}}const u1={name:"codeText",previous:m1,resolve:d1,tokenize:g1};function d1(t){let a=t.length-4,s=3,o,c;if((t[s][1].type==="lineEnding"||t[s][1].type==="space")&&(t[a][1].type==="lineEnding"||t[a][1].type==="space")){for(o=s;++o<a;)if(t[o][1].type==="codeTextData"){t[s][1].type="codeTextPadding",t[a][1].type="codeTextPadding",s+=2,a-=2;break}}for(o=s-1,a++;++o<=a;)c===void 0?o!==a&&t[o][1].type!=="lineEnding"&&(c=o):(o===a||t[o][1].type==="lineEnding")&&(t[c][1].type="codeTextData",o!==c+2&&(t[c][1].end=t[o-1][1].end,t.splice(c+2,o-c-2),a-=o-c-2,o=c+2),c=void 0);return t}function m1(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function g1(t,a,s){let o=0,c,u;return d;function d(x){return t.enter("codeText"),t.enter("codeTextSequence"),g(x)}function g(x){return x===96?(t.consume(x),o++,g):(t.exit("codeTextSequence"),f(x))}function f(x){return x===null?s(x):x===32?(t.enter("space"),t.consume(x),t.exit("space"),f):x===96?(u=t.enter("codeTextSequence"),c=0,y(x)):Ve(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),f):(t.enter("codeTextData"),h(x))}function h(x){return x===null||x===32||x===96||Ve(x)?(t.exit("codeTextData"),f(x)):(t.consume(x),h)}function y(x){return x===96?(t.consume(x),c++,y):c===o?(t.exit("codeTextSequence"),t.exit("codeText"),a(x)):(u.type="codeTextData",h(x))}}class p1{constructor(a){this.left=a?[...a]:[],this.right=[]}get(a){if(a<0||a>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+a+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return a<this.left.length?this.left[a]:this.right[this.right.length-a+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(a,s){const o=s??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(a,o):a>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-a+this.left.length).reverse():this.left.slice(a).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(a,s,o){const c=s||0;this.setCursor(Math.trunc(a));const u=this.right.splice(this.right.length-c,Number.POSITIVE_INFINITY);return o&&kl(this.left,o),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(a){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(a)}pushMany(a){this.setCursor(Number.POSITIVE_INFINITY),kl(this.left,a)}unshift(a){this.setCursor(0),this.right.push(a)}unshiftMany(a){this.setCursor(0),kl(this.right,a.reverse())}setCursor(a){if(!(a===this.left.length||a>this.left.length&&this.right.length===0||a<0&&this.left.length===0))if(a<this.left.length){const s=this.left.splice(a,Number.POSITIVE_INFINITY);kl(this.right,s.reverse())}else{const s=this.right.splice(this.left.length+this.right.length-a,Number.POSITIVE_INFINITY);kl(this.left,s.reverse())}}}function kl(t,a){let s=0;if(a.length<1e4)t.push(...a);else for(;s<a.length;)t.push(...a.slice(s,s+1e4)),s+=1e4}function t0(t){const a={};let s=-1,o,c,u,d,g,f,h;const y=new p1(t);for(;++s<y.length;){for(;s in a;)s=a[s];if(o=y.get(s),s&&o[1].type==="chunkFlow"&&y.get(s-1)[1].type==="listItemPrefix"&&(f=o[1]._tokenizer.events,u=0,u<f.length&&f[u][1].type==="lineEndingBlank"&&(u+=2),u<f.length&&f[u][1].type==="content"))for(;++u<f.length&&f[u][1].type!=="content";)f[u][1].type==="chunkText"&&(f[u][1]._isInFirstContentOfListItem=!0,u++);if(o[0]==="enter")o[1].contentType&&(Object.assign(a,f1(y,s)),s=a[s],h=!0);else if(o[1]._container){for(u=s,c=void 0;u--;)if(d=y.get(u),d[1].type==="lineEnding"||d[1].type==="lineEndingBlank")d[0]==="enter"&&(c&&(y.get(c)[1].type="lineEndingBlank"),d[1].type="lineEnding",c=u);else if(!(d[1].type==="linePrefix"||d[1].type==="listItemIndent"))break;c&&(o[1].end={...y.get(c)[1].start},g=y.slice(c,s),g.unshift(o),y.splice(c,s-c+1,g))}}return er(t,0,Number.POSITIVE_INFINITY,y.slice(0)),!h}function f1(t,a){const s=t.get(a)[1],o=t.get(a)[2];let c=a-1;const u=[];let d=s._tokenizer;d||(d=o.parser[s.contentType](s.start),s._contentTypeTextTrailing&&(d._contentTypeTextTrailing=!0));const g=d.events,f=[],h={};let y,x,k=-1,E=s,A=0,P=0;const C=[P];for(;E;){for(;t.get(++c)[1]!==E;);u.push(c),E._tokenizer||(y=o.sliceStream(E),E.next||y.push(null),x&&d.defineSkip(E.start),E._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(y),E._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),x=E,E=E.next}for(E=s;++k<g.length;)g[k][0]==="exit"&&g[k-1][0]==="enter"&&g[k][1].type===g[k-1][1].type&&g[k][1].start.line!==g[k][1].end.line&&(P=k+1,C.push(P),E._tokenizer=void 0,E.previous=void 0,E=E.next);for(d.events=[],E?(E._tokenizer=void 0,E.previous=void 0):C.pop(),k=C.length;k--;){const _=g.slice(C[k],C[k+1]),N=u.pop();f.push([N,N+_.length-1]),t.splice(N,2,_)}for(f.reverse(),k=-1;++k<f.length;)h[A+f[k][0]]=A+f[k][1],A+=f[k][1]-f[k][0]-1;return h}const h1={resolve:x1,tokenize:b1},y1={partial:!0,tokenize:v1};function x1(t){return t0(t),t}function b1(t,a){let s;return o;function o(g){return t.enter("content"),s=t.enter("chunkContent",{contentType:"content"}),c(g)}function c(g){return g===null?u(g):Ve(g)?t.check(y1,d,u)(g):(t.consume(g),c)}function u(g){return t.exit("chunkContent"),t.exit("content"),a(g)}function d(g){return t.consume(g),t.exit("chunkContent"),s.next=t.enter("chunkContent",{contentType:"content",previous:s}),s=s.next,c}}function v1(t,a,s){const o=this;return c;function c(d){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),ht(t,u,"linePrefix")}function u(d){if(d===null||Ve(d))return s(d);const g=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?a(d):t.interrupt(o.parser.constructs.flow,s,a)(d)}}function n0(t,a,s,o,c,u,d,g,f){const h=f||Number.POSITIVE_INFINITY;let y=0;return x;function x(_){return _===60?(t.enter(o),t.enter(c),t.enter(u),t.consume(_),t.exit(u),k):_===null||_===32||_===41||Dc(_)?s(_):(t.enter(o),t.enter(d),t.enter(g),t.enter("chunkString",{contentType:"string"}),P(_))}function k(_){return _===62?(t.enter(u),t.consume(_),t.exit(u),t.exit(c),t.exit(o),a):(t.enter(g),t.enter("chunkString",{contentType:"string"}),E(_))}function E(_){return _===62?(t.exit("chunkString"),t.exit(g),k(_)):_===null||_===60||Ve(_)?s(_):(t.consume(_),_===92?A:E)}function A(_){return _===60||_===62||_===92?(t.consume(_),E):E(_)}function P(_){return!y&&(_===null||_===41||dn(_))?(t.exit("chunkString"),t.exit(g),t.exit(d),t.exit(o),a(_)):y<h&&_===40?(t.consume(_),y++,P):_===41?(t.consume(_),y--,P):_===null||_===32||_===40||Dc(_)?s(_):(t.consume(_),_===92?C:P)}function C(_){return _===40||_===41||_===92?(t.consume(_),P):P(_)}}function r0(t,a,s,o,c,u){const d=this;let g=0,f;return h;function h(E){return t.enter(o),t.enter(c),t.consume(E),t.exit(c),t.enter(u),y}function y(E){return g>999||E===null||E===91||E===93&&!f||E===94&&!g&&"_hiddenFootnoteSupport"in d.parser.constructs?s(E):E===93?(t.exit(u),t.enter(c),t.consume(E),t.exit(c),t.exit(o),a):Ve(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),x(E))}function x(E){return E===null||E===91||E===93||Ve(E)||g++>999?(t.exit("chunkString"),y(E)):(t.consume(E),f||(f=!ot(E)),E===92?k:x)}function k(E){return E===91||E===92||E===93?(t.consume(E),g++,x):x(E)}}function a0(t,a,s,o,c,u){let d;return g;function g(k){return k===34||k===39||k===40?(t.enter(o),t.enter(c),t.consume(k),t.exit(c),d=k===40?41:k,f):s(k)}function f(k){return k===d?(t.enter(c),t.consume(k),t.exit(c),t.exit(o),a):(t.enter(u),h(k))}function h(k){return k===d?(t.exit(u),f(d)):k===null?s(k):Ve(k)?(t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),ht(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===d||k===null||Ve(k)?(t.exit("chunkString"),h(k)):(t.consume(k),k===92?x:y)}function x(k){return k===d||k===92?(t.consume(k),y):y(k)}}function zl(t,a){let s;return o;function o(c){return Ve(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),s=!0,o):ot(c)?ht(t,o,s?"linePrefix":"lineSuffix")(c):a(c)}}const E1={name:"definition",tokenize:w1},k1={partial:!0,tokenize:N1};function w1(t,a,s){const o=this;let c;return u;function u(E){return t.enter("definition"),d(E)}function d(E){return r0.call(o,t,g,s,"definitionLabel","definitionLabelMarker","definitionLabelString")(E)}function g(E){return c=za(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),E===58?(t.enter("definitionMarker"),t.consume(E),t.exit("definitionMarker"),f):s(E)}function f(E){return dn(E)?zl(t,h)(E):h(E)}function h(E){return n0(t,y,s,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(E)}function y(E){return t.attempt(k1,x,x)(E)}function x(E){return ot(E)?ht(t,k,"whitespace")(E):k(E)}function k(E){return E===null||Ve(E)?(t.exit("definition"),o.parser.defined.push(c),a(E)):s(E)}}function N1(t,a,s){return o;function o(g){return dn(g)?zl(t,c)(g):s(g)}function c(g){return a0(t,u,s,"definitionTitle","definitionTitleMarker","definitionTitleString")(g)}function u(g){return ot(g)?ht(t,d,"whitespace")(g):d(g)}function d(g){return g===null||Ve(g)?a(g):s(g)}}const S1={name:"hardBreakEscape",tokenize:C1};function C1(t,a,s){return o;function o(u){return t.enter("hardBreakEscape"),t.consume(u),c}function c(u){return Ve(u)?(t.exit("hardBreakEscape"),a(u)):s(u)}}const _1={name:"headingAtx",resolve:T1,tokenize:z1};function T1(t,a){let s=t.length-2,o=3,c,u;return t[o][1].type==="whitespace"&&(o+=2),s-2>o&&t[s][1].type==="whitespace"&&(s-=2),t[s][1].type==="atxHeadingSequence"&&(o===s-1||s-4>o&&t[s-2][1].type==="whitespace")&&(s-=o+1===s?2:4),s>o&&(c={type:"atxHeadingText",start:t[o][1].start,end:t[s][1].end},u={type:"chunkText",start:t[o][1].start,end:t[s][1].end,contentType:"text"},er(t,o,s-o+1,[["enter",c,a],["enter",u,a],["exit",u,a],["exit",c,a]])),t}function z1(t,a,s){let o=0;return c;function c(y){return t.enter("atxHeading"),u(y)}function u(y){return t.enter("atxHeadingSequence"),d(y)}function d(y){return y===35&&o++<6?(t.consume(y),d):y===null||dn(y)?(t.exit("atxHeadingSequence"),g(y)):s(y)}function g(y){return y===35?(t.enter("atxHeadingSequence"),f(y)):y===null||Ve(y)?(t.exit("atxHeading"),a(y)):ot(y)?ht(t,g,"whitespace")(y):(t.enter("atxHeadingText"),h(y))}function f(y){return y===35?(t.consume(y),f):(t.exit("atxHeadingSequence"),g(y))}function h(y){return y===null||y===35||dn(y)?(t.exit("atxHeadingText"),g(y)):(t.consume(y),h)}}const P1=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ig=["pre","script","style","textarea"],I1={concrete:!0,name:"htmlFlow",resolveTo:R1,tokenize:A1},M1={partial:!0,tokenize:O1},L1={partial:!0,tokenize:D1};function R1(t){let a=t.length;for(;a--&&!(t[a][0]==="enter"&&t[a][1].type==="htmlFlow"););return a>1&&t[a-2][1].type==="linePrefix"&&(t[a][1].start=t[a-2][1].start,t[a+1][1].start=t[a-2][1].start,t.splice(a-2,2)),t}function A1(t,a,s){const o=this;let c,u,d,g,f;return h;function h(S){return y(S)}function y(S){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(S),x}function x(S){return S===33?(t.consume(S),k):S===47?(t.consume(S),u=!0,P):S===63?(t.consume(S),c=3,o.interrupt?a:w):Xn(S)?(t.consume(S),d=String.fromCharCode(S),C):s(S)}function k(S){return S===45?(t.consume(S),c=2,E):S===91?(t.consume(S),c=5,g=0,A):Xn(S)?(t.consume(S),c=4,o.interrupt?a:w):s(S)}function E(S){return S===45?(t.consume(S),o.interrupt?a:w):s(S)}function A(S){const ve="CDATA[";return S===ve.charCodeAt(g++)?(t.consume(S),g===ve.length?o.interrupt?a:K:A):s(S)}function P(S){return Xn(S)?(t.consume(S),d=String.fromCharCode(S),C):s(S)}function C(S){if(S===null||S===47||S===62||dn(S)){const ve=S===47,_e=d.toLowerCase();return!ve&&!u&&Ig.includes(_e)?(c=1,o.interrupt?a(S):K(S)):P1.includes(d.toLowerCase())?(c=6,ve?(t.consume(S),_):o.interrupt?a(S):K(S)):(c=7,o.interrupt&&!o.parser.lazy[o.now().line]?s(S):u?N(S):I(S))}return S===45||kn(S)?(t.consume(S),d+=String.fromCharCode(S),C):s(S)}function _(S){return S===62?(t.consume(S),o.interrupt?a:K):s(S)}function N(S){return ot(S)?(t.consume(S),N):z(S)}function I(S){return S===47?(t.consume(S),z):S===58||S===95||Xn(S)?(t.consume(S),Y):ot(S)?(t.consume(S),I):z(S)}function Y(S){return S===45||S===46||S===58||S===95||kn(S)?(t.consume(S),Y):Z(S)}function Z(S){return S===61?(t.consume(S),M):ot(S)?(t.consume(S),Z):I(S)}function M(S){return S===null||S===60||S===61||S===62||S===96?s(S):S===34||S===39?(t.consume(S),f=S,ee):ot(S)?(t.consume(S),M):q(S)}function ee(S){return S===f?(t.consume(S),f=null,X):S===null||Ve(S)?s(S):(t.consume(S),ee)}function q(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||dn(S)?Z(S):(t.consume(S),q)}function X(S){return S===47||S===62||ot(S)?I(S):s(S)}function z(S){return S===62?(t.consume(S),D):s(S)}function D(S){return S===null||Ve(S)?K(S):ot(S)?(t.consume(S),D):s(S)}function K(S){return S===45&&c===2?(t.consume(S),J):S===60&&c===1?(t.consume(S),oe):S===62&&c===4?(t.consume(S),R):S===63&&c===3?(t.consume(S),w):S===93&&c===5?(t.consume(S),ge):Ve(S)&&(c===6||c===7)?(t.exit("htmlFlowData"),t.check(M1,$,xe)(S)):S===null||Ve(S)?(t.exit("htmlFlowData"),xe(S)):(t.consume(S),K)}function xe(S){return t.check(L1,le,$)(S)}function le(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),te}function te(S){return S===null||Ve(S)?xe(S):(t.enter("htmlFlowData"),K(S))}function J(S){return S===45?(t.consume(S),w):K(S)}function oe(S){return S===47?(t.consume(S),d="",G):K(S)}function G(S){if(S===62){const ve=d.toLowerCase();return Ig.includes(ve)?(t.consume(S),R):K(S)}return Xn(S)&&d.length<8?(t.consume(S),d+=String.fromCharCode(S),G):K(S)}function ge(S){return S===93?(t.consume(S),w):K(S)}function w(S){return S===62?(t.consume(S),R):S===45&&c===2?(t.consume(S),w):K(S)}function R(S){return S===null||Ve(S)?(t.exit("htmlFlowData"),$(S)):(t.consume(S),R)}function $(S){return t.exit("htmlFlow"),a(S)}}function D1(t,a,s){const o=this;return c;function c(d){return Ve(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),u):s(d)}function u(d){return o.parser.lazy[o.now().line]?s(d):a(d)}}function O1(t,a,s){return o;function o(c){return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),t.attempt(yo,a,s)}}const j1={name:"htmlText",tokenize:F1};function F1(t,a,s){const o=this;let c,u,d;return g;function g(w){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(w),f}function f(w){return w===33?(t.consume(w),h):w===47?(t.consume(w),Z):w===63?(t.consume(w),I):Xn(w)?(t.consume(w),q):s(w)}function h(w){return w===45?(t.consume(w),y):w===91?(t.consume(w),u=0,A):Xn(w)?(t.consume(w),N):s(w)}function y(w){return w===45?(t.consume(w),E):s(w)}function x(w){return w===null?s(w):w===45?(t.consume(w),k):Ve(w)?(d=x,oe(w)):(t.consume(w),x)}function k(w){return w===45?(t.consume(w),E):x(w)}function E(w){return w===62?J(w):w===45?k(w):x(w)}function A(w){const R="CDATA[";return w===R.charCodeAt(u++)?(t.consume(w),u===R.length?P:A):s(w)}function P(w){return w===null?s(w):w===93?(t.consume(w),C):Ve(w)?(d=P,oe(w)):(t.consume(w),P)}function C(w){return w===93?(t.consume(w),_):P(w)}function _(w){return w===62?J(w):w===93?(t.consume(w),_):P(w)}function N(w){return w===null||w===62?J(w):Ve(w)?(d=N,oe(w)):(t.consume(w),N)}function I(w){return w===null?s(w):w===63?(t.consume(w),Y):Ve(w)?(d=I,oe(w)):(t.consume(w),I)}function Y(w){return w===62?J(w):I(w)}function Z(w){return Xn(w)?(t.consume(w),M):s(w)}function M(w){return w===45||kn(w)?(t.consume(w),M):ee(w)}function ee(w){return Ve(w)?(d=ee,oe(w)):ot(w)?(t.consume(w),ee):J(w)}function q(w){return w===45||kn(w)?(t.consume(w),q):w===47||w===62||dn(w)?X(w):s(w)}function X(w){return w===47?(t.consume(w),J):w===58||w===95||Xn(w)?(t.consume(w),z):Ve(w)?(d=X,oe(w)):ot(w)?(t.consume(w),X):J(w)}function z(w){return w===45||w===46||w===58||w===95||kn(w)?(t.consume(w),z):D(w)}function D(w){return w===61?(t.consume(w),K):Ve(w)?(d=D,oe(w)):ot(w)?(t.consume(w),D):X(w)}function K(w){return w===null||w===60||w===61||w===62||w===96?s(w):w===34||w===39?(t.consume(w),c=w,xe):Ve(w)?(d=K,oe(w)):ot(w)?(t.consume(w),K):(t.consume(w),le)}function xe(w){return w===c?(t.consume(w),c=void 0,te):w===null?s(w):Ve(w)?(d=xe,oe(w)):(t.consume(w),xe)}function le(w){return w===null||w===34||w===39||w===60||w===61||w===96?s(w):w===47||w===62||dn(w)?X(w):(t.consume(w),le)}function te(w){return w===47||w===62||dn(w)?X(w):s(w)}function J(w){return w===62?(t.consume(w),t.exit("htmlTextData"),t.exit("htmlText"),a):s(w)}function oe(w){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),G}function G(w){return ot(w)?ht(t,ge,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):ge(w)}function ge(w){return t.enter("htmlTextData"),d(w)}}const ou={name:"labelEnd",resolveAll:H1,resolveTo:V1,tokenize:q1},$1={tokenize:W1},B1={tokenize:K1},U1={tokenize:G1};function H1(t){let a=-1;const s=[];for(;++a<t.length;){const o=t[a][1];if(s.push(t[a]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const c=o.type==="labelImage"?4:2;o.type="data",a+=c}}return t.length!==s.length&&er(t,0,t.length,s),t}function V1(t,a){let s=t.length,o=0,c,u,d,g;for(;s--;)if(c=t[s][1],u){if(c.type==="link"||c.type==="labelLink"&&c._inactive)break;t[s][0]==="enter"&&c.type==="labelLink"&&(c._inactive=!0)}else if(d){if(t[s][0]==="enter"&&(c.type==="labelImage"||c.type==="labelLink")&&!c._balanced&&(u=s,c.type!=="labelLink")){o=2;break}}else c.type==="labelEnd"&&(d=s);const f={type:t[u][1].type==="labelLink"?"link":"image",start:{...t[u][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[u][1].start},end:{...t[d][1].end}},y={type:"labelText",start:{...t[u+o+2][1].end},end:{...t[d-2][1].start}};return g=[["enter",f,a],["enter",h,a]],g=Pn(g,t.slice(u+1,u+o+3)),g=Pn(g,[["enter",y,a]]),g=Pn(g,su(a.parser.constructs.insideSpan.null,t.slice(u+o+4,d-3),a)),g=Pn(g,[["exit",y,a],t[d-2],t[d-1],["exit",h,a]]),g=Pn(g,t.slice(d+1)),g=Pn(g,[["exit",f,a]]),er(t,u,t.length,g),t}function q1(t,a,s){const o=this;let c=o.events.length,u,d;for(;c--;)if((o.events[c][1].type==="labelImage"||o.events[c][1].type==="labelLink")&&!o.events[c][1]._balanced){u=o.events[c][1];break}return g;function g(k){return u?u._inactive?x(k):(d=o.parser.defined.includes(za(o.sliceSerialize({start:u.end,end:o.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(k),t.exit("labelMarker"),t.exit("labelEnd"),f):s(k)}function f(k){return k===40?t.attempt($1,y,d?y:x)(k):k===91?t.attempt(B1,y,d?h:x)(k):d?y(k):x(k)}function h(k){return t.attempt(U1,y,x)(k)}function y(k){return a(k)}function x(k){return u._balanced=!0,s(k)}}function W1(t,a,s){return o;function o(x){return t.enter("resource"),t.enter("resourceMarker"),t.consume(x),t.exit("resourceMarker"),c}function c(x){return dn(x)?zl(t,u)(x):u(x)}function u(x){return x===41?y(x):n0(t,d,g,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function d(x){return dn(x)?zl(t,f)(x):y(x)}function g(x){return s(x)}function f(x){return x===34||x===39||x===40?a0(t,h,s,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):y(x)}function h(x){return dn(x)?zl(t,y)(x):y(x)}function y(x){return x===41?(t.enter("resourceMarker"),t.consume(x),t.exit("resourceMarker"),t.exit("resource"),a):s(x)}}function K1(t,a,s){const o=this;return c;function c(g){return r0.call(o,t,u,d,"reference","referenceMarker","referenceString")(g)}function u(g){return o.parser.defined.includes(za(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?a(g):s(g)}function d(g){return s(g)}}function G1(t,a,s){return o;function o(u){return t.enter("reference"),t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),c}function c(u){return u===93?(t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),t.exit("reference"),a):s(u)}}const Q1={name:"labelStartImage",resolveAll:ou.resolveAll,tokenize:J1};function J1(t,a,s){const o=this;return c;function c(g){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(g),t.exit("labelImageMarker"),u}function u(g){return g===91?(t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelImage"),d):s(g)}function d(g){return g===94&&"_hiddenFootnoteSupport"in o.parser.constructs?s(g):a(g)}}const Y1={name:"labelStartLink",resolveAll:ou.resolveAll,tokenize:X1};function X1(t,a,s){const o=this;return c;function c(d){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelLink"),u}function u(d){return d===94&&"_hiddenFootnoteSupport"in o.parser.constructs?s(d):a(d)}}const fc={name:"lineEnding",tokenize:Z1};function Z1(t,a){return s;function s(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),ht(t,a,"linePrefix")}}const so={name:"thematicBreak",tokenize:ev};function ev(t,a,s){let o=0,c;return u;function u(h){return t.enter("thematicBreak"),d(h)}function d(h){return c=h,g(h)}function g(h){return h===c?(t.enter("thematicBreakSequence"),f(h)):o>=3&&(h===null||Ve(h))?(t.exit("thematicBreak"),a(h)):s(h)}function f(h){return h===c?(t.consume(h),o++,f):(t.exit("thematicBreakSequence"),ot(h)?ht(t,g,"whitespace")(h):g(h))}}const on={continuation:{tokenize:av},exit:sv,name:"list",tokenize:rv},tv={partial:!0,tokenize:ov},nv={partial:!0,tokenize:lv};function rv(t,a,s){const o=this,c=o.events[o.events.length-1];let u=c&&c[1].type==="linePrefix"?c[2].sliceSerialize(c[1],!0).length:0,d=0;return g;function g(E){const A=o.containerState.type||(E===42||E===43||E===45?"listUnordered":"listOrdered");if(A==="listUnordered"?!o.containerState.marker||E===o.containerState.marker:Oc(E)){if(o.containerState.type||(o.containerState.type=A,t.enter(A,{_container:!0})),A==="listUnordered")return t.enter("listItemPrefix"),E===42||E===45?t.check(so,s,h)(E):h(E);if(!o.interrupt||E===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(E)}return s(E)}function f(E){return Oc(E)&&++d<10?(t.consume(E),f):(!o.interrupt||d<2)&&(o.containerState.marker?E===o.containerState.marker:E===41||E===46)?(t.exit("listItemValue"),h(E)):s(E)}function h(E){return t.enter("listItemMarker"),t.consume(E),t.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||E,t.check(yo,o.interrupt?s:y,t.attempt(tv,k,x))}function y(E){return o.containerState.initialBlankLine=!0,u++,k(E)}function x(E){return ot(E)?(t.enter("listItemPrefixWhitespace"),t.consume(E),t.exit("listItemPrefixWhitespace"),k):s(E)}function k(E){return o.containerState.size=u+o.sliceSerialize(t.exit("listItemPrefix"),!0).length,a(E)}}function av(t,a,s){const o=this;return o.containerState._closeFlow=void 0,t.check(yo,c,u);function c(g){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,ht(t,a,"listItemIndent",o.containerState.size+1)(g)}function u(g){return o.containerState.furtherBlankLines||!ot(g)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,d(g)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,t.attempt(nv,a,d)(g))}function d(g){return o.containerState._closeFlow=!0,o.interrupt=void 0,ht(t,t.attempt(on,a,s),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g)}}function lv(t,a,s){const o=this;return ht(t,c,"listItemIndent",o.containerState.size+1);function c(u){const d=o.events[o.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===o.containerState.size?a(u):s(u)}}function sv(t){t.exit(this.containerState.type)}function ov(t,a,s){const o=this;return ht(t,c,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function c(u){const d=o.events[o.events.length-1];return!ot(u)&&d&&d[1].type==="listItemPrefixWhitespace"?a(u):s(u)}}const Mg={name:"setextUnderline",resolveTo:iv,tokenize:cv};function iv(t,a){let s=t.length,o,c,u;for(;s--;)if(t[s][0]==="enter"){if(t[s][1].type==="content"){o=s;break}t[s][1].type==="paragraph"&&(c=s)}else t[s][1].type==="content"&&t.splice(s,1),!u&&t[s][1].type==="definition"&&(u=s);const d={type:"setextHeading",start:{...t[o][1].start},end:{...t[t.length-1][1].end}};return t[c][1].type="setextHeadingText",u?(t.splice(c,0,["enter",d,a]),t.splice(u+1,0,["exit",t[o][1],a]),t[o][1].end={...t[u][1].end}):t[o][1]=d,t.push(["exit",d,a]),t}function cv(t,a,s){const o=this;let c;return u;function u(h){let y=o.events.length,x;for(;y--;)if(o.events[y][1].type!=="lineEnding"&&o.events[y][1].type!=="linePrefix"&&o.events[y][1].type!=="content"){x=o.events[y][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||x)?(t.enter("setextHeadingLine"),c=h,d(h)):s(h)}function d(h){return t.enter("setextHeadingLineSequence"),g(h)}function g(h){return h===c?(t.consume(h),g):(t.exit("setextHeadingLineSequence"),ot(h)?ht(t,f,"lineSuffix")(h):f(h))}function f(h){return h===null||Ve(h)?(t.exit("setextHeadingLine"),a(h)):s(h)}}const uv={tokenize:dv};function dv(t){const a=this,s=t.attempt(yo,o,t.attempt(this.parser.constructs.flowInitial,c,ht(t,t.attempt(this.parser.constructs.flow,c,t.attempt(h1,c)),"linePrefix")));return s;function o(u){if(u===null){t.consume(u);return}return t.enter("lineEndingBlank"),t.consume(u),t.exit("lineEndingBlank"),a.currentConstruct=void 0,s}function c(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a.currentConstruct=void 0,s}}const mv={resolveAll:s0()},gv=l0("string"),pv=l0("text");function l0(t){return{resolveAll:s0(t==="text"?fv:void 0),tokenize:a};function a(s){const o=this,c=this.parser.constructs[t],u=s.attempt(c,d,g);return d;function d(y){return h(y)?u(y):g(y)}function g(y){if(y===null){s.consume(y);return}return s.enter("data"),s.consume(y),f}function f(y){return h(y)?(s.exit("data"),u(y)):(s.consume(y),f)}function h(y){if(y===null)return!0;const x=c[y];let k=-1;if(x)for(;++k<x.length;){const E=x[k];if(!E.previous||E.previous.call(o,o.previous))return!0}return!1}}}function s0(t){return a;function a(s,o){let c=-1,u;for(;++c<=s.length;)u===void 0?s[c]&&s[c][1].type==="data"&&(u=c,c++):(!s[c]||s[c][1].type!=="data")&&(c!==u+2&&(s[u][1].end=s[c-1][1].end,s.splice(u+2,c-u-2),c=u+2),u=void 0);return t?t(s,o):s}}function fv(t,a){let s=0;for(;++s<=t.length;)if((s===t.length||t[s][1].type==="lineEnding")&&t[s-1][1].type==="data"){const o=t[s-1][1],c=a.sliceStream(o);let u=c.length,d=-1,g=0,f;for(;u--;){const h=c[u];if(typeof h=="string"){for(d=h.length;h.charCodeAt(d-1)===32;)g++,d--;if(d)break;d=-1}else if(h===-2)f=!0,g++;else if(h!==-1){u++;break}}if(a._contentTypeTextTrailing&&s===t.length&&(g=0),g){const h={type:s===t.length||f||g<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?d:o.start._bufferIndex+d,_index:o.start._index+u,line:o.end.line,column:o.end.column-g,offset:o.end.offset-g},end:{...o.end}};o.end={...h.start},o.start.offset===o.end.offset?Object.assign(o,h):(t.splice(s,0,["enter",h,a],["exit",h,a]),s+=2)}s++}return t}const hv={42:on,43:on,45:on,48:on,49:on,50:on,51:on,52:on,53:on,54:on,55:on,56:on,57:on,62:Xp},yv={91:E1},xv={[-2]:pc,[-1]:pc,32:pc},bv={35:_1,42:so,45:[Mg,so],60:I1,61:Mg,95:so,96:Pg,126:Pg},vv={38:e0,92:Zp},Ev={[-5]:fc,[-4]:fc,[-3]:fc,33:Q1,38:e0,42:jc,60:[Yb,j1],91:Y1,92:[S1,Zp],93:ou,95:jc,96:u1},kv={null:[jc,mv]},wv={null:[42,95]},Nv={null:[]},Sv=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:wv,contentInitial:yv,disable:Nv,document:hv,flow:bv,flowInitial:xv,insideSpan:kv,string:vv,text:Ev},Symbol.toStringTag,{value:"Module"}));function Cv(t,a,s){let o={_bufferIndex:-1,_index:0,line:s&&s.line||1,column:s&&s.column||1,offset:s&&s.offset||0};const c={},u=[];let d=[],g=[];const f={attempt:ee(Z),check:ee(M),consume:N,enter:I,exit:Y,interrupt:ee(M,{interrupt:!0})},h={code:null,containerState:{},defineSkip:P,events:[],now:A,parser:t,previous:null,sliceSerialize:k,sliceStream:E,write:x};let y=a.tokenize.call(h,f);return a.resolveAll&&u.push(a),h;function x(D){return d=Pn(d,D),C(),d[d.length-1]!==null?[]:(q(a,0),h.events=su(u,h.events,h),h.events)}function k(D,K){return Tv(E(D),K)}function E(D){return _v(d,D)}function A(){const{_bufferIndex:D,_index:K,line:xe,column:le,offset:te}=o;return{_bufferIndex:D,_index:K,line:xe,column:le,offset:te}}function P(D){c[D.line]=D.column,z()}function C(){let D;for(;o._index<d.length;){const K=d[o._index];if(typeof K=="string")for(D=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===D&&o._bufferIndex<K.length;)_(K.charCodeAt(o._bufferIndex));else _(K)}}function _(D){y=y(D)}function N(D){Ve(D)?(o.line++,o.column=1,o.offset+=D===-3?2:1,z()):D!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===d[o._index].length&&(o._bufferIndex=-1,o._index++)),h.previous=D}function I(D,K){const xe=K||{};return xe.type=D,xe.start=A(),h.events.push(["enter",xe,h]),g.push(xe),xe}function Y(D){const K=g.pop();return K.end=A(),h.events.push(["exit",K,h]),K}function Z(D,K){q(D,K.from)}function M(D,K){K.restore()}function ee(D,K){return xe;function xe(le,te,J){let oe,G,ge,w;return Array.isArray(le)?$(le):"tokenize"in le?$([le]):R(le);function R(Pe){return Ue;function Ue(Oe){const qe=Oe!==null&&Pe[Oe],et=Oe!==null&&Pe.null,st=[...Array.isArray(qe)?qe:qe?[qe]:[],...Array.isArray(et)?et:et?[et]:[]];return $(st)(Oe)}}function $(Pe){return oe=Pe,G=0,Pe.length===0?J:S(Pe[G])}function S(Pe){return Ue;function Ue(Oe){return w=X(),ge=Pe,Pe.partial||(h.currentConstruct=Pe),Pe.name&&h.parser.constructs.disable.null.includes(Pe.name)?_e():Pe.tokenize.call(K?Object.assign(Object.create(h),K):h,f,ve,_e)(Oe)}}function ve(Pe){return D(ge,w),te}function _e(Pe){return w.restore(),++G<oe.length?S(oe[G]):J}}}function q(D,K){D.resolveAll&&!u.includes(D)&&u.push(D),D.resolve&&er(h.events,K,h.events.length-K,D.resolve(h.events.slice(K),h)),D.resolveTo&&(h.events=D.resolveTo(h.events,h))}function X(){const D=A(),K=h.previous,xe=h.currentConstruct,le=h.events.length,te=Array.from(g);return{from:le,restore:J};function J(){o=D,h.previous=K,h.currentConstruct=xe,h.events.length=le,g=te,z()}}function z(){o.line in c&&o.column<2&&(o.column=c[o.line],o.offset+=c[o.line]-1)}}function _v(t,a){const s=a.start._index,o=a.start._bufferIndex,c=a.end._index,u=a.end._bufferIndex;let d;if(s===c)d=[t[s].slice(o,u)];else{if(d=t.slice(s,c),o>-1){const g=d[0];typeof g=="string"?d[0]=g.slice(o):d.shift()}u>0&&d.push(t[c].slice(0,u))}return d}function Tv(t,a){let s=-1;const o=[];let c;for(;++s<t.length;){const u=t[s];let d;if(typeof u=="string")d=u;else switch(u){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=a?" ":"	";break}case-1:{if(!a&&c)continue;d=" ";break}default:d=String.fromCharCode(u)}c=u===-2,o.push(d)}return o.join("")}function zv(t){const o={constructs:Db([Sv,...(t||{}).extensions||[]]),content:c(Vb),defined:[],document:c(Wb),flow:c(uv),lazy:{},string:c(gv),text:c(pv)};return o;function c(u){return d;function d(g){return Cv(o,u,g)}}}function Pv(t){for(;!t0(t););return t}const Lg=/[\0\t\n\r]/g;function Iv(){let t=1,a="",s=!0,o;return c;function c(u,d,g){const f=[];let h,y,x,k,E;for(u=a+(typeof u=="string"?u.toString():new TextDecoder(d||void 0).decode(u)),x=0,a="",s&&(u.charCodeAt(0)===65279&&x++,s=void 0);x<u.length;){if(Lg.lastIndex=x,h=Lg.exec(u),k=h&&h.index!==void 0?h.index:u.length,E=u.charCodeAt(k),!h){a=u.slice(x);break}if(E===10&&x===k&&o)f.push(-3),o=void 0;else switch(o&&(f.push(-5),o=void 0),x<k&&(f.push(u.slice(x,k)),t+=k-x),E){case 0:{f.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,f.push(-2);t++<y;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:o=!0,t=1}x=k+1}return g&&(o&&f.push(-5),a&&f.push(a),f.push(null)),f}}const Mv=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Lv(t){return t.replace(Mv,Rv)}function Rv(t,a,s){if(a)return a;if(s.charCodeAt(0)===35){const c=s.charCodeAt(1),u=c===120||c===88;return Yp(s.slice(u?2:1),u?16:10)}return lu(s)||t}const o0={}.hasOwnProperty;function Av(t,a,s){return typeof a!="string"&&(s=a,a=void 0),Dv(s)(Pv(zv(s).document().write(Iv()(t,a,!0))))}function Dv(t){const a={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Ie),autolinkProtocol:X,autolinkEmail:X,atxHeading:u(nt),blockQuote:u(et),characterEscape:X,characterReference:X,codeFenced:u(st),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:u(st,d),codeText:u(tt,d),codeTextData:X,data:X,codeFlowValue:X,definition:u(yt),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:u(ae),hardBreakEscape:u(Xe),hardBreakTrailing:u(Xe),htmlFlow:u(Q,d),htmlFlowData:X,htmlText:u(Q,d),htmlTextData:X,image:u(re),label:d,link:u(Ie),listItem:u(Qe),listItemValue:k,listOrdered:u(ye,x),listUnordered:u(ye),paragraph:u(Ye),reference:S,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:u(nt),strong:u(it),thematicBreak:u(H)},exit:{atxHeading:f(),atxHeadingSequence:Z,autolink:f(),autolinkEmail:qe,autolinkProtocol:Oe,blockQuote:f(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:_e,characterReferenceMarkerNumeric:_e,characterReferenceValue:Pe,characterReference:Ue,codeFenced:f(C),codeFencedFence:P,codeFencedFenceInfo:E,codeFencedFenceMeta:A,codeFlowValue:z,codeIndented:f(_),codeText:f(te),codeTextData:z,data:z,definition:f(),definitionDestinationString:Y,definitionLabelString:N,definitionTitleString:I,emphasis:f(),hardBreakEscape:f(K),hardBreakTrailing:f(K),htmlFlow:f(xe),htmlFlowData:z,htmlText:f(le),htmlTextData:z,image:f(oe),label:ge,labelText:G,lineEnding:D,link:f(J),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ve,resourceDestinationString:w,resourceTitleString:R,resource:$,setextHeading:f(q),setextHeadingLineSequence:ee,setextHeadingText:M,strong:f(),thematicBreak:f()}};i0(a,(t||{}).mdastExtensions||[]);const s={};return o;function o(F){let ne={type:"root",children:[]};const ue={stack:[ne],tokenStack:[],config:a,enter:g,exit:h,buffer:d,resume:y,data:s},Se=[];let U=-1;for(;++U<F.length;)if(F[U][1].type==="listOrdered"||F[U][1].type==="listUnordered")if(F[U][0]==="enter")Se.push(U);else{const ce=Se.pop();U=c(F,ce,U)}for(U=-1;++U<F.length;){const ce=a[F[U][0]];o0.call(ce,F[U][1].type)&&ce[F[U][1].type].call(Object.assign({sliceSerialize:F[U][2].sliceSerialize},ue),F[U][1])}if(ue.tokenStack.length>0){const ce=ue.tokenStack[ue.tokenStack.length-1];(ce[1]||Rg).call(ue,void 0,ce[0])}for(ne.position={start:Rr(F.length>0?F[0][1].start:{line:1,column:1,offset:0}),end:Rr(F.length>0?F[F.length-2][1].end:{line:1,column:1,offset:0})},U=-1;++U<a.transforms.length;)ne=a.transforms[U](ne)||ne;return ne}function c(F,ne,ue){let Se=ne-1,U=-1,ce=!1,be,Be,xt,Nt;for(;++Se<=ue;){const Ke=F[Se];switch(Ke[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ke[0]==="enter"?U++:U--,Nt=void 0;break}case"lineEndingBlank":{Ke[0]==="enter"&&(be&&!Nt&&!U&&!xt&&(xt=Se),Nt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Nt=void 0}if(!U&&Ke[0]==="enter"&&Ke[1].type==="listItemPrefix"||U===-1&&Ke[0]==="exit"&&(Ke[1].type==="listUnordered"||Ke[1].type==="listOrdered")){if(be){let ct=Se;for(Be=void 0;ct--;){const gt=F[ct];if(gt[1].type==="lineEnding"||gt[1].type==="lineEndingBlank"){if(gt[0]==="exit")continue;Be&&(F[Be][1].type="lineEndingBlank",ce=!0),gt[1].type="lineEnding",Be=ct}else if(!(gt[1].type==="linePrefix"||gt[1].type==="blockQuotePrefix"||gt[1].type==="blockQuotePrefixWhitespace"||gt[1].type==="blockQuoteMarker"||gt[1].type==="listItemIndent"))break}xt&&(!Be||xt<Be)&&(be._spread=!0),be.end=Object.assign({},Be?F[Be][1].start:Ke[1].end),F.splice(Be||Se,0,["exit",be,Ke[2]]),Se++,ue++}if(Ke[1].type==="listItemPrefix"){const ct={type:"listItem",_spread:!1,start:Object.assign({},Ke[1].start),end:void 0};be=ct,F.splice(Se,0,["enter",ct,Ke[2]]),Se++,ue++,xt=void 0,Nt=!0}}}return F[ne][1]._spread=ce,ue}function u(F,ne){return ue;function ue(Se){g.call(this,F(Se),Se),ne&&ne.call(this,Se)}}function d(){this.stack.push({type:"fragment",children:[]})}function g(F,ne,ue){this.stack[this.stack.length-1].children.push(F),this.stack.push(F),this.tokenStack.push([ne,ue||void 0]),F.position={start:Rr(ne.start),end:void 0}}function f(F){return ne;function ne(ue){F&&F.call(this,ue),h.call(this,ue)}}function h(F,ne){const ue=this.stack.pop(),Se=this.tokenStack.pop();if(Se)Se[0].type!==F.type&&(ne?ne.call(this,F,Se[0]):(Se[1]||Rg).call(this,F,Se[0]));else throw new Error("Cannot close `"+F.type+"` ("+Tl({start:F.start,end:F.end})+"): its not open");ue.position.end=Rr(F.end)}function y(){return Rb(this.stack.pop())}function x(){this.data.expectingFirstListItemValue=!0}function k(F){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(F),10),this.data.expectingFirstListItemValue=void 0}}function E(){const F=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=F}function A(){const F=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=F}function P(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const F=this.resume(),ne=this.stack[this.stack.length-1];ne.value=F.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const F=this.resume(),ne=this.stack[this.stack.length-1];ne.value=F.replace(/(\r?\n|\r)$/g,"")}function N(F){const ne=this.resume(),ue=this.stack[this.stack.length-1];ue.label=ne,ue.identifier=za(this.sliceSerialize(F)).toLowerCase()}function I(){const F=this.resume(),ne=this.stack[this.stack.length-1];ne.title=F}function Y(){const F=this.resume(),ne=this.stack[this.stack.length-1];ne.url=F}function Z(F){const ne=this.stack[this.stack.length-1];if(!ne.depth){const ue=this.sliceSerialize(F).length;ne.depth=ue}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function ee(F){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(F).codePointAt(0)===61?1:2}function q(){this.data.setextHeadingSlurpLineEnding=void 0}function X(F){const ue=this.stack[this.stack.length-1].children;let Se=ue[ue.length-1];(!Se||Se.type!=="text")&&(Se=mt(),Se.position={start:Rr(F.start),end:void 0},ue.push(Se)),this.stack.push(Se)}function z(F){const ne=this.stack.pop();ne.value+=this.sliceSerialize(F),ne.position.end=Rr(F.end)}function D(F){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ue=ne.children[ne.children.length-1];ue.position.end=Rr(F.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&a.canContainEols.includes(ne.type)&&(X.call(this,F),z.call(this,F))}function K(){this.data.atHardBreak=!0}function xe(){const F=this.resume(),ne=this.stack[this.stack.length-1];ne.value=F}function le(){const F=this.resume(),ne=this.stack[this.stack.length-1];ne.value=F}function te(){const F=this.resume(),ne=this.stack[this.stack.length-1];ne.value=F}function J(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=ne,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function oe(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=ne,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function G(F){const ne=this.sliceSerialize(F),ue=this.stack[this.stack.length-2];ue.label=Lv(ne),ue.identifier=za(ne).toLowerCase()}function ge(){const F=this.stack[this.stack.length-1],ne=this.resume(),ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,ue.type==="link"){const Se=F.children;ue.children=Se}else ue.alt=ne}function w(){const F=this.resume(),ne=this.stack[this.stack.length-1];ne.url=F}function R(){const F=this.resume(),ne=this.stack[this.stack.length-1];ne.title=F}function $(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function ve(F){const ne=this.resume(),ue=this.stack[this.stack.length-1];ue.label=ne,ue.identifier=za(this.sliceSerialize(F)).toLowerCase(),this.data.referenceType="full"}function _e(F){this.data.characterReferenceType=F.type}function Pe(F){const ne=this.sliceSerialize(F),ue=this.data.characterReferenceType;let Se;ue?(Se=Yp(ne,ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Se=lu(ne);const U=this.stack[this.stack.length-1];U.value+=Se}function Ue(F){const ne=this.stack.pop();ne.position.end=Rr(F.end)}function Oe(F){z.call(this,F);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(F)}function qe(F){z.call(this,F);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(F)}function et(){return{type:"blockquote",children:[]}}function st(){return{type:"code",lang:null,meta:null,value:""}}function tt(){return{type:"inlineCode",value:""}}function yt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ae(){return{type:"emphasis",children:[]}}function nt(){return{type:"heading",depth:0,children:[]}}function Xe(){return{type:"break"}}function Q(){return{type:"html",value:""}}function re(){return{type:"image",title:null,url:"",alt:null}}function Ie(){return{type:"link",title:null,url:"",children:[]}}function ye(F){return{type:"list",ordered:F.type==="listOrdered",start:null,spread:F._spread,children:[]}}function Qe(F){return{type:"listItem",spread:F._spread,checked:null,children:[]}}function Ye(){return{type:"paragraph",children:[]}}function it(){return{type:"strong",children:[]}}function mt(){return{type:"text",value:""}}function H(){return{type:"thematicBreak"}}}function Rr(t){return{line:t.line,column:t.column,offset:t.offset}}function i0(t,a){let s=-1;for(;++s<a.length;){const o=a[s];Array.isArray(o)?i0(t,o):Ov(t,o)}}function Ov(t,a){let s;for(s in a)if(o0.call(a,s))switch(s){case"canContainEols":{const o=a[s];o&&t[s].push(...o);break}case"transforms":{const o=a[s];o&&t[s].push(...o);break}case"enter":case"exit":{const o=a[s];o&&Object.assign(t[s],o);break}}}function Rg(t,a){throw t?new Error("Cannot close `"+t.type+"` ("+Tl({start:t.start,end:t.end})+"): a different token (`"+a.type+"`, "+Tl({start:a.start,end:a.end})+") is open"):new Error("Cannot close document, a token (`"+a.type+"`, "+Tl({start:a.start,end:a.end})+") is still open")}function jv(t){const a=this;a.parser=s;function s(o){return Av(o,{...a.data("settings"),...t,extensions:a.data("micromarkExtensions")||[],mdastExtensions:a.data("fromMarkdownExtensions")||[]})}}function Fv(t,a){const s={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(a),!0)};return t.patch(a,s),t.applyData(a,s)}function $v(t,a){const s={type:"element",tagName:"br",properties:{},children:[]};return t.patch(a,s),[t.applyData(a,s),{type:"text",value:`
`}]}function Bv(t,a){const s=a.value?a.value+`
`:"",o={},c=a.lang?a.lang.split(/\s+/):[];c.length>0&&(o.className=["language-"+c[0]]);let u={type:"element",tagName:"code",properties:o,children:[{type:"text",value:s}]};return a.meta&&(u.data={meta:a.meta}),t.patch(a,u),u=t.applyData(a,u),u={type:"element",tagName:"pre",properties:{},children:[u]},t.patch(a,u),u}function Uv(t,a){const s={type:"element",tagName:"del",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function Hv(t,a){const s={type:"element",tagName:"em",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function Vv(t,a){const s=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",o=String(a.identifier).toUpperCase(),c=Aa(o.toLowerCase()),u=t.footnoteOrder.indexOf(o);let d,g=t.footnoteCounts.get(o);g===void 0?(g=0,t.footnoteOrder.push(o),d=t.footnoteOrder.length):d=u+1,g+=1,t.footnoteCounts.set(o,g);const f={type:"element",tagName:"a",properties:{href:"#"+s+"fn-"+c,id:s+"fnref-"+c+(g>1?"-"+g:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(d)}]};t.patch(a,f);const h={type:"element",tagName:"sup",properties:{},children:[f]};return t.patch(a,h),t.applyData(a,h)}function qv(t,a){const s={type:"element",tagName:"h"+a.depth,properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function Wv(t,a){if(t.options.allowDangerousHtml){const s={type:"raw",value:a.value};return t.patch(a,s),t.applyData(a,s)}}function c0(t,a){const s=a.referenceType;let o="]";if(s==="collapsed"?o+="[]":s==="full"&&(o+="["+(a.label||a.identifier)+"]"),a.type==="imageReference")return[{type:"text",value:"!["+a.alt+o}];const c=t.all(a),u=c[0];u&&u.type==="text"?u.value="["+u.value:c.unshift({type:"text",value:"["});const d=c[c.length-1];return d&&d.type==="text"?d.value+=o:c.push({type:"text",value:o}),c}function Kv(t,a){const s=String(a.identifier).toUpperCase(),o=t.definitionById.get(s);if(!o)return c0(t,a);const c={src:Aa(o.url||""),alt:a.alt};o.title!==null&&o.title!==void 0&&(c.title=o.title);const u={type:"element",tagName:"img",properties:c,children:[]};return t.patch(a,u),t.applyData(a,u)}function Gv(t,a){const s={src:Aa(a.url)};a.alt!==null&&a.alt!==void 0&&(s.alt=a.alt),a.title!==null&&a.title!==void 0&&(s.title=a.title);const o={type:"element",tagName:"img",properties:s,children:[]};return t.patch(a,o),t.applyData(a,o)}function Qv(t,a){const s={type:"text",value:a.value.replace(/\r?\n|\r/g," ")};t.patch(a,s);const o={type:"element",tagName:"code",properties:{},children:[s]};return t.patch(a,o),t.applyData(a,o)}function Jv(t,a){const s=String(a.identifier).toUpperCase(),o=t.definitionById.get(s);if(!o)return c0(t,a);const c={href:Aa(o.url||"")};o.title!==null&&o.title!==void 0&&(c.title=o.title);const u={type:"element",tagName:"a",properties:c,children:t.all(a)};return t.patch(a,u),t.applyData(a,u)}function Yv(t,a){const s={href:Aa(a.url)};a.title!==null&&a.title!==void 0&&(s.title=a.title);const o={type:"element",tagName:"a",properties:s,children:t.all(a)};return t.patch(a,o),t.applyData(a,o)}function Xv(t,a,s){const o=t.all(a),c=s?Zv(s):u0(a),u={},d=[];if(typeof a.checked=="boolean"){const y=o[0];let x;y&&y.type==="element"&&y.tagName==="p"?x=y:(x={type:"element",tagName:"p",properties:{},children:[]},o.unshift(x)),x.children.length>0&&x.children.unshift({type:"text",value:" "}),x.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:a.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let g=-1;for(;++g<o.length;){const y=o[g];(c||g!==0||y.type!=="element"||y.tagName!=="p")&&d.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!c?d.push(...y.children):d.push(y)}const f=o[o.length-1];f&&(c||f.type!=="element"||f.tagName!=="p")&&d.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:u,children:d};return t.patch(a,h),t.applyData(a,h)}function Zv(t){let a=!1;if(t.type==="list"){a=t.spread||!1;const s=t.children;let o=-1;for(;!a&&++o<s.length;)a=u0(s[o])}return a}function u0(t){const a=t.spread;return a??t.children.length>1}function eE(t,a){const s={},o=t.all(a);let c=-1;for(typeof a.start=="number"&&a.start!==1&&(s.start=a.start);++c<o.length;){const d=o[c];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){s.className=["contains-task-list"];break}}const u={type:"element",tagName:a.ordered?"ol":"ul",properties:s,children:t.wrap(o,!0)};return t.patch(a,u),t.applyData(a,u)}function tE(t,a){const s={type:"element",tagName:"p",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function nE(t,a){const s={type:"root",children:t.wrap(t.all(a))};return t.patch(a,s),t.applyData(a,s)}function rE(t,a){const s={type:"element",tagName:"strong",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}function aE(t,a){const s=t.all(a),o=s.shift(),c=[];if(o){const d={type:"element",tagName:"thead",properties:{},children:t.wrap([o],!0)};t.patch(a.children[0],d),c.push(d)}if(s.length>0){const d={type:"element",tagName:"tbody",properties:{},children:t.wrap(s,!0)},g=tu(a.children[1]),f=Vp(a.children[a.children.length-1]);g&&f&&(d.position={start:g,end:f}),c.push(d)}const u={type:"element",tagName:"table",properties:{},children:t.wrap(c,!0)};return t.patch(a,u),t.applyData(a,u)}function lE(t,a,s){const o=s?s.children:void 0,u=(o?o.indexOf(a):1)===0?"th":"td",d=s&&s.type==="table"?s.align:void 0,g=d?d.length:a.children.length;let f=-1;const h=[];for(;++f<g;){const x=a.children[f],k={},E=d?d[f]:void 0;E&&(k.align=E);let A={type:"element",tagName:u,properties:k,children:[]};x&&(A.children=t.all(x),t.patch(x,A),A=t.applyData(x,A)),h.push(A)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(a,y),t.applyData(a,y)}function sE(t,a){const s={type:"element",tagName:"td",properties:{},children:t.all(a)};return t.patch(a,s),t.applyData(a,s)}const Ag=9,Dg=32;function oE(t){const a=String(t),s=/\r?\n|\r/g;let o=s.exec(a),c=0;const u=[];for(;o;)u.push(Og(a.slice(c,o.index),c>0,!0),o[0]),c=o.index+o[0].length,o=s.exec(a);return u.push(Og(a.slice(c),c>0,!1)),u.join("")}function Og(t,a,s){let o=0,c=t.length;if(a){let u=t.codePointAt(o);for(;u===Ag||u===Dg;)o++,u=t.codePointAt(o)}if(s){let u=t.codePointAt(c-1);for(;u===Ag||u===Dg;)c--,u=t.codePointAt(c-1)}return c>o?t.slice(o,c):""}function iE(t,a){const s={type:"text",value:oE(String(a.value))};return t.patch(a,s),t.applyData(a,s)}function cE(t,a){const s={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(a,s),t.applyData(a,s)}const uE={blockquote:Fv,break:$v,code:Bv,delete:Uv,emphasis:Hv,footnoteReference:Vv,heading:qv,html:Wv,imageReference:Kv,image:Gv,inlineCode:Qv,linkReference:Jv,link:Yv,listItem:Xv,list:eE,paragraph:tE,root:nE,strong:rE,table:aE,tableCell:sE,tableRow:lE,text:iE,thematicBreak:cE,toml:Xs,yaml:Xs,definition:Xs,footnoteDefinition:Xs};function Xs(){}const d0=-1,xo=0,Pl=1,io=2,iu=3,cu=4,uu=5,du=6,m0=7,g0=8,jg=typeof self=="object"?self:globalThis,dE=(t,a)=>{const s=(c,u)=>(t.set(u,c),c),o=c=>{if(t.has(c))return t.get(c);const[u,d]=a[c];switch(u){case xo:case d0:return s(d,c);case Pl:{const g=s([],c);for(const f of d)g.push(o(f));return g}case io:{const g=s({},c);for(const[f,h]of d)g[o(f)]=o(h);return g}case iu:return s(new Date(d),c);case cu:{const{source:g,flags:f}=d;return s(new RegExp(g,f),c)}case uu:{const g=s(new Map,c);for(const[f,h]of d)g.set(o(f),o(h));return g}case du:{const g=s(new Set,c);for(const f of d)g.add(o(f));return g}case m0:{const{name:g,message:f}=d;return s(new jg[g](f),c)}case g0:return s(BigInt(d),c);case"BigInt":return s(Object(BigInt(d)),c);case"ArrayBuffer":return s(new Uint8Array(d).buffer,d);case"DataView":{const{buffer:g}=new Uint8Array(d);return s(new DataView(g),d)}}return s(new jg[u](d),c)};return o},Fg=t=>dE(new Map,t)(0),Sa="",{toString:mE}={},{keys:gE}=Object,wl=t=>{const a=typeof t;if(a!=="object"||!t)return[xo,a];const s=mE.call(t).slice(8,-1);switch(s){case"Array":return[Pl,Sa];case"Object":return[io,Sa];case"Date":return[iu,Sa];case"RegExp":return[cu,Sa];case"Map":return[uu,Sa];case"Set":return[du,Sa];case"DataView":return[Pl,s]}return s.includes("Array")?[Pl,s]:s.includes("Error")?[m0,s]:[io,s]},Zs=([t,a])=>t===xo&&(a==="function"||a==="symbol"),pE=(t,a,s,o)=>{const c=(d,g)=>{const f=o.push(d)-1;return s.set(g,f),f},u=d=>{if(s.has(d))return s.get(d);let[g,f]=wl(d);switch(g){case xo:{let y=d;switch(f){case"bigint":g=g0,y=d.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+f);y=null;break;case"undefined":return c([d0],d)}return c([g,y],d)}case Pl:{if(f){let k=d;return f==="DataView"?k=new Uint8Array(d.buffer):f==="ArrayBuffer"&&(k=new Uint8Array(d)),c([f,[...k]],d)}const y=[],x=c([g,y],d);for(const k of d)y.push(u(k));return x}case io:{if(f)switch(f){case"BigInt":return c([f,d.toString()],d);case"Boolean":case"Number":case"String":return c([f,d.valueOf()],d)}if(a&&"toJSON"in d)return u(d.toJSON());const y=[],x=c([g,y],d);for(const k of gE(d))(t||!Zs(wl(d[k])))&&y.push([u(k),u(d[k])]);return x}case iu:return c([g,d.toISOString()],d);case cu:{const{source:y,flags:x}=d;return c([g,{source:y,flags:x}],d)}case uu:{const y=[],x=c([g,y],d);for(const[k,E]of d)(t||!(Zs(wl(k))||Zs(wl(E))))&&y.push([u(k),u(E)]);return x}case du:{const y=[],x=c([g,y],d);for(const k of d)(t||!Zs(wl(k)))&&y.push(u(k));return x}}const{message:h}=d;return c([g,{name:f,message:h}],d)};return u},$g=(t,{json:a,lossy:s}={})=>{const o=[];return pE(!(a||s),!!a,new Map,o)(t),o},co=typeof structuredClone=="function"?(t,a)=>a&&("json"in a||"lossy"in a)?Fg($g(t,a)):structuredClone(t):(t,a)=>Fg($g(t,a));function fE(t,a){const s=[{type:"text",value:""}];return a>1&&s.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(a)}]}),s}function hE(t,a){return"Back to reference "+(t+1)+(a>1?"-"+a:"")}function yE(t){const a=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",s=t.options.footnoteBackContent||fE,o=t.options.footnoteBackLabel||hE,c=t.options.footnoteLabel||"Footnotes",u=t.options.footnoteLabelTagName||"h2",d=t.options.footnoteLabelProperties||{className:["sr-only"]},g=[];let f=-1;for(;++f<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[f]);if(!h)continue;const y=t.all(h),x=String(h.identifier).toUpperCase(),k=Aa(x.toLowerCase());let E=0;const A=[],P=t.footnoteCounts.get(x);for(;P!==void 0&&++E<=P;){A.length>0&&A.push({type:"text",value:" "});let N=typeof s=="string"?s:s(f,E);typeof N=="string"&&(N={type:"text",value:N}),A.push({type:"element",tagName:"a",properties:{href:"#"+a+"fnref-"+k+(E>1?"-"+E:""),dataFootnoteBackref:"",ariaLabel:typeof o=="string"?o:o(f,E),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const C=y[y.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const N=C.children[C.children.length-1];N&&N.type==="text"?N.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...A)}else y.push(...A);const _={type:"element",tagName:"li",properties:{id:a+"fn-"+k},children:t.wrap(y,!0)};t.patch(h,_),g.push(_)}if(g.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...co(d),id:"footnote-label"},children:[{type:"text",value:c}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(g,!0)},{type:"text",value:`
`}]}}const p0=(function(t){if(t==null)return EE;if(typeof t=="function")return bo(t);if(typeof t=="object")return Array.isArray(t)?xE(t):bE(t);if(typeof t=="string")return vE(t);throw new Error("Expected function, string, or object as test")});function xE(t){const a=[];let s=-1;for(;++s<t.length;)a[s]=p0(t[s]);return bo(o);function o(...c){let u=-1;for(;++u<a.length;)if(a[u].apply(this,c))return!0;return!1}}function bE(t){const a=t;return bo(s);function s(o){const c=o;let u;for(u in t)if(c[u]!==a[u])return!1;return!0}}function vE(t){return bo(a);function a(s){return s&&s.type===t}}function bo(t){return a;function a(s,o,c){return!!(kE(s)&&t.call(this,s,typeof o=="number"?o:void 0,c||void 0))}}function EE(){return!0}function kE(t){return t!==null&&typeof t=="object"&&"type"in t}const f0=[],wE=!0,Bg=!1,NE="skip";function SE(t,a,s,o){let c;typeof a=="function"&&typeof s!="function"?(o=s,s=a):c=a;const u=p0(c),d=o?-1:1;g(t,void 0,[])();function g(f,h,y){const x=f&&typeof f=="object"?f:{};if(typeof x.type=="string"){const E=typeof x.tagName=="string"?x.tagName:typeof x.name=="string"?x.name:void 0;Object.defineProperty(k,"name",{value:"node ("+(f.type+(E?"<"+E+">":""))+")"})}return k;function k(){let E=f0,A,P,C;if((!a||u(f,h,y[y.length-1]||void 0))&&(E=CE(s(f,y)),E[0]===Bg))return E;if("children"in f&&f.children){const _=f;if(_.children&&E[0]!==NE)for(P=(o?_.children.length:-1)+d,C=y.concat(_);P>-1&&P<_.children.length;){const N=_.children[P];if(A=g(N,P,C)(),A[0]===Bg)return A;P=typeof A[1]=="number"?A[1]:P+d}}return E}}}function CE(t){return Array.isArray(t)?t:typeof t=="number"?[wE,t]:t==null?f0:[t]}function h0(t,a,s,o){let c,u,d;typeof a=="function"&&typeof s!="function"?(u=void 0,d=a,c=s):(u=a,d=s,c=o),SE(t,u,g,c);function g(f,h){const y=h[h.length-1],x=y?y.children.indexOf(f):void 0;return d(f,x,y)}}const Fc={}.hasOwnProperty,_E={};function TE(t,a){const s=a||_E,o=new Map,c=new Map,u=new Map,d={...uE,...s.handlers},g={all:h,applyData:PE,definitionById:o,footnoteById:c,footnoteCounts:u,footnoteOrder:[],handlers:d,one:f,options:s,patch:zE,wrap:ME};return h0(t,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const x=y.type==="definition"?o:c,k=String(y.identifier).toUpperCase();x.has(k)||x.set(k,y)}}),g;function f(y,x){const k=y.type,E=g.handlers[k];if(Fc.call(g.handlers,k)&&E)return E(g,y,x);if(g.options.passThrough&&g.options.passThrough.includes(k)){if("children"in y){const{children:P,...C}=y,_=co(C);return _.children=g.all(y),_}return co(y)}return(g.options.unknownHandler||IE)(g,y,x)}function h(y){const x=[];if("children"in y){const k=y.children;let E=-1;for(;++E<k.length;){const A=g.one(k[E],y);if(A){if(E&&k[E-1].type==="break"&&(!Array.isArray(A)&&A.type==="text"&&(A.value=Ug(A.value)),!Array.isArray(A)&&A.type==="element")){const P=A.children[0];P&&P.type==="text"&&(P.value=Ug(P.value))}Array.isArray(A)?x.push(...A):x.push(A)}}}return x}}function zE(t,a){t.position&&(a.position=ub(t))}function PE(t,a){let s=a;if(t&&t.data){const o=t.data.hName,c=t.data.hChildren,u=t.data.hProperties;if(typeof o=="string")if(s.type==="element")s.tagName=o;else{const d="children"in s?s.children:[s];s={type:"element",tagName:o,properties:{},children:d}}s.type==="element"&&u&&Object.assign(s.properties,co(u)),"children"in s&&s.children&&c!==null&&c!==void 0&&(s.children=c)}return s}function IE(t,a){const s=a.data||{},o="value"in a&&!(Fc.call(s,"hProperties")||Fc.call(s,"hChildren"))?{type:"text",value:a.value}:{type:"element",tagName:"div",properties:{},children:t.all(a)};return t.patch(a,o),t.applyData(a,o)}function ME(t,a){const s=[];let o=-1;for(a&&s.push({type:"text",value:`
`});++o<t.length;)o&&s.push({type:"text",value:`
`}),s.push(t[o]);return a&&t.length>0&&s.push({type:"text",value:`
`}),s}function Ug(t){let a=0,s=t.charCodeAt(a);for(;s===9||s===32;)a++,s=t.charCodeAt(a);return t.slice(a)}function Hg(t,a){const s=TE(t,a),o=s.one(t,void 0),c=yE(s),u=Array.isArray(o)?{type:"root",children:o}:o||{type:"root",children:[]};return c&&u.children.push({type:"text",value:`
`},c),u}function LE(t,a){return t&&"run"in t?async function(s,o){const c=Hg(s,{file:o,...a});await t.run(c,o)}:function(s,o){return Hg(s,{file:o,...t||a})}}function Vg(t){if(t)throw t}var hc,qg;function RE(){if(qg)return hc;qg=1;var t=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,c=function(h){return typeof Array.isArray=="function"?Array.isArray(h):a.call(h)==="[object Array]"},u=function(h){if(!h||a.call(h)!=="[object Object]")return!1;var y=t.call(h,"constructor"),x=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!y&&!x)return!1;var k;for(k in h);return typeof k>"u"||t.call(h,k)},d=function(h,y){s&&y.name==="__proto__"?s(h,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):h[y.name]=y.newValue},g=function(h,y){if(y==="__proto__")if(t.call(h,y)){if(o)return o(h,y).value}else return;return h[y]};return hc=function f(){var h,y,x,k,E,A,P=arguments[0],C=1,_=arguments.length,N=!1;for(typeof P=="boolean"&&(N=P,P=arguments[1]||{},C=2),(P==null||typeof P!="object"&&typeof P!="function")&&(P={});C<_;++C)if(h=arguments[C],h!=null)for(y in h)x=g(P,y),k=g(h,y),P!==k&&(N&&k&&(u(k)||(E=c(k)))?(E?(E=!1,A=x&&c(x)?x:[]):A=x&&u(x)?x:{},d(P,{name:y,newValue:f(N,A,k)})):typeof k<"u"&&d(P,{name:y,newValue:k}));return P},hc}var AE=RE();const yc=uo(AE);function $c(t){if(typeof t!="object"||t===null)return!1;const a=Object.getPrototypeOf(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function DE(){const t=[],a={run:s,use:o};return a;function s(...c){let u=-1;const d=c.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);g(null,...c);function g(f,...h){const y=t[++u];let x=-1;if(f){d(f);return}for(;++x<c.length;)(h[x]===null||h[x]===void 0)&&(h[x]=c[x]);c=h,y?OE(y,g)(...h):d(null,...h)}}function o(c){if(typeof c!="function")throw new TypeError("Expected `middelware` to be a function, not "+c);return t.push(c),a}}function OE(t,a){let s;return o;function o(...d){const g=t.length>d.length;let f;g&&d.push(c);try{f=t.apply(this,d)}catch(h){const y=h;if(g&&s)throw y;return c(y)}g||(f&&f.then&&typeof f.then=="function"?f.then(u,c):f instanceof Error?c(f):u(f))}function c(d,...g){s||(s=!0,a(d,...g))}function u(d){c(null,d)}}const Jn={basename:jE,dirname:FE,extname:$E,join:BE,sep:"/"};function jE(t,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');Bl(t);let s=0,o=-1,c=t.length,u;if(a===void 0||a.length===0||a.length>t.length){for(;c--;)if(t.codePointAt(c)===47){if(u){s=c+1;break}}else o<0&&(u=!0,o=c+1);return o<0?"":t.slice(s,o)}if(a===t)return"";let d=-1,g=a.length-1;for(;c--;)if(t.codePointAt(c)===47){if(u){s=c+1;break}}else d<0&&(u=!0,d=c+1),g>-1&&(t.codePointAt(c)===a.codePointAt(g--)?g<0&&(o=c):(g=-1,o=d));return s===o?o=d:o<0&&(o=t.length),t.slice(s,o)}function FE(t){if(Bl(t),t.length===0)return".";let a=-1,s=t.length,o;for(;--s;)if(t.codePointAt(s)===47){if(o){a=s;break}}else o||(o=!0);return a<0?t.codePointAt(0)===47?"/":".":a===1&&t.codePointAt(0)===47?"//":t.slice(0,a)}function $E(t){Bl(t);let a=t.length,s=-1,o=0,c=-1,u=0,d;for(;a--;){const g=t.codePointAt(a);if(g===47){if(d){o=a+1;break}continue}s<0&&(d=!0,s=a+1),g===46?c<0?c=a:u!==1&&(u=1):c>-1&&(u=-1)}return c<0||s<0||u===0||u===1&&c===s-1&&c===o+1?"":t.slice(c,s)}function BE(...t){let a=-1,s;for(;++a<t.length;)Bl(t[a]),t[a]&&(s=s===void 0?t[a]:s+"/"+t[a]);return s===void 0?".":UE(s)}function UE(t){Bl(t);const a=t.codePointAt(0)===47;let s=HE(t,!a);return s.length===0&&!a&&(s="."),s.length>0&&t.codePointAt(t.length-1)===47&&(s+="/"),a?"/"+s:s}function HE(t,a){let s="",o=0,c=-1,u=0,d=-1,g,f;for(;++d<=t.length;){if(d<t.length)g=t.codePointAt(d);else{if(g===47)break;g=47}if(g===47){if(!(c===d-1||u===1))if(c!==d-1&&u===2){if(s.length<2||o!==2||s.codePointAt(s.length-1)!==46||s.codePointAt(s.length-2)!==46){if(s.length>2){if(f=s.lastIndexOf("/"),f!==s.length-1){f<0?(s="",o=0):(s=s.slice(0,f),o=s.length-1-s.lastIndexOf("/")),c=d,u=0;continue}}else if(s.length>0){s="",o=0,c=d,u=0;continue}}a&&(s=s.length>0?s+"/..":"..",o=2)}else s.length>0?s+="/"+t.slice(c+1,d):s=t.slice(c+1,d),o=d-c-1;c=d,u=0}else g===46&&u>-1?u++:u=-1}return s}function Bl(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const VE={cwd:qE};function qE(){return"/"}function Bc(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function WE(t){if(typeof t=="string")t=new URL(t);else if(!Bc(t)){const a=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw a.code="ERR_INVALID_ARG_TYPE",a}if(t.protocol!=="file:"){const a=new TypeError("The URL must be of scheme file");throw a.code="ERR_INVALID_URL_SCHEME",a}return KE(t)}function KE(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const a=t.pathname;let s=-1;for(;++s<a.length;)if(a.codePointAt(s)===37&&a.codePointAt(s+1)===50){const o=a.codePointAt(s+2);if(o===70||o===102){const c=new TypeError("File URL path must not include encoded / characters");throw c.code="ERR_INVALID_FILE_URL_PATH",c}}return decodeURIComponent(a)}const xc=["history","path","basename","stem","extname","dirname"];class y0{constructor(a){let s;a?Bc(a)?s={path:a}:typeof a=="string"||GE(a)?s={value:a}:s=a:s={},this.cwd="cwd"in s?"":VE.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<xc.length;){const u=xc[o];u in s&&s[u]!==void 0&&s[u]!==null&&(this[u]=u==="history"?[...s[u]]:s[u])}let c;for(c in s)xc.includes(c)||(this[c]=s[c])}get basename(){return typeof this.path=="string"?Jn.basename(this.path):void 0}set basename(a){vc(a,"basename"),bc(a,"basename"),this.path=Jn.join(this.dirname||"",a)}get dirname(){return typeof this.path=="string"?Jn.dirname(this.path):void 0}set dirname(a){Wg(this.basename,"dirname"),this.path=Jn.join(a||"",this.basename)}get extname(){return typeof this.path=="string"?Jn.extname(this.path):void 0}set extname(a){if(bc(a,"extname"),Wg(this.dirname,"extname"),a){if(a.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(a.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Jn.join(this.dirname,this.stem+(a||""))}get path(){return this.history[this.history.length-1]}set path(a){Bc(a)&&(a=WE(a)),vc(a,"path"),this.path!==a&&this.history.push(a)}get stem(){return typeof this.path=="string"?Jn.basename(this.path,this.extname):void 0}set stem(a){vc(a,"stem"),bc(a,"stem"),this.path=Jn.join(this.dirname||"",a+(this.extname||""))}fail(a,s,o){const c=this.message(a,s,o);throw c.fatal=!0,c}info(a,s,o){const c=this.message(a,s,o);return c.fatal=void 0,c}message(a,s,o){const c=new Xt(a,s,o);return this.path&&(c.name=this.path+":"+c.name,c.file=this.path),c.fatal=!1,this.messages.push(c),c}toString(a){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(a||void 0).decode(this.value)}}function bc(t,a){if(t&&t.includes(Jn.sep))throw new Error("`"+a+"` cannot be a path: did not expect `"+Jn.sep+"`")}function vc(t,a){if(!t)throw new Error("`"+a+"` cannot be empty")}function Wg(t,a){if(!t)throw new Error("Setting `"+a+"` requires `path` to be set too")}function GE(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const QE=(function(t){const o=this.constructor.prototype,c=o[t],u=function(){return c.apply(u,arguments)};return Object.setPrototypeOf(u,o),u}),JE={}.hasOwnProperty;class mu extends QE{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=DE()}copy(){const a=new mu;let s=-1;for(;++s<this.attachers.length;){const o=this.attachers[s];a.use(...o)}return a.data(yc(!0,{},this.namespace)),a}data(a,s){return typeof a=="string"?arguments.length===2?(wc("data",this.frozen),this.namespace[a]=s,this):JE.call(this.namespace,a)&&this.namespace[a]||void 0:a?(wc("data",this.frozen),this.namespace=a,this):this.namespace}freeze(){if(this.frozen)return this;const a=this;for(;++this.freezeIndex<this.attachers.length;){const[s,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const c=s.call(a,...o);typeof c=="function"&&this.transformers.use(c)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(a){this.freeze();const s=eo(a),o=this.parser||this.Parser;return Ec("parse",o),o(String(s),s)}process(a,s){const o=this;return this.freeze(),Ec("process",this.parser||this.Parser),kc("process",this.compiler||this.Compiler),s?c(void 0,s):new Promise(c);function c(u,d){const g=eo(a),f=o.parse(g);o.run(f,g,function(y,x,k){if(y||!x||!k)return h(y);const E=x,A=o.stringify(E,k);ZE(A)?k.value=A:k.result=A,h(y,k)});function h(y,x){y||!x?d(y):u?u(x):s(void 0,x)}}}processSync(a){let s=!1,o;return this.freeze(),Ec("processSync",this.parser||this.Parser),kc("processSync",this.compiler||this.Compiler),this.process(a,c),Gg("processSync","process",s),o;function c(u,d){s=!0,Vg(u),o=d}}run(a,s,o){Kg(a),this.freeze();const c=this.transformers;return!o&&typeof s=="function"&&(o=s,s=void 0),o?u(void 0,o):new Promise(u);function u(d,g){const f=eo(s);c.run(a,f,h);function h(y,x,k){const E=x||a;y?g(y):d?d(E):o(void 0,E,k)}}}runSync(a,s){let o=!1,c;return this.run(a,s,u),Gg("runSync","run",o),c;function u(d,g){Vg(d),c=g,o=!0}}stringify(a,s){this.freeze();const o=eo(s),c=this.compiler||this.Compiler;return kc("stringify",c),Kg(a),c(a,o)}use(a,...s){const o=this.attachers,c=this.namespace;if(wc("use",this.frozen),a!=null)if(typeof a=="function")f(a,s);else if(typeof a=="object")Array.isArray(a)?g(a):d(a);else throw new TypeError("Expected usable value, not `"+a+"`");return this;function u(h){if(typeof h=="function")f(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[y,...x]=h;f(y,x)}else d(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function d(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");g(h.plugins),h.settings&&(c.settings=yc(!0,c.settings,h.settings))}function g(h){let y=-1;if(h!=null)if(Array.isArray(h))for(;++y<h.length;){const x=h[y];u(x)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function f(h,y){let x=-1,k=-1;for(;++x<o.length;)if(o[x][0]===h){k=x;break}if(k===-1)o.push([h,...y]);else if(y.length>0){let[E,...A]=y;const P=o[k][1];$c(P)&&$c(E)&&(E=yc(!0,P,E)),o[k]=[h,E,...A]}}}}const YE=new mu().freeze();function Ec(t,a){if(typeof a!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function kc(t,a){if(typeof a!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function wc(t,a){if(a)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Kg(t){if(!$c(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Gg(t,a,s){if(!s)throw new Error("`"+t+"` finished async. Use `"+a+"` instead")}function eo(t){return XE(t)?t:new y0(t)}function XE(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function ZE(t){return typeof t=="string"||ek(t)}function ek(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const tk="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Qg=[],Jg={allowDangerousHtml:!0},nk=/^(https?|ircs?|mailto|xmpp)$/i,rk=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ak(t){const a=lk(t),s=sk(t);return ok(a.runSync(a.parse(s),s),t)}function lk(t){const a=t.rehypePlugins||Qg,s=t.remarkPlugins||Qg,o=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Jg}:Jg;return YE().use(jv).use(s).use(LE,o).use(a)}function sk(t){const a=t.children||"",s=new y0;return typeof a=="string"&&(s.value=a),s}function ok(t,a){const s=a.allowedElements,o=a.allowElement,c=a.components,u=a.disallowedElements,d=a.skipHtml,g=a.unwrapDisallowed,f=a.urlTransform||ik;for(const y of rk)Object.hasOwn(a,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+tk+y.id,void 0);return a.className&&(t={type:"element",tagName:"div",properties:{className:a.className},children:t.type==="root"?t.children:[t]}),h0(t,h),fb(t,{Fragment:gc.Fragment,components:c,ignoreInvalidStyle:!0,jsx:gc.jsx,jsxs:gc.jsxs,passKeys:!0,passNode:!0});function h(y,x,k){if(y.type==="raw"&&k&&typeof x=="number")return d?k.children.splice(x,1):k.children[x]={type:"text",value:y.value},x;if(y.type==="element"){let E;for(E in dc)if(Object.hasOwn(dc,E)&&Object.hasOwn(y.properties,E)){const A=y.properties[E],P=dc[E];(P===null||P.includes(y.tagName))&&(y.properties[E]=f(String(A||""),E,y))}}if(y.type==="element"){let E=s?!s.includes(y.tagName):u?u.includes(y.tagName):!1;if(!E&&o&&typeof x=="number"&&(E=!o(y,x,k)),E&&k&&typeof x=="number")return g&&y.children?k.children.splice(x,1,...y.children):k.children.splice(x,1),x}}}function ik(t){const a=t.indexOf(":"),s=t.indexOf("?"),o=t.indexOf("#"),c=t.indexOf("/");return a===-1||c!==-1&&a>c||s!==-1&&a>s||o!==-1&&a>o||nk.test(t.slice(0,a))?t:""}const ck={supervisor:{icon:In,color:"purple",label:""},rag:{icon:zt,color:"blue",label:"RAG"},web_search:{icon:Yt,color:"cyan",label:""},t2sql:{icon:Tt,color:"amber",label:"SQL"},mcp:{icon:Bn,color:"indigo",label:"MCP"},process:{icon:Xc,color:"orange",label:""},synthesizer:{icon:Zn,color:"green",label:""}},Yg={purple:{active:"bg-purple-50 border-purple-400 text-purple-700",done:"bg-purple-50 border-purple-300 text-purple-600",glow:"rgba(168,85,247,0.35)"},blue:{active:"bg-blue-50 border-blue-400 text-blue-700",done:"bg-blue-50 border-blue-300 text-blue-600",glow:"rgba(59,130,246,0.35)"},cyan:{active:"bg-cyan-50 border-cyan-400 text-cyan-700",done:"bg-cyan-50 border-cyan-300 text-cyan-600",glow:"rgba(6,182,212,0.35)"},amber:{active:"bg-amber-50 border-amber-400 text-amber-700",done:"bg-amber-50 border-amber-300 text-amber-600",glow:"rgba(245,158,11,0.35)"},indigo:{active:"bg-indigo-50 border-indigo-400 text-indigo-700",done:"bg-indigo-50 border-indigo-300 text-indigo-600",glow:"rgba(99,102,241,0.35)"},orange:{active:"bg-orange-50 border-orange-400 text-orange-700",done:"bg-orange-50 border-orange-300 text-orange-600",glow:"rgba(249,115,22,0.35)"},green:{active:"bg-green-50 border-green-400 text-green-700",done:"bg-green-50 border-green-300 text-green-600",glow:"rgba(74,222,128,0.35)"}};function uk({agentKey:t,status:a,durationMs:s}){const o=ck[t]||{icon:Zn,color:"green",label:t},c=o.icon,u=Yg[o.color]||Yg.green,d=a==="pending",g=a==="active",f=a==="done",h=d?"bg-gray-50 border-gray-200 text-gray-400 border-dashed":g?`${u.active} border-solid`:`${u.done} border-solid`;return r.createElement("div",{className:`flex flex-col items-center gap-1 px-3 py-2 rounded-lg border-2 min-w-[72px] transition-all duration-300 ${h}`,style:g?{"--glow-color":u.glow}:void 0},r.createElement("div",{className:`relative ${g?"animate-pulseGlow":""}`,style:g?{"--glow-color":u.glow}:void 0},g?r.createElement(Bt,{size:18,className:"animate-spin"}):f?r.createElement(dt,{size:18}):r.createElement(c,{size:18})),r.createElement("span",{className:"text-[10px] font-bold whitespace-nowrap"},o.label),f&&s>0&&r.createElement("span",{className:"text-[9px] opacity-60"},s>=1e3?`${(s/1e3).toFixed(1)}s`:`${s}ms`))}function dk({active:t}){return r.createElement("div",{className:"flex items-center px-0.5 relative"},r.createElement("div",{className:`w-6 h-0.5 ${t?"bg-green-400":"bg-gray-300"} transition-colors duration-300 relative`},t&&r.createElement("div",{className:"absolute top-1/2 -translate-y-1/2 w-1.5 h-1.5 rounded-full bg-green-500 animate-travelDot"})),r.createElement("div",{className:`w-0 h-0 border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent border-l-[5px] ${t?"border-l-green-400":"border-l-gray-300"} transition-colors duration-300`}))}function mk({agents:t,activeAgent:a,completedMap:s}){if(!t||t.length===0)return null;const o=c=>s?.[c]!==void 0?"done":a===c?"active":"pending";return r.createElement("div",{className:"flex items-center gap-0 overflow-x-auto py-2 px-1 mb-2 animate-fadeIn"},t.map((c,u)=>{const d=o(c),g=t[u+1],f=d==="done"&&g&&(o(g)==="active"||o(g)==="done");return r.createElement(r.Fragment,{key:c},r.createElement(uk,{agentKey:c,status:d,durationMs:s?.[c]||0}),u<t.length-1&&r.createElement(dk,{active:f}))}))}function gk({message:t,onSend:a}){const s=b.useMemo(()=>{const o=t.toolCallsMeta?.map(h=>h.name)||[],c=t.toolCallsMeta?.intent||[],u=!!t.generatedSql,d=!!t.tableData,g=o.includes("vector_retrieval")||c.includes("rag"),f=o.includes("web_search")||c.includes("web_search");return u||d?["   ","  ","   "]:f&&g?["   "," "," "]:f?["   "," ","  "]:g?["   ","  "," "]:["  "," ",""]},[t.toolCallsMeta,t.generatedSql,t.tableData]);return r.createElement("div",{className:"flex flex-wrap gap-2 mt-3 animate-fadeIn"},s.map((o,c)=>r.createElement("button",{key:c,onClick:()=>a(o),className:"text-xs px-3 py-1.5 rounded-full border border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400 hover:border-green-400 hover:text-green-600 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-all hover:scale-105 active:scale-95 animate-slideUp",style:{animationDelay:`${c*.1}s`,animationFillMode:"both"}},o)))}function pk({source:t,anchorRect:a,onClose:s}){const o=b.useRef(null);if(b.useEffect(()=>{const d=f=>{o.current&&!o.current.contains(f.target)&&s()},g=f=>{f.key==="Escape"&&s()};return document.addEventListener("mousedown",d),document.addEventListener("keydown",g),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("keydown",g)}},[s]),!t||!a)return null;const c=a.bottom+8,u=Math.max(8,Math.min(a.left,window.innerWidth-340));return Ol.createPortal(r.createElement("div",{ref:o,style:{position:"fixed",top:c,left:u,zIndex:200},className:"w-80 bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden animate-scaleIn"},r.createElement("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-gray-800"},r.createElement("div",{className:"flex items-center gap-2 min-w-0"},r.createElement("div",{className:"p-1.5 bg-blue-50 dark:bg-blue-900/30 rounded-lg shrink-0"},r.createElement(zt,{size:14,className:"text-blue-500"})),r.createElement("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-100 truncate"},t.filename)),r.createElement("button",{onClick:s,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors shrink-0"},r.createElement(mr,{size:14}))),r.createElement("div",{className:"px-4 py-3"},r.createElement("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 rounded-lg p-3 max-h-32 overflow-y-auto custom-scrollbar border border-gray-100 dark:border-gray-700 leading-relaxed italic"},'"',t.chunk_text,'"')),r.createElement("div",{className:"px-4 py-2.5 border-t border-gray-100 dark:border-gray-800 flex items-center gap-3 text-[10px] text-gray-400"},t.score>0&&r.createElement("span",{className:"flex items-center gap-1"},r.createElement("span",{className:"font-bold"},":")," ",(t.score*100).toFixed(0),"%"),r.createElement("span",{className:"flex items-center gap-1"},r.createElement("span",{className:"font-bold"},":")," [",t.id,"]"))),document.body)}function fk({num:t,source:a,onClick:s}){return r.createElement("button",{onClick:s,className:"inline-flex items-center justify-center min-w-[20px] h-5 px-1 mx-0.5 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-[10px] font-bold rounded border border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900/50 hover:border-blue-300 dark:hover:border-blue-700 transition-all cursor-pointer align-baseline leading-none",title:a?.filename||` ${t}`},t)}const hk={rag:{label:"RAG",icon:zt,desc:"  "},web_search:{label:"Web",icon:Yt,desc:"  "},sql:{label:"SQL",icon:Xr,desc:" "},mcp:{label:"MCP",icon:Bn,desc:"  "}},yk={rag:{active:"bg-blue-100 text-blue-700 border-blue-300",override:"bg-blue-50 text-blue-600 border-blue-400 border-dashed",ghost:"text-gray-400 border-gray-200 hover:border-gray-300 hover:text-gray-500"},web_search:{active:"bg-green-100 text-green-700 border-green-300",override:"bg-green-50 text-green-600 border-green-400 border-dashed",ghost:"text-gray-400 border-gray-200 hover:border-gray-300 hover:text-gray-500"},sql:{active:"bg-amber-100 text-amber-700 border-amber-300",override:"bg-amber-50 text-amber-600 border-amber-400 border-dashed",ghost:"text-gray-400 border-gray-200 hover:border-gray-300 hover:text-gray-500"},mcp:{active:"bg-indigo-100 text-indigo-700 border-indigo-300",override:"bg-indigo-50 text-indigo-600 border-indigo-400 border-dashed",ghost:"text-gray-400 border-gray-200 hover:border-gray-300 hover:text-gray-500"}},Xg=({agentId:t,size:a=14,className:s=""})=>{switch(t){case"agent-general":return r.createElement(Zn,{size:a,className:s});case"agent-rag":return r.createElement(zt,{size:a,className:s});default:return r.createElement(Lt,{size:a,className:s})}};function xk({sourceKey:t,isOn:a,isOverride:s,smartMode:o,onToggle:c,onSubMenuToggle:u}){const d=hk[t],g=yk[t],f=d.icon;let h;a&&s?h=g.override:a?h=g.active:h=g.ghost;const y=x=>{x.stopPropagation(),(t==="mcp"||t==="sql")&&u?a?(c(t),u(null)):(c(t),u(t)):c(t)};return r.createElement("button",{onClick:y,className:`inline-flex items-center gap-1 px-2 py-1 rounded-md text-[10px] font-bold border transition-all duration-200 ${h}`,title:`${d.desc} ${a?"()":"()"}${s?"   ":""}${a&&o?"  Smart Mode   ":""}`},r.createElement(f,{size:11}),r.createElement("span",null,d.label),a&&o&&r.createElement(En,{size:8,className:"opacity-60"}),a&&s&&!o&&r.createElement("span",{className:"w-1.5 h-1.5 rounded-full bg-current opacity-60"}))}function bk({agents:t,currentAgent:a,config:s,effectiveSources:o,agentDefaults:c,sourceOverrides:u,smartMode:d,isModeOverride:g,onToggleSource:f,onToggleSmartMode:h,onAgentChange:y,mcpServers:x,activeMcpIds:k,onToggleMcp:E,dbConnections:A,selectedDbConnectionId:P,onSelectDb:C}){const[_,N]=b.useState(!1),[I,Y]=b.useState(null),Z=b.useCallback(q=>{Y(q===null?null:X=>X===q?null:q)},[]),M=b.useCallback(()=>{N(!1),Y(null)},[]);r.useEffect(()=>{if(_||I)return window.addEventListener("click",M),()=>window.removeEventListener("click",M)},[_,I,M]);const ee=["rag","web_search","sql","mcp"];return r.createElement("div",{className:"flex flex-wrap items-center gap-1.5"},r.createElement("div",{className:"relative"},r.createElement("button",{onClick:q=>{q.stopPropagation();const X=!_;N(X),X&&Y(null)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[11px] font-semibold transition-colors cursor-pointer ${a?"bg-green-50 hover:bg-green-100 text-green-700 border border-green-200":"bg-gray-50 hover:bg-gray-100 text-gray-600 border border-gray-200"}`},a?r.createElement(Xg,{agentId:a.id,size:12}):r.createElement(Lt,{size:12}),r.createElement("span",{className:"max-w-[100px] truncate"},a?.name||" "),r.createElement("span",{className:"text-[9px] opacity-60 font-mono"},a?.model||s.llm),r.createElement(Fl,{size:10,className:`transition-transform ${_?"rotate-180":""}`})),_&&r.createElement("div",{className:"absolute bottom-full left-0 mb-2 w-80 bg-white border border-gray-200 rounded-xl shadow-xl z-30 overflow-hidden"},r.createElement("div",{className:"px-3 py-2 text-[10px] font-semibold text-gray-500 uppercase tracking-wider bg-gray-50 border-b border-gray-200"}," "),r.createElement("div",{className:"max-h-52 overflow-y-auto custom-scrollbar p-1"},r.createElement("button",{onClick:()=>{y(null),N(!1)},className:`w-full text-left px-3 py-2 rounded-lg flex items-center gap-2.5 transition ${a?"text-gray-700 hover:bg-gray-50":"bg-gray-50 text-gray-700"}`},r.createElement("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center ${a?"bg-gray-100 text-gray-500":"bg-gray-100 text-gray-600"}`},r.createElement(Lt,{size:13})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-xs font-bold truncate"}," "),r.createElement("div",{className:"text-[10px] text-gray-400 truncate"},"  (",s.llm,") ")),!a&&r.createElement(dt,{size:12,className:"text-green-500 shrink-0"})),r.createElement("div",{className:"h-px bg-gray-100 mx-2 my-1"}),t.filter(q=>!q.agentType||q.agentType==="custom").map(q=>r.createElement("button",{key:q.id,onClick:()=>{y(q.id),N(!1)},className:`w-full text-left px-3 py-2 rounded-lg flex items-center gap-2.5 transition ${a?.id===q.id?"bg-green-50 text-gray-700 border border-green-200":"text-gray-700 hover:bg-gray-50 border border-transparent"}`},r.createElement("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center shrink-0 ${a?.id===q.id?"bg-green-100 text-green-600":"bg-gray-100 text-gray-500"}`},r.createElement(Xg,{agentId:q.id,size:13})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-xs font-bold truncate"},q.name),r.createElement("div",{className:"text-[10px] text-gray-400 truncate flex items-center gap-1"},r.createElement(bn,{size:9})," ",q.model||s.llm)),a?.id===q.id&&r.createElement(dt,{size:12,className:"text-green-500 shrink-0"})))),r.createElement("div",{className:"px-3 py-2.5 bg-gray-50 border-t border-gray-100"},r.createElement("div",{className:"text-[10px] text-gray-500 flex items-start gap-1.5"},r.createElement(Dt,{size:10,className:"shrink-0 mt-0.5 text-gray-400"}),r.createElement("span",null,"     Smart Mode  ."))))),r.createElement("button",{onClick:q=>{q.stopPropagation(),N(!1),Y(null),h()},className:`inline-flex items-center gap-1 px-2.5 py-1.5 rounded-lg text-[10px] font-bold border transition-all duration-200 ${d?"bg-purple-100 text-purple-700 border-purple-300":"text-gray-400 border-gray-200 hover:border-purple-300 hover:text-purple-500"}${g?" border-dashed":""}`,title:`Smart Mode: AI       ${d?" ()":" ()"}${g?"   ":""}`},r.createElement(In,{size:12}),r.createElement("span",null,"Smart"),d&&r.createElement(Zn,{size:9,className:"animate-pulse opacity-70"})),r.createElement("div",{className:"w-px h-5 bg-gray-200"}),r.createElement("div",{className:"relative flex flex-wrap items-center gap-1"},ee.map(q=>r.createElement(xk,{key:q,sourceKey:q,isOn:o[q],isOverride:u[q]!==void 0,smartMode:d,onToggle:X=>{N(!1),f(X)},onSubMenuToggle:q==="mcp"||q==="sql"?X=>{N(!1),Z(X)}:null})),I==="mcp"&&r.createElement("div",{className:"absolute bottom-full left-0 mb-1 w-56 bg-white border border-gray-200 rounded-xl shadow-xl z-30 overflow-hidden",onClick:q=>q.stopPropagation()},r.createElement("div",{className:"px-3 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 border-b border-gray-100"},"MCP "),r.createElement("div",{className:"max-h-48 overflow-y-auto custom-scrollbar p-1"},x.length===0?r.createElement("div",{className:"p-4 text-center text-xs text-gray-400"}," MCP  .",r.createElement("br",null)," ."):x.map(q=>{const X=k.includes(q.id);return r.createElement("button",{key:q.id,onClick:z=>{z.stopPropagation(),E(q.id)},className:"w-full text-left px-3 py-2.5 rounded-lg flex items-center gap-3 hover:bg-gray-50 transition"},r.createElement("div",{className:`w-4 h-4 border-2 rounded flex items-center justify-center transition ${X?"bg-green-400 border-green-400":"border-gray-300"}`},X&&r.createElement(dt,{size:10,className:"text-white"})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-xs font-bold text-gray-800 truncate"},q.name),r.createElement("div",{className:"text-[10px] text-gray-400 truncate"},q.status)))}))),I==="sql"&&r.createElement("div",{className:"absolute bottom-full left-0 mb-1 w-56 bg-white border border-gray-200 rounded-xl shadow-xl z-30 overflow-hidden",onClick:q=>q.stopPropagation()},r.createElement("div",{className:"px-3 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 border-b border-gray-200"}," "),r.createElement("div",{className:"max-h-48 overflow-y-auto p-1"},A.length===0?r.createElement("div",{className:"p-4 text-center text-xs text-gray-400"}," DB .",r.createElement("br",null)," ."):A.map(q=>r.createElement("button",{key:q.id,onClick:X=>{X.stopPropagation(),C(q.id),Y(null)},className:`w-full text-left px-3 py-2.5 rounded-lg flex items-center gap-3 hover:bg-gray-50 transition ${P===q.id?"bg-amber-50 text-amber-700":""}`},r.createElement(Tt,{size:14,className:"shrink-0"}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-xs font-bold truncate"},q.name),r.createElement("div",{className:"text-[10px] text-gray-400 truncate"},q.db_type,q.db_type!=="sqlite"&&`  ${q.host}:${q.port}`)),P===q.id&&r.createElement(dt,{size:12,className:"text-amber-600 shrink-0"})))))))}function vk({children:t,...a}){const[s,o]=b.useState(!1),c=b.useRef(null),u=()=>{const d=c.current?.textContent||"";navigator.clipboard.writeText(d),o(!0),setTimeout(()=>o(!1),2e3)};return r.createElement("div",{className:"relative group/code"},r.createElement("pre",{ref:c,...a},t),r.createElement("button",{onClick:u,className:"absolute top-2 right-2 p-1.5 rounded-lg bg-gray-700/80 text-gray-300 hover:bg-gray-600 hover:text-white opacity-0 group-hover/code:opacity-100 transition-all text-[10px] flex items-center gap-1"},s?r.createElement(r.Fragment,null,r.createElement(dt,{size:12})," "):r.createElement(r.Fragment,null,r.createElement(Tc,{size:12})," ")))}const Ek=({agentId:t,size:a=12,className:s=""})=>{switch(t){case"agent-general":return r.createElement(Zn,{size:a,className:s});case"agent-rag":return r.createElement(zt,{size:a,className:s});default:return r.createElement(Lt,{size:a,className:s})}};function kk(){const{currentMessages:t,addMessage:a,renameSession:s,config:o,setConfig:c,agents:u,currentAgent:d,setCurrentAgentId:g,knowledgeBases:f,currentKbId:h,mcpServers:y,setSessions:x,currentSessionId:k,sessions:E,DEFAULT_TOOL_PRESET:A}=La(),[P,C]=b.useState(""),[_,N]=b.useState(!1),[I,Y]=b.useState([]),[Z,M]=b.useState(!1),ee=b.useRef(new Map),q=b.useCallback(U=>(ee.current.has(U)||ee.current.set(U,URL.createObjectURL(U)),ee.current.get(U)),[]);b.useEffect(()=>{const U=new Set(I);for(const[ce,be]of ee.current)U.has(ce)||(URL.revokeObjectURL(be),ee.current.delete(ce));return()=>{for(const ce of ee.current.values())URL.revokeObjectURL(ce);ee.current.clear()}},[I]);const[X,z]=b.useState(!1),[D,K]=b.useState(null),[xe,le]=b.useState({}),[te,J]=b.useState([]),[oe,G]=b.useState([h]),[ge,w]=b.useState(null),[R,$]=b.useState([]),S=d?.defaultTools||A||{smartMode:!1,sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},ve=D??S.smartMode??!1,_e=b.useMemo(()=>({rag:xe.rag??S.sources?.rag??!0,web_search:xe.web_search??S.sources?.web_search??!1,mcp:xe.mcp??S.sources?.mcp??!1,sql:xe.sql??S.sources?.sql??!1}),[xe,S]);b.useEffect(()=>{o.useWebSearch!==void 0&&le(U=>({...U,web_search:!!o.useWebSearch}))},[o.useWebSearch]),b.useEffect(()=>{o.useDeepThink!==void 0&&K(!!o.useDeepThink)},[o.useDeepThink]),b.useEffect(()=>{o.useSql!==void 0&&le(U=>({...U,sql:!!o.useSql}))},[o.useSql]);const[Pe,Ue]=b.useState(null),[Oe,qe]=b.useState(!1),et=b.useRef(!0),st=b.useRef(null),tt=b.useRef(null),yt=b.useRef(null),ae=b.useRef(null),nt=U=>{G(ce=>ce.includes(U)?ce.filter(be=>be!==U):[...ce,U])},Xe=oe.length===0?"KB ":oe.length===1?f.find(U=>U.id===oe[0])?.name||"KB":`${oe.length} KB`;b.useEffect(()=>{(async()=>{try{const ce=await $t.getDbConnections();ce?.connections&&$(ce.connections)}catch{}})()},[]),b.useEffect(()=>{const U=f.map(ce=>ce.id);G(ce=>{const be=ce.filter(Be=>U.includes(Be));return be.length>0?be:U.includes(h)?[h]:U.length>0?[U[0]]:ce})},[h,f]),b.useEffect(()=>{const U=()=>{z(!1)};return X&&window.addEventListener("click",U),()=>window.removeEventListener("click",U)},[X]),b.useEffect(()=>{ae.current&&(ae.current.abort(),ae.current=null),N(!1),M(!1)},[k]),b.useEffect(()=>()=>{ae.current&&(ae.current.abort(),ae.current=null)},[]),b.useEffect(()=>{et.current&&tt.current?.scrollTo({top:tt.current.scrollHeight,behavior:"smooth"})},[t,_]);const Q=b.useCallback(()=>{const U=tt.current;if(!U)return;const be=U.scrollHeight-U.scrollTop-U.clientHeight<150;et.current=be,qe(!be&&t.length>0)},[t.length]),re=b.useCallback(()=>{tt.current?.scrollTo({top:tt.current.scrollHeight,behavior:"smooth"}),qe(!1)},[]),Ie=b.useCallback(()=>{const U=yt.current;U&&(U.style.height="auto",U.style.height=Math.min(U.scrollHeight,192)+"px")},[]);b.useEffect(()=>{Ie()},[P,Ie]);const ye=U=>{if(U.target.files&&U.target.files.length>0){const ce=Array.from(U.target.files);Y(be=>[...be,...ce])}U.target.value=""},Qe=U=>{J(ce=>ce.includes(U)?ce.filter(be=>be!==U):[...ce,U])},Ye=b.useCallback(U=>{g(U),K(null),le({}),J([]),w(null)},[g]),it=b.useCallback(U=>{le(ce=>{const be=S.sources?.[U]??!1,xt=!(ce[U]??be);if(xt===be){const{[U]:Nt,...Ke}=ce;return Ke}return{...ce,[U]:xt}})},[S]),mt=b.useCallback(()=>{K(U=>{const ce=S.smartMode??!1,Be=!(U??ce);return Be===ce?null:Be})},[S]),H=async(U=null)=>{const ce=U||P;if(!ce.trim()&&I.length===0)return;if(_e.sql&&!ge){a({role:"assistant",text:"SQL      .  DB ."});return}ae.current&&ae.current.abort(),ae.current=new AbortController;const be=k,Be=[".txt",".md",".csv"],xt=[".jpg",".jpeg",".png",".gif",".webp",".bmp"];let Nt=[],Ke=[];const ct=[...I];if(ct.length>0){M(!0);try{const We=ct.map(async he=>{const Ge=he.name.substring(he.name.lastIndexOf(".")).toLowerCase();if(xt.includes(Ge))return new Promise(Ae=>{const Te=new FileReader;Te.onload=St=>{const Or=St.target.result.split(",")[1];Ae({filename:he.name,type:"image",data:Or})},Te.onerror=()=>{console.error(`  : ${he.name}`),Ae({filename:he.name,type:"error"})},Te.readAsDataURL(he)});if(Be.includes(Ge))return new Promise(Ae=>{const Te=new FileReader;Te.onload=St=>Ae({filename:he.name,type:"text",text:St.target.result}),Te.onerror=()=>{console.error(`  : ${he.name}`),Ae({filename:he.name,type:"text",text:""})},Te.readAsText(he)});try{return{...await tx(he),type:"document"}}catch(Ae){return console.error(`  : ${he.name}`,Ae),{filename:he.name,type:"document",text:""}}}),rt=await Promise.all(We);Nt=rt.filter(he=>he.type==="text"||he.type==="document"),Ke=rt.filter(he=>he.type==="image"&&he.data).map(he=>he.data)}catch(We){console.error("   :",We)}finally{M(!1)}}Ke.length>5;let gt=ce;const Ot=Nt.filter(We=>We.text?.trim());if(Ot.length>0){const We=Ot.map(rt=>`[ : ${rt.filename}]
${rt.text}`).join(`

`);gt=Ot.length>0&&ce.trim()?`${ce}

---
${We}`:We||ce}if(Ke.length>0&&!ce.trim()&&Ot.length===0&&(gt="   ."),!U){const We=E.find(rt=>rt.id===k);if(We&&We.messages.length===0){const rt=ce.length>30?ce.slice(0,30)+"...":ce;s(k,rt)}a({role:"user",text:ce,attachments:ct.map(rt=>({name:rt.name}))}),C(""),Y([])}N(!0);const Et=Yn();let O="";a({id:Et,role:"assistant",text:"",thinking:ve?"Smart Mode:    ...":null,thinkingTime:0,sources:[]});const fe=Date.now();try{const We=t.filter(he=>he.text).slice(-10).map(he=>({role:he.role,content:he.text})),rt={query:gt,model:d?.model||o.llm,kb_ids:_e.rag?oe:[],use_rag:_e.rag,web_search:_e.web_search,use_deep_think:ve,active_mcp_ids:_e.mcp?te:[],system_prompt:d?.systemPrompt||null,history:We,top_k:o.searchTopK||null,use_rerank:o.useRerank||!1,search_provider:o.activeSearchProviderId||null,search_mode:o.searchMode||"hybrid",dense_weight:o.denseWeight??.5,use_multimodal_search:o.useMultimodalSearch||!1,images:Ke,use_sql:_e.sql,db_connection_id:_e.sql?ge:null};await ex(rt,he=>{if(!ae.current?.signal.aborted){if(he.type==="thinking")x(Ge=>Ge.map(Ae=>Ae.id===be?{...Ae,messages:Ae.messages.map(Te=>Te.id===Et?{...Te,thinking:he.thinking,activeAgent:he.active_agent||Te.activeAgent}:Te)}:Ae));else if(he.type==="pipeline_plan")x(Ge=>Ge.map(Ae=>Ae.id===be?{...Ae,messages:Ae.messages.map(Te=>Te.id===Et?{...Te,pipelineAgents:he.agents,completedAgents:{}}:Te)}:Ae));else if(he.type==="agent_status"&&he.status==="done")x(Ge=>Ge.map(Ae=>Ae.id===be?{...Ae,messages:Ae.messages.map(Te=>Te.id===Et?{...Te,completedAgents:{...Te.completedAgents||{},[he.agent]:he.duration_ms||0}}:Te)}:Ae));else if(he.type==="agent_status"&&he.status==="active")x(Ge=>Ge.map(Ae=>Ae.id===be?{...Ae,messages:Ae.messages.map(Te=>Te.id===Et?{...Te,activeAgent:he.agent}:Te)}:Ae));else if(he.type==="sql")x(Ge=>Ge.map(Ae=>Ae.id===be?{...Ae,messages:Ae.messages.map(Te=>Te.id===Et?{...Te,generatedSql:he.sql}:Te)}:Ae));else if(he.type==="table"){const Ge=((Date.now()-fe)/1e3).toFixed(1);x(Ae=>Ae.map(Te=>Te.id===be?{...Te,messages:Te.messages.map(St=>St.id===Et?{...St,tableData:{columns:he.columns,rows:he.rows,total:he.total},thinkingTime:Ge}:St)}:Te))}else if(he.type==="tool_calls_meta")x(Ge=>Ge.map(Ae=>Ae.id===be?{...Ae,messages:Ae.messages.map(Te=>Te.id===Et?{...Te,toolCallsMeta:he.tool_calls}:Te)}:Ae));else if(he.type==="sources")x(Ge=>Ge.map(Ae=>Ae.id===be?{...Ae,messages:Ae.messages.map(Te=>Te.id===Et?{...Te,sources:he.sources}:Te)}:Ae));else if(he.type==="content"){O+=he.content;const Ge=((Date.now()-fe)/1e3).toFixed(1);x(Ae=>Ae.map(Te=>Te.id===be?{...Te,messages:Te.messages.map(St=>St.id===Et?{...St,text:O,thinkingTime:Ge}:St)}:Te))}}},()=>{N(!1),ae.current=null},ae.current)}catch(We){console.error("  :",We),N(!1);const rt=We.message||"    .";a({id:Yn(),role:"assistant",text:` ${rt}`,thinking:"",thinkingTime:0,sources:[]})}},F=()=>{ae.current&&(ae.current.abort(),ae.current=null,N(!1))},ne=(U,ce)=>{if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(U).catch(()=>{const be=document.createElement("textarea");be.value=U,be.style.position="fixed",be.style.opacity="0",document.body.appendChild(be),be.select(),document.execCommand("copy"),document.body.removeChild(be)});else{const be=document.createElement("textarea");be.value=U,be.style.position="fixed",be.style.opacity="0",document.body.appendChild(be),be.select(),document.execCommand("copy"),document.body.removeChild(be)}Ue(ce),setTimeout(()=>Ue(null),1500)},ue=async(U,ce)=>{const be=t;if(U<0||U>=be.length)return;const Be=be[U],xt=U>0?be[U-1]:null;if(!xt||Be.role!=="assistant")return;const Nt=[...be];Nt[U]={...Nt[U],feedback:{is_positive:ce}},x(Ke=>Ke.map(ct=>ct.id===k?{...ct,messages:Nt}:ct));try{await _c.create({session_id:k,message_index:U,user_message:xt.text||"",ai_message:Be.text||"",is_positive:ce,agent_id:d?.id,model_name:d?.model||o.llm,kb_ids:JSON.stringify(oe),used_web_search:_e.web_search,used_deep_think:ve,tool_calls_json:Be.toolCallsMeta?JSON.stringify(Be.toolCallsMeta):null})}catch(Ke){console.error("  :",Ke)}},Se=b.useMemo(()=>{const U=[];_e.sql&&(U.push("   "),U.push("  ")),d?.systemPrompt&&U.push(`${d.name}   `);const ce=f.find(Be=>oe.includes(Be.id))?.name;ce&&(U.push(`"${ce}"  `),U.push(`"${ce}"   `)),_e.web_search&&U.push("  ");const be=["  ","  "," "];for(;U.length<3;)U.push(be[U.length]);return U.slice(0,3)},[_e,d,f,oe]);return r.createElement("div",{className:"flex-1 flex flex-col min-h-0 relative bg-gray-50"},r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar scroll-smooth relative",ref:tt,onScroll:Q},t.length===0?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-500 gap-6 px-4"},r.createElement("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-600 shadow-lg rounded-2xl flex items-center justify-center"},r.createElement(Ek,{agentId:d?.id,size:36,className:"text-white"})),r.createElement("div",{className:"text-center max-w-lg"},r.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-2"},d?.name||"AI"," "),r.createElement("p",{className:"text-sm text-gray-600 leading-relaxed"},d?.description||"    .")),r.createElement("div",{className:"flex flex-wrap justify-center gap-2 max-w-xl"},Se.map(U=>r.createElement("button",{key:U,onClick:()=>{C(U),yt.current?.focus()},className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-xs text-gray-700 hover:bg-gray-50 hover:border-green-300 hover:text-green-500 transition-all font-medium shadow-sm"},U)))):r.createElement("div",{className:"max-w-4xl mx-auto px-4 md:px-8 py-6 space-y-1"},t.map((U,ce)=>r.createElement(wk,{key:U.id,msg:{...U,onFeedback:U.role==="assistant"?be=>ue(ce,be):null},isLast:ce===t.length-1,isStreaming:_&&ce===t.length-1&&U.role==="assistant",copiedId:Pe,onCopy:ne,onRegenerate:()=>H(U.role==="assistant"&&ce>0?t[ce-1].text:null)})),!_&&t.length>0&&t[t.length-1].role==="assistant"&&t[t.length-1].text&&r.createElement("div",{className:"max-w-[80%] ml-11"},r.createElement(gk,{message:t[t.length-1],onSend:U=>H(U)})),_&&t.length>0&&t[t.length-1].role==="user"&&r.createElement("div",{className:"flex items-start gap-3 py-4"},r.createElement("div",{className:"w-8 h-8 rounded-full flex items-center justify-center shrink-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700"},r.createElement(Lt,{size:16,className:"text-gray-600 dark:text-gray-400"})),r.createElement("div",{className:"flex items-center gap-2 pt-2"},r.createElement("div",{className:"flex gap-1"},r.createElement("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),r.createElement("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),r.createElement("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})),r.createElement("span",{className:"text-xs text-gray-400 ml-1"},"  ..."))))),Oe&&r.createElement("button",{onClick:re,className:"absolute bottom-20 left-1/2 -translate-x-1/2 flex items-center gap-1.5 px-3 py-1.5 bg-gray-800 dark:bg-gray-200 text-white dark:text-gray-800 text-xs font-medium rounded-full shadow-lg hover:bg-gray-700 dark:hover:bg-gray-300 transition-all animate-slideUp z-10"},r.createElement(Jc,{size:14}),"  "),r.createElement("div",{className:"border-t border-gray-200 bg-white px-4 py-3"},r.createElement("div",{className:"max-w-4xl mx-auto relative"},_&&r.createElement("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 z-20"},r.createElement("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-white border border-red-300 shadow-md rounded-full text-sm text-red-600 hover:bg-red-50 font-medium transition-colors"},r.createElement(Sx,{size:14}),"  ")),r.createElement("div",{className:"bg-white border border-gray-300 rounded-2xl shadow-sm focus-within:ring-2 focus-within:ring-green-400 focus-within:border-green-400 transition-all flex flex-col relative"},r.createElement("div",{className:"px-3 pt-2.5 flex flex-wrap items-center gap-1.5"},r.createElement(bk,{agents:u,currentAgent:d,config:o,effectiveSources:_e,agentDefaults:S,sourceOverrides:xe,smartMode:ve,isModeOverride:D!==null,onToggleSource:it,onToggleSmartMode:mt,onAgentChange:Ye,mcpServers:y,activeMcpIds:te,onToggleMcp:Qe,dbConnections:R,selectedDbConnectionId:ge,onSelectDb:w}),r.createElement("div",{className:"w-px h-5 bg-gray-200"}),r.createElement("div",{className:"relative"},r.createElement("button",{onClick:U=>{U.stopPropagation(),z(!X)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[11px] font-semibold transition-colors cursor-pointer ${oe.length>0?"bg-green-50 hover:bg-green-100 text-green-600 border border-green-100":"bg-gray-50 hover:bg-gray-100 text-gray-400 border border-gray-200"}`},r.createElement(Tt,{size:12}),r.createElement("span",{className:"max-w-[120px] truncate"},Xe),r.createElement(Fl,{size:10,className:`transition-transform ${X?"rotate-180":""}`})),X&&r.createElement("div",{className:"absolute bottom-full left-0 mb-2 w-64 bg-white border border-gray-200 rounded-xl shadow-xl z-30 overflow-hidden"},r.createElement("div",{className:"px-3 py-2 text-[10px] font-semibold text-gray-500 uppercase tracking-wider bg-gray-50 border-b border-gray-200"},"  ( )"),r.createElement("div",{className:"max-h-48 overflow-y-auto custom-scrollbar p-1"},f.map(U=>{const ce=oe.includes(U.id);return r.createElement("button",{key:U.id,onClick:be=>{be.stopPropagation(),nt(U.id)},className:"w-full text-left px-3 py-2.5 rounded-lg flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition"},r.createElement("div",{className:`w-4 h-4 border-2 rounded flex items-center justify-center transition ${ce?"bg-green-400 border-green-400":"border-gray-300 dark:border-gray-600"}`},ce&&r.createElement(dt,{size:10,className:"text-white"})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"text-xs font-bold text-gray-800 dark:text-gray-200 truncate"},U.name),r.createElement("div",{className:"text-[10px] text-gray-400 truncate"},U.files?.length||0," ")))})))),I.map((U,ce)=>{const be=U.name.substring(U.name.lastIndexOf(".")).toLowerCase(),Be=[".jpg",".jpeg",".png",".gif",".webp",".bmp"].includes(be);return r.createElement("div",{key:ce,className:"flex items-center gap-1.5 px-2 py-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-[11px] font-medium text-gray-700 dark:text-gray-300 shadow-sm"},Be?r.createElement("img",{src:q(U),alt:U.name,className:"w-6 h-6 object-cover rounded"}):r.createElement(Pc,{size:10,className:"text-gray-400"}),r.createElement("span",{className:"max-w-[100px] truncate"},U.name),r.createElement("button",{onClick:()=>Y(xt=>xt.filter((Nt,Ke)=>Ke!==ce)),className:"text-gray-400 hover:text-red-500 ml-0.5"},r.createElement(mr,{size:10})))})),r.createElement("textarea",{ref:yt,value:P,onChange:U=>C(U.target.value),onKeyDown:U=>U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),H()),placeholder:`${d?.name||"AI"}  ...`,className:"w-full bg-transparent border-none outline-none resize-none px-4 py-2 text-sm custom-scrollbar leading-relaxed min-h-[44px] max-h-48 dark:text-gray-100 dark:placeholder-gray-500",rows:1}),r.createElement("div",{className:"flex items-center justify-between px-2 pb-2 pt-0.5"},r.createElement("div",{className:"flex items-center gap-0.5"},r.createElement("input",{type:"file",multiple:!0,accept:".pdf,.docx,.doc,.txt,.md,.pptx,.xlsx,.csv",className:"hidden",ref:st,onChange:ye}),r.createElement("button",{onClick:()=>st.current?.click(),className:"p-2 text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-300 rounded-xl transition",title:" "},r.createElement(Pc,{size:18}))),r.createElement("button",{onClick:()=>H(),disabled:!P.trim()&&I.length===0||_||Z,className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all font-bold text-sm ${(P.trim()||I.length>0)&&!_&&!Z?"bg-green-500 text-white hover:bg-green-600 shadow-sm hover:shadow":"bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed"}`},Z?r.createElement(Bt,{size:16,className:"animate-spin"}):_?r.createElement(Bt,{size:16,className:"animate-spin"}):r.createElement(kx,{size:16,fill:"currentColor"}),r.createElement("span",{className:"hidden sm:inline"},Z?" ":"")))),r.createElement("p",{className:"text-center text-[10px] text-gray-400 dark:text-gray-500 mt-1.5"},"AI can make mistakes. Check important info."))))}function wk({msg:t,isLast:a,isStreaming:s,copiedId:o,onCopy:c,onRegenerate:u}){const d=t.role==="user",g=o===t.id,f=t.text&&t.text.trim().length>0,h=f&&t.thinking,[y,x]=b.useState(null),[k,E]=b.useState(!1),A=b.useCallback(C=>t.sources?.length?r.Children.map(C,_=>{if(typeof _=="string"){const N=[];let I=0;const Y=/\[(\d+)\]/g;let Z;for(;(Z=Y.exec(_))!==null;){const M=parseInt(Z[1]),ee=t.sources.find(q=>q.id===M);ee&&(Z.index>I&&N.push(_.slice(I,Z.index)),N.push(r.createElement(fk,{key:`c${M}-${Z.index}`,num:M,source:ee,onClick:q=>{const X=q.currentTarget.getBoundingClientRect();x({source:ee,anchorRect:X})}})),I=Y.lastIndex)}if(N.length>0)return I<_.length&&N.push(_.slice(I)),N}return _}):C,[t.sources]),P=b.useMemo(()=>{const C={pre:vk};if(t.sources?.length){const _=N=>({children:I,node:Y,...Z})=>r.createElement(N,{...Z},A(I));Object.assign(C,{p:_("p"),li:_("li"),td:_("td"),strong:_("strong"),em:_("em")})}return C},[t.sources,A]);return r.createElement("div",{className:`flex ${d?"justify-end":"justify-start"} group py-3`},r.createElement("div",{className:`flex max-w-[80%] ${d?"flex-row-reverse":"flex-row"} items-start gap-3`},r.createElement("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${d?"bg-gray-600":"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700"}`},d?r.createElement(Rp,{size:16,className:"text-white"}):r.createElement(Lt,{size:16,className:"text-gray-600 dark:text-gray-400"})),r.createElement("div",{className:"flex flex-col gap-1.5 min-w-0"},r.createElement("div",{className:`flex items-center gap-2 ${d?"flex-row-reverse":"flex-row"}`},r.createElement("span",{className:"text-[11px] font-bold text-gray-500 dark:text-gray-400"},d?"You":"AI"),t.time&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500"},t.time),t.thinkingTime>0&&!d&&f&&r.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500"},t.thinkingTime,"s")),!d&&t.toolCallsMeta&&t.toolCallsMeta.length>0&&r.createElement("div",{className:"flex flex-wrap items-center gap-1.5"},t.toolCallsMeta.map((C,_)=>{const I={vector_retrieval:{icon:"",label:"RAG ",bg:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-300 border-purple-200 dark:border-purple-800"},web_search:{icon:"",label:" ",bg:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-300 border-green-200 dark:border-green-800"},mcp_tools:{icon:"",label:"MCP",bg:"bg-cyan-50 dark:bg-cyan-900/20 text-cyan-600 dark:text-cyan-300 border-cyan-200 dark:border-cyan-800"},sql_query:{icon:"",label:"SQL",bg:"bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-300 border-amber-200 dark:border-amber-800"},process:{icon:"",label:" ",bg:"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-300 border-orange-200 dark:border-orange-800"}}[C.name]||{icon:"",label:C.name||"",bg:"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-700"},Y=C.duration_ms?(C.duration_ms/1e3).toFixed(1):null;return r.createElement("span",{key:_,className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-[10px] font-semibold border ${I.bg}`},r.createElement("span",null,I.icon)," ",I.label,Y&&r.createElement("span",{className:"opacity-50"},Y,"s"))})),t.pipelineAgents?.length>0&&r.createElement(mk,{agents:t.pipelineAgents,activeAgent:t.activeAgent,completedMap:t.completedAgents||{}}),t.thinking&&r.createElement("div",{className:`text-xs text-gray-500 dark:text-gray-400 italic p-3 rounded-xl border ${h?"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700":"bg-gray-50/50 dark:bg-gray-900/20 border-gray-100 dark:border-gray-900"}`},r.createElement("div",{className:`flex items-center gap-2 font-bold text-[11px] ${h?"cursor-pointer select-none":"mb-1.5"}`,onClick:()=>h&&E(!k)},h?r.createElement(r.Fragment,null,r.createElement(dt,{size:11,className:"text-green-400"})," ",r.createElement("span",{className:"text-gray-500"}," ")):r.createElement(r.Fragment,null,r.createElement(Bt,{size:11,className:"animate-spin text-green-400"})," ",r.createElement("span",{className:"text-gray-500"}," ...")),t.activeAgent&&r.createElement("span",{className:`text-[9px] px-1.5 py-0.5 rounded font-bold border not-italic ${{supervisor:"bg-purple-50 text-purple-600 border-purple-200",rag:"bg-blue-50 text-blue-600 border-blue-200",web_search:"bg-cyan-50 text-cyan-600 border-cyan-200",t2sql:"bg-amber-50 text-amber-600 border-amber-200",mcp:"bg-indigo-50 text-indigo-600 border-indigo-200",process:"bg-orange-50 text-orange-600 border-orange-200",synthesizer:"bg-green-50 text-green-600 border-green-200"}[t.activeAgent]||"bg-gray-50 text-gray-600 border-gray-200"}`},{supervisor:"Supervisor",rag:"RAG",web_search:"Web Search",t2sql:"T2SQL",mcp:"MCP",process:"Process",synthesizer:"Synthesizer"}[t.activeAgent]||t.activeAgent),h&&r.createElement("span",{className:"ml-auto p-0.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition"},k?r.createElement(_p,{size:12}):r.createElement(Fl,{size:12}))),r.createElement("div",{className:`pl-4 border-l-2 border-gray-200 dark:border-gray-600 leading-relaxed custom-scrollbar transition-all duration-300 overflow-hidden ${h?k?"max-h-[300px] overflow-y-auto mt-1.5":"max-h-0":"max-h-32 overflow-y-auto mt-1.5"}`},t.thinking)),t.generatedSql&&r.createElement("div",{className:"bg-gray-900 dark:bg-gray-950 rounded-xl p-3 border border-gray-700"},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement("span",{className:"text-[10px] font-bold text-orange-400 uppercase tracking-wider"},"Generated SQL"),r.createElement("button",{onClick:()=>navigator.clipboard.writeText(t.generatedSql),className:"text-gray-500 hover:text-gray-300 transition",title:"SQL "},r.createElement(Tc,{size:11}))),r.createElement("pre",{className:"text-xs text-green-300 font-mono whitespace-pre-wrap leading-relaxed overflow-x-auto"},t.generatedSql)),t.tableData&&r.createElement("div",{className:"overflow-x-auto rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("table",{className:"w-full text-xs"},r.createElement("thead",null,r.createElement("tr",{className:"bg-gray-100 dark:bg-gray-800"},t.tableData.columns.map((C,_)=>r.createElement("th",{key:_,className:"px-3 py-2 text-left font-bold text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700"},C)))),r.createElement("tbody",null,t.tableData.rows.map((C,_)=>r.createElement("tr",{key:_,className:_%2===0?"bg-white dark:bg-gray-900":"bg-gray-50 dark:bg-gray-800/50"},C.map((N,I)=>r.createElement("td",{key:I,className:"px-3 py-2 text-gray-800 dark:text-gray-200 border-b border-gray-100 dark:border-gray-800"},N==null?r.createElement("span",{className:"text-gray-400 italic"},"NULL"):String(N))))))),r.createElement("div",{className:"px-3 py-1.5 text-[10px] text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700"}," ",t.tableData.total,"")),f&&r.createElement("div",{className:`px-4 py-3 rounded-2xl text-sm leading-relaxed break-words relative group/bubble ${d?"bg-green-500 text-white rounded-tr-sm":"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 border border-gray-200 dark:border-gray-700 rounded-tl-sm"}`},d?r.createElement("div",{className:"whitespace-pre-wrap"},t.text):r.createElement("div",{className:"markdown-body prose prose-sm dark:prose-invert max-w-none prose-pre:bg-gray-900 prose-pre:text-gray-100 prose-code:text-gray-600 dark:prose-code:text-gray-400 prose-code:before:content-none prose-code:after:content-none prose-code:font-mono prose-code:text-xs"},r.createElement(ak,{components:P},t.text)),s&&!d&&r.createElement("span",{className:"inline-block w-0.5 h-4 bg-gray-500 animate-pulse ml-0.5 align-text-bottom"}),!d&&!s&&r.createElement("div",{className:"absolute -bottom-8 left-0 flex items-center gap-1 opacity-0 group-hover/bubble:opacity-100 mobile-always-show transition-opacity"},r.createElement("button",{onClick:()=>c(t.text,t.id),className:`p-1.5 rounded-lg transition text-xs flex items-center gap-1 ${g?"text-green-400 bg-green-50 dark:bg-green-800/30":"text-gray-400 hover:text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:""},g?r.createElement(r.Fragment,null,r.createElement(dt,{size:12})," "):r.createElement(Tc,{size:12})),r.createElement("button",{onClick:u,className:"p-1.5 text-gray-400 hover:text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-900/30 rounded-lg transition",title:""},r.createElement(Ex,{size:12})),r.createElement("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),r.createElement("button",{onClick:()=>t.onFeedback&&t.onFeedback(!0),className:`p-1.5 rounded-lg transition ${t.feedback?.is_positive===!0?"text-green-500 bg-green-50 dark:bg-green-800/30":"text-gray-400 hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-800/30"}`,title:""},r.createElement(Lp,{size:12})),r.createElement("button",{onClick:()=>t.onFeedback&&t.onFeedback(!1),className:`p-1.5 rounded-lg transition ${t.feedback?.is_positive===!1?"text-red-600 bg-red-50 dark:bg-red-900/30":"text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:""},r.createElement(Mp,{size:12})))),!d&&!s&&t.sources?.length>0&&r.createElement("div",{className:"flex flex-wrap items-center gap-1.5 mt-1"},r.createElement("span",{className:"text-[10px] text-gray-400 font-medium"},":"),t.sources.map(C=>r.createElement("button",{key:C.id,onClick:_=>{const N=_.currentTarget.getBoundingClientRect();x({source:C,anchorRect:N})},className:"inline-flex items-center gap-1 text-[10px] px-1.5 py-0.5 bg-gray-50 dark:bg-gray-800 text-gray-500 dark:text-gray-400 rounded border border-gray-200 dark:border-gray-700 hover:border-blue-300 hover:text-blue-600 dark:hover:border-blue-700 dark:hover:text-blue-400 transition-colors"},r.createElement(zt,{size:10}),r.createElement("span",{className:"max-w-[120px] truncate"},C.filename)))),y&&r.createElement(pk,{source:y.source,anchorRect:y.anchorRect,onClose:()=>x(null)}),t.attachments&&t.attachments.length>0&&r.createElement("div",{className:`flex flex-wrap gap-1.5 ${d?"justify-end":"justify-start"}`},t.attachments.map((C,_)=>r.createElement("div",{key:_,className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-lg text-[11px] text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600"},r.createElement(Pc,{size:10,className:"text-gray-400"})," ",C.name))))))}function Nk({isOpen:t,onClose:a,onSave:s,initialData:o=null}){const{toast:c}=pr(),u={smartMode:!1,sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}},[d,g]=b.useState({name:"",description:"",model:"llama3.1",systemPrompt:"",published:!0,defaultTools:{smartMode:!1,sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}}}),[f,h]=b.useState([]),[y,x]=b.useState(!1);b.useEffect(()=>{if(!t)return;(async()=>{x(!0);try{const C=await $t.getAvailableModels();C?.models&&C.models.length>0&&h(C.models)}catch(C){console.error("   :",C)}finally{x(!1)}})()},[t]);const k=o&&o.agentType&&o.agentType!=="custom";if(b.useEffect(()=>{if(t)if(o){let P=o.defaultTools||{...u};if(!("smartMode"in P)||!("sources"in P)){const{deep_think:C,..._}=P;P={smartMode:!!C,sources:_}}g({name:o.name,description:o.description||"",model:o.model||"llama3.1",systemPrompt:o.systemPrompt||"",published:o.published,defaultTools:P})}else g({name:"",description:"",model:"llama3.1",systemPrompt:"",published:!0,defaultTools:{smartMode:!1,sources:{rag:!0,web_search:!1,mcp:!1,sql:!1}}})},[o,t]),!t)return null;const E=()=>{if(!d.name.trim())return c.warning("  .");s(d),a()},A={ollama:"  (Ollama)",openai:" OpenAI",anthropic:" Anthropic",google:" Google AI",groq:" Groq"};return r.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200"},r.createElement("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-2xl overflow-hidden m-4 flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-200"},r.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-b bg-gray-50/50"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("div",{className:"p-2 bg-gray-100 text-gray-600 rounded-lg"},r.createElement(Lt,{size:20})),r.createElement("h3",{className:"text-lg font-bold text-gray-800"},o?" ":"  ")),r.createElement("button",{onClick:a,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition"},r.createElement(mr,{size:20}))),r.createElement("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar"},r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2 flex items-center gap-2"},r.createElement(Dt,{size:16,className:"text-gray-500"}),"  "),k&&r.createElement("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3 text-xs text-purple-700"},r.createElement("span",{className:"font-bold"}," "),"  : ",{supervisor:"",rag:"RAG ",web_search:" ",t2sql:"T2SQL",mcp:"MCP ",process:""}[o.agentType]||o.agentType,".     ."),r.createElement("div",{className:"grid grid-cols-1 gap-4"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-700 mb-1.5"}," ",r.createElement("span",{className:"text-red-500"},"*")),r.createElement("input",{type:"text",value:d.name,onChange:P=>g({...d,name:P.target.value}),placeholder:":   ",className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-green-400 outline-none text-sm",autoFocus:!0})),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-700 mb-1.5"},""),r.createElement("textarea",{value:d.description,onChange:P=>g({...d,description:P.target.value}),placeholder:"    .",className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-green-400 outline-none text-sm resize-none h-20"})))),r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2 flex items-center gap-2"},r.createElement(bn,{size:16,className:"text-gray-500"}),"  "),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-700 mb-1.5"},"LLM "),r.createElement("div",{className:"relative"},y?r.createElement("div",{className:"w-full p-2.5 border rounded-lg bg-gray-50 flex items-center gap-2 text-sm text-gray-500"},r.createElement(Bt,{size:16,className:"animate-spin"}),r.createElement("span",null,"   ...")):f.length>0?r.createElement("select",{value:d.model,onChange:P=>g({...d,model:P.target.value}),className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-green-400 outline-none bg-white text-sm"},(()=>{const P=f.reduce((C,_)=>{const N=_.provider||"ollama";return C[N]||(C[N]=[]),C[N].push(_),C},{});return Object.entries(P).map(([C,_])=>r.createElement("optgroup",{key:C,label:A[C]||C},_.map(N=>r.createElement("option",{key:N.name,value:N.name},N.display_name||N.name))))})()):r.createElement("div",{className:"w-full p-2.5 border border-yellow-300 bg-yellow-50 rounded-lg text-sm text-gray-700"}," Ollama    . Ollama    .")),r.createElement("p",{className:"text-xs text-gray-500 mt-1"},"  API  :  API     "))),r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2 flex items-center gap-2"},r.createElement(zt,{size:16,className:"text-gray-500"}),"  "),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-bold text-gray-700 mb-1.5"}," "),r.createElement("textarea",{value:d.systemPrompt,onChange:P=>g({...d,systemPrompt:P.target.value}),placeholder:"    . (:    .)",className:"w-full p-2.5 border rounded-lg focus:ring-2 focus:ring-green-400 outline-none text-sm resize-none h-32"}))),r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2 flex items-center gap-2"},r.createElement(Ic,{size:16,className:"text-gray-500"}),"  "),r.createElement("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition hover:shadow-sm ${d.defaultTools?.smartMode?"bg-purple-50 border-purple-200":"border-gray-200"}`},r.createElement("input",{type:"checkbox",checked:d.defaultTools?.smartMode??!1,onChange:()=>g({...d,defaultTools:{...d.defaultTools,smartMode:!d.defaultTools?.smartMode}}),className:"mt-0.5 accent-purple-500"}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-800"},r.createElement(In,{size:13})," Smart Mode"),r.createElement("div",{className:"text-[10px] text-gray-500 mt-0.5"},"AI       ")))),r.createElement("section",{className:"space-y-4"},r.createElement("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2 flex items-center gap-2"},r.createElement(Ic,{size:16,className:"text-gray-500"}),"   "),r.createElement("p",{className:"text-xs text-gray-500"},"       ."),r.createElement("div",{className:"grid grid-cols-2 gap-3"},[{key:"rag",label:"RAG",desc:"   ",icon:zt,color:"blue"},{key:"web_search",label:" ",desc:"  ",icon:Yt,color:"green"},{key:"mcp",label:"MCP",desc:" MCP  ",icon:Bn,color:"indigo"},{key:"sql",label:"SQL",desc:"  ",icon:Xr,color:"amber"}].map(P=>{const C=P.icon,_=d.defaultTools?.sources?.[P.key]??!1,N={blue:_?"bg-blue-50 border-blue-200":"",green:_?"bg-green-50 border-green-200":"",indigo:_?"bg-indigo-50 border-indigo-200":"",amber:_?"bg-amber-50 border-amber-200":""};return r.createElement("label",{key:P.key,className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition hover:shadow-sm ${N[P.color]||"border-gray-200"}`},r.createElement("input",{type:"checkbox",checked:_,onChange:()=>g({...d,defaultTools:{...d.defaultTools,sources:{...d.defaultTools?.sources,[P.key]:!_}}}),className:"mt-0.5 accent-green-500"}),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-800"},r.createElement(C,{size:13})," ",P.label),r.createElement("div",{className:"text-[10px] text-gray-500 mt-0.5"},P.desc)))})))),r.createElement("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-3"},r.createElement("button",{onClick:a,className:"px-5 py-2.5 text-sm font-bold text-gray-600 hover:bg-gray-200 bg-white border border-gray-300 rounded-xl transition"},""),r.createElement("button",{onClick:E,className:"px-5 py-2.5 text-sm font-bold text-white bg-green-500 hover:bg-green-600 rounded-xl shadow-lg transition flex items-center gap-2"},r.createElement(Ip,{size:16})," "))))}const Zg={supervisor:In,rag:zt,web_search:Yt,t2sql:Tt,mcp:Bn,process:Xc,custom:Lt},Sk={supervisor:"",rag:"RAG",web_search:"",t2sql:"SQL",mcp:"MCP",process:"",custom:""},ep={supervisor:"bg-purple-50 border-purple-100 text-purple-600",rag:"bg-blue-50 border-blue-100 text-blue-600",web_search:"bg-cyan-50 border-cyan-100 text-cyan-600",t2sql:"bg-amber-50 border-amber-100 text-amber-600",mcp:"bg-indigo-50 border-indigo-100 text-indigo-600",process:"bg-orange-50 border-orange-100 text-orange-600",custom:"bg-green-50 border-green-100 text-green-600"},tp={supervisor:"bg-purple-100 text-purple-700 border-purple-200",rag:"bg-blue-100 text-blue-700 border-blue-200",web_search:"bg-cyan-100 text-cyan-700 border-cyan-200",t2sql:"bg-amber-100 text-amber-700 border-amber-200",mcp:"bg-indigo-100 text-indigo-700 border-indigo-200",process:"bg-orange-100 text-orange-700 border-orange-200",custom:"bg-green-100 text-green-700 border-green-200"};function Ck(){const{agents:t,addAgent:a,updateAgent:s,deleteAgent:o}=La(),{toast:c,confirm:u}=pr(),[d,g]=b.useState(""),[f,h]=b.useState(!1),[y,x]=b.useState(null),[k,E]=b.useState(null),A=["agent-general","agent-rag","system-supervisor","system-rag","system-web","system-sql","system-mcp","system-process"];b.useEffect(()=>{const z=()=>E(null);return window.addEventListener("click",z),()=>window.removeEventListener("click",z)},[]);const P=t.filter(z=>z.name.toLowerCase().includes(d.toLowerCase())),C=P.filter(z=>A.includes(z.id)||z.agentType&&z.agentType!=="custom"),_=P.filter(z=>!A.includes(z.id)&&(!z.agentType||z.agentType==="custom")),N=()=>{x(null),h(!0)},I=(z,D)=>{z.stopPropagation(),x(D),h(!0),E(null)},Y=(z,D)=>{if(z.stopPropagation(),A.includes(D)){c.warning("    .");return}u("   ?",()=>o(D),{confirmLabel:""})},Z=(z,D)=>{z.stopPropagation(),s(D.id,{published:!D.published}),E(null)},M=z=>{y?s(y.id,z):a({id:Yn(),agentType:"custom",...z,updated_at:new Date().toLocaleDateString()})},ee=z=>{if(z.agentType&&Zg[z.agentType])return Zg[z.agentType];switch(z.id){case"agent-general":return Zn;case"agent-rag":return zt;default:return Lt}},q=z=>z.agentType&&ep[z.agentType]?ep[z.agentType]:A.includes(z.id)?"bg-green-50 border-green-100 text-green-600":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200 text-gray-600",X=({agent:z,isSystem:D})=>{const K=ee(z),xe=q(z),le=z.agentType||"custom",te=tp[le]||tp.custom,J=Sk[le]||le;return r.createElement("div",{className:"group bg-white border border-gray-200 rounded-2xl p-5 hover:shadow-xl hover:border-gray-300 transition-all duration-300 relative flex flex-col"},r.createElement("div",{className:"flex justify-between items-start mb-3"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`w-12 h-12 rounded-2xl border flex items-center justify-center shadow-sm ${xe}`},r.createElement(K,{size:24})),r.createElement("div",null,r.createElement("h3",{className:"font-bold text-gray-800 line-clamp-1 flex items-center gap-1.5",title:z.name},z.name,D&&r.createElement(Pp,{size:12,className:"text-gray-400",title:" "})),r.createElement("div",{className:"flex items-center gap-1.5 mt-1"},le!=="custom"&&r.createElement("span",{className:`inline-flex items-center gap-1 text-[10px] font-bold px-2 py-0.5 rounded border ${te}`},J),r.createElement("span",{className:"inline-flex items-center gap-1 bg-gray-100 text-gray-600 text-[10px] font-bold px-2 py-0.5 rounded border border-gray-200"},r.createElement(bn,{size:10})," ",z.model||"")))),r.createElement("div",{className:"relative"},r.createElement("button",{onClick:oe=>{oe.stopPropagation(),E(k===z.id?null:z.id)},className:"p-1.5 text-gray-400 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition"},r.createElement(bx,{size:20})),k===z.id&&r.createElement("div",{className:"absolute right-0 top-8 w-32 bg-white border border-gray-200 rounded-xl shadow-xl z-20 overflow-hidden animate-in fade-in zoom-in-95 duration-100"},r.createElement("button",{onClick:oe=>I(oe,z),className:"w-full text-left px-4 py-2.5 text-xs font-medium text-gray-700 hover:bg-gray-50 flex items-center gap-2"},r.createElement(Nx,{size:14})," "),r.createElement("button",{onClick:oe=>Z(oe,z),className:"w-full text-left px-4 py-2.5 text-xs font-medium text-gray-700 hover:bg-gray-50 flex items-center gap-2"},z.published?r.createElement(r.Fragment,null,r.createElement(Ap,{size:14}),"  "):r.createElement(r.Fragment,null,r.createElement(dt,{size:14})," ")),!D&&r.createElement("button",{onClick:oe=>Y(oe,z.id),className:"w-full text-left px-4 py-2.5 text-xs font-medium text-red-600 hover:bg-red-50 flex items-center gap-2 border-t border-gray-50"},r.createElement(Un,{size:14})," ")))),r.createElement("div",{className:"mb-3"},r.createElement("p",{className:"text-xs text-gray-500 line-clamp-2 leading-relaxed"},z.description||" .")),z.defaultTools&&(z.defaultTools.smartMode||z.defaultTools.sources&&Object.values(z.defaultTools.sources).some(oe=>oe))&&r.createElement("div",{className:"flex flex-wrap items-center gap-1 mb-3"},z.defaultTools.smartMode&&r.createElement("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold bg-purple-50 text-purple-600 border border-purple-200"},r.createElement(In,{size:9})," Smart"),z.defaultTools.sources?.rag&&r.createElement("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold bg-blue-50 text-blue-600 border border-blue-200"},r.createElement(zt,{size:9})," RAG"),z.defaultTools.sources?.web_search&&r.createElement("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold bg-green-50 text-green-600 border border-green-200"},r.createElement(Yt,{size:9})," Web"),z.defaultTools.sources?.mcp&&r.createElement("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold bg-indigo-50 text-indigo-600 border border-indigo-200"},r.createElement(Bn,{size:9})," MCP"),z.defaultTools.sources?.sql&&r.createElement("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold bg-amber-50 text-amber-600 border border-amber-200"},r.createElement(Xr,{size:9})," SQL")),z.systemPrompt?r.createElement("div",{className:"mb-3 bg-gray-50 rounded-lg p-2.5 border border-gray-100"},r.createElement("div",{className:"flex items-center gap-1 mb-1"},r.createElement(vn,{size:10,className:"text-gray-400"}),r.createElement("span",{className:"text-[10px] font-bold text-gray-400 uppercase"}," ")),r.createElement("p",{className:"text-[11px] text-gray-600 line-clamp-2 leading-relaxed italic"},'"',z.systemPrompt,'"')):r.createElement("div",{className:"mb-3 bg-gray-50 rounded-lg p-2.5 border border-dashed border-gray-200"},r.createElement("p",{className:"text-[11px] text-gray-400 text-center"},"  ")),r.createElement("div",{className:"pt-3 border-t border-gray-100 flex items-center justify-between text-xs mt-auto"},r.createElement("div",{className:"text-gray-400 flex items-center gap-1"},r.createElement(Tp,{size:12})," ",z.updated_at),r.createElement("div",null,z.published?r.createElement("span",{className:"flex items-center gap-1 text-green-500 font-bold bg-green-50 px-2 py-1 rounded-full"},r.createElement(dt,{size:10})," "):r.createElement("span",{className:"flex items-center gap-1 text-gray-500 font-bold bg-gray-100 px-2 py-1 rounded-full"},""))))};return r.createElement("div",{className:"h-full flex flex-col p-6 bg-gray-50/50"},r.createElement("div",{className:"flex justify-between items-start mb-8"},r.createElement("div",null,r.createElement("h2",{className:"text-2xl font-bold text-gray-800"}," "),r.createElement("p",{className:"text-sm text-gray-500 mt-1"},"    .")),r.createElement("button",{onClick:N,className:"flex items-center gap-2 px-5 py-2.5 bg-green-500 text-white rounded-xl hover:bg-green-600 transition shadow-lg shadow-green-100 font-bold text-sm"},r.createElement(un,{size:18})," ",r.createElement("span",null," "))),r.createElement("div",{className:"mb-6 relative max-w-md"},r.createElement(fo,{size:18,className:"absolute left-3 top-3 text-gray-400"}),r.createElement("input",{type:"text",placeholder:"  ...",value:d,onChange:z=>g(z.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-400 outline-none bg-white shadow-sm transition"})),P.length===0?r.createElement("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 gap-4"},r.createElement("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center"},r.createElement(Lt,{size:40,className:"text-gray-300"})),r.createElement("p",null,"  .")):r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar pb-4 space-y-8"},C.length>0&&r.createElement("div",null,r.createElement("div",{className:"flex items-center gap-2 mb-4"},r.createElement(In,{size:16,className:"text-purple-500"}),r.createElement("h3",{className:"text-sm font-bold text-gray-700"}," "),r.createElement("span",{className:"text-[10px] text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full font-medium"},C.length,"")),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5"},C.map(z=>r.createElement(X,{key:z.id,agent:z,isSystem:!0})))),_.length>0&&r.createElement("div",null,r.createElement("div",{className:"flex items-center gap-2 mb-4"},r.createElement(Lt,{size:16,className:"text-green-500"}),r.createElement("h3",{className:"text-sm font-bold text-gray-700"}," "),r.createElement("span",{className:"text-[10px] text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full font-medium"},_.length,"")),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5"},_.map(z=>r.createElement(X,{key:z.id,agent:z,isSystem:!1}))))),r.createElement(Nk,{isOpen:f,onClose:()=>h(!1),onSave:M,initialData:y}))}function _k({kbId:t}){const[a,s]=b.useState([]),[o,c]=b.useState(!0),[u,d]=b.useState(null),[g,f]=b.useState([]),[h,y]=b.useState(!1),[x,k]=b.useState(!1),[E,A]=b.useState(""),[P,C]=b.useState(null),[_,N]=b.useState(0),[I,Y]=b.useState(null),[Z,M]=b.useState(null),ee=b.useRef(null),[q,X]=b.useState(null);b.useEffect(()=>{let J=!1;return(async()=>{c(!0);const G=await cn.getFilesList(t);J||(s(G.files||[]),c(!1))})(),()=>{J=!0}},[t]);const z=b.useCallback(async(J=null,oe=null,G=null,ge=!1)=>{ge?k(!0):y(!0),M(null);try{const w=await cn.getChunks(t,J,20,oe||null,G||null);f(ge?R=>[...R,...w.chunks]:w.chunks),N(w.total),C(w.next_offset)}catch(w){M(w.message||"   .")}finally{y(!1),k(!1)}},[t]);b.useEffect(()=>{z(null,E||null,u)},[u,z]);const D=J=>{A(J),ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{z(null,J,u)},400)},K=()=>{P&&!x&&z(P,E||null,u,!0)},xe=J=>{d(J===u?null:J),A(""),Y(null)},le=a.reduce((J,oe)=>J+oe.chunk_count,0),te=u?a.find(J=>J.source===u)?.filename||"unknown":null;return r.createElement("div",{className:"h-full flex bg-gray-50"},r.createElement("div",{className:"w-72 border-r border-gray-200 bg-white flex flex-col shrink-0"},r.createElement("div",{className:"h-14 border-b border-gray-200 flex items-center px-5 gap-3 shrink-0 bg-gray-50"},r.createElement("div",{className:"p-2 rounded-lg bg-gray-600"},r.createElement(fx,{size:16,className:"text-white"})),r.createElement("span",{className:"text-sm font-bold text-gray-900"}," "),r.createElement("span",{className:"ml-auto text-xs text-gray-600 font-semibold bg-gray-100 px-2.5 py-1 rounded-full"},a.length)),r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar"},o?r.createElement("div",{className:"flex items-center justify-center py-8"},r.createElement(Bt,{size:20,className:"animate-spin text-green-200"})):a.length===0?r.createElement("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400"},r.createElement(zt,{size:24,className:"mb-2 text-gray-300"}),r.createElement("p",{className:"text-xs"},"  ")):r.createElement("div",{className:"p-3 space-y-1"},r.createElement("button",{onClick:()=>xe(null),className:`group w-full text-left px-4 py-3 rounded-lg text-sm transition-all ${u===null?"bg-green-500 text-white font-semibold shadow-sm":"text-gray-700 hover:bg-gray-50 font-medium"}`},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`p-1.5 rounded-lg transition-all ${u===null?"bg-gray-500":"bg-gray-100 group-hover:bg-gray-200"}`},r.createElement(Ca,{size:14,className:u===null?"text-white":"text-gray-600"})),r.createElement("span",{className:"truncate"}," "),r.createElement("span",{className:`ml-auto text-xs px-2 py-0.5 rounded-full font-semibold transition-all ${u===null?"bg-green-400 text-white":"bg-gray-100 text-gray-600 group-hover:bg-gray-200"}`},le))),a.map(J=>r.createElement("button",{key:J.source,onClick:()=>xe(J.source),className:`group w-full text-left px-4 py-3 rounded-lg text-sm transition-all ${u===J.source?"bg-purple-600 text-white font-semibold shadow-sm":"text-gray-700 hover:bg-gray-50 font-medium"}`,title:J.source},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:`p-1.5 rounded-lg transition-all ${u===J.source?"bg-purple-500":"bg-gray-100 group-hover:bg-gray-200"}`},r.createElement(zt,{size:14,className:u===J.source?"text-white":"text-gray-600"})),r.createElement("span",{className:"truncate flex-1"},J.filename),r.createElement("span",{className:`shrink-0 text-xs px-2 py-0.5 rounded-full font-semibold transition-all ${u===J.source?"bg-purple-500 text-white":"bg-gray-100 text-gray-600 group-hover:bg-gray-200"}`},J.chunk_count))))))),r.createElement("div",{className:"flex-1 flex flex-col min-w-0"},r.createElement("div",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-6 bg-white shrink-0"},r.createElement("div",{className:"flex items-center gap-3 min-w-0"},u&&r.createElement("button",{onClick:()=>xe(null),className:"shrink-0 flex items-center gap-2 text-sm font-semibold text-white bg-purple-600 hover:bg-purple-700 px-3 py-2 rounded-lg transition-colors shadow-sm"},r.createElement(zt,{size:13}),r.createElement("span",{className:"max-w-[120px] truncate"},te),r.createElement(mr,{size:13})),r.createElement("div",{className:"relative w-64"},r.createElement(fo,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.createElement("input",{type:"text",placeholder:" ...",value:E,onChange:J=>D(J.target.value),className:"w-full pl-10 pr-4 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400 outline-none bg-white"})),E&&r.createElement("button",{onClick:()=>{A(""),z(null,null,u)},className:"text-sm text-gray-600 hover:text-gray-900 font-semibold transition-colors"},"")),r.createElement("span",{className:"text-sm font-semibold text-gray-900 bg-gray-100 px-4 py-2 rounded-full flex items-center gap-2"},r.createElement(Ca,{size:14,className:"text-gray-600"})," ",_,"")),r.createElement("div",{className:"flex-1 overflow-y-auto p-3 custom-scrollbar"},h?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-400"},r.createElement(Bt,{size:28,className:"animate-spin text-green-300 mb-3"}),r.createElement("p",{className:"text-sm font-bold"},"   ...")):Z?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-400"},r.createElement(Ml,{size:28,className:"text-red-400 mb-3"}),r.createElement("p",{className:"text-sm font-bold mb-1"}," "),r.createElement("p",{className:"text-xs"},Z),r.createElement("button",{onClick:()=>z(null,null,u),className:"mt-3 px-3 py-1.5 bg-green-500 text-white rounded-lg text-xs font-bold hover:bg-green-600 transition"}," ")):g.length===0?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-400"},r.createElement("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mb-3"},r.createElement(Ca,{size:28,className:"text-orange-300"})),r.createElement("h3",{className:"text-base font-bold text-gray-500"},E?"  ":u?"   ":"  "),r.createElement("p",{className:"text-xs mt-1 text-center text-gray-400"},E?"  .":"   .")):r.createElement("div",{className:"space-y-1.5"},g.map(J=>{const oe=I===J.id,G=J.content_type==="image",ge=J.text.length>200?J.text.slice(0,200)+"...":J.text,w=J.source?J.source.split("/").pop().split("\\").pop():"unknown",R=J.thumbnail_path||null,$=J.image_path||null;return r.createElement("div",{key:J.id,className:`group bg-white border rounded-lg transition-all cursor-pointer ${oe?"border-gray-400 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onClick:()=>Y(oe?null:J.id)},r.createElement("div",{className:"flex items-center gap-3 px-4 py-3.5"},r.createElement("span",{className:`shrink-0 w-11 h-11 rounded-lg flex items-center justify-center text-sm font-bold shadow-sm transition-all ${G?"bg-pink-600 text-white":"bg-green-500 text-white"}`},G?r.createElement(_l,{size:18}):`#${J.chunk_index}`),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center gap-2 flex-wrap"},!u&&r.createElement(r.Fragment,null,r.createElement("div",{className:`p-1 rounded-lg ${G?"bg-pink-50":"bg-gray-50"}`},G?r.createElement(_l,{size:13,className:"text-pink-600 shrink-0"}):r.createElement(zt,{size:13,className:"text-gray-600 shrink-0"})),r.createElement("span",{className:"text-xs font-semibold text-gray-700 truncate"},w)),G&&r.createElement("span",{className:"text-xs font-semibold bg-pink-600 text-white px-2.5 py-1 rounded-full"},"IMAGE"),J.score!=null&&r.createElement("span",{className:"text-xs font-semibold bg-green-500 text-white px-2.5 py-1 rounded-full"},J.score)),!oe&&!G&&r.createElement("p",{className:"text-sm text-gray-700 mt-1.5 line-clamp-2 leading-relaxed"},ge),!oe&&G&&J.caption&&r.createElement("p",{className:"text-sm text-gray-700 mt-1.5 line-clamp-1 leading-relaxed italic"},J.caption)),r.createElement("div",{className:`shrink-0 transition-all ${oe?"text-gray-600":"text-gray-400 group-hover:text-gray-500"}`},oe?r.createElement(_p,{size:16}):r.createElement(Fl,{size:16}))),oe&&r.createElement("div",{className:"px-4 pb-4 space-y-3"},G?r.createElement(r.Fragment,null,R&&r.createElement("div",{className:"relative group/img"},r.createElement("img",{src:R,alt:w,className:"w-full max-w-lg mx-auto rounded-lg border-2 border-gray-200 cursor-pointer hover:border-gray-500 transition-all shadow-sm",onClick:S=>{S.stopPropagation(),X($)}}),r.createElement("button",{onClick:S=>{S.stopPropagation(),X($)},className:"absolute top-3 right-3 p-2.5 bg-green-500 hover:bg-green-600 text-white rounded-lg opacity-0 group-hover/img:opacity-100 transition-all shadow-sm",title:"  "},r.createElement(gx,{size:16}))),r.createElement("div",{className:"bg-pink-50 rounded-lg p-4 space-y-2 text-sm border border-pink-200"},J.caption&&r.createElement("div",{className:"flex gap-2"},r.createElement("span",{className:"font-semibold text-pink-700 shrink-0"},":"),r.createElement("span",{className:"text-gray-700 italic"},J.caption)),J.ocr_text&&r.createElement("div",{className:"flex gap-2"},r.createElement("span",{className:"font-semibold text-pink-700 shrink-0"},":"),r.createElement("span",{className:"text-gray-700"},J.ocr_text)),J.image_dimensions&&r.createElement("div",{className:"flex gap-2"},r.createElement("span",{className:"font-semibold text-pink-700 shrink-0"},":"),r.createElement("span",{className:"text-gray-700"},J.image_dimensions)))):r.createElement("div",{className:"bg-gray-50 rounded-lg p-4 text-sm text-gray-700 leading-relaxed whitespace-pre-wrap font-mono border border-gray-200 max-h-96 overflow-y-auto custom-scrollbar"},J.text),r.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-600 flex-wrap"},r.createElement("span",{className:"flex items-center gap-1.5 bg-gray-100 px-2.5 py-1 rounded-lg"},r.createElement(hx,{size:11})," ",J.id.slice(0,12),"..."),!u&&J.source&&r.createElement("button",{onClick:S=>{S.stopPropagation(),xe(J.source)},className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded-lg font-semibold transition-colors"},"  "),J.metadata?.uploaded_at&&r.createElement("span",{className:"bg-gray-100 px-2.5 py-1 rounded-lg"},": ",J.metadata.uploaded_at),!G&&r.createElement("span",{className:"bg-gray-100 px-2.5 py-1 rounded-lg"},": ",J.text.length,""))))}),P&&!E&&r.createElement("div",{className:"flex justify-center py-3"},r.createElement("button",{onClick:J=>{J.stopPropagation(),K()},disabled:x,className:"px-5 py-2 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-xl text-xs font-bold transition disabled:opacity-50 flex items-center gap-2"},x?r.createElement(r.Fragment,null,r.createElement(Bt,{size:13,className:"animate-spin"}),"  ..."):r.createElement(r.Fragment,null,"  (",g.length,"/",_,")")))))),q&&r.createElement("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-8",onClick:()=>X(null)},r.createElement("button",{onClick:()=>X(null),className:"absolute top-6 right-6 p-4 bg-white/10 hover:bg-white/20 text-white rounded-full transition-colors shadow-lg"},r.createElement(mr,{size:28})),r.createElement("img",{src:q,alt:"Full size",className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",onClick:J=>J.stopPropagation()})))}function Tk(){const{knowledgeBases:t,currentKbId:a,setCurrentKbId:s,addFilesToKb:o,updateFileStatusInKb:c,updateKbConfig:u,setKnowledgeBases:d,removeFileFromKb:g}=La(),{toast:f,confirm:h}=pr(),[y,x]=b.useState("list"),[k,E]=b.useState("files"),[A,P]=b.useState(!1),[C,_]=b.useState(""),[N,I]=b.useState(!1),[Y,Z]=b.useState(!1),[M,ee]=b.useState({name:"",description:"",chunkingMethod:"fixed",chunkSize:512,chunkOverlap:50,semanticThreshold:.75,externalServiceId:""}),[q,X]=b.useState({}),[z,D]=b.useState([]),K=b.useRef(null),xe=b.useRef(null),le=t.find(ae=>ae.id===a),te=le?.files||[];b.useEffect(()=>{const ae=async()=>{const nt={};for(const Xe of t)try{const Q=await cn.getStats(Xe.id);Q&&(nt[Xe.id]=Q)}catch{}X(nt)};t.length>0&&ae()},[t.length,y]);const[J,oe]=b.useState(null),[G,ge]=b.useState(!1),w=async ae=>{oe({fileId:ae.id,fileName:ae.name,source:ae.source||ae.name})},R=async()=>{if(J){ge(!0);try{await cn.deleteFileChunks(a,J.source)}catch(ae){console.warn("VDB chunk deletion failed:",ae.message)}g(J.fileId),oe(null),ge(!1)}},$=ae=>{s(ae),x("detail"),E("files")},S=ae=>{ae.preventDefault(),P(!0)},ve=()=>P(!1),_e=ae=>{ae.preventDefault(),P(!1),Pe(Array.from(ae.dataTransfer.files))},Pe=async ae=>{const nt=ae.map(Xe=>({id:Yn(),name:Xe.name,size:(Xe.size/1024).toFixed(1)+" KB",type:Xe.type||"Unknown",status:"uploading",progress:0,rawFile:Xe}));o(nt);for(const Xe of nt)try{c(Xe.id,"processing"),await kp(Xe.rawFile,a),c(Xe.id,"ready")}catch(Q){console.error("Upload Error:",Q);const re=Q?.message||" .";c(Xe.id,"error",re)}},Ue=async()=>{const ae=await rx.list();D((ae.services||[]).filter(nt=>nt.service_type==="qdrant"))},Oe=()=>{ee({name:"",description:"",chunkingMethod:"fixed",chunkSize:512,chunkOverlap:50,semanticThreshold:.75,externalServiceId:""}),Ue(),Z(!0)},qe=()=>{le&&(ee({name:le.name,description:le.description,chunkingMethod:le.chunkingMethod||le.config?.chunkingMethod||"fixed",chunkSize:le.chunkSize||le.config?.chunkSize||512,chunkOverlap:le.chunkOverlap||le.config?.chunkOverlap||50,semanticThreshold:le.semanticThreshold||le.config?.semanticThreshold||.75,externalServiceId:le.externalServiceId||""}),Ue(),I(!0))},et=async ae=>{if(!M.name.trim())return f.warning(" .");const nt={name:M.name,description:M.description,config:{chunkingMethod:M.chunkingMethod,chunkSize:M.chunkSize,chunkOverlap:M.chunkOverlap,semanticThreshold:M.semanticThreshold},externalServiceId:M.externalServiceId||""};if(ae){const Xe=Yn();try{await cn.createBase({kb_id:Xe,name:M.name,description:M.description,chunk_size:M.chunkSize,chunk_overlap:M.chunkOverlap,chunking_method:M.chunkingMethod,semantic_threshold:M.semanticThreshold,external_service_id:M.externalServiceId||null})}catch(Q){console.error("KB create API failed:",Q)}d(Q=>[...Q,{id:Xe,files:[],created_at:new Date().toLocaleDateString(),...nt}]),Z(!1)}else{try{await cn.updateBase(a,{name:M.name,description:M.description,chunk_size:M.chunkSize,chunk_overlap:M.chunkOverlap,chunking_method:M.chunkingMethod,semantic_threshold:M.semanticThreshold,external_service_id:M.externalServiceId||null})}catch(Xe){console.error("KB update API failed:",Xe)}d(Xe=>Xe.map(Q=>Q.id===a?{...Q,...nt}:Q)),I(!1)}},st=()=>{if(t.length<=1)return f.warning("   .");h("?",()=>{const ae=t.filter(nt=>nt.id!==a);d(ae),s(ae[0].id),x("list"),I(!1)},{confirmLabel:""})},tt=()=>r.createElement(Ik,{kbId:a}),yt=()=>r.createElement("div",{className:"space-y-5"},r.createElement("div",{className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5"},""),r.createElement("input",{type:"text",value:M.name,onChange:ae=>ee({...M,name:ae.target.value}),className:"w-full p-2.5 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 focus:border-green-400 bg-white",placeholder:"  "})),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5"},""),r.createElement("textarea",{value:M.description,onChange:ae=>ee({...M,description:ae.target.value}),className:"w-full p-2.5 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 focus:border-green-400 bg-white resize-none h-20",placeholder:"  "}))),r.createElement("div",{className:"border-t border-gray-200 pt-5 space-y-4"},r.createElement("label",{className:"block text-sm font-bold text-gray-900 flex items-center gap-2"},r.createElement(Ic,{size:15}),"  "),r.createElement("div",{className:"grid grid-cols-2 gap-3"},r.createElement("div",{onClick:()=>ee({...M,chunkingMethod:"fixed"}),className:`p-4 border-2 rounded-lg cursor-pointer transition-all flex flex-col items-center gap-2 text-center ${M.chunkingMethod==="fixed"?"border-green-400 bg-green-50":"border-gray-300 hover:border-gray-400 bg-white"}`},r.createElement("div",{className:`p-2 rounded-lg ${M.chunkingMethod==="fixed"?"bg-gray-100 text-gray-600":"bg-gray-100 text-gray-500"}`},r.createElement(ux,{size:18})),r.createElement("div",null,r.createElement("div",{className:"font-bold text-sm text-gray-900"}," "),r.createElement("div",{className:"text-[10px] text-gray-500"},"Fixed Size"))),r.createElement("div",{onClick:()=>ee({...M,chunkingMethod:"semantic"}),className:`p-4 border-2 rounded-lg cursor-pointer transition-all flex flex-col items-center gap-2 text-center ${M.chunkingMethod==="semantic"?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-gray-400 bg-white"}`},r.createElement("div",{className:`p-2 rounded-lg ${M.chunkingMethod==="semantic"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-500"}`},r.createElement(In,{size:18})),r.createElement("div",null,r.createElement("div",{className:"font-bold text-sm text-gray-900"}," "),r.createElement("div",{className:"text-[10px] text-gray-500"},"Semantic")))),r.createElement("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4"},M.chunkingMethod==="fixed"?r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement("div",{className:"flex justify-between mb-1.5"},r.createElement("label",{className:"text-xs font-semibold text-gray-700"},"Chunk Size (Token)"),r.createElement("span",{className:"text-xs font-mono bg-gray-50 text-gray-700 px-2 py-0.5 rounded border border-gray-200"},M.chunkSize)),r.createElement("input",{type:"range",min:"128",max:"2048",step:"128",value:M.chunkSize,onChange:ae=>ee({...M,chunkSize:Number(ae.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-green-500"})),r.createElement("div",null,r.createElement("div",{className:"flex justify-between mb-1.5"},r.createElement("label",{className:"text-xs font-semibold text-gray-700"},"Chunk Overlap"),r.createElement("span",{className:"text-xs font-mono bg-gray-50 text-gray-700 px-2 py-0.5 rounded border border-gray-200"},M.chunkOverlap)),r.createElement("input",{type:"range",min:"0",max:"200",step:"10",value:M.chunkOverlap,onChange:ae=>ee({...M,chunkOverlap:Number(ae.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-green-500"}))):r.createElement("div",null,r.createElement("div",{className:"flex gap-2 bg-purple-50 border border-purple-200 p-3 rounded-lg text-xs text-purple-900 mb-3"},r.createElement(Dt,{size:14,className:"shrink-0 mt-0.5"}),r.createElement("p",null,r.createElement("strong",null," ?"),r.createElement("br",null),"       .      .")),r.createElement("div",null,r.createElement("div",{className:"flex justify-between mb-1.5"},r.createElement("label",{className:"text-xs font-semibold text-gray-700"},"Similarity Threshold"),r.createElement("span",{className:"text-xs font-mono bg-purple-50 text-purple-700 px-2 py-0.5 rounded border border-purple-200"},M.semanticThreshold)),r.createElement("input",{type:"range",min:"0.1",max:"0.95",step:"0.05",value:M.semanticThreshold,onChange:ae=>ee({...M,semanticThreshold:Number(ae.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-purple-600"}),r.createElement("p",{className:"text-[10px] text-gray-500 mt-1 text-right"},"    .")))),r.createElement("div",{className:"flex items-center gap-2 text-xs text-amber-800 bg-amber-50 border border-amber-200 p-2.5 rounded-lg"},r.createElement(Dt,{size:13,className:"shrink-0"}),r.createElement("span",null,"     ."))),z.length>0&&r.createElement("div",{className:"border-t border-gray-200 pt-5 space-y-3"},r.createElement("label",{className:"block text-sm font-bold text-gray-900 flex items-center gap-2"},r.createElement(Sl,{size:15}),"  DB "),r.createElement("div",null,r.createElement("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5"},"Qdrant "),r.createElement("select",{value:M.externalServiceId,onChange:ae=>ee({...M,externalServiceId:ae.target.value}),className:"w-full p-2.5 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-green-400 focus:border-green-400 bg-white cursor-pointer"},r.createElement("option",{value:""}," ( Qdrant)"),z.map(ae=>r.createElement("option",{key:ae.service_id,value:ae.service_id},ae.name," (",ae.url,")"))),r.createElement("p",{className:"text-[10px] text-gray-500 mt-1"},"   Qdrant  ."))));return y==="list"?r.createElement("div",{className:"h-full flex flex-col p-8 bg-gray-50 overflow-y-auto custom-scrollbar"},r.createElement("div",{className:"flex justify-between items-end mb-8"},r.createElement("div",null,r.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-2"}," "),r.createElement("p",{className:"text-gray-600"},"AI     .")),r.createElement("button",{onClick:Oe,className:"flex items-center gap-2 px-5 py-3 bg-green-500 hover:bg-green-600 text-white rounded-lg font-semibold transition-colors shadow-sm"},r.createElement(un,{size:20}),r.createElement("span",null,"  "))),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5"},t.map((ae,nt)=>r.createElement("div",{key:ae.id,onClick:()=>$(ae.id),className:`group bg-white border border-gray-200 rounded-xl p-5 hover:shadow-lg hover:border-green-200 hover-lift cursor-pointer flex flex-col h-56 animate-scaleIn animate-stagger-${Math.min(nt%4+1,4)}`},r.createElement("div",{className:"flex items-start justify-between mb-4"},r.createElement("div",{className:"p-3 bg-green-50 text-green-500 rounded-lg group-hover:bg-green-50 group-hover:scale-110 transition-all"},r.createElement(Tt,{size:22,className:"group-hover:rotate-6 transition-transform"})),ae.config?.chunkingMethod==="semantic"&&r.createElement("span",{className:"text-[10px] font-semibold px-2 py-1 bg-purple-50 text-purple-700 rounded-full border border-purple-200 animate-fadeIn"},"Semantic")),r.createElement("h3",{className:"text-base font-bold text-gray-900 mb-2 group-hover:text-green-500 transition-colors"},ae.name),r.createElement("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4 flex-1"},ae.description||" ."),r.createElement("div",{className:"pt-3 border-t border-gray-100 flex items-center justify-between text-xs text-gray-500"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("span",{className:"flex items-center gap-1 hover:text-gray-600 transition-colors"},r.createElement(zt,{size:11})," ",q[ae.id]?.file_count??ae.files.length),r.createElement("span",{className:"flex items-center gap-1 hover:text-purple-600 transition-colors"},r.createElement(Ca,{size:11})," ",q[ae.id]?.chunk_count??""),r.createElement("span",{className:"flex items-center gap-1 hover:text-green-500 transition-colors"},r.createElement(_a,{size:11})," ",q[ae.id]?.graph_node_count??""))))),r.createElement("button",{onClick:Oe,className:"group border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center text-gray-400 hover:border-green-300 hover:text-green-500 hover:bg-green-50 hover-lift h-56 gap-3 animate-scaleIn"},r.createElement("div",{className:"p-3 bg-gray-100 group-hover:bg-green-50 rounded-full group-hover:scale-110 transition-all"},r.createElement(un,{size:24,className:"group-hover:rotate-90 transition-transform"})),r.createElement("span",{className:"font-semibold"},"  "))),r.createElement(lo,{isOpen:Y,onClose:()=>Z(!1),title:"   "},r.createElement("div",{className:"p-6"},yt(),r.createElement("div",{className:"mt-8 flex justify-end gap-3"},r.createElement("button",{onClick:()=>Z(!1),className:"px-5 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},""),r.createElement("button",{onClick:()=>et(!0),className:"px-5 py-2.5 text-sm font-semibold text-white bg-green-500 hover:bg-green-600 rounded-lg transition-colors shadow-sm"},""))))):r.createElement("div",{className:"h-full flex flex-col p-6 bg-gray-50"},r.createElement("div",{className:"flex justify-between items-center mb-5"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("button",{onClick:()=>x("list"),className:"p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-600 transition-colors shadow-sm"},r.createElement(dx,{size:20})),r.createElement("div",null,r.createElement("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2"},le?.name,r.createElement("span",{className:"text-xs font-medium text-purple-700 bg-purple-50 px-2.5 py-1 rounded-full border border-purple-200"},le?.config?.chunkingMethod==="semantic"?"Semantic":"Fixed")),r.createElement("div",{className:"flex items-center gap-3 mt-1"},r.createElement("p",{className:"text-sm text-gray-600"},le?.description||" ."),q[a]&&r.createElement("span",{className:"flex items-center gap-3 text-xs text-gray-500 ml-2 border-l pl-3 border-gray-300"},r.createElement("span",{className:"flex items-center gap-1"},r.createElement(Ca,{size:10})," ",q[a].chunk_count),r.createElement("span",{className:"flex items-center gap-1"},r.createElement(_a,{size:10})," ",q[a].graph_node_count),r.createElement("span",{className:"flex items-center gap-1"},r.createElement(zc,{size:10})," ",q[a].graph_edge_count))))),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:"flex bg-gray-100 p-1 rounded-lg border border-gray-200"},r.createElement("button",{onClick:()=>E("files"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${k==="files"?"bg-white text-gray-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`},r.createElement(zt,{size:15})," "),r.createElement("button",{onClick:()=>E("chunks"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${k==="chunks"?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`},r.createElement(Ca,{size:15})," "),r.createElement("button",{onClick:()=>E("graph"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${k==="graph"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`},r.createElement(_a,{size:15})," ")),r.createElement("button",{onClick:qe,className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium shadow-sm"},r.createElement(ho,{size:15})," ",r.createElement("span",null,"")))),r.createElement("div",{className:"flex-1 bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col overflow-hidden"},k==="files"?r.createElement(r.Fragment,null,r.createElement("div",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-5 bg-gray-50"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("input",{type:"file",multiple:!0,className:"hidden",ref:K,onChange:ae=>Pe(Array.from(ae.target.files))}),r.createElement("input",{type:"file",multiple:!0,webkitdirectory:"",className:"hidden",ref:xe,onChange:ae=>Pe(Array.from(ae.target.files))}),r.createElement("button",{onClick:()=>K.current?.click(),className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-sm font-medium transition-colors shadow-sm"},r.createElement(Ll,{size:15}),"  "),r.createElement("button",{onClick:()=>xe.current?.click(),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 rounded-lg text-sm font-medium transition-colors shadow-sm"},r.createElement(px,{size:15}),"  ")),r.createElement("div",{className:"relative w-64"},r.createElement(fo,{size:15,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.createElement("input",{type:"text",placeholder:" ...",value:C,onChange:ae=>_(ae.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-400 focus:border-green-400 outline-none bg-white"}))),r.createElement("div",{className:`flex-1 overflow-y-auto p-4 transition-colors ${A?"bg-gray-50":"bg-white"}`,onDragOver:S,onDragLeave:ve,onDrop:_e},te.length===0?r.createElement("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 border-2 border-dashed border-gray-300 rounded-xl m-4"},r.createElement("div",{className:"w-20 h-20 bg-gray-50 rounded-xl flex items-center justify-center mb-4"},r.createElement(Ll,{size:36,className:"text-gray-500"})),r.createElement("h3",{className:"text-base font-bold text-gray-700 mb-2"}," "),r.createElement("p",{className:"text-sm text-center text-gray-500 mb-1"},"PDF, DOCX, TXT, MD, PPTX, XLSX, JPG, PNG "),r.createElement("p",{className:"text-sm text-center text-gray-500"},"    "),r.createElement("p",{className:"text-xs text-gray-400 mt-3"}," 500MB")):r.createElement("div",{className:"grid grid-cols-1 gap-2"},te.filter(ae=>ae.name.toLowerCase().includes(C.toLowerCase())).map((ae,nt)=>{const Xe=ae.type==="image"||/\.(jpg|jpeg|png|gif|webp)$/i.test(ae.name),Q=ae.thumbnail_path||null;return r.createElement("div",{key:ae.id,className:`group flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-md hover:border-gray-300 hover-lift transition-all animate-slideUp animate-stagger-${Math.min(nt%4+1,4)}`},r.createElement("div",{className:"flex items-center gap-3"},Xe&&Q?r.createElement("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0 border-2 border-gray-200 group-hover:border-pink-400 transition-colors"},r.createElement("img",{src:Q,alt:ae.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),r.createElement("div",{className:"absolute inset-0 bg-pink-500/10 opacity-0 group-hover:opacity-100 transition-opacity"})):r.createElement("div",{className:`p-2.5 rounded-lg ${Xe?"bg-pink-50 text-pink-600":"bg-red-50 text-red-600"} group-hover:scale-110 transition-transform`},r.createElement(zt,{size:18})),r.createElement("div",null,r.createElement("div",{className:"font-semibold text-gray-900 text-sm flex items-center gap-2"},ae.name,Xe&&r.createElement("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-pink-100 text-pink-700 rounded-full"},"IMAGE")),r.createElement("div",{className:"text-xs text-gray-500 mt-0.5 flex items-center gap-2"},r.createElement("span",null,ae.size),r.createElement("span",{className:"w-1 h-1 bg-gray-300 rounded-full"}),r.createElement("span",{className:"capitalize"},ae.type)))),r.createElement("div",{className:"flex items-center gap-3"},ae.status==="ready"&&r.createElement("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-green-600 bg-green-50 px-2.5 py-1 rounded-full border border-green-100"},r.createElement(dt,{size:11})," "),ae.status==="uploading"&&r.createElement("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-amber-700 bg-amber-50 px-2.5 py-1 rounded-full border border-amber-200"},r.createElement(Bt,{size:11,className:"animate-spin"}),"  "),ae.status==="processing"&&r.createElement("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-gray-700 bg-gray-50 px-2.5 py-1 rounded-full border border-gray-200"},r.createElement(Bt,{size:11,className:"animate-spin"}),"  "),ae.status==="error"&&r.createElement("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-red-700 bg-red-50 px-2.5 py-1 rounded-full border border-red-200 cursor-help",title:ae.errorMessage||" "},r.createElement(Ml,{size:11})," "),r.createElement("button",{onClick:()=>w(ae),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg hover:scale-110 active:scale-95 transition-all opacity-0 group-hover:opacity-100"},r.createElement(Un,{size:16}))))})))):k==="chunks"?r.createElement(_k,{kbId:a}):r.createElement(tt,null)),r.createElement(lo,{isOpen:N,onClose:()=>I(!1),title:"  "},r.createElement("div",{className:"p-6"},yt(),r.createElement("div",{className:"mt-8 flex justify-between items-center"},r.createElement("button",{onClick:st,className:"text-red-600 text-sm font-semibold hover:text-red-700 hover:bg-red-50 px-3 py-2 rounded-lg transition-colors flex items-center gap-1.5"},r.createElement(Un,{size:14})," "),r.createElement("div",{className:"flex gap-3"},r.createElement("button",{onClick:()=>I(!1),className:"px-5 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},""),r.createElement("button",{onClick:()=>et(!1),className:"px-5 py-2.5 text-sm font-semibold text-white bg-green-500 hover:bg-green-600 rounded-lg transition-colors shadow-sm"},""))))),r.createElement(lo,{isOpen:!!J,onClose:()=>!G&&oe(null),title:"  "},r.createElement("div",{className:"p-6"},r.createElement("div",{className:"flex items-center gap-3 mb-4 p-4 bg-red-50 border border-red-200 rounded-lg"},r.createElement("div",{className:"p-2.5 bg-red-100 rounded-lg"},r.createElement(Ml,{size:24,className:"text-red-600"})),r.createElement("div",null,r.createElement("p",{className:"text-sm font-semibold text-red-900"},"    "),r.createElement("p",{className:"text-xs text-red-700 mt-0.5"}," DB     ."))),r.createElement("p",{className:"text-sm text-gray-700 mb-2"},"  ?"),r.createElement("p",{className:"text-sm font-semibold text-gray-900 bg-gray-100 px-3 py-2.5 rounded-lg mb-4 flex items-center gap-2 border border-gray-300"},r.createElement(zt,{size:14,className:"text-gray-600"}),J?.fileName),r.createElement("div",{className:"flex justify-end gap-3"},r.createElement("button",{onClick:()=>oe(null),disabled:G,className:"px-4 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50"},""),r.createElement("button",{onClick:R,disabled:G,className:"px-4 py-2.5 text-sm font-semibold text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors disabled:opacity-50 shadow-sm flex items-center gap-2"},G?r.createElement(r.Fragment,null,r.createElement(Bt,{size:14,className:"animate-spin"}),"  ..."):r.createElement(r.Fragment,null,r.createElement(Un,{size:14}),"  "))))))}const to={Location:"#10B981",Vehicle:"#3B82F6",Person:"#F59E0B",Entity:"#8B5CF6",Concept:"#06B6D4",Place:"#10B981",Event:"#EF4444",Organization:"#EC4899",Document:"#6366F1",System:"#F97316",Unknown:"#9CA3AF"},no="#6B7280",zk=["Entity","Concept","Person","Place","Event","Organization","Document"],Pk=["RELATION","INCLUDES","INVOLVES","CAUSES","RELATED_TO","HAS","PART_OF"];function Ik({kbId:t}){const{toast:a,confirm:s}=pr(),o=b.useRef(null),[c,u]=b.useState({nodes:[],edges:[]}),[d,g]=b.useState(!0),[f,h]=b.useState(null),[y,x]=b.useState({}),[k,E]=b.useState(null),[A,P]=b.useState(null),[C,_]=b.useState(1),[N,I]=b.useState({x:0,y:0}),[Y,Z]=b.useState(!1),M=b.useRef({x:0,y:0}),ee=b.useRef(null),q=b.useRef({}),[X,z]=b.useState(null),[D,K]=b.useState(null),[xe,le]=b.useState(!1),[te,J]=b.useState({label:"Entity",name:"",properties:{}}),[oe,G]=b.useState(null),[ge,w]=b.useState(null),[R,$]=b.useState("RELATION"),[S,ve]=b.useState(!1),[_e,Pe]=b.useState(""),[Ue,Oe]=b.useState(""),[qe,et]=b.useState(""),st=b.useCallback(async()=>{g(!0),h(null);try{const H=await cn.getGraph(t);if(H.error)h(H.error),u({nodes:[],edges:[]});else{u(H);const F={},ne=400,ue=300,Se=Math.min(250,H.nodes.length*30);H.nodes.forEach((U,ce)=>{const be=2*Math.PI*ce/H.nodes.length;q.current[U.id]?F[U.id]=q.current[U.id]:F[U.id]={x:ne+Se*Math.cos(be)+(Math.random()-.5)*20,y:ue+Se*Math.sin(be)+(Math.random()-.5)*20,vx:0,vy:0}}),q.current=F,x({...F})}}catch(H){h(H.message||"    .")}finally{g(!1)}},[t]);b.useEffect(()=>{st()},[st]),b.useEffect(()=>{if(c.nodes.length===0)return;let H=0;const F=300,ne=()=>{if(H>=F)return;H++;const ue=q.current,Se=c.nodes,U=c.edges,ce=400,be=300;Se.forEach(Be=>{if(!ue[Be.id])return;let xt=0,Nt=0;Se.forEach(Ke=>{if(Be.id===Ke.id||!ue[Ke.id])return;const ct=ue[Be.id].x-ue[Ke.id].x,gt=ue[Be.id].y-ue[Ke.id].y,Ot=Math.max(Math.sqrt(ct*ct+gt*gt),1),Et=3e3/(Ot*Ot);xt+=ct/Ot*Et,Nt+=gt/Ot*Et}),U.forEach(Ke=>{let ct=null;if(Ke.source===Be.id&&ue[Ke.target]?ct=ue[Ke.target]:Ke.target===Be.id&&ue[Ke.source]&&(ct=ue[Ke.source]),!ct)return;const gt=ct.x-ue[Be.id].x,Ot=ct.y-ue[Be.id].y,Et=Math.sqrt(gt*gt+Ot*Ot),O=(Et-120)*.01;xt+=gt/Math.max(Et,1)*O,Nt+=Ot/Math.max(Et,1)*O}),xt+=(ce-ue[Be.id].x)*.001,Nt+=(be-ue[Be.id].y)*.001,A!==Be.id&&(ue[Be.id].vx=(ue[Be.id].vx+xt)*.8,ue[Be.id].vy=(ue[Be.id].vy+Nt)*.8,ue[Be.id].x+=ue[Be.id].vx,ue[Be.id].y+=ue[Be.id].vy)}),x({...ue}),ee.current=requestAnimationFrame(ne)};return ee.current=requestAnimationFrame(ne),()=>{ee.current&&cancelAnimationFrame(ee.current)}},[c,A]);const tt=(H,F)=>{if(H.stopPropagation(),oe==="selectSource"){w(F),G("selectTarget");return}if(oe==="selectTarget"&&ge){Ye(ge,F);return}P(F)},yt=(H,F)=>{H.stopPropagation(),!oe&&(z(F),K(null),Pe(F.name))},ae=(H,F)=>{H.stopPropagation(),!oe&&(K(F),z(null))},nt=H=>{(H.target===o.current||H.target.tagName==="rect")&&(Z(!0),M.current={x:H.clientX-N.x,y:H.clientY-N.y},oe||(z(null),K(null)))},Xe=b.useCallback(H=>{if(A&&q.current[A]){const F=o.current;if(!F)return;const ne=F.getBoundingClientRect();q.current[A].x=(H.clientX-ne.left-N.x)/C,q.current[A].y=(H.clientY-ne.top-N.y)/C,q.current[A].vx=0,q.current[A].vy=0,x({...q.current})}else Y&&I({x:H.clientX-M.current.x,y:H.clientY-M.current.y})},[A,Y,C,N]),Q=b.useCallback(()=>{P(null),Z(!1)},[]),re=b.useCallback(H=>{H.preventDefault(),_(F=>Math.max(.3,Math.min(3,F-H.deltaY*.001)))},[]);b.useEffect(()=>(window.addEventListener("mouseup",Q),()=>window.removeEventListener("mouseup",Q)),[Q]);const Ie=async()=>{if(te.name.trim()){ve(!0);try{await cn.createNode(t,{label:te.label,name:te.name,properties:te.properties}),le(!1),J({label:"Entity",name:"",properties:{}}),await st()}catch(H){a.error("  : "+(H.message||""))}finally{ve(!1)}}},ye=async()=>{if(!(!X||!_e.trim())){ve(!0);try{await cn.updateNode(X.id,{name:_e}),z(null),await st()}catch(H){a.error("  : "+(H.message||""))}finally{ve(!1)}}},Qe=async()=>{X&&s(`"${X.name}"  ?    .`,async()=>{ve(!0);try{await cn.deleteNode(X.id),z(null),await st()}catch(H){a.error("  : "+(H.message||""))}finally{ve(!1)}},{confirmLabel:""})},Ye=async(H,F)=>{if(H===F){G(null),w(null);return}ve(!0);try{await cn.createEdge(t,{source_id:H,target_id:F,relationship_type:R}),await st()}catch(ne){a.error("  : "+(ne.message||""))}finally{ve(!1),G(null),w(null)}},it=async()=>{D?.id&&s("  ?",async()=>{ve(!0);try{await cn.deleteEdge(D.id),K(null),await st()}catch(H){a.error("  : "+(H.message||""))}finally{ve(!1)}},{confirmLabel:""})},mt=[...new Set(c.nodes.map(H=>H.label))];return d?r.createElement("div",{className:"h-full flex flex-col items-center justify-center bg-gray-900 text-white"},r.createElement(Bt,{size:32,className:"animate-spin text-purple-400 mb-4"}),r.createElement("p",{className:"font-bold"},"   ...")):f?r.createElement("div",{className:"h-full flex flex-col items-center justify-center bg-gray-900 text-white"},r.createElement(Ml,{size:32,className:"text-red-400 mb-4"}),r.createElement("p",{className:"font-bold mb-2"},"  "),r.createElement("p",{className:"text-sm text-gray-400 mb-4"},f),r.createElement("button",{onClick:st,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-sm font-bold flex items-center gap-2"},r.createElement(Fn,{size:14}),"  ")):c.nodes.length===0&&!xe?r.createElement("div",{className:"h-full flex flex-col items-center justify-center bg-gray-900 text-white"},r.createElement(_a,{size:48,className:"text-gray-600 mb-4"}),r.createElement("p",{className:"font-bold text-lg mb-2"},"  "),r.createElement("p",{className:"text-sm text-gray-400 text-center mb-4"},"  ",r.createElement("br",null),"  ."),r.createElement("button",{onClick:()=>le(!0),className:"px-4 py-2 bg-green-500 hover:bg-green-600 rounded-lg text-sm font-bold flex items-center gap-2"},r.createElement(un,{size:14}),"   ")):r.createElement("div",{className:"h-full flex flex-col relative bg-gray-900 overflow-hidden"},r.createElement("div",{className:"absolute top-4 left-4 z-10 bg-black/60 backdrop-blur-md p-3 rounded-xl border border-gray-700 text-white text-xs"},mt.map(H=>r.createElement("div",{key:H,className:"flex items-center gap-2 mb-1 last:mb-0"},r.createElement("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:to[H]||no}}),r.createElement("span",null,H))),r.createElement("div",{className:"border-t border-gray-700 mt-2 pt-2 text-gray-400"},c.nodes.length," nodes / ",c.edges.length," edges")),oe&&r.createElement("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-20 bg-orange-600 text-white px-4 py-2 rounded-xl text-sm font-bold flex items-center gap-3 shadow-lg"},r.createElement(zc,{size:16}),oe==="selectSource"?"  ":"  ",r.createElement("select",{value:R,onChange:H=>$(H.target.value),className:"bg-orange-700 text-white text-xs px-2 py-1 rounded-lg border border-orange-500 outline-none"},Pk.map(H=>r.createElement("option",{key:H,value:H},H))),r.createElement("button",{onClick:()=>{G(null),w(null)},className:"text-orange-200 hover:text-white ml-1"},"")),r.createElement("div",{className:"absolute top-4 right-4 z-10 flex flex-col gap-2"},r.createElement("button",{onClick:st,className:"p-2 bg-black/60 backdrop-blur-md text-white rounded-lg border border-gray-700 hover:bg-green-600 transition",title:""},r.createElement(Fn,{size:16})),r.createElement("button",{onClick:()=>_(H=>Math.min(3,H+.2)),className:"p-2 bg-black/60 backdrop-blur-md text-white rounded-lg border border-gray-700 hover:bg-green-600 transition",title:""},r.createElement(un,{size:16})),r.createElement("button",{onClick:()=>_(H=>Math.max(.3,H-.2)),className:"p-2 bg-black/60 backdrop-blur-md text-white rounded-lg border border-gray-700 hover:bg-green-600 transition",title:""},r.createElement("span",{className:"block w-4 h-4 text-center leading-4 font-bold"},"-")),r.createElement("button",{onClick:()=>{_(1),I({x:0,y:0})},className:"p-2 bg-black/60 backdrop-blur-md text-white rounded-lg border border-gray-700 hover:bg-green-600 transition text-[10px] font-bold",title:""},"1:1"),r.createElement("div",{className:"border-t border-gray-700 my-1"}),r.createElement("button",{onClick:()=>{le(!0),z(null),K(null)},className:"p-2 bg-green-500/80 backdrop-blur-md text-white rounded-lg border border-green-400 hover:bg-green-500 transition",title:" "},r.createElement(un,{size:16})),r.createElement("button",{onClick:()=>{G("selectSource"),w(null),z(null),K(null)},className:`p-2 backdrop-blur-md text-white rounded-lg border transition ${oe?"bg-orange-600 border-orange-500":"bg-orange-600/60 border-orange-500/50 hover:bg-orange-600"}`,title:" "},r.createElement(zc,{size:16}))),X&&!oe&&r.createElement("div",{className:"absolute right-4 top-[220px] z-20 w-72 bg-black/80 backdrop-blur-md rounded-xl border border-gray-600 p-4 text-white"},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("span",{className:"text-xs font-bold px-2 py-1 rounded-full",style:{backgroundColor:to[X.label]||no}},X.label),r.createElement("button",{onClick:()=>z(null),className:"text-gray-400 hover:text-white"},r.createElement("span",{className:"text-lg leading-none"},""))),r.createElement("input",{value:_e,onChange:H=>Pe(H.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-sm text-white mb-3 outline-none focus:border-purple-500",placeholder:" "}),Object.entries(X.properties||{}).filter(([H])=>H!=="name").length>0&&r.createElement("div",{className:"mb-3 space-y-1"},r.createElement("div",{className:"text-[10px] text-gray-400 uppercase font-bold"},""),Object.entries(X.properties).filter(([H])=>H!=="name").map(([H,F])=>r.createElement("div",{key:H,className:"text-xs text-gray-300 flex gap-1"},r.createElement("span",{className:"text-gray-500"},H,":")," ",F))),r.createElement("div",{className:"flex gap-2"},r.createElement("button",{onClick:ye,disabled:S,className:"flex-1 px-3 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-xs font-bold transition disabled:opacity-50"},S?" ...":""),r.createElement("button",{onClick:Qe,disabled:S,className:"px-3 py-2 bg-red-600/80 hover:bg-red-600 rounded-lg text-xs font-bold transition disabled:opacity-50"},""))),D&&!oe&&r.createElement("div",{className:"absolute right-4 top-[220px] z-20 w-64 bg-black/80 backdrop-blur-md rounded-xl border border-gray-600 p-4 text-white"},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("span",{className:"text-xs font-bold text-orange-400"},D.type),r.createElement("button",{onClick:()=>K(null),className:"text-gray-400 hover:text-white"},r.createElement("span",{className:"text-lg leading-none"},""))),r.createElement("div",{className:"text-xs text-gray-300 mb-1"},c.nodes.find(H=>H.id===D.source)?.name||"?","  ",c.nodes.find(H=>H.id===D.target)?.name||"?"),r.createElement("button",{onClick:it,disabled:S,className:"w-full mt-3 px-3 py-2 bg-red-600/80 hover:bg-red-600 rounded-lg text-xs font-bold transition disabled:opacity-50"},S?" ...":" ")),xe&&r.createElement("div",{className:"absolute right-4 top-[220px] z-20 w-72 bg-black/80 backdrop-blur-md rounded-xl border border-green-500 p-4 text-white"},r.createElement("div",{className:"flex items-center justify-between mb-3"},r.createElement("span",{className:"text-sm font-bold text-green-300"}," "),r.createElement("button",{onClick:()=>le(!1),className:"text-gray-400 hover:text-white"},r.createElement("span",{className:"text-lg leading-none"},""))),r.createElement("select",{value:te.label,onChange:H=>J({...te,label:H.target.value}),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-sm text-white mb-2 outline-none focus:border-green-400"},zk.map(H=>r.createElement("option",{key:H,value:H},H))),r.createElement("input",{value:te.name,onChange:H=>J({...te,name:H.target.value}),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-sm text-white mb-2 outline-none focus:border-green-400",placeholder:" "}),r.createElement("div",{className:"mb-2"},r.createElement("div",{className:"text-[10px] text-gray-400 uppercase font-bold mb-1"}," "),r.createElement("div",{className:"flex gap-1"},r.createElement("input",{value:Ue,onChange:H=>Oe(H.target.value),className:"flex-1 bg-gray-800 border border-gray-600 rounded px-2 py-1 text-xs text-white outline-none",placeholder:""}),r.createElement("input",{value:qe,onChange:H=>et(H.target.value),className:"flex-1 bg-gray-800 border border-gray-600 rounded px-2 py-1 text-xs text-white outline-none",placeholder:""}),r.createElement("button",{onClick:()=>{Ue.trim()&&(J({...te,properties:{...te.properties,[Ue]:qe}}),Oe(""),et(""))},className:"px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-500"},"+")),Object.entries(te.properties).map(([H,F])=>r.createElement("div",{key:H,className:"flex items-center gap-1 mt-1 text-xs text-gray-300"},r.createElement("span",{className:"text-gray-500"},H,":")," ",F,r.createElement("button",{onClick:()=>{const ne={...te.properties};delete ne[H],J({...te,properties:ne})},className:"ml-auto text-red-400 hover:text-red-300 text-[10px]"},"x")))),r.createElement("button",{onClick:Ie,disabled:S||!te.name.trim(),className:"w-full px-3 py-2 bg-green-500 hover:bg-green-600 rounded-lg text-xs font-bold transition disabled:opacity-50"},S?" ...":" ")),k&&!X&&!D&&!xe&&y[k.id]&&r.createElement("div",{className:"absolute z-20 bg-black/80 backdrop-blur-md text-white p-3 rounded-xl border border-gray-600 text-xs max-w-xs pointer-events-none",style:{left:Math.min(y[k.id].x*C+N.x+20,(o.current?.clientWidth||600)-200),top:y[k.id].y*C+N.y-10}},r.createElement("div",{className:"font-bold text-sm mb-1 flex items-center gap-2"},r.createElement("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:to[k.label]||no}}),k.name),r.createElement("div",{className:"text-gray-400 mb-1"},k.label),r.createElement("div",{className:"text-[10px] text-gray-500"}," ")),r.createElement("svg",{ref:o,className:`w-full h-full ${oe?"cursor-crosshair":"cursor-grab active:cursor-grabbing"}`,onMouseDown:nt,onMouseMove:Xe,onWheel:re},r.createElement("rect",{width:"100%",height:"100%",fill:"transparent"}),r.createElement("g",{transform:`translate(${N.x},${N.y}) scale(${C})`},c.edges.map((H,F)=>{const ne=y[H.source],ue=y[H.target];if(!ne||!ue)return null;const Se=(ne.x+ue.x)/2,U=(ne.y+ue.y)/2,ce=D?.id===H.id;return r.createElement("g",{key:`e-${F}`},r.createElement("line",{x1:ne.x,y1:ne.y,x2:ue.x,y2:ue.y,stroke:"transparent",strokeWidth:12,style:{cursor:"pointer"},onClick:be=>ae(be,H)}),r.createElement("line",{x1:ne.x,y1:ne.y,x2:ue.x,y2:ue.y,stroke:ce?"#F59E0B":"#4B5563",strokeWidth:ce?2.5:1.5,strokeOpacity:ce?1:.6}),r.createElement("text",{x:Se,y:U-6,textAnchor:"middle",fill:ce?"#F59E0B":"#6B7280",fontSize:9,fontWeight:"bold"},H.type))}),c.nodes.map(H=>{const F=y[H.id];if(!F)return null;const ne=to[H.label]||no,ue=k?.id===H.id,Se=X?.id===H.id,U=ge===H.id,ce=ue||Se?22:18;return r.createElement("g",{key:H.id,style:{cursor:oe?"crosshair":"pointer"},onMouseDown:be=>tt(be,H.id),onClick:be=>yt(be,H),onMouseEnter:()=>E(H),onMouseLeave:()=>E(null)},(ue||Se)&&r.createElement("circle",{cx:F.x,cy:F.y,r:ce+8,fill:ne,fillOpacity:.15}),U&&r.createElement("circle",{cx:F.x,cy:F.y,r:ce+6,fill:"#F59E0B",fillOpacity:.3}),r.createElement("circle",{cx:F.x,cy:F.y,r:ce,fill:ne,stroke:Se||ue?"#fff":ne,strokeWidth:Se?3:ue?2.5:1.5,fillOpacity:.85}),r.createElement("text",{x:F.x,y:F.y+ce+14,textAnchor:"middle",fill:"#D1D5DB",fontSize:10,fontWeight:"600"},H.name.length>12?H.name.slice(0,12)+"...":H.name))}))))}const np=[{value:"chat",label:"Chat (OpenAI)",desc:"  "},{value:"completion",label:"Completion",desc:"  "},{value:"instruction",label:"Instruction",desc:"- "},{value:"tool_calling",label:"Tool Calling",desc:"    (Qwen2.5)"}];function Mk(){const t=Ar(),{toast:a,confirm:s}=pr(),[o,c]=b.useState([]),[u,d]=b.useState([]),[g,f]=b.useState(!0),[h,y]=b.useState({total:0,has_positive:0,avg_rating:null}),[x,k]=b.useState(!1),[E,A]=b.useState({name:"",format_type:"chat"}),[P,C]=b.useState(null),[_,N]=b.useState("chat");b.useEffect(()=>{I()},[]);const I=async()=>{f(!0);try{const[z,D]=await Promise.all([_c.list({limit:100}),Ys.list()]);c(z.feedbacks||[]),y({total:z.total||0,has_positive:z.has_positive||0,avg_rating:z.avg_rating}),d(D.datasets||[])}catch(z){console.error("  :",z)}finally{f(!1)}},Y=async z=>{s("  ?",async()=>{try{await _c.delete(z),await I()}catch(D){console.error("  :",D)}},{confirmLabel:""})},Z=async()=>{if(E.name.trim())try{await Ys.create({name:E.name,description:`    (${E.format_type})`,format_type:E.format_type,min_rating:3,only_positive:!0}),k(!1),A({name:"",format_type:"chat"}),await I()}catch(z){console.error("  :",z),a.error("  : "+z.message)}},M=async z=>{s(" ?   .",async()=>{try{const D=await Ys.build(z);a.success(D.message),await I()}catch(D){console.error("  :",D),a.error(" : "+D.message)}},{confirmLabel:""})},ee=async z=>{try{await Ys.export(z,_),C(null),a.success("JSONL   !")}catch(D){console.error(" :",D),a.error(" : "+D.message)}},q=async z=>{const D=prompt("   :","my_custom_model");if(!D)return;const K=prompt("   (: llama3.1, gemma2):","llama3.1");K&&s(` ${K}  ?

     .`,async()=>{try{const xe=await cr.createJob({dataset_id:z,job_name:D,base_model:K,provider:"ollama",format_type:"chat",num_epochs:3});a.success(`  !  ID: ${xe.job_id}`)}catch(xe){console.error("  :",xe),a.error("  : "+xe.message)}},{confirmLabel:""})},X=z=>{if(!z)return null;try{const D=typeof z=="string"?JSON.parse(z):z;return Array.isArray(D)?D:null}catch{return null}};return g?r.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center"},r.createElement(Bt,{className:"animate-spin text-green-500",size:32})):r.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8"},r.createElement("div",{className:"max-w-7xl mx-auto space-y-6"},r.createElement("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-800 p-1 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("button",{className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium bg-green-500 text-white shadow-sm"},r.createElement(Tt,{size:16,className:"inline mr-2"})," "),r.createElement("button",{onClick:()=>t("/finetuning"),className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition"},r.createElement(En,{size:16,className:"inline mr-2"})," ")),r.createElement("div",{className:"flex items-center justify-between"},r.createElement("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white"},"  ")),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"}," "),r.createElement("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},h.total)),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"}," "),r.createElement("div",{className:"text-3xl font-bold text-gray-600 dark:text-gray-400 mt-1"},h.has_positive)),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"}," "),r.createElement("div",{className:"text-3xl font-bold text-gray-600 dark:text-gray-400 mt-1"},h.avg_rating?h.avg_rating.toFixed(1):"N/A"))),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2"},r.createElement(Tt,{size:20})," "),r.createElement("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition"},r.createElement(un,{size:16}),"  ")),u.length===0?r.createElement("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400"}," "):r.createElement("div",{className:"space-y-2"},u.map(z=>r.createElement("div",{key:z.id,className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},r.createElement("div",{className:"flex-1"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},z.name),z.format_type&&r.createElement("span",{className:`px-1.5 py-0.5 text-xs rounded font-medium ${z.format_type==="tool_calling"?"bg-gray-100 text-gray-700 dark:bg-gray-900/40 dark:text-gray-300":"bg-gray-100 text-gray-600 dark:bg-gray-600 dark:text-gray-300"}`},z.format_type)),r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"},z.total_examples,"  | ",z.verified_examples," ",z.is_exported&&r.createElement("span",{className:"ml-2 text-gray-600 dark:text-gray-400"}," "))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement("button",{onClick:()=>M(z.id),className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600 transition",title:"  (  )"},r.createElement(Fn,{size:14})," "),r.createElement("button",{onClick:()=>{N(z.format_type||"chat"),C(z.id)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-400 text-white text-sm rounded-lg hover:bg-green-500 transition",title:"JSONL "},r.createElement(Ll,{size:14})," "),r.createElement("button",{onClick:()=>q(z.id),className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition",title:" "},r.createElement(En,{size:14})," "),r.createElement("div",{className:"text-xs text-gray-400 dark:text-gray-500"},new Date(z.created_at).toLocaleDateString())))))),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4"}," "),o.length===0?r.createElement("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400"}," .     !"):r.createElement("div",{className:"space-y-3"},o.slice(0,20).map(z=>{const D=X(z.tool_calls_json);return r.createElement("div",{key:z.id,className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600"},r.createElement("div",{className:"flex items-start justify-between mb-2"},r.createElement("div",{className:"flex items-center gap-2 flex-wrap"},z.is_positive===!0&&r.createElement(Lp,{size:14,className:"text-gray-600"}),z.is_positive===!1&&r.createElement(Mp,{size:14,className:"text-red-500"}),z.rating&&r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},z.rating),D&&D.length>0&&r.createElement("span",{className:"flex items-center gap-1 px-1.5 py-0.5 bg-gray-100 dark:bg-gray-900/40 text-gray-700 dark:text-gray-300 rounded text-xs"},D.map(K=>K.name).filter((K,xe,le)=>le.indexOf(K)===xe).join(", ")),r.createElement("span",{className:"text-xs text-gray-400 dark:text-gray-500"},new Date(z.created_at).toLocaleString())),r.createElement("button",{onClick:()=>Y(z.id),className:"text-gray-400 hover:text-red-500 transition"},r.createElement(Un,{size:14}))),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1"},r.createElement("strong",null,"Q:")," ",z.user_message.slice(0,100),z.user_message.length>100&&"..."),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300"},r.createElement("strong",null,"A:")," ",z.ai_message.slice(0,100),z.ai_message.length>100&&"..."))})))),x&&r.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},r.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md border border-gray-200 dark:border-gray-700"},r.createElement("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"  "),r.createElement("div",{className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},""),r.createElement("input",{type:"text",value:E.name,onChange:z=>A(D=>({...D,name:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:" "})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},""),r.createElement("div",{className:"grid grid-cols-2 gap-2"},np.map(z=>r.createElement("button",{key:z.value,onClick:()=>A(D=>({...D,format_type:z.value})),className:`p-3 rounded-lg border text-left transition ${E.format_type===z.value?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300"}`},r.createElement("div",{className:`text-sm font-medium ${E.format_type===z.value?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"}`},z.label),r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400"},z.desc)))))),r.createElement("div",{className:"flex justify-end gap-2 mt-6"},r.createElement("button",{onClick:()=>k(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition"},""),r.createElement("button",{onClick:Z,disabled:!E.name.trim(),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition disabled:opacity-50"},"")))),P&&r.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},r.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-sm border border-gray-200 dark:border-gray-700"},r.createElement("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4"}," "),r.createElement("div",{className:"space-y-2"},np.map(z=>r.createElement("button",{key:z.value,onClick:()=>N(z.value),className:`w-full p-3 rounded-lg border text-left transition ${_===z.value?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300"}`},r.createElement("div",{className:`text-sm font-medium ${_===z.value?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"}`},z.label),r.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400"},z.desc)))),r.createElement("div",{className:"flex justify-end gap-2 mt-6"},r.createElement("button",{onClick:()=>C(null),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition"},""),r.createElement("button",{onClick:()=>ee(P),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition"},"")))))}const Lk="Qwen/Qwen2.5-3B-Instruct";function Rk(){const t=Ar(),{toast:a,confirm:s}=pr(),[o,c]=b.useState([]),[u,d]=b.useState([]),[g,f]=b.useState([]),[h,y]=b.useState(!0),[x,k]=b.useState(null),[E,A]=b.useState(Lk),[P,C]=b.useState(null),[_,N]=b.useState(!1);b.useEffect(()=>{I();const D=setInterval(I,5e3);return()=>clearInterval(D)},[]),b.useEffect(()=>{if(!_)return;const D=setInterval(async()=>{const K=await cr.getDownloadStatus(E);C(K),(K.status==="done"||K.status==="error")&&(N(!1),K.status==="done"&&I())},3e3);return()=>clearInterval(D)},[_,E]);const I=async()=>{try{const[D,K,xe,le]=await Promise.all([cr.listJobs(),cr.listModels(),cr.listBaseModels(),$t.getUserSettings()]);c(D.jobs||[]),d(K.models||[]),f(xe.models||[]),k(le?.custom_model||null)}catch(D){console.error("  :",D)}finally{y(!1)}},Y=async()=>{if(E.trim()){N(!0),C({status:"downloading",message:" ..."});try{const D=await cr.downloadModel(E);D.status==="done"&&(C({status:"done",message:D.message}),N(!1),I())}catch(D){C({status:"error",message:D.message}),N(!1)}}},Z=async D=>{try{await cr.setDefaultModel(D),k(D),a.success(`${D}()   .`)}catch(K){console.error("   :",K),a.error("   : "+K.message)}},M=async()=>{try{await cr.clearDefaultModel(),k(null),a.success("  .")}catch(D){console.error("   :",D),a.error("   : "+D.message)}},ee=async D=>{s("  /?",async()=>{try{await cr.cancelJob(D),await I()}catch(K){console.error("  :",K),a.error("  : "+K.message)}},{confirmLabel:"/"})},q=D=>{switch(D){case"completed":return"text-gray-700 bg-gray-50 dark:bg-gray-900/30 dark:text-gray-300";case"running":return"text-gray-600 bg-gray-50/70 dark:bg-gray-900/20 dark:text-gray-400";case"failed":return"text-red-600 bg-red-50 dark:bg-red-900/30";case"cancelled":return"text-gray-600 bg-gray-50 dark:bg-gray-900/30";default:return"text-gray-400 bg-gray-50/50 dark:bg-gray-900/10 dark:text-gray-500"}},X=D=>{switch(D){case"completed":return r.createElement(dt,{size:16});case"running":return r.createElement(Bt,{size:16,className:"animate-spin"});case"failed":return r.createElement(Ap,{size:16});default:return r.createElement(Tp,{size:16})}},z=D=>{switch(D){case"unsloth":return"QLoRA (Unsloth)";case"ollama":return"Ollama (Few-shot)";default:return D}};return h?r.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center"},r.createElement(Bt,{className:"animate-spin text-green-500",size:32})):r.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8"},r.createElement("div",{className:"max-w-7xl mx-auto space-y-6"},r.createElement("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-800 p-1 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("button",{onClick:()=>t("/training"),className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition"},r.createElement(Tt,{size:16,className:"inline mr-2"})," "),r.createElement("button",{className:"flex-1 px-4 py-2.5 rounded-lg text-sm font-medium bg-green-500 text-white shadow-sm"},r.createElement(En,{size:16,className:"inline mr-2"})," ")),r.createElement("div",{className:"flex items-center justify-between"},r.createElement("div",null,r.createElement("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white"}," "),r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Ollama Few-shot & QLoRA   ")),r.createElement("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition"},r.createElement(Bt,{size:16})," ")),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},r.createElement(bn,{size:20}),"   "),g.length>0&&r.createElement("div",{className:"mb-4"},r.createElement("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," "),r.createElement("div",{className:"flex flex-wrap gap-2"},g.map((D,K)=>r.createElement("span",{key:K,className:"px-3 py-1.5 bg-gray-50 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-mono border border-gray-200 dark:border-gray-800"},D.name||D)))),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("input",{type:"text",value:E,onChange:D=>A(D.target.value),placeholder:"HuggingFace  (: Qwen/Qwen2.5-3B-Instruct)",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm font-mono"}),r.createElement("button",{onClick:Y,disabled:_||!E.trim(),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition disabled:opacity-50 whitespace-nowrap"},_?r.createElement(Bt,{size:16,className:"animate-spin"}):r.createElement(bn,{size:16}),_?" ...":" ")),P&&r.createElement("div",{className:`mt-3 p-3 rounded-lg text-sm ${P.status==="done"?"bg-gray-50 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300":P.status==="error"?"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300":"bg-gray-50/70 dark:bg-gray-900/20 text-gray-600 dark:text-gray-400"}`},P.message||P.status,P.progress_percent!=null&&r.createElement("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 overflow-hidden"},r.createElement("div",{className:"bg-green-400 h-2 transition-all duration-300",style:{width:`${P.progress_percent}%`}})))),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},r.createElement(En,{size:20}),"    (",u.length,")"),u.length===0?r.createElement("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400"},"  .   !"):r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},u.map((D,K)=>r.createElement("div",{key:K,className:`p-4 rounded-lg border-2 transition-all ${x===D?"border-green-400 bg-green-50/50 dark:bg-green-900/20 shadow-sm":"border-gray-200 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800 hover:border-gray-300"}`},r.createElement("div",{className:"flex items-center gap-2 mb-2"},r.createElement(En,{size:14,className:x===D?"text-green-500":"text-gray-400 dark:text-gray-500"}),r.createElement("div",{className:"font-mono text-sm text-gray-900 dark:text-white font-semibold truncate flex-1"},D),x===D&&r.createElement("span",{className:"text-[10px] px-2 py-0.5 bg-green-500 text-white rounded-full font-bold"},"")),r.createElement("div",{className:"flex items-center justify-between mt-2"},x===D?r.createElement(r.Fragment,null,r.createElement("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium"},"   "),r.createElement("button",{onClick:M,className:"text-xs px-2 py-1 text-gray-500 hover:text-red-500 transition"},"")):r.createElement(r.Fragment,null,r.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"}," "),r.createElement("button",{onClick:()=>Z(D),className:"text-xs px-3 py-1 bg-green-500 text-white rounded-md hover:bg-green-600 font-medium transition"},"  "))))))),r.createElement("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700"},r.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},r.createElement(En,{size:20}),"  "),o.length===0?r.createElement("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400"},"  "):r.createElement("div",{className:"space-y-3"},o.map(D=>r.createElement("div",{key:D.job_id,className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600"},r.createElement("div",{className:"flex items-start justify-between mb-3"},r.createElement("div",{className:"flex-1"},r.createElement("div",{className:"flex items-center gap-2 mb-2 flex-wrap"},r.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},D.job_name),r.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium flex items-center gap-1 ${q(D.status)}`},X(D.status),D.status),r.createElement("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${D.provider==="unsloth"?"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300":"bg-gray-100 text-gray-600 dark:bg-gray-600 dark:text-gray-300"}`},z(D.provider))),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1"},r.createElement("div",null,r.createElement("strong",null," ID:")," ",r.createElement("span",{className:"font-mono text-xs"},D.job_id)),r.createElement("div",null,r.createElement("strong",null," :")," ",D.base_model),D.output_model_name&&r.createElement("div",{className:"flex items-center gap-2"},r.createElement("strong",null," :")," ",r.createElement("span",{className:"font-mono text-xs text-gray-600 dark:text-gray-400"},D.output_model_name),D.status==="completed"&&x!==D.output_model_name&&r.createElement("button",{onClick:()=>Z(D.output_model_name),className:"text-xs px-2.5 py-1 bg-green-500 text-white rounded-md hover:bg-green-600 font-medium transition"},"  "),D.status==="completed"&&x===D.output_model_name&&r.createElement("span",{className:"text-xs px-2.5 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-md font-bold flex items-center gap-1"},r.createElement(dt,{size:10}),"   ")),D.final_loss!=null&&r.createElement("div",null,r.createElement("strong",null," Loss:")," ",r.createElement("span",{className:"font-mono text-xs text-gray-600 dark:text-gray-400"},D.final_loss.toFixed(4))),D.error_message&&r.createElement("div",{className:"text-red-600 dark:text-red-400 text-xs mt-1"},r.createElement("strong",null,":")," ",D.error_message))),r.createElement("button",{onClick:()=>ee(D.job_id),className:"text-gray-400 hover:text-red-500 transition",title:"/"},r.createElement(Un,{size:16}))),D.status==="running"&&r.createElement("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 overflow-hidden"},r.createElement("div",{className:"bg-green-400 h-2 transition-all duration-500",style:{width:`${D.progress}%`}})),r.createElement("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-500 dark:text-gray-400 flex-wrap"},D.provider==="unsloth"&&r.createElement("span",null,": ",D.num_epochs||"N/A"),D.provider==="unsloth"&&r.createElement("span",null,"LR: ",D.learning_rate||"N/A"),D.training_time_seconds&&r.createElement("span",null," : ",D.training_time_seconds>=60?`${Math.floor(D.training_time_seconds/60)} ${D.training_time_seconds%60}`:`${D.training_time_seconds}`),r.createElement("span",{className:"ml-auto"},new Date(D.created_at).toLocaleString()))))))))}const Ak=[{id:"overview",icon:Zn,title:" ",color:"green",content:{summary:"RAG AI      AI .",details:["        ."," (RAG),  , SQL , MCP ,          .","     ,     ."],flow:[{label:" ",icon:vn},{label:"  ( )",icon:In},{label:"  ",icon:En},{label:"   ",icon:Zn}]}},{id:"agents",icon:Lt,title:" ",color:"purple",content:{summary:"         .",agents:[{name:" ",type:"supervisor",icon:In,color:"purple",desc:"        .       ."},{name:"RAG  ",type:"rag",icon:zt,color:"blue",desc:"     ,      ."},{name:"  ",type:"web",icon:Yt,color:"cyan",desc:"   . DuckDuckGo, Brave, Tavily, Serper    ."},{name:"T2SQL ",type:"sql",icon:Tt,color:"amber",desc:" SQL   .     ."},{name:"MCP  ",type:"mcp",icon:Bn,color:"indigo",desc:" MCP(Model Context Protocol)   , API    ."},{name:" ",type:"process",icon:Xc,color:"orange",desc:" ,      xLAM   ."},{name:" ",type:"synthesizer",icon:Zn,color:"green",desc:"      ."}]}},{id:"model",icon:bn,title:" ",color:"gray",content:{summary:"   ,   .",rules:[{priority:1,label:" ",desc:"       .",where:"  > "},{priority:2,label:" ",desc:'   " "    .',where:" >  "}],tip:"     ,      ."}},{id:"rag",icon:zt,title:"RAG ( )",color:"blue",content:{summary:"   ,       .",steps:[{step:" ",desc:"  PDF, DOCX, PPTX, TXT   ."},{step:" ",desc:"Docling  , BAAI/bge-m3   ."},{step:" ",desc:"Dense, Sparse, Hybrid  , Reranker  ."},{step:" ",desc:"Neo4j      . (3    )"}]}},{id:"web",icon:Yt,title:" ",color:"cyan",content:{summary:"     .",providers:[{name:"DuckDuckGo",desc:", API  ",free:!0},{name:"Brave Search",desc:" 2,000/",free:!1},{name:"Tavily AI",desc:"AI  , 1,000/ ",free:!1},{name:"Google Serper",desc:"Google , 2,500 ",free:!1}],tip:"       .      ."}},{id:"sql",icon:Tt,title:"Text-to-SQL",color:"amber",content:{summary:"  SQL    .",steps:[{step:"DB  ",desc:" > DB  PostgreSQL, MySQL, SQLite  ."},{step:" ",desc:"/     SQL  ."},{step:"SQL  ",desc:"  SQL    DB ."},{step:" ",desc:'"    10 ?"    SQL  /.'}],tip:"  SELECT  . INSERT, UPDATE, DELETE ."}},{id:"mcp",icon:Bn,title:"MCP ",color:"indigo",content:{summary:"Model Context Protocol     AI .",steps:[{step:"MCP  ",desc:" > MCP  SSE  Stdio  MCP  ."},{step:" ",desc:"     MCP  ."},{step:" ",desc:"    MCP   ."}]}},{id:"deep-think",icon:In,title:"Deep Think",color:"purple",content:{summary:"   , LLM     .",features:[" : LLM      .","  :  + RAG    ."," :       .","  :    ."],tip:"    ON/OFF   . OFF      ."}},{id:"training",icon:Yc,title:" & ",color:"green",content:{summary:"       .",steps:[{step:" ",desc:" /    ."},{step:" ",desc:"     ."},{step:"",desc:"Ollama Few-shot  Unsloth QLoRA   ."},{step:"  ",desc:"       ."}]}}],rp={green:{bg:"bg-green-50",border:"border-green-200",text:"text-green-600",badge:"bg-green-100 text-green-700",dot:"bg-green-400"},purple:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-600",badge:"bg-purple-100 text-purple-700",dot:"bg-purple-400"},blue:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-600",badge:"bg-blue-100 text-blue-700",dot:"bg-blue-400"},cyan:{bg:"bg-cyan-50",border:"border-cyan-200",text:"text-cyan-600",badge:"bg-cyan-100 text-cyan-700",dot:"bg-cyan-400"},amber:{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-600",badge:"bg-amber-100 text-amber-700",dot:"bg-amber-400"},indigo:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-600",badge:"bg-indigo-100 text-indigo-700",dot:"bg-indigo-400"},orange:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-600",badge:"bg-orange-100 text-orange-700",dot:"bg-orange-400"},gray:{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-600",badge:"bg-gray-100 text-gray-700",dot:"bg-gray-400"}};function Dk({section:t,isOpen:a,onToggle:s}){const o=t.icon,c=rp[t.color],u=t.content;return r.createElement("div",{className:`border rounded-2xl overflow-hidden transition-all ${a?c.border:"border-gray-200"}`},r.createElement("button",{onClick:s,className:`w-full flex items-center gap-3 px-5 py-4 text-left transition-colors ${a?`${c.bg}`:"bg-white hover:bg-gray-50"}`},r.createElement("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${c.bg} ${c.text} border ${c.border}`},r.createElement(o,{size:20})),r.createElement("div",{className:"flex-1"},r.createElement("h3",{className:"font-bold text-gray-900"},t.title),r.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},u.summary)),a?r.createElement(Fl,{size:16,className:"text-gray-400"}):r.createElement(Cl,{size:16,className:"text-gray-400"})),a&&r.createElement("div",{className:"px-5 pb-5 pt-2 bg-white space-y-4"},u.details&&r.createElement("ul",{className:"space-y-2"},u.details.map((d,g)=>r.createElement("li",{key:g,className:"flex items-start gap-2 text-sm text-gray-700"},r.createElement("div",{className:`w-1.5 h-1.5 rounded-full ${c.dot} shrink-0 mt-2`}),d))),u.flow&&r.createElement("div",{className:"flex items-center gap-2 flex-wrap"},u.flow.map((d,g)=>{const f=d.icon;return r.createElement(r.Fragment,{key:g},r.createElement("div",{className:"flex items-center gap-1.5 bg-gray-50 border border-gray-200 rounded-lg px-3 py-2"},r.createElement(f,{size:14,className:c.text}),r.createElement("span",{className:"text-xs font-medium text-gray-700"},d.label)),g<u.flow.length-1&&r.createElement(Nl,{size:14,className:"text-gray-300 shrink-0"}))})),u.agents&&r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},u.agents.map(d=>{const g=d.icon,f=rp[d.color];return r.createElement("div",{key:d.type,className:`flex items-start gap-3 p-3 rounded-xl border ${f.border} ${f.bg}`},r.createElement("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${f.text} bg-white border ${f.border}`},r.createElement(g,{size:16})),r.createElement("div",null,r.createElement("div",{className:"text-xs font-bold text-gray-800"},d.name),r.createElement("div",{className:"text-[11px] text-gray-600 mt-0.5 leading-relaxed"},d.desc)))})),u.rules&&r.createElement("div",{className:"space-y-3"},u.rules.map(d=>r.createElement("div",{key:d.priority,className:"flex items-start gap-3 p-3 bg-gray-50 rounded-xl border border-gray-200"},r.createElement("div",{className:"w-7 h-7 rounded-lg bg-green-500 text-white flex items-center justify-center text-xs font-bold shrink-0"},d.priority),r.createElement("div",null,r.createElement("div",{className:"text-xs font-bold text-gray-800"},d.label),r.createElement("div",{className:"text-[11px] text-gray-600 mt-0.5"},d.desc),r.createElement("div",{className:"text-[10px] text-gray-400 mt-1 flex items-center gap-1"},r.createElement(ho,{size:9})," ",d.where))))),u.steps&&r.createElement("div",{className:"space-y-2"},u.steps.map((d,g)=>r.createElement("div",{key:g,className:"flex items-start gap-3"},r.createElement("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold shrink-0 ${c.badge}`},g+1),r.createElement("div",null,r.createElement("div",{className:"text-xs font-bold text-gray-800"},d.step),r.createElement("div",{className:"text-[11px] text-gray-600 mt-0.5"},d.desc))))),u.features&&r.createElement("ul",{className:"space-y-2"},u.features.map((d,g)=>r.createElement("li",{key:g,className:"flex items-start gap-2 text-sm text-gray-700"},r.createElement("div",{className:`w-1.5 h-1.5 rounded-full ${c.dot} shrink-0 mt-2`}),d))),u.providers&&r.createElement("div",{className:"grid grid-cols-2 gap-2"},u.providers.map(d=>r.createElement("div",{key:d.name,className:"flex items-center gap-2 p-2.5 bg-gray-50 rounded-lg border border-gray-200"},r.createElement("div",{className:"flex-1"},r.createElement("div",{className:"text-xs font-bold text-gray-800 flex items-center gap-1.5"},d.name,d.free&&r.createElement("span",{className:"text-[9px] bg-green-100 text-green-700 px-1.5 py-0.5 rounded font-bold"},"FREE")),r.createElement("div",{className:"text-[10px] text-gray-500 mt-0.5"},d.desc))))),u.tip&&r.createElement("div",{className:`flex items-start gap-2 p-3 rounded-xl ${c.bg} border ${c.border}`},r.createElement(Dt,{size:14,className:`${c.text} shrink-0 mt-0.5`}),r.createElement("span",{className:"text-xs text-gray-700"},u.tip))))}function Ok(){const[t,a]=b.useState("overview");return r.createElement("div",{className:"h-full flex flex-col p-6 bg-gray-50/50 overflow-hidden"},r.createElement("div",{className:"mb-6"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:"w-10 h-10 rounded-xl bg-green-50 border border-green-200 flex items-center justify-center"},r.createElement(Zr,{size:20,className:"text-green-600"})),r.createElement("div",null,r.createElement("h2",{className:"text-2xl font-bold text-gray-800"}," "),r.createElement("p",{className:"text-sm text-gray-500 mt-0.5"},"RAG AI    .")))),r.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-3 pb-4"},Ak.map(s=>r.createElement(Dk,{key:s.id,section:s,isOpen:t===s.id,onToggle:()=>a(t===s.id?null:s.id)}))))}function jk(){const[t,a]=b.useState(""),[s,o]=b.useState(""),[c,u]=b.useState(!1),[d,g]=b.useState(""),{login:f}=jl(),h=Ar(),y=async x=>{x.preventDefault(),g(""),u(!0);try{await f(t,s),h("/home")}catch(k){console.error(k),g(" .   .")}finally{u(!1)}};return r.createElement("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4"},r.createElement("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden"},r.createElement("div",{className:"p-8"},r.createElement("div",{className:"flex justify-center mb-6"},r.createElement("div",{className:"w-16 h-16 bg-gray-600 rounded-2xl flex items-center justify-center shadow-lg shadow-gray-500/30"},r.createElement(Lt,{size:40,className:"text-white"}))),r.createElement("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-2"},"Welcome Back"),r.createElement("p",{className:"text-center text-gray-500 mb-8"},"RAG AI    ."),d&&r.createElement("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 text-center"},d),r.createElement("form",{onSubmit:y,className:"space-y-5"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("input",{type:"email",value:t,onChange:x=>a(x.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-400 focus:bg-white outline-none transition-all",placeholder:"name@example.com",required:!0})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("input",{type:"password",value:s,onChange:x=>o(x.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-400 focus:bg-white outline-none transition-all",placeholder:"",required:!0})),r.createElement("button",{type:"submit",disabled:c,className:"w-full py-3.5 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl shadow-md transition-all flex items-center justify-center gap-2"},c?r.createElement(Bt,{size:20,className:"animate-spin"}):"")),r.createElement("div",{className:"mt-6 text-center"},r.createElement("p",{className:"text-sm text-gray-600"}," ?"," ",r.createElement(po,{to:"/register",className:"text-gray-600 font-bold hover:underline"},"")))),r.createElement("div",{className:"bg-gray-50 p-4 text-center text-xs text-gray-400 border-t border-gray-100"},"Powered by RAG AI Engine")))}function Fk(){const[t,a]=b.useState(""),[s,o]=b.useState(""),[c,u]=b.useState(""),[d,g]=b.useState(!1),[f,h]=b.useState(""),{register:y}=jl(),{toast:x}=pr(),k=Ar(),E=async A=>{A.preventDefault(),h(""),g(!0);try{y?(await y(t,s,c),x.success(" ! ."),k("/login")):(x.info(" :   (API )"),k("/login"))}catch(P){console.error(P),h(" .  .")}finally{g(!1)}};return r.createElement("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4"},r.createElement("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden"},r.createElement("div",{className:"p-8"},r.createElement("div",{className:"flex justify-center mb-6"},r.createElement("div",{className:"w-16 h-16 bg-green-600 rounded-2xl flex items-center justify-center shadow-lg shadow-green-500/30"},r.createElement(Lt,{size:40,className:"text-white"}))),r.createElement("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-2"},"Create Account"),r.createElement("p",{className:"text-center text-gray-500 mb-8"},"  ."),f&&r.createElement("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 text-center"},f),r.createElement("form",{onSubmit:E,className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("div",{className:"relative"},r.createElement("input",{type:"text",value:t,onChange:A=>a(A.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:bg-white outline-none transition-all",placeholder:"",required:!0}),r.createElement(Rp,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("div",{className:"relative"},r.createElement("input",{type:"email",value:s,onChange:A=>o(A.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:bg-white outline-none transition-all",placeholder:"name@example.com",required:!0}),r.createElement(xx,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1.5"},""),r.createElement("div",{className:"relative"},r.createElement("input",{type:"password",value:c,onChange:A=>u(A.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:bg-white outline-none transition-all",placeholder:"",required:!0}),r.createElement(Pp,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}))),r.createElement("button",{type:"submit",disabled:d,className:"w-full py-3.5 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl shadow-md transition-all flex items-center justify-center gap-2 mt-2"},d?r.createElement(Bt,{size:20,className:"animate-spin"}):"")),r.createElement("div",{className:"mt-6 text-center"},r.createElement("p",{className:"text-sm text-gray-600"},"  ?"," ",r.createElement(po,{to:"/login",className:"text-green-600 font-bold hover:underline"},""))))))}function $k(){return r.createElement(ax,null,r.createElement(sx,null,r.createElement(Px,null,r.createElement(Hy,null,r.createElement(by,null,r.createElement(yn,{path:"/login",element:r.createElement(jk,null)}),r.createElement(yn,{path:"/register",element:r.createElement(Fk,null)}),r.createElement(yn,{path:"/",element:r.createElement(Fx,null)},r.createElement(yn,{index:!0,element:r.createElement(Sc,{to:"/home",replace:!0})}),r.createElement(yn,{path:"home",element:r.createElement($x,null)}),r.createElement(yn,{path:"chat",element:r.createElement(kk,null)}),r.createElement(yn,{path:"agent",element:r.createElement("div",{className:"flex-1 overflow-hidden p-6 bg-gray-50/50 dark:bg-gray-900 h-full"},r.createElement("div",{className:"h-full bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},r.createElement(Ck,null)))}),r.createElement(yn,{path:"knowledge",element:r.createElement("div",{className:"flex-1 overflow-hidden p-6 bg-gray-50/50 dark:bg-gray-900 h-full"},r.createElement("div",{className:"h-full bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},r.createElement(Tk,null)))}),r.createElement(yn,{path:"training",element:r.createElement(Mk,null)}),r.createElement(yn,{path:"finetuning",element:r.createElement(Rk,null)}),r.createElement(yn,{path:"guide",element:r.createElement("div",{className:"flex-1 overflow-hidden p-6 bg-gray-50/50 dark:bg-gray-900 h-full"},r.createElement("div",{className:"h-full bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},r.createElement(Ok,null)))})),r.createElement(yn,{path:"*",element:r.createElement(Sc,{to:"/login",replace:!0})}))))))}bh.createRoot(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement($k,null)));
